(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __export = (target, all) => {
    for (var name in all)
      __defProp(target, name, { get: all[name], enumerable: true });
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));
  var __decorateClass = (decorators, target, key, kind) => {
    var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;
    for (var i = decorators.length - 1, decorator; i >= 0; i--)
      if (decorator = decorators[i])
        result = (kind ? decorator(target, key, result) : decorator(result)) || result;
    if (kind && result)
      __defProp(target, key, result);
    return result;
  };
  var __decorateParam = (index, decorator) => (target, key) => decorator(target, key, index);
  var __publicField = (obj, key, value) => {
    __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
    return value;
  };
  var __accessCheck = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet = (obj, member, getter) => {
    __accessCheck(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateSet = (obj, member, value, setter) => {
    __accessCheck(obj, member, "write to private field");
    setter ? setter.call(obj, value) : member.set(obj, value);
    return value;
  };
  var __privateMethod = (obj, member, method) => {
    __accessCheck(obj, member, "access private method");
    return method;
  };

  // node_modules/howler/dist/howler.js
  var require_howler = __commonJS({
    "node_modules/howler/dist/howler.js"(exports) {
      (function() {
        "use strict";
        var HowlerGlobal2 = function() {
          this.init();
        };
        HowlerGlobal2.prototype = {
          /**
           * Initialize the global Howler object.
           * @return {Howler}
           */
          init: function() {
            var self2 = this || Howler2;
            self2._counter = 1e3;
            self2._html5AudioPool = [];
            self2.html5PoolSize = 10;
            self2._codecs = {};
            self2._howls = [];
            self2._muted = false;
            self2._volume = 1;
            self2._canPlayEvent = "canplaythrough";
            self2._navigator = typeof window !== "undefined" && window.navigator ? window.navigator : null;
            self2.masterGain = null;
            self2.noAudio = false;
            self2.usingWebAudio = true;
            self2.autoSuspend = true;
            self2.ctx = null;
            self2.autoUnlock = true;
            self2._setup();
            return self2;
          },
          /**
           * Get/set the global volume for all sounds.
           * @param  {Float} vol Volume from 0.0 to 1.0.
           * @return {Howler/Float}     Returns self or current volume.
           */
          volume: function(vol) {
            var self2 = this || Howler2;
            vol = parseFloat(vol);
            if (!self2.ctx) {
              setupAudioContext();
            }
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              self2._volume = vol;
              if (self2._muted) {
                return self2;
              }
              if (self2.usingWebAudio) {
                self2.masterGain.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound = self2._howls[i]._soundById(ids[j]);
                    if (sound && sound._node) {
                      sound._node.volume = sound._volume * vol;
                    }
                  }
                }
              }
              return self2;
            }
            return self2._volume;
          },
          /**
           * Handle muting and unmuting globally.
           * @param  {Boolean} muted Is muted or not.
           */
          mute: function(muted) {
            var self2 = this || Howler2;
            if (!self2.ctx) {
              setupAudioContext();
            }
            self2._muted = muted;
            if (self2.usingWebAudio) {
              self2.masterGain.gain.setValueAtTime(muted ? 0 : self2._volume, Howler2.ctx.currentTime);
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (!self2._howls[i]._webAudio) {
                var ids = self2._howls[i]._getSoundIds();
                for (var j = 0; j < ids.length; j++) {
                  var sound = self2._howls[i]._soundById(ids[j]);
                  if (sound && sound._node) {
                    sound._node.muted = muted ? true : sound._muted;
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Handle stopping all sounds globally.
           */
          stop: function() {
            var self2 = this || Howler2;
            for (var i = 0; i < self2._howls.length; i++) {
              self2._howls[i].stop();
            }
            return self2;
          },
          /**
           * Unload and destroy all currently loaded Howl objects.
           * @return {Howler}
           */
          unload: function() {
            var self2 = this || Howler2;
            for (var i = self2._howls.length - 1; i >= 0; i--) {
              self2._howls[i].unload();
            }
            if (self2.usingWebAudio && self2.ctx && typeof self2.ctx.close !== "undefined") {
              self2.ctx.close();
              self2.ctx = null;
              setupAudioContext();
            }
            return self2;
          },
          /**
           * Check for codec support of specific extension.
           * @param  {String} ext Audio file extention.
           * @return {Boolean}
           */
          codecs: function(ext) {
            return (this || Howler2)._codecs[ext.replace(/^x-/, "")];
          },
          /**
           * Setup various state values for global tracking.
           * @return {Howler}
           */
          _setup: function() {
            var self2 = this || Howler2;
            self2.state = self2.ctx ? self2.ctx.state || "suspended" : "suspended";
            self2._autoSuspend();
            if (!self2.usingWebAudio) {
              if (typeof Audio !== "undefined") {
                try {
                  var test = new Audio();
                  if (typeof test.oncanplaythrough === "undefined") {
                    self2._canPlayEvent = "canplay";
                  }
                } catch (e) {
                  self2.noAudio = true;
                }
              } else {
                self2.noAudio = true;
              }
            }
            try {
              var test = new Audio();
              if (test.muted) {
                self2.noAudio = true;
              }
            } catch (e) {
            }
            if (!self2.noAudio) {
              self2._setupCodecs();
            }
            return self2;
          },
          /**
           * Check for browser support for various codecs and cache the results.
           * @return {Howler}
           */
          _setupCodecs: function() {
            var self2 = this || Howler2;
            var audioTest = null;
            try {
              audioTest = typeof Audio !== "undefined" ? new Audio() : null;
            } catch (err) {
              return self2;
            }
            if (!audioTest || typeof audioTest.canPlayType !== "function") {
              return self2;
            }
            var mpegTest = audioTest.canPlayType("audio/mpeg;").replace(/^no$/, "");
            var ua = self2._navigator ? self2._navigator.userAgent : "";
            var checkOpera = ua.match(/OPR\/([0-6].)/g);
            var isOldOpera = checkOpera && parseInt(checkOpera[0].split("/")[1], 10) < 33;
            var checkSafari = ua.indexOf("Safari") !== -1 && ua.indexOf("Chrome") === -1;
            var safariVersion = ua.match(/Version\/(.*?) /);
            var isOldSafari = checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15;
            self2._codecs = {
              mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType("audio/mp3;").replace(/^no$/, ""))),
              mpeg: !!mpegTest,
              opus: !!audioTest.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
              ogg: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              oga: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              wav: !!(audioTest.canPlayType('audio/wav; codecs="1"') || audioTest.canPlayType("audio/wav")).replace(/^no$/, ""),
              aac: !!audioTest.canPlayType("audio/aac;").replace(/^no$/, ""),
              caf: !!audioTest.canPlayType("audio/x-caf;").replace(/^no$/, ""),
              m4a: !!(audioTest.canPlayType("audio/x-m4a;") || audioTest.canPlayType("audio/m4a;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              m4b: !!(audioTest.canPlayType("audio/x-m4b;") || audioTest.canPlayType("audio/m4b;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              mp4: !!(audioTest.canPlayType("audio/x-mp4;") || audioTest.canPlayType("audio/mp4;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              dolby: !!audioTest.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
              flac: !!(audioTest.canPlayType("audio/x-flac;") || audioTest.canPlayType("audio/flac;")).replace(/^no$/, "")
            };
            return self2;
          },
          /**
           * Some browsers/devices will only allow audio to be played after a user interaction.
           * Attempt to automatically unlock audio on the first user interaction.
           * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/
           * @return {Howler}
           */
          _unlockAudio: function() {
            var self2 = this || Howler2;
            if (self2._audioUnlocked || !self2.ctx) {
              return;
            }
            self2._audioUnlocked = false;
            self2.autoUnlock = false;
            if (!self2._mobileUnloaded && self2.ctx.sampleRate !== 44100) {
              self2._mobileUnloaded = true;
              self2.unload();
            }
            self2._scratchBuffer = self2.ctx.createBuffer(1, 1, 22050);
            var unlock = function(e) {
              while (self2._html5AudioPool.length < self2.html5PoolSize) {
                try {
                  var audioNode = new Audio();
                  audioNode._unlocked = true;
                  self2._releaseHtml5Audio(audioNode);
                } catch (e2) {
                  self2.noAudio = true;
                  break;
                }
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound = self2._howls[i]._soundById(ids[j]);
                    if (sound && sound._node && !sound._node._unlocked) {
                      sound._node._unlocked = true;
                      sound._node.load();
                    }
                  }
                }
              }
              self2._autoResume();
              var source = self2.ctx.createBufferSource();
              source.buffer = self2._scratchBuffer;
              source.connect(self2.ctx.destination);
              if (typeof source.start === "undefined") {
                source.noteOn(0);
              } else {
                source.start(0);
              }
              if (typeof self2.ctx.resume === "function") {
                self2.ctx.resume();
              }
              source.onended = function() {
                source.disconnect(0);
                self2._audioUnlocked = true;
                document.removeEventListener("touchstart", unlock, true);
                document.removeEventListener("touchend", unlock, true);
                document.removeEventListener("click", unlock, true);
                document.removeEventListener("keydown", unlock, true);
                for (var i2 = 0; i2 < self2._howls.length; i2++) {
                  self2._howls[i2]._emit("unlock");
                }
              };
            };
            document.addEventListener("touchstart", unlock, true);
            document.addEventListener("touchend", unlock, true);
            document.addEventListener("click", unlock, true);
            document.addEventListener("keydown", unlock, true);
            return self2;
          },
          /**
           * Get an unlocked HTML5 Audio object from the pool. If none are left,
           * return a new Audio object and throw a warning.
           * @return {Audio} HTML5 Audio object.
           */
          _obtainHtml5Audio: function() {
            var self2 = this || Howler2;
            if (self2._html5AudioPool.length) {
              return self2._html5AudioPool.pop();
            }
            var testPlay = new Audio().play();
            if (testPlay && typeof Promise !== "undefined" && (testPlay instanceof Promise || typeof testPlay.then === "function")) {
              testPlay.catch(function() {
                console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.");
              });
            }
            return new Audio();
          },
          /**
           * Return an activated HTML5 Audio object to the pool.
           * @return {Howler}
           */
          _releaseHtml5Audio: function(audio) {
            var self2 = this || Howler2;
            if (audio._unlocked) {
              self2._html5AudioPool.push(audio);
            }
            return self2;
          },
          /**
           * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.
           * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.
           * @return {Howler}
           */
          _autoSuspend: function() {
            var self2 = this;
            if (!self2.autoSuspend || !self2.ctx || typeof self2.ctx.suspend === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (self2._howls[i]._webAudio) {
                for (var j = 0; j < self2._howls[i]._sounds.length; j++) {
                  if (!self2._howls[i]._sounds[j]._paused) {
                    return self2;
                  }
                }
              }
            }
            if (self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
            }
            self2._suspendTimer = setTimeout(function() {
              if (!self2.autoSuspend) {
                return;
              }
              self2._suspendTimer = null;
              self2.state = "suspending";
              var handleSuspension = function() {
                self2.state = "suspended";
                if (self2._resumeAfterSuspend) {
                  delete self2._resumeAfterSuspend;
                  self2._autoResume();
                }
              };
              self2.ctx.suspend().then(handleSuspension, handleSuspension);
            }, 3e4);
            return self2;
          },
          /**
           * Automatically resume the Web Audio AudioContext when a new sound is played.
           * @return {Howler}
           */
          _autoResume: function() {
            var self2 = this;
            if (!self2.ctx || typeof self2.ctx.resume === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            if (self2.state === "running" && self2.ctx.state !== "interrupted" && self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
              self2._suspendTimer = null;
            } else if (self2.state === "suspended" || self2.state === "running" && self2.ctx.state === "interrupted") {
              self2.ctx.resume().then(function() {
                self2.state = "running";
                for (var i = 0; i < self2._howls.length; i++) {
                  self2._howls[i]._emit("resume");
                }
              });
              if (self2._suspendTimer) {
                clearTimeout(self2._suspendTimer);
                self2._suspendTimer = null;
              }
            } else if (self2.state === "suspending") {
              self2._resumeAfterSuspend = true;
            }
            return self2;
          }
        };
        var Howler2 = new HowlerGlobal2();
        var Howl2 = function(o) {
          var self2 = this;
          if (!o.src || o.src.length === 0) {
            console.error("An array of source files must be passed with any new Howl.");
            return;
          }
          self2.init(o);
        };
        Howl2.prototype = {
          /**
           * Initialize a new Howl group object.
           * @param  {Object} o Passed in properties for this group.
           * @return {Howl}
           */
          init: function(o) {
            var self2 = this;
            if (!Howler2.ctx) {
              setupAudioContext();
            }
            self2._autoplay = o.autoplay || false;
            self2._format = typeof o.format !== "string" ? o.format : [o.format];
            self2._html5 = o.html5 || false;
            self2._muted = o.mute || false;
            self2._loop = o.loop || false;
            self2._pool = o.pool || 5;
            self2._preload = typeof o.preload === "boolean" || o.preload === "metadata" ? o.preload : true;
            self2._rate = o.rate || 1;
            self2._sprite = o.sprite || {};
            self2._src = typeof o.src !== "string" ? o.src : [o.src];
            self2._volume = o.volume !== void 0 ? o.volume : 1;
            self2._xhr = {
              method: o.xhr && o.xhr.method ? o.xhr.method : "GET",
              headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,
              withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false
            };
            self2._duration = 0;
            self2._state = "unloaded";
            self2._sounds = [];
            self2._endTimers = {};
            self2._queue = [];
            self2._playLock = false;
            self2._onend = o.onend ? [{ fn: o.onend }] : [];
            self2._onfade = o.onfade ? [{ fn: o.onfade }] : [];
            self2._onload = o.onload ? [{ fn: o.onload }] : [];
            self2._onloaderror = o.onloaderror ? [{ fn: o.onloaderror }] : [];
            self2._onplayerror = o.onplayerror ? [{ fn: o.onplayerror }] : [];
            self2._onpause = o.onpause ? [{ fn: o.onpause }] : [];
            self2._onplay = o.onplay ? [{ fn: o.onplay }] : [];
            self2._onstop = o.onstop ? [{ fn: o.onstop }] : [];
            self2._onmute = o.onmute ? [{ fn: o.onmute }] : [];
            self2._onvolume = o.onvolume ? [{ fn: o.onvolume }] : [];
            self2._onrate = o.onrate ? [{ fn: o.onrate }] : [];
            self2._onseek = o.onseek ? [{ fn: o.onseek }] : [];
            self2._onunlock = o.onunlock ? [{ fn: o.onunlock }] : [];
            self2._onresume = [];
            self2._webAudio = Howler2.usingWebAudio && !self2._html5;
            if (typeof Howler2.ctx !== "undefined" && Howler2.ctx && Howler2.autoUnlock) {
              Howler2._unlockAudio();
            }
            Howler2._howls.push(self2);
            if (self2._autoplay) {
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play();
                }
              });
            }
            if (self2._preload && self2._preload !== "none") {
              self2.load();
            }
            return self2;
          },
          /**
           * Load the audio file.
           * @return {Howler}
           */
          load: function() {
            var self2 = this;
            var url = null;
            if (Howler2.noAudio) {
              self2._emit("loaderror", null, "No audio support.");
              return;
            }
            if (typeof self2._src === "string") {
              self2._src = [self2._src];
            }
            for (var i = 0; i < self2._src.length; i++) {
              var ext, str6;
              if (self2._format && self2._format[i]) {
                ext = self2._format[i];
              } else {
                str6 = self2._src[i];
                if (typeof str6 !== "string") {
                  self2._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                  continue;
                }
                ext = /^data:audio\/([^;,]+);/i.exec(str6);
                if (!ext) {
                  ext = /\.([^.]+)$/.exec(str6.split("?", 1)[0]);
                }
                if (ext) {
                  ext = ext[1].toLowerCase();
                }
              }
              if (!ext) {
                console.warn('No file extension was found. Consider using the "format" property or specify an extension.');
              }
              if (ext && Howler2.codecs(ext)) {
                url = self2._src[i];
                break;
              }
            }
            if (!url) {
              self2._emit("loaderror", null, "No codec support for selected audio sources.");
              return;
            }
            self2._src = url;
            self2._state = "loading";
            if (window.location.protocol === "https:" && url.slice(0, 5) === "http:") {
              self2._html5 = true;
              self2._webAudio = false;
            }
            new Sound2(self2);
            if (self2._webAudio) {
              loadBuffer(self2);
            }
            return self2;
          },
          /**
           * Play a sound or resume previous playback.
           * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Number}          Sound ID.
           */
          play: function(sprite, internal) {
            var self2 = this;
            var id = null;
            if (typeof sprite === "number") {
              id = sprite;
              sprite = null;
            } else if (typeof sprite === "string" && self2._state === "loaded" && !self2._sprite[sprite]) {
              return null;
            } else if (typeof sprite === "undefined") {
              sprite = "__default";
              if (!self2._playLock) {
                var num = 0;
                for (var i = 0; i < self2._sounds.length; i++) {
                  if (self2._sounds[i]._paused && !self2._sounds[i]._ended) {
                    num++;
                    id = self2._sounds[i]._id;
                  }
                }
                if (num === 1) {
                  sprite = null;
                } else {
                  id = null;
                }
              }
            }
            var sound = id ? self2._soundById(id) : self2._inactiveSound();
            if (!sound) {
              return null;
            }
            if (id && !sprite) {
              sprite = sound._sprite || "__default";
            }
            if (self2._state !== "loaded") {
              sound._sprite = sprite;
              sound._ended = false;
              var soundId = sound._id;
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play(soundId);
                }
              });
              return soundId;
            }
            if (id && !sound._paused) {
              if (!internal) {
                self2._loadQueue("play");
              }
              return sound._id;
            }
            if (self2._webAudio) {
              Howler2._autoResume();
            }
            var seek = Math.max(0, sound._seek > 0 ? sound._seek : self2._sprite[sprite][0] / 1e3);
            var duration = Math.max(0, (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3 - seek);
            var timeout = duration * 1e3 / Math.abs(sound._rate);
            var start = self2._sprite[sprite][0] / 1e3;
            var stop = (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3;
            sound._sprite = sprite;
            sound._ended = false;
            var setParams = function() {
              sound._paused = false;
              sound._seek = seek;
              sound._start = start;
              sound._stop = stop;
              sound._loop = !!(sound._loop || self2._sprite[sprite][2]);
            };
            if (seek >= stop) {
              self2._ended(sound);
              return;
            }
            var node = sound._node;
            if (self2._webAudio) {
              var playWebAudio = function() {
                self2._playLock = false;
                setParams();
                self2._refreshBuffer(sound);
                var vol = sound._muted || self2._muted ? 0 : sound._volume;
                node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                sound._playStart = Howler2.ctx.currentTime;
                if (typeof node.bufferSource.start === "undefined") {
                  sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);
                } else {
                  sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);
                }
                if (timeout !== Infinity) {
                  self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout);
                }
                if (!internal) {
                  setTimeout(function() {
                    self2._emit("play", sound._id);
                    self2._loadQueue();
                  }, 0);
                }
              };
              if (Howler2.state === "running" && Howler2.ctx.state !== "interrupted") {
                playWebAudio();
              } else {
                self2._playLock = true;
                self2.once("resume", playWebAudio);
                self2._clearTimer(sound._id);
              }
            } else {
              var playHtml5 = function() {
                node.currentTime = seek;
                node.muted = sound._muted || self2._muted || Howler2._muted || node.muted;
                node.volume = sound._volume * Howler2.volume();
                node.playbackRate = sound._rate;
                try {
                  var play = node.play();
                  if (play && typeof Promise !== "undefined" && (play instanceof Promise || typeof play.then === "function")) {
                    self2._playLock = true;
                    setParams();
                    play.then(function() {
                      self2._playLock = false;
                      node._unlocked = true;
                      if (!internal) {
                        self2._emit("play", sound._id);
                      } else {
                        self2._loadQueue();
                      }
                    }).catch(function() {
                      self2._playLock = false;
                      self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                      sound._ended = true;
                      sound._paused = true;
                    });
                  } else if (!internal) {
                    self2._playLock = false;
                    setParams();
                    self2._emit("play", sound._id);
                  }
                  node.playbackRate = sound._rate;
                  if (node.paused) {
                    self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                    return;
                  }
                  if (sprite !== "__default" || sound._loop) {
                    self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout);
                  } else {
                    self2._endTimers[sound._id] = function() {
                      self2._ended(sound);
                      node.removeEventListener("ended", self2._endTimers[sound._id], false);
                    };
                    node.addEventListener("ended", self2._endTimers[sound._id], false);
                  }
                } catch (err) {
                  self2._emit("playerror", sound._id, err);
                }
              };
              if (node.src === "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA") {
                node.src = self2._src;
                node.load();
              }
              var loadedNoReadyState = window && window.ejecta || !node.readyState && Howler2._navigator.isCocoonJS;
              if (node.readyState >= 3 || loadedNoReadyState) {
                playHtml5();
              } else {
                self2._playLock = true;
                self2._state = "loading";
                var listener = function() {
                  self2._state = "loaded";
                  playHtml5();
                  node.removeEventListener(Howler2._canPlayEvent, listener, false);
                };
                node.addEventListener(Howler2._canPlayEvent, listener, false);
                self2._clearTimer(sound._id);
              }
            }
            return sound._id;
          },
          /**
           * Pause playback and save current position.
           * @param  {Number} id The sound ID (empty to pause all in group).
           * @return {Howl}
           */
          pause: function(id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "pause",
                action: function() {
                  self2.pause(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound = self2._soundById(ids[i]);
              if (sound && !sound._paused) {
                sound._seek = self2.seek(ids[i]);
                sound._rateSeek = 0;
                sound._paused = true;
                self2._stopFade(ids[i]);
                if (sound._node) {
                  if (self2._webAudio) {
                    if (!sound._node.bufferSource) {
                      continue;
                    }
                    if (typeof sound._node.bufferSource.stop === "undefined") {
                      sound._node.bufferSource.noteOff(0);
                    } else {
                      sound._node.bufferSource.stop(0);
                    }
                    self2._cleanBuffer(sound._node);
                  } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                    sound._node.pause();
                  }
                }
              }
              if (!arguments[1]) {
                self2._emit("pause", sound ? sound._id : null);
              }
            }
            return self2;
          },
          /**
           * Stop playback and reset to start.
           * @param  {Number} id The sound ID (empty to stop all in group).
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Howl}
           */
          stop: function(id, internal) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "stop",
                action: function() {
                  self2.stop(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound = self2._soundById(ids[i]);
              if (sound) {
                sound._seek = sound._start || 0;
                sound._rateSeek = 0;
                sound._paused = true;
                sound._ended = true;
                self2._stopFade(ids[i]);
                if (sound._node) {
                  if (self2._webAudio) {
                    if (sound._node.bufferSource) {
                      if (typeof sound._node.bufferSource.stop === "undefined") {
                        sound._node.bufferSource.noteOff(0);
                      } else {
                        sound._node.bufferSource.stop(0);
                      }
                      self2._cleanBuffer(sound._node);
                    }
                  } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                    sound._node.currentTime = sound._start || 0;
                    sound._node.pause();
                    if (sound._node.duration === Infinity) {
                      self2._clearSound(sound._node);
                    }
                  }
                }
                if (!internal) {
                  self2._emit("stop", sound._id);
                }
              }
            }
            return self2;
          },
          /**
           * Mute/unmute a single sound or all sounds in this Howl group.
           * @param  {Boolean} muted Set to true to mute and false to unmute.
           * @param  {Number} id    The sound ID to update (omit to mute/unmute all).
           * @return {Howl}
           */
          mute: function(muted, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "mute",
                action: function() {
                  self2.mute(muted, id);
                }
              });
              return self2;
            }
            if (typeof id === "undefined") {
              if (typeof muted === "boolean") {
                self2._muted = muted;
              } else {
                return self2._muted;
              }
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound = self2._soundById(ids[i]);
              if (sound) {
                sound._muted = muted;
                if (sound._interval) {
                  self2._stopFade(sound._id);
                }
                if (self2._webAudio && sound._node) {
                  sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler2.ctx.currentTime);
                } else if (sound._node) {
                  sound._node.muted = Howler2._muted ? true : muted;
                }
                self2._emit("mute", sound._id);
              }
            }
            return self2;
          },
          /**
           * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.
           *   volume() -> Returns the group's volume value.
           *   volume(id) -> Returns the sound id's current volume.
           *   volume(vol) -> Sets the volume of all sounds in this Howl group.
           *   volume(vol, id) -> Sets the volume of passed sound id.
           * @return {Howl/Number} Returns self or current volume.
           */
          volume: function() {
            var self2 = this;
            var args = arguments;
            var vol, id;
            if (args.length === 0) {
              return self2._volume;
            } else if (args.length === 1 || args.length === 2 && typeof args[1] === "undefined") {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                vol = parseFloat(args[0]);
              }
            } else if (args.length >= 2) {
              vol = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound;
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "volume",
                  action: function() {
                    self2.volume.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._volume = vol;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound = self2._soundById(id[i]);
                if (sound) {
                  sound._volume = vol;
                  if (!args[2]) {
                    self2._stopFade(id[i]);
                  }
                  if (self2._webAudio && sound._node && !sound._muted) {
                    sound._node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                  } else if (sound._node && !sound._muted) {
                    sound._node.volume = vol * Howler2.volume();
                  }
                  self2._emit("volume", sound._id);
                }
              }
            } else {
              sound = id ? self2._soundById(id) : self2._sounds[0];
              return sound ? sound._volume : 0;
            }
            return self2;
          },
          /**
           * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id (omit to fade all sounds).
           * @return {Howl}
           */
          fade: function(from, to, len5, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "fade",
                action: function() {
                  self2.fade(from, to, len5, id);
                }
              });
              return self2;
            }
            from = Math.min(Math.max(0, parseFloat(from)), 1);
            to = Math.min(Math.max(0, parseFloat(to)), 1);
            len5 = parseFloat(len5);
            self2.volume(from, id);
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound = self2._soundById(ids[i]);
              if (sound) {
                if (!id) {
                  self2._stopFade(ids[i]);
                }
                if (self2._webAudio && !sound._muted) {
                  var currentTime = Howler2.ctx.currentTime;
                  var end = currentTime + len5 / 1e3;
                  sound._volume = from;
                  sound._node.gain.setValueAtTime(from, currentTime);
                  sound._node.gain.linearRampToValueAtTime(to, end);
                }
                self2._startFadeInterval(sound, from, to, len5, ids[i], typeof id === "undefined");
              }
            }
            return self2;
          },
          /**
           * Starts the internal interval to fade a sound.
           * @param  {Object} sound Reference to sound to fade.
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id to fade.
           * @param  {Boolean} isGroup   If true, set the volume on the group.
           */
          _startFadeInterval: function(sound, from, to, len5, id, isGroup) {
            var self2 = this;
            var vol = from;
            var diff = to - from;
            var steps = Math.abs(diff / 0.01);
            var stepLen = Math.max(4, steps > 0 ? len5 / steps : len5);
            var lastTick = Date.now();
            sound._fadeTo = to;
            sound._interval = setInterval(function() {
              var tick = (Date.now() - lastTick) / len5;
              lastTick = Date.now();
              vol += diff * tick;
              vol = Math.round(vol * 100) / 100;
              if (diff < 0) {
                vol = Math.max(to, vol);
              } else {
                vol = Math.min(to, vol);
              }
              if (self2._webAudio) {
                sound._volume = vol;
              } else {
                self2.volume(vol, sound._id, true);
              }
              if (isGroup) {
                self2._volume = vol;
              }
              if (to < from && vol <= to || to > from && vol >= to) {
                clearInterval(sound._interval);
                sound._interval = null;
                sound._fadeTo = null;
                self2.volume(to, sound._id);
                self2._emit("fade", sound._id);
              }
            }, stepLen);
          },
          /**
           * Internal method that stops the currently playing fade when
           * a new fade starts, volume is changed or the sound is stopped.
           * @param  {Number} id The sound id.
           * @return {Howl}
           */
          _stopFade: function(id) {
            var self2 = this;
            var sound = self2._soundById(id);
            if (sound && sound._interval) {
              if (self2._webAudio) {
                sound._node.gain.cancelScheduledValues(Howler2.ctx.currentTime);
              }
              clearInterval(sound._interval);
              sound._interval = null;
              self2.volume(sound._fadeTo, id);
              sound._fadeTo = null;
              self2._emit("fade", id);
            }
            return self2;
          },
          /**
           * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.
           *   loop() -> Returns the group's loop value.
           *   loop(id) -> Returns the sound id's loop value.
           *   loop(loop) -> Sets the loop value for all sounds in this Howl group.
           *   loop(loop, id) -> Sets the loop value of passed sound id.
           * @return {Howl/Boolean} Returns self or current loop value.
           */
          loop: function() {
            var self2 = this;
            var args = arguments;
            var loop, id, sound;
            if (args.length === 0) {
              return self2._loop;
            } else if (args.length === 1) {
              if (typeof args[0] === "boolean") {
                loop = args[0];
                self2._loop = loop;
              } else {
                sound = self2._soundById(parseInt(args[0], 10));
                return sound ? sound._loop : false;
              }
            } else if (args.length === 2) {
              loop = args[0];
              id = parseInt(args[1], 10);
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              sound = self2._soundById(ids[i]);
              if (sound) {
                sound._loop = loop;
                if (self2._webAudio && sound._node && sound._node.bufferSource) {
                  sound._node.bufferSource.loop = loop;
                  if (loop) {
                    sound._node.bufferSource.loopStart = sound._start || 0;
                    sound._node.bufferSource.loopEnd = sound._stop;
                    if (self2.playing(ids[i])) {
                      self2.pause(ids[i], true);
                      self2.play(ids[i], true);
                    }
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   rate() -> Returns the first sound node's current playback rate.
           *   rate(id) -> Returns the sound id's current playback rate.
           *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.
           *   rate(rate, id) -> Sets the playback rate of passed sound id.
           * @return {Howl/Number} Returns self or the current playback rate.
           */
          rate: function() {
            var self2 = this;
            var args = arguments;
            var rate, id;
            if (args.length === 0) {
              id = self2._sounds[0]._id;
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                rate = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              rate = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound;
            if (typeof rate === "number") {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "rate",
                  action: function() {
                    self2.rate.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._rate = rate;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound = self2._soundById(id[i]);
                if (sound) {
                  if (self2.playing(id[i])) {
                    sound._rateSeek = self2.seek(id[i]);
                    sound._playStart = self2._webAudio ? Howler2.ctx.currentTime : sound._playStart;
                  }
                  sound._rate = rate;
                  if (self2._webAudio && sound._node && sound._node.bufferSource) {
                    sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler2.ctx.currentTime);
                  } else if (sound._node) {
                    sound._node.playbackRate = rate;
                  }
                  var seek = self2.seek(id[i]);
                  var duration = (self2._sprite[sound._sprite][0] + self2._sprite[sound._sprite][1]) / 1e3 - seek;
                  var timeout = duration * 1e3 / Math.abs(sound._rate);
                  if (self2._endTimers[id[i]] || !sound._paused) {
                    self2._clearTimer(id[i]);
                    self2._endTimers[id[i]] = setTimeout(self2._ended.bind(self2, sound), timeout);
                  }
                  self2._emit("rate", sound._id);
                }
              }
            } else {
              sound = self2._soundById(id);
              return sound ? sound._rate : self2._rate;
            }
            return self2;
          },
          /**
           * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   seek() -> Returns the first sound node's current seek position.
           *   seek(id) -> Returns the sound id's current seek position.
           *   seek(seek) -> Sets the seek position of the first sound node.
           *   seek(seek, id) -> Sets the seek position of passed sound id.
           * @return {Howl/Number} Returns self or the current seek position.
           */
          seek: function() {
            var self2 = this;
            var args = arguments;
            var seek, id;
            if (args.length === 0) {
              if (self2._sounds.length) {
                id = self2._sounds[0]._id;
              }
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else if (self2._sounds.length) {
                id = self2._sounds[0]._id;
                seek = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              seek = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            if (typeof id === "undefined") {
              return 0;
            }
            if (typeof seek === "number" && (self2._state !== "loaded" || self2._playLock)) {
              self2._queue.push({
                event: "seek",
                action: function() {
                  self2.seek.apply(self2, args);
                }
              });
              return self2;
            }
            var sound = self2._soundById(id);
            if (sound) {
              if (typeof seek === "number" && seek >= 0) {
                var playing = self2.playing(id);
                if (playing) {
                  self2.pause(id, true);
                }
                sound._seek = seek;
                sound._ended = false;
                self2._clearTimer(id);
                if (!self2._webAudio && sound._node && !isNaN(sound._node.duration)) {
                  sound._node.currentTime = seek;
                }
                var seekAndEmit = function() {
                  if (playing) {
                    self2.play(id, true);
                  }
                  self2._emit("seek", id);
                };
                if (playing && !self2._webAudio) {
                  var emitSeek = function() {
                    if (!self2._playLock) {
                      seekAndEmit();
                    } else {
                      setTimeout(emitSeek, 0);
                    }
                  };
                  setTimeout(emitSeek, 0);
                } else {
                  seekAndEmit();
                }
              } else {
                if (self2._webAudio) {
                  var realTime = self2.playing(id) ? Howler2.ctx.currentTime - sound._playStart : 0;
                  var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;
                  return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));
                } else {
                  return sound._node.currentTime;
                }
              }
            }
            return self2;
          },
          /**
           * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.
           * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.
           * @return {Boolean} True if playing and false if not.
           */
          playing: function(id) {
            var self2 = this;
            if (typeof id === "number") {
              var sound = self2._soundById(id);
              return sound ? !sound._paused : false;
            }
            for (var i = 0; i < self2._sounds.length; i++) {
              if (!self2._sounds[i]._paused) {
                return true;
              }
            }
            return false;
          },
          /**
           * Get the duration of this sound. Passing a sound id will return the sprite duration.
           * @param  {Number} id The sound id to check. If none is passed, return full source duration.
           * @return {Number} Audio duration in seconds.
           */
          duration: function(id) {
            var self2 = this;
            var duration = self2._duration;
            var sound = self2._soundById(id);
            if (sound) {
              duration = self2._sprite[sound._sprite][1] / 1e3;
            }
            return duration;
          },
          /**
           * Returns the current loaded state of this Howl.
           * @return {String} 'unloaded', 'loading', 'loaded'
           */
          state: function() {
            return this._state;
          },
          /**
           * Unload and destroy the current Howl object.
           * This will immediately stop all sound instances attached to this group.
           */
          unload: function() {
            var self2 = this;
            var sounds = self2._sounds;
            for (var i = 0; i < sounds.length; i++) {
              if (!sounds[i]._paused) {
                self2.stop(sounds[i]._id);
              }
              if (!self2._webAudio) {
                self2._clearSound(sounds[i]._node);
                sounds[i]._node.removeEventListener("error", sounds[i]._errorFn, false);
                sounds[i]._node.removeEventListener(Howler2._canPlayEvent, sounds[i]._loadFn, false);
                sounds[i]._node.removeEventListener("ended", sounds[i]._endFn, false);
                Howler2._releaseHtml5Audio(sounds[i]._node);
              }
              delete sounds[i]._node;
              self2._clearTimer(sounds[i]._id);
            }
            var index = Howler2._howls.indexOf(self2);
            if (index >= 0) {
              Howler2._howls.splice(index, 1);
            }
            var remCache = true;
            for (i = 0; i < Howler2._howls.length; i++) {
              if (Howler2._howls[i]._src === self2._src || self2._src.indexOf(Howler2._howls[i]._src) >= 0) {
                remCache = false;
                break;
              }
            }
            if (cache && remCache) {
              delete cache[self2._src];
            }
            Howler2.noAudio = false;
            self2._state = "unloaded";
            self2._sounds = [];
            self2 = null;
            return null;
          },
          /**
           * Listen to a custom event.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @param  {Number}   once  (INTERNAL) Marks event to fire only once.
           * @return {Howl}
           */
          on: function(event, fn, id, once) {
            var self2 = this;
            var events = self2["_on" + event];
            if (typeof fn === "function") {
              events.push(once ? { id, fn, once } : { id, fn });
            }
            return self2;
          },
          /**
           * Remove a custom event. Call without parameters to remove all events.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to remove. Leave empty to remove all.
           * @param  {Number}   id    (optional) Only remove events for this sound.
           * @return {Howl}
           */
          off: function(event, fn, id) {
            var self2 = this;
            var events = self2["_on" + event];
            var i = 0;
            if (typeof fn === "number") {
              id = fn;
              fn = null;
            }
            if (fn || id) {
              for (i = 0; i < events.length; i++) {
                var isId = id === events[i].id;
                if (fn === events[i].fn && isId || !fn && isId) {
                  events.splice(i, 1);
                  break;
                }
              }
            } else if (event) {
              self2["_on" + event] = [];
            } else {
              var keys = Object.keys(self2);
              for (i = 0; i < keys.length; i++) {
                if (keys[i].indexOf("_on") === 0 && Array.isArray(self2[keys[i]])) {
                  self2[keys[i]] = [];
                }
              }
            }
            return self2;
          },
          /**
           * Listen to a custom event and remove it once fired.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @return {Howl}
           */
          once: function(event, fn, id) {
            var self2 = this;
            self2.on(event, fn, id, 1);
            return self2;
          },
          /**
           * Emit all events of a specific type and pass the sound id.
           * @param  {String} event Event name.
           * @param  {Number} id    Sound ID.
           * @param  {Number} msg   Message to go with event.
           * @return {Howl}
           */
          _emit: function(event, id, msg) {
            var self2 = this;
            var events = self2["_on" + event];
            for (var i = events.length - 1; i >= 0; i--) {
              if (!events[i].id || events[i].id === id || event === "load") {
                setTimeout(function(fn) {
                  fn.call(this, id, msg);
                }.bind(self2, events[i].fn), 0);
                if (events[i].once) {
                  self2.off(event, events[i].fn, events[i].id);
                }
              }
            }
            self2._loadQueue(event);
            return self2;
          },
          /**
           * Queue of actions initiated before the sound has loaded.
           * These will be called in sequence, with the next only firing
           * after the previous has finished executing (even if async like play).
           * @return {Howl}
           */
          _loadQueue: function(event) {
            var self2 = this;
            if (self2._queue.length > 0) {
              var task = self2._queue[0];
              if (task.event === event) {
                self2._queue.shift();
                self2._loadQueue();
              }
              if (!event) {
                task.action();
              }
            }
            return self2;
          },
          /**
           * Fired when playback ends at the end of the duration.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _ended: function(sound) {
            var self2 = this;
            var sprite = sound._sprite;
            if (!self2._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {
              setTimeout(self2._ended.bind(self2, sound), 100);
              return self2;
            }
            var loop = !!(sound._loop || self2._sprite[sprite][2]);
            self2._emit("end", sound._id);
            if (!self2._webAudio && loop) {
              self2.stop(sound._id, true).play(sound._id);
            }
            if (self2._webAudio && loop) {
              self2._emit("play", sound._id);
              sound._seek = sound._start || 0;
              sound._rateSeek = 0;
              sound._playStart = Howler2.ctx.currentTime;
              var timeout = (sound._stop - sound._start) * 1e3 / Math.abs(sound._rate);
              self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout);
            }
            if (self2._webAudio && !loop) {
              sound._paused = true;
              sound._ended = true;
              sound._seek = sound._start || 0;
              sound._rateSeek = 0;
              self2._clearTimer(sound._id);
              self2._cleanBuffer(sound._node);
              Howler2._autoSuspend();
            }
            if (!self2._webAudio && !loop) {
              self2.stop(sound._id, true);
            }
            return self2;
          },
          /**
           * Clear the end timer for a sound playback.
           * @param  {Number} id The sound ID.
           * @return {Howl}
           */
          _clearTimer: function(id) {
            var self2 = this;
            if (self2._endTimers[id]) {
              if (typeof self2._endTimers[id] !== "function") {
                clearTimeout(self2._endTimers[id]);
              } else {
                var sound = self2._soundById(id);
                if (sound && sound._node) {
                  sound._node.removeEventListener("ended", self2._endTimers[id], false);
                }
              }
              delete self2._endTimers[id];
            }
            return self2;
          },
          /**
           * Return the sound identified by this ID, or return null.
           * @param  {Number} id Sound ID
           * @return {Object}    Sound object or null.
           */
          _soundById: function(id) {
            var self2 = this;
            for (var i = 0; i < self2._sounds.length; i++) {
              if (id === self2._sounds[i]._id) {
                return self2._sounds[i];
              }
            }
            return null;
          },
          /**
           * Return an inactive sound from the pool or create a new one.
           * @return {Sound} Sound playback object.
           */
          _inactiveSound: function() {
            var self2 = this;
            self2._drain();
            for (var i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                return self2._sounds[i].reset();
              }
            }
            return new Sound2(self2);
          },
          /**
           * Drain excess inactive sounds from the pool.
           */
          _drain: function() {
            var self2 = this;
            var limit = self2._pool;
            var cnt = 0;
            var i = 0;
            if (self2._sounds.length < limit) {
              return;
            }
            for (i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                cnt++;
              }
            }
            for (i = self2._sounds.length - 1; i >= 0; i--) {
              if (cnt <= limit) {
                return;
              }
              if (self2._sounds[i]._ended) {
                if (self2._webAudio && self2._sounds[i]._node) {
                  self2._sounds[i]._node.disconnect(0);
                }
                self2._sounds.splice(i, 1);
                cnt--;
              }
            }
          },
          /**
           * Get all ID's from the sounds pool.
           * @param  {Number} id Only return one ID if one is passed.
           * @return {Array}    Array of IDs.
           */
          _getSoundIds: function(id) {
            var self2 = this;
            if (typeof id === "undefined") {
              var ids = [];
              for (var i = 0; i < self2._sounds.length; i++) {
                ids.push(self2._sounds[i]._id);
              }
              return ids;
            } else {
              return [id];
            }
          },
          /**
           * Load the sound back into the buffer source.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _refreshBuffer: function(sound) {
            var self2 = this;
            sound._node.bufferSource = Howler2.ctx.createBufferSource();
            sound._node.bufferSource.buffer = cache[self2._src];
            if (sound._panner) {
              sound._node.bufferSource.connect(sound._panner);
            } else {
              sound._node.bufferSource.connect(sound._node);
            }
            sound._node.bufferSource.loop = sound._loop;
            if (sound._loop) {
              sound._node.bufferSource.loopStart = sound._start || 0;
              sound._node.bufferSource.loopEnd = sound._stop || 0;
            }
            sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler2.ctx.currentTime);
            return self2;
          },
          /**
           * Prevent memory leaks by cleaning up the buffer source after playback.
           * @param  {Object} node Sound's audio node containing the buffer source.
           * @return {Howl}
           */
          _cleanBuffer: function(node) {
            var self2 = this;
            var isIOS = Howler2._navigator && Howler2._navigator.vendor.indexOf("Apple") >= 0;
            if (Howler2._scratchBuffer && node.bufferSource) {
              node.bufferSource.onended = null;
              node.bufferSource.disconnect(0);
              if (isIOS) {
                try {
                  node.bufferSource.buffer = Howler2._scratchBuffer;
                } catch (e) {
                }
              }
            }
            node.bufferSource = null;
            return self2;
          },
          /**
           * Set the source to a 0-second silence to stop any downloading (except in IE).
           * @param  {Object} node Audio node to clear.
           */
          _clearSound: function(node) {
            var checkIE = /MSIE |Trident\//.test(Howler2._navigator && Howler2._navigator.userAgent);
            if (!checkIE) {
              node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA";
            }
          }
        };
        var Sound2 = function(howl) {
          this._parent = howl;
          this.init();
        };
        Sound2.prototype = {
          /**
           * Initialize a new Sound object.
           * @return {Sound}
           */
          init: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            parent._sounds.push(self2);
            self2.create();
            return self2;
          },
          /**
           * Create and setup a new sound object, whether HTML5 Audio or Web Audio.
           * @return {Sound}
           */
          create: function() {
            var self2 = this;
            var parent = self2._parent;
            var volume = Howler2._muted || self2._muted || self2._parent._muted ? 0 : self2._volume;
            if (parent._webAudio) {
              self2._node = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
              self2._node.gain.setValueAtTime(volume, Howler2.ctx.currentTime);
              self2._node.paused = true;
              self2._node.connect(Howler2.masterGain);
            } else if (!Howler2.noAudio) {
              self2._node = Howler2._obtainHtml5Audio();
              self2._errorFn = self2._errorListener.bind(self2);
              self2._node.addEventListener("error", self2._errorFn, false);
              self2._loadFn = self2._loadListener.bind(self2);
              self2._node.addEventListener(Howler2._canPlayEvent, self2._loadFn, false);
              self2._endFn = self2._endListener.bind(self2);
              self2._node.addEventListener("ended", self2._endFn, false);
              self2._node.src = parent._src;
              self2._node.preload = parent._preload === true ? "auto" : parent._preload;
              self2._node.volume = volume * Howler2.volume();
              self2._node.load();
            }
            return self2;
          },
          /**
           * Reset the parameters of this sound to the original state (for recycle).
           * @return {Sound}
           */
          reset: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._rateSeek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            return self2;
          },
          /**
           * HTML5 Audio error listener callback.
           */
          _errorListener: function() {
            var self2 = this;
            self2._parent._emit("loaderror", self2._id, self2._node.error ? self2._node.error.code : 0);
            self2._node.removeEventListener("error", self2._errorFn, false);
          },
          /**
           * HTML5 Audio canplaythrough listener callback.
           */
          _loadListener: function() {
            var self2 = this;
            var parent = self2._parent;
            parent._duration = Math.ceil(self2._node.duration * 10) / 10;
            if (Object.keys(parent._sprite).length === 0) {
              parent._sprite = { __default: [0, parent._duration * 1e3] };
            }
            if (parent._state !== "loaded") {
              parent._state = "loaded";
              parent._emit("load");
              parent._loadQueue();
            }
            self2._node.removeEventListener(Howler2._canPlayEvent, self2._loadFn, false);
          },
          /**
           * HTML5 Audio ended listener callback.
           */
          _endListener: function() {
            var self2 = this;
            var parent = self2._parent;
            if (parent._duration === Infinity) {
              parent._duration = Math.ceil(self2._node.duration * 10) / 10;
              if (parent._sprite.__default[1] === Infinity) {
                parent._sprite.__default[1] = parent._duration * 1e3;
              }
              parent._ended(self2);
            }
            self2._node.removeEventListener("ended", self2._endFn, false);
          }
        };
        var cache = {};
        var loadBuffer = function(self2) {
          var url = self2._src;
          if (cache[url]) {
            self2._duration = cache[url].duration;
            loadSound(self2);
            return;
          }
          if (/^data:[^;]+;base64,/.test(url)) {
            var data = atob(url.split(",")[1]);
            var dataView = new Uint8Array(data.length);
            for (var i = 0; i < data.length; ++i) {
              dataView[i] = data.charCodeAt(i);
            }
            decodeAudioData(dataView.buffer, self2);
          } else {
            var xhr = new XMLHttpRequest();
            xhr.open(self2._xhr.method, url, true);
            xhr.withCredentials = self2._xhr.withCredentials;
            xhr.responseType = "arraybuffer";
            if (self2._xhr.headers) {
              Object.keys(self2._xhr.headers).forEach(function(key) {
                xhr.setRequestHeader(key, self2._xhr.headers[key]);
              });
            }
            xhr.onload = function() {
              var code = (xhr.status + "")[0];
              if (code !== "0" && code !== "2" && code !== "3") {
                self2._emit("loaderror", null, "Failed loading audio file with status: " + xhr.status + ".");
                return;
              }
              decodeAudioData(xhr.response, self2);
            };
            xhr.onerror = function() {
              if (self2._webAudio) {
                self2._html5 = true;
                self2._webAudio = false;
                self2._sounds = [];
                delete cache[url];
                self2.load();
              }
            };
            safeXhrSend(xhr);
          }
        };
        var safeXhrSend = function(xhr) {
          try {
            xhr.send();
          } catch (e) {
            xhr.onerror();
          }
        };
        var decodeAudioData = function(arraybuffer, self2) {
          var error = function() {
            self2._emit("loaderror", null, "Decoding audio data failed.");
          };
          var success = function(buffer) {
            if (buffer && self2._sounds.length > 0) {
              cache[self2._src] = buffer;
              loadSound(self2, buffer);
            } else {
              error();
            }
          };
          if (typeof Promise !== "undefined" && Howler2.ctx.decodeAudioData.length === 1) {
            Howler2.ctx.decodeAudioData(arraybuffer).then(success).catch(error);
          } else {
            Howler2.ctx.decodeAudioData(arraybuffer, success, error);
          }
        };
        var loadSound = function(self2, buffer) {
          if (buffer && !self2._duration) {
            self2._duration = buffer.duration;
          }
          if (Object.keys(self2._sprite).length === 0) {
            self2._sprite = { __default: [0, self2._duration * 1e3] };
          }
          if (self2._state !== "loaded") {
            self2._state = "loaded";
            self2._emit("load");
            self2._loadQueue();
          }
        };
        var setupAudioContext = function() {
          if (!Howler2.usingWebAudio) {
            return;
          }
          try {
            if (typeof AudioContext !== "undefined") {
              Howler2.ctx = new AudioContext();
            } else if (typeof webkitAudioContext !== "undefined") {
              Howler2.ctx = new webkitAudioContext();
            } else {
              Howler2.usingWebAudio = false;
            }
          } catch (e) {
            Howler2.usingWebAudio = false;
          }
          if (!Howler2.ctx) {
            Howler2.usingWebAudio = false;
          }
          var iOS = /iP(hone|od|ad)/.test(Howler2._navigator && Howler2._navigator.platform);
          var appVersion = Howler2._navigator && Howler2._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
          var version = appVersion ? parseInt(appVersion[1], 10) : null;
          if (iOS && version && version < 9) {
            var safari = /safari/.test(Howler2._navigator && Howler2._navigator.userAgent.toLowerCase());
            if (Howler2._navigator && !safari) {
              Howler2.usingWebAudio = false;
            }
          }
          if (Howler2.usingWebAudio) {
            Howler2.masterGain = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
            Howler2.masterGain.gain.setValueAtTime(Howler2._muted ? 0 : Howler2._volume, Howler2.ctx.currentTime);
            Howler2.masterGain.connect(Howler2.ctx.destination);
          }
          Howler2._setup();
        };
        if (typeof define === "function" && define.amd) {
          define([], function() {
            return {
              Howler: Howler2,
              Howl: Howl2
            };
          });
        }
        if (typeof exports !== "undefined") {
          exports.Howler = Howler2;
          exports.Howl = Howl2;
        }
        if (typeof global !== "undefined") {
          global.HowlerGlobal = HowlerGlobal2;
          global.Howler = Howler2;
          global.Howl = Howl2;
          global.Sound = Sound2;
        } else if (typeof window !== "undefined") {
          window.HowlerGlobal = HowlerGlobal2;
          window.Howler = Howler2;
          window.Howl = Howl2;
          window.Sound = Sound2;
        }
      })();
      (function() {
        "use strict";
        HowlerGlobal.prototype._pos = [0, 0, 0];
        HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];
        HowlerGlobal.prototype.stereo = function(pan) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          for (var i = self2._howls.length - 1; i >= 0; i--) {
            self2._howls[i].stereo(pan);
          }
          return self2;
        };
        HowlerGlobal.prototype.pos = function(x, y, z) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          y = typeof y !== "number" ? self2._pos[1] : y;
          z = typeof z !== "number" ? self2._pos[2] : z;
          if (typeof x === "number") {
            self2._pos = [x, y, z];
            if (typeof self2.ctx.listener.positionX !== "undefined") {
              self2.ctx.listener.positionX.setTargetAtTime(self2._pos[0], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionY.setTargetAtTime(self2._pos[1], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionZ.setTargetAtTime(self2._pos[2], Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setPosition(self2._pos[0], self2._pos[1], self2._pos[2]);
            }
          } else {
            return self2._pos;
          }
          return self2;
        };
        HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          var or = self2._orientation;
          y = typeof y !== "number" ? or[1] : y;
          z = typeof z !== "number" ? or[2] : z;
          xUp = typeof xUp !== "number" ? or[3] : xUp;
          yUp = typeof yUp !== "number" ? or[4] : yUp;
          zUp = typeof zUp !== "number" ? or[5] : zUp;
          if (typeof x === "number") {
            self2._orientation = [x, y, z, xUp, yUp, zUp];
            if (typeof self2.ctx.listener.forwardX !== "undefined") {
              self2.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);
            }
          } else {
            return or;
          }
          return self2;
        };
        Howl.prototype.init = function(_super) {
          return function(o) {
            var self2 = this;
            self2._orientation = o.orientation || [1, 0, 0];
            self2._stereo = o.stereo || null;
            self2._pos = o.pos || null;
            self2._pannerAttr = {
              coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : 360,
              coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : 360,
              coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : 0,
              distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : "inverse",
              maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : 1e4,
              panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : "HRTF",
              refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : 1,
              rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : 1
            };
            self2._onstereo = o.onstereo ? [{ fn: o.onstereo }] : [];
            self2._onpos = o.onpos ? [{ fn: o.onpos }] : [];
            self2._onorientation = o.onorientation ? [{ fn: o.onorientation }] : [];
            return _super.call(this, o);
          };
        }(Howl.prototype.init);
        Howl.prototype.stereo = function(pan, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "stereo",
              action: function() {
                self2.stereo(pan, id);
              }
            });
            return self2;
          }
          var pannerType = typeof Howler.ctx.createStereoPanner === "undefined" ? "spatial" : "stereo";
          if (typeof id === "undefined") {
            if (typeof pan === "number") {
              self2._stereo = pan;
              self2._pos = [pan, 0, 0];
            } else {
              return self2._stereo;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof pan === "number") {
                sound._stereo = pan;
                sound._pos = [pan, 0, 0];
                if (sound._node) {
                  sound._pannerAttr.panningModel = "equalpower";
                  if (!sound._panner || !sound._panner.pan) {
                    setupPanner(sound, pannerType);
                  }
                  if (pannerType === "spatial") {
                    if (typeof sound._panner.positionX !== "undefined") {
                      sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);
                      sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);
                      sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);
                    } else {
                      sound._panner.setPosition(pan, 0, 0);
                    }
                  } else {
                    sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);
                  }
                }
                self2._emit("stereo", sound._id);
              } else {
                return sound._stereo;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pos = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "pos",
              action: function() {
                self2.pos(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? 0 : y;
          z = typeof z !== "number" ? -0.5 : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._pos = [x, y, z];
            } else {
              return self2._pos;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof x === "number") {
                sound._pos = [x, y, z];
                if (sound._node) {
                  if (!sound._panner || sound._panner.pan) {
                    setupPanner(sound, "spatial");
                  }
                  if (typeof sound._panner.positionX !== "undefined") {
                    sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound._panner.setPosition(x, y, z);
                  }
                }
                self2._emit("pos", sound._id);
              } else {
                return sound._pos;
              }
            }
          }
          return self2;
        };
        Howl.prototype.orientation = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "orientation",
              action: function() {
                self2.orientation(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? self2._orientation[1] : y;
          z = typeof z !== "number" ? self2._orientation[2] : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._orientation = [x, y, z];
            } else {
              return self2._orientation;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof x === "number") {
                sound._orientation = [x, y, z];
                if (sound._node) {
                  if (!sound._panner) {
                    if (!sound._pos) {
                      sound._pos = self2._pos || [0, 0, -0.5];
                    }
                    setupPanner(sound, "spatial");
                  }
                  if (typeof sound._panner.orientationX !== "undefined") {
                    sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound._panner.setOrientation(x, y, z);
                  }
                }
                self2._emit("orientation", sound._id);
              } else {
                return sound._orientation;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pannerAttr = function() {
          var self2 = this;
          var args = arguments;
          var o, id, sound;
          if (!self2._webAudio) {
            return self2;
          }
          if (args.length === 0) {
            return self2._pannerAttr;
          } else if (args.length === 1) {
            if (typeof args[0] === "object") {
              o = args[0];
              if (typeof id === "undefined") {
                if (!o.pannerAttr) {
                  o.pannerAttr = {
                    coneInnerAngle: o.coneInnerAngle,
                    coneOuterAngle: o.coneOuterAngle,
                    coneOuterGain: o.coneOuterGain,
                    distanceModel: o.distanceModel,
                    maxDistance: o.maxDistance,
                    refDistance: o.refDistance,
                    rolloffFactor: o.rolloffFactor,
                    panningModel: o.panningModel
                  };
                }
                self2._pannerAttr = {
                  coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== "undefined" ? o.pannerAttr.coneInnerAngle : self2._coneInnerAngle,
                  coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== "undefined" ? o.pannerAttr.coneOuterAngle : self2._coneOuterAngle,
                  coneOuterGain: typeof o.pannerAttr.coneOuterGain !== "undefined" ? o.pannerAttr.coneOuterGain : self2._coneOuterGain,
                  distanceModel: typeof o.pannerAttr.distanceModel !== "undefined" ? o.pannerAttr.distanceModel : self2._distanceModel,
                  maxDistance: typeof o.pannerAttr.maxDistance !== "undefined" ? o.pannerAttr.maxDistance : self2._maxDistance,
                  refDistance: typeof o.pannerAttr.refDistance !== "undefined" ? o.pannerAttr.refDistance : self2._refDistance,
                  rolloffFactor: typeof o.pannerAttr.rolloffFactor !== "undefined" ? o.pannerAttr.rolloffFactor : self2._rolloffFactor,
                  panningModel: typeof o.pannerAttr.panningModel !== "undefined" ? o.pannerAttr.panningModel : self2._panningModel
                };
              }
            } else {
              sound = self2._soundById(parseInt(args[0], 10));
              return sound ? sound._pannerAttr : self2._pannerAttr;
            }
          } else if (args.length === 2) {
            o = args[0];
            id = parseInt(args[1], 10);
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            sound = self2._soundById(ids[i]);
            if (sound) {
              var pa = sound._pannerAttr;
              pa = {
                coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : pa.coneInnerAngle,
                coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : pa.coneOuterAngle,
                coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : pa.coneOuterGain,
                distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : pa.distanceModel,
                maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : pa.maxDistance,
                refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : pa.refDistance,
                rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : pa.rolloffFactor,
                panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : pa.panningModel
              };
              var panner = sound._panner;
              if (panner) {
                panner.coneInnerAngle = pa.coneInnerAngle;
                panner.coneOuterAngle = pa.coneOuterAngle;
                panner.coneOuterGain = pa.coneOuterGain;
                panner.distanceModel = pa.distanceModel;
                panner.maxDistance = pa.maxDistance;
                panner.refDistance = pa.refDistance;
                panner.rolloffFactor = pa.rolloffFactor;
                panner.panningModel = pa.panningModel;
              } else {
                if (!sound._pos) {
                  sound._pos = self2._pos || [0, 0, -0.5];
                }
                setupPanner(sound, "spatial");
              }
            }
          }
          return self2;
        };
        Sound.prototype.init = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            _super.call(this);
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            }
          };
        }(Sound.prototype.init);
        Sound.prototype.reset = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            } else if (self2._panner) {
              self2._panner.disconnect(0);
              self2._panner = void 0;
              parent._refreshBuffer(self2);
            }
            return _super.call(this);
          };
        }(Sound.prototype.reset);
        var setupPanner = function(sound, type) {
          type = type || "spatial";
          if (type === "spatial") {
            sound._panner = Howler.ctx.createPanner();
            sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;
            sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;
            sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;
            sound._panner.distanceModel = sound._pannerAttr.distanceModel;
            sound._panner.maxDistance = sound._pannerAttr.maxDistance;
            sound._panner.refDistance = sound._pannerAttr.refDistance;
            sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;
            sound._panner.panningModel = sound._pannerAttr.panningModel;
            if (typeof sound._panner.positionX !== "undefined") {
              sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);
              sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);
              sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);
            } else {
              sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);
            }
            if (typeof sound._panner.orientationX !== "undefined") {
              sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);
              sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);
              sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);
            } else {
              sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);
            }
          } else {
            sound._panner = Howler.ctx.createStereoPanner();
            sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);
          }
          sound._panner.connect(sound._node);
          if (!sound._paused) {
            sound._parent.pause(sound._id, true).play(sound._id, true);
          }
        };
      })();
    }
  });

  // node_modules/earcut/src/earcut.js
  var require_earcut = __commonJS({
    "node_modules/earcut/src/earcut.js"(exports, module) {
      "use strict";
      module.exports = earcut2;
      module.exports.default = earcut2;
      function earcut2(data, holeIndices, dim) {
        dim = dim || 2;
        var hasHoles = holeIndices && holeIndices.length, outerLen = hasHoles ? holeIndices[0] * dim : data.length, outerNode = linkedList(data, 0, outerLen, dim, true), triangles = [];
        if (!outerNode || outerNode.next === outerNode.prev)
          return triangles;
        var minX, minY, maxX, maxY, x, y, invSize;
        if (hasHoles)
          outerNode = eliminateHoles(data, holeIndices, outerNode, dim);
        if (data.length > 80 * dim) {
          minX = maxX = data[0];
          minY = maxY = data[1];
          for (var i = dim; i < outerLen; i += dim) {
            x = data[i];
            y = data[i + 1];
            if (x < minX)
              minX = x;
            if (y < minY)
              minY = y;
            if (x > maxX)
              maxX = x;
            if (y > maxY)
              maxY = y;
          }
          invSize = Math.max(maxX - minX, maxY - minY);
          invSize = invSize !== 0 ? 32767 / invSize : 0;
        }
        earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);
        return triangles;
      }
      function linkedList(data, start, end, dim, clockwise) {
        var i, last;
        if (clockwise === signedArea(data, start, end, dim) > 0) {
          for (i = start; i < end; i += dim)
            last = insertNode(i, data[i], data[i + 1], last);
        } else {
          for (i = end - dim; i >= start; i -= dim)
            last = insertNode(i, data[i], data[i + 1], last);
        }
        if (last && equals7(last, last.next)) {
          removeNode(last);
          last = last.next;
        }
        return last;
      }
      function filterPoints(start, end) {
        if (!start)
          return start;
        if (!end)
          end = start;
        var p = start, again;
        do {
          again = false;
          if (!p.steiner && (equals7(p, p.next) || area(p.prev, p, p.next) === 0)) {
            removeNode(p);
            p = end = p.prev;
            if (p === p.next)
              break;
            again = true;
          } else {
            p = p.next;
          }
        } while (again || p !== end);
        return end;
      }
      function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {
        if (!ear)
          return;
        if (!pass && invSize)
          indexCurve(ear, minX, minY, invSize);
        var stop = ear, prev, next;
        while (ear.prev !== ear.next) {
          prev = ear.prev;
          next = ear.next;
          if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {
            triangles.push(prev.i / dim | 0);
            triangles.push(ear.i / dim | 0);
            triangles.push(next.i / dim | 0);
            removeNode(ear);
            ear = next.next;
            stop = next.next;
            continue;
          }
          ear = next;
          if (ear === stop) {
            if (!pass) {
              earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);
            } else if (pass === 1) {
              ear = cureLocalIntersections(filterPoints(ear), triangles, dim);
              earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);
            } else if (pass === 2) {
              splitEarcut(ear, triangles, dim, minX, minY, invSize);
            }
            break;
          }
        }
      }
      function isEar(ear) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0)
          return false;
        var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;
        var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
        var p = c.next;
        while (p !== a) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.next;
        }
        return true;
      }
      function isEarHashed(ear, minX, minY, invSize) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0)
          return false;
        var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;
        var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
        var minZ = zOrder(x0, y0, minX, minY, invSize), maxZ = zOrder(x1, y1, minX, minY, invSize);
        var p = ear.prevZ, n = ear.nextZ;
        while (p && p.z >= minZ && n && n.z <= maxZ) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.prevZ;
          if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c && pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0)
            return false;
          n = n.nextZ;
        }
        while (p && p.z >= minZ) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.prevZ;
        }
        while (n && n.z <= maxZ) {
          if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c && pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0)
            return false;
          n = n.nextZ;
        }
        return true;
      }
      function cureLocalIntersections(start, triangles, dim) {
        var p = start;
        do {
          var a = p.prev, b = p.next.next;
          if (!equals7(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {
            triangles.push(a.i / dim | 0);
            triangles.push(p.i / dim | 0);
            triangles.push(b.i / dim | 0);
            removeNode(p);
            removeNode(p.next);
            p = start = b;
          }
          p = p.next;
        } while (p !== start);
        return filterPoints(p);
      }
      function splitEarcut(start, triangles, dim, minX, minY, invSize) {
        var a = start;
        do {
          var b = a.next.next;
          while (b !== a.prev) {
            if (a.i !== b.i && isValidDiagonal(a, b)) {
              var c = splitPolygon(a, b);
              a = filterPoints(a, a.next);
              c = filterPoints(c, c.next);
              earcutLinked(a, triangles, dim, minX, minY, invSize, 0);
              earcutLinked(c, triangles, dim, minX, minY, invSize, 0);
              return;
            }
            b = b.next;
          }
          a = a.next;
        } while (a !== start);
      }
      function eliminateHoles(data, holeIndices, outerNode, dim) {
        var queue = [], i, len5, start, end, list;
        for (i = 0, len5 = holeIndices.length; i < len5; i++) {
          start = holeIndices[i] * dim;
          end = i < len5 - 1 ? holeIndices[i + 1] * dim : data.length;
          list = linkedList(data, start, end, dim, false);
          if (list === list.next)
            list.steiner = true;
          queue.push(getLeftmost(list));
        }
        queue.sort(compareX);
        for (i = 0; i < queue.length; i++) {
          outerNode = eliminateHole(queue[i], outerNode);
        }
        return outerNode;
      }
      function compareX(a, b) {
        return a.x - b.x;
      }
      function eliminateHole(hole, outerNode) {
        var bridge = findHoleBridge(hole, outerNode);
        if (!bridge) {
          return outerNode;
        }
        var bridgeReverse = splitPolygon(bridge, hole);
        filterPoints(bridgeReverse, bridgeReverse.next);
        return filterPoints(bridge, bridge.next);
      }
      function findHoleBridge(hole, outerNode) {
        var p = outerNode, hx = hole.x, hy = hole.y, qx = -Infinity, m;
        do {
          if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {
            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);
            if (x <= hx && x > qx) {
              qx = x;
              m = p.x < p.next.x ? p : p.next;
              if (x === hx)
                return m;
            }
          }
          p = p.next;
        } while (p !== outerNode);
        if (!m)
          return null;
        var stop = m, mx = m.x, my = m.y, tanMin = Infinity, tan;
        p = m;
        do {
          if (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {
            tan = Math.abs(hy - p.y) / (hx - p.x);
            if (locallyInside(p, hole) && (tan < tanMin || tan === tanMin && (p.x > m.x || p.x === m.x && sectorContainsSector(m, p)))) {
              m = p;
              tanMin = tan;
            }
          }
          p = p.next;
        } while (p !== stop);
        return m;
      }
      function sectorContainsSector(m, p) {
        return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;
      }
      function indexCurve(start, minX, minY, invSize) {
        var p = start;
        do {
          if (p.z === 0)
            p.z = zOrder(p.x, p.y, minX, minY, invSize);
          p.prevZ = p.prev;
          p.nextZ = p.next;
          p = p.next;
        } while (p !== start);
        p.prevZ.nextZ = null;
        p.prevZ = null;
        sortLinked(p);
      }
      function sortLinked(list) {
        var i, p, q2, e, tail, numMerges, pSize, qSize, inSize = 1;
        do {
          p = list;
          list = null;
          tail = null;
          numMerges = 0;
          while (p) {
            numMerges++;
            q2 = p;
            pSize = 0;
            for (i = 0; i < inSize; i++) {
              pSize++;
              q2 = q2.nextZ;
              if (!q2)
                break;
            }
            qSize = inSize;
            while (pSize > 0 || qSize > 0 && q2) {
              if (pSize !== 0 && (qSize === 0 || !q2 || p.z <= q2.z)) {
                e = p;
                p = p.nextZ;
                pSize--;
              } else {
                e = q2;
                q2 = q2.nextZ;
                qSize--;
              }
              if (tail)
                tail.nextZ = e;
              else
                list = e;
              e.prevZ = tail;
              tail = e;
            }
            p = q2;
          }
          tail.nextZ = null;
          inSize *= 2;
        } while (numMerges > 1);
        return list;
      }
      function zOrder(x, y, minX, minY, invSize) {
        x = (x - minX) * invSize | 0;
        y = (y - minY) * invSize | 0;
        x = (x | x << 8) & 16711935;
        x = (x | x << 4) & 252645135;
        x = (x | x << 2) & 858993459;
        x = (x | x << 1) & 1431655765;
        y = (y | y << 8) & 16711935;
        y = (y | y << 4) & 252645135;
        y = (y | y << 2) & 858993459;
        y = (y | y << 1) & 1431655765;
        return x | y << 1;
      }
      function getLeftmost(start) {
        var p = start, leftmost = start;
        do {
          if (p.x < leftmost.x || p.x === leftmost.x && p.y < leftmost.y)
            leftmost = p;
          p = p.next;
        } while (p !== start);
        return leftmost;
      }
      function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {
        return (cx - px) * (ay - py) >= (ax - px) * (cy - py) && (ax - px) * (by - py) >= (bx - px) * (ay - py) && (bx - px) * (cy - py) >= (cx - px) * (by - py);
      }
      function isValidDiagonal(a, b) {
        return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges
        (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible
        (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors
        equals7(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0);
      }
      function area(p, q2, r) {
        return (q2.y - p.y) * (r.x - q2.x) - (q2.x - p.x) * (r.y - q2.y);
      }
      function equals7(p1, p2) {
        return p1.x === p2.x && p1.y === p2.y;
      }
      function intersects(p1, q1, p2, q2) {
        var o1 = sign(area(p1, q1, p2));
        var o2 = sign(area(p1, q1, q2));
        var o3 = sign(area(p2, q2, p1));
        var o4 = sign(area(p2, q2, q1));
        if (o1 !== o2 && o3 !== o4)
          return true;
        if (o1 === 0 && onSegment(p1, p2, q1))
          return true;
        if (o2 === 0 && onSegment(p1, q2, q1))
          return true;
        if (o3 === 0 && onSegment(p2, p1, q2))
          return true;
        if (o4 === 0 && onSegment(p2, q1, q2))
          return true;
        return false;
      }
      function onSegment(p, q2, r) {
        return q2.x <= Math.max(p.x, r.x) && q2.x >= Math.min(p.x, r.x) && q2.y <= Math.max(p.y, r.y) && q2.y >= Math.min(p.y, r.y);
      }
      function sign(num) {
        return num > 0 ? 1 : num < 0 ? -1 : 0;
      }
      function intersectsPolygon(a, b) {
        var p = a;
        do {
          if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b))
            return true;
          p = p.next;
        } while (p !== a);
        return false;
      }
      function locallyInside(a, b) {
        return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;
      }
      function middleInside(a, b) {
        var p = a, inside = false, px = (a.x + b.x) / 2, py = (a.y + b.y) / 2;
        do {
          if (p.y > py !== p.next.y > py && p.next.y !== p.y && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x)
            inside = !inside;
          p = p.next;
        } while (p !== a);
        return inside;
      }
      function splitPolygon(a, b) {
        var a2 = new Node(a.i, a.x, a.y), b2 = new Node(b.i, b.x, b.y), an = a.next, bp = b.prev;
        a.next = b;
        b.prev = a;
        a2.next = an;
        an.prev = a2;
        b2.next = a2;
        a2.prev = b2;
        bp.next = b2;
        b2.prev = bp;
        return b2;
      }
      function insertNode(i, x, y, last) {
        var p = new Node(i, x, y);
        if (!last) {
          p.prev = p;
          p.next = p;
        } else {
          p.next = last.next;
          p.prev = last;
          last.next.prev = p;
          last.next = p;
        }
        return p;
      }
      function removeNode(p) {
        p.next.prev = p.prev;
        p.prev.next = p.next;
        if (p.prevZ)
          p.prevZ.nextZ = p.nextZ;
        if (p.nextZ)
          p.nextZ.prevZ = p.prevZ;
      }
      function Node(i, x, y) {
        this.i = i;
        this.x = x;
        this.y = y;
        this.prev = null;
        this.next = null;
        this.z = 0;
        this.prevZ = null;
        this.nextZ = null;
        this.steiner = false;
      }
      earcut2.deviation = function(data, holeIndices, dim, triangles) {
        var hasHoles = holeIndices && holeIndices.length;
        var outerLen = hasHoles ? holeIndices[0] * dim : data.length;
        var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));
        if (hasHoles) {
          for (var i = 0, len5 = holeIndices.length; i < len5; i++) {
            var start = holeIndices[i] * dim;
            var end = i < len5 - 1 ? holeIndices[i + 1] * dim : data.length;
            polygonArea -= Math.abs(signedArea(data, start, end, dim));
          }
        }
        var trianglesArea = 0;
        for (i = 0; i < triangles.length; i += 3) {
          var a = triangles[i] * dim;
          var b = triangles[i + 1] * dim;
          var c = triangles[i + 2] * dim;
          trianglesArea += Math.abs(
            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) - (data[a] - data[b]) * (data[c + 1] - data[a + 1])
          );
        }
        return polygonArea === 0 && trianglesArea === 0 ? 0 : Math.abs((trianglesArea - polygonArea) / polygonArea);
      };
      function signedArea(data, start, end, dim) {
        var sum = 0;
        for (var i = start, j = end - dim; i < end; i += dim) {
          sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);
          j = i;
        }
        return sum;
      }
      earcut2.flatten = function(data) {
        var dim = data[0][0].length, result = { vertices: [], holes: [], dimensions: dim }, holeIndex = 0;
        for (var i = 0; i < data.length; i++) {
          for (var j = 0; j < data[i].length; j++) {
            for (var d = 0; d < dim; d++)
              result.vertices.push(data[i][j][d]);
          }
          if (i > 0) {
            holeIndex += data[i - 1].length;
            result.holes.push(holeIndex);
          }
        }
        return result;
      };
    }
  });

  // node_modules/@sorskoot/wonderland-components/dist/index.js
  var dist_exports = {};
  __export(dist_exports, {
    Easing: () => Easing,
    Flipbook: () => Flipbook,
    ObjectCache: () => ObjectCache,
    Prefab: () => Prefab,
    PrefabStorage: () => PrefabStorage,
    Queue: () => Queue,
    RNG: () => RNG,
    ShootBase: () => ShootBase,
    SnapRotate: () => SnapRotate,
    SnowParticles: () => SnowParticles,
    Tags: () => Tags,
    clamp: () => clamp,
    cloneObject: () => cloneObject,
    lerp: () => lerp6,
    rng: () => rng,
    rngWithWeight: () => rngWithWeight,
    shuffleArray: () => shuffleArray,
    wlUtils: () => wlUtils
  });

  // node_modules/@wonderlandengine/api/dist/property.js
  var Type;
  (function(Type2) {
    Type2[Type2["Native"] = 1] = "Native";
    Type2[Type2["Bool"] = 2] = "Bool";
    Type2[Type2["Int"] = 4] = "Int";
    Type2[Type2["Float"] = 8] = "Float";
    Type2[Type2["String"] = 16] = "String";
    Type2[Type2["Enum"] = 32] = "Enum";
    Type2[Type2["Object"] = 64] = "Object";
    Type2[Type2["Mesh"] = 128] = "Mesh";
    Type2[Type2["Texture"] = 256] = "Texture";
    Type2[Type2["Material"] = 512] = "Material";
    Type2[Type2["Animation"] = 1024] = "Animation";
    Type2[Type2["Skin"] = 2048] = "Skin";
    Type2[Type2["Color"] = 4096] = "Color";
  })(Type || (Type = {}));
  var Property = {
    /**
     * Create an boolean property.
     *
     * @param defaultValue The default value. If not provided, defaults to `false`.
     */
    bool(defaultValue = false) {
      return { type: Type.Bool, default: defaultValue };
    },
    /**
     * Create an integer property.
     *
     * @param defaultValue The default value. If not provided, defaults to `0`.
     */
    int(defaultValue = 0) {
      return { type: Type.Int, default: defaultValue };
    },
    /**
     * Create an float property.
     *
     * @param defaultValue The default value. If not provided, defaults to `0.0`.
     */
    float(defaultValue = 0) {
      return { type: Type.Float, default: defaultValue };
    },
    /**
     * Create an string property.
     *
     * @param defaultValue The default value. If not provided, defaults to `''`.
     */
    string(defaultValue = "") {
      return { type: Type.String, default: defaultValue };
    },
    /**
     * Create an enumeration property.
     *
     * @param values The list of values.
     * @param defaultValue The default value. Can be a string or an index into
     *     `values`. If not provided, defaults to the first element.
     */
    enum(values, defaultValue) {
      return { type: Type.Enum, values, default: defaultValue };
    },
    /** Create an {@link Object3D} reference property. */
    object() {
      return { type: Type.Object, default: null };
    },
    /** Create a {@link Mesh} reference property. */
    mesh() {
      return { type: Type.Mesh, default: null };
    },
    /** Create a {@link Texture} reference property. */
    texture() {
      return { type: Type.Texture, default: null };
    },
    /** Create a {@link Material} reference property. */
    material() {
      return { type: Type.Material, default: null };
    },
    /** Create an {@link Animation} reference property. */
    animation() {
      return { type: Type.Animation, default: null };
    },
    /** Create a {@link Skin} reference property. */
    skin() {
      return { type: Type.Skin, default: null };
    },
    /**
     * Create a color property.
     *
     * @param r The red component, in the range [0; 1].
     * @param g The green component, in the range [0; 1].
     * @param b The blue component, in the range [0; 1].
     * @param a The alpha component, in the range [0; 1].
     */
    color(r = 0, g = 0, b = 0, a = 1) {
      return { type: Type.Color, default: [r, g, b, a] };
    }
  };

  // node_modules/@wonderlandengine/api/dist/decorators.js
  function propertyDecorator(data) {
    return function(target, propertyKey) {
      const ctor = target.constructor;
      ctor.Properties = ctor.Properties ?? {};
      ctor.Properties[propertyKey] = data;
    };
  }
  function enumerable() {
    return function(_, __, descriptor) {
      descriptor.enumerable = true;
    };
  }
  function nativeProperty() {
    return function(target, propertyKey, descriptor) {
      enumerable()(target, propertyKey, descriptor);
      propertyDecorator({ type: Type.Native })(target, propertyKey);
    };
  }
  var property = {};
  for (const name in Property) {
    property[name] = (...args) => {
      const functor = Property[name];
      return propertyDecorator(functor(...args));
    };
  }

  // node_modules/@wonderlandengine/api/dist/utils/object.js
  function isString(value) {
    if (value === "")
      return true;
    return value && (typeof value === "string" || value.constructor === String);
  }
  function isNumber(value) {
    if (value === null || value === void 0)
      return false;
    return typeof value === "number" || value.constructor === Number;
  }

  // node_modules/@wonderlandengine/api/dist/utils/event.js
  var Emitter = class {
    /**
     * List of listeners to trigger when `notify` is called.
     *
     * @hidden
     */
    _listeners = [];
    /**
     * Register a new listener to be triggered on {@link Emitter.notify}.
     *
     * Basic usage:
     *
     * ```js
     * emitter.add((data) => {
     *     console.log('event received!');
     *     console.log(data);
     * });
     * ```
     *
     * Automatically remove the listener when an event is received:
     *
     * ```js
     * emitter.add((data) => {
     *     console.log('event received!');
     *     console.log(data);
     * }, {once: true});
     * ```
     *
     * @param listener The callback to register.
     * @param opts The listener options. For more information, please have a look
     *     at the {@link ListenerOptions} interface.
     *
     * @returns Reference to self (for method chaining)
     */
    add(listener, opts = {}) {
      const { once = false, id = void 0 } = opts;
      this._listeners.push({ id, once, callback: listener });
      return this;
    }
    /**
     * Equivalent to {@link Emitter.add}.
     *
     * @param listeners The callback(s) to register.
     * @returns Reference to self (for method chaining).
     *
     * @deprecated Please use {@link Emitter.add} instead.
     */
    push(...listeners) {
      for (const cb of listeners)
        this.add(cb);
      return this;
    }
    /**
     * Register a new listener to be triggered on {@link Emitter.notify}.
     *
     * Once notified, the listener will be automatically removed.
     *
     * The method is equivalent to calling {@link Emitter.add} with:
     *
     * ```js
     * emitter.add(listener, {once: true});
     * ```
     *
     * @param listener The callback to register.
     *
     * @returns Reference to self (for method chaining).
     */
    once(listener) {
      return this.add(listener, { once: true });
    }
    /**
     * Remove a registered listener.
     *
     * Usage with a callback:
     *
     * ```js
     * const listener = (data) => console.log(data);
     * emitter.add(listener);
     *
     * // Remove using the callback reference:
     * emitter.remove(listener);
     * ```
     *
     * Usage with an id:
     *
     * ```js
     * emitter.add((data) => console.log(data), {id: 'my-callback'});
     *
     * // Remove using the id:
     * emitter.remove('my-callback');
     * ```
     *
     * Using identifiers, you will need to ensure your value is unique to avoid
     * removing listeners from other libraries, e.g.,:
     *
     * ```js
     * emitter.add((data) => console.log(data), {id: 'non-unique'});
     * // This second listener could be added by a third-party library.
     * emitter.add((data) => console.log('Hello From Library!'), {id: 'non-unique'});
     *
     * // Ho Snap! This also removed the library listener!
     * emitter.remove('non-unique');
     * ```
     *
     * The identifier can be any type. However, remember that the comparison will be
     * by-value for primitive types (string, number), but by reference for objects.
     *
     * Example:
     *
     * ```js
     * emitter.add(() => console.log('Hello'), {id: {value: 42}});
     * emitter.add(() => console.log('World!'), {id: {value: 42}});
     * emitter.remove({value: 42}); // None of the above listeners match!
     * emitter.notify(); // Prints 'Hello' and 'World!'.
     * ```
     *
     * Here, both emitters have id `{value: 42}`, but the comparison is made by reference. Thus,
     * the `remove()` call has no effect. We can make it work by doing:
     *
     * ```js
     * const id = {value: 42};
     * emitter.add(() => console.log('Hello'), {id});
     * emitter.add(() => console.log('World!'), {id});
     * emitter.remove(id); // Same reference, it works!
     * emitter.notify(); // Doesn't print.
     * ```
     *
     * @param listener The registered callback or a value representing the `id`.
     *
     * @returns Reference to self (for method chaining)
     */
    remove(listener) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const target = listeners[i];
        if (target.callback === listener || target.id === listener) {
          listeners.splice(i--, 1);
        }
      }
      return this;
    }
    /**
     * Check whether the listener is registered.
     *
     * @note This method performs a linear search.
     *
     * @param listener The registered callback or a value representing the `id`.
     * @returns `true` if the handle is found, `false` otherwise.
     */
    has(listener) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const target = listeners[i];
        if (target.callback === listener || target.id === listener)
          return true;
      }
      return false;
    }
    /**
     * Notify listeners with the given data object.
     *
     * @note This method ensures all listeners are called even if
     * an exception is thrown. For (possibly) faster notification,
     * please use {@link Emitter.notifyUnsafe}.
     *
     * @param data The data to pass to listener when invoked.
     */
    notify(...data) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const listener = listeners[i];
        if (listener.once)
          listeners.splice(i--, 1);
        try {
          listener.callback(...data);
        } catch (e) {
          console.error(e);
        }
      }
    }
    /**
     * Notify listeners with the given data object.
     *
     * @note Because this method doesn't catch exceptions, some listeners
     * will be skipped on a throw. Please use {@link Emitter.notify} for safe
     * notification.
     *
     * @param data The data to pass to listener when invoked.
     */
    notifyUnsafe(...data) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const listener = listeners[i];
        if (listener.once)
          listeners.splice(i--, 1);
        listener.callback(...data);
      }
    }
    /**
     * Return a promise that will resolve on the next event.
     *
     * @note The promise might never resolve if no event is sent.
     *
     * @returns A promise that resolves with the data passed to
     *     {@link Emitter.notify}.
     */
    promise() {
      return new Promise((res, _) => {
        this.once((...args) => {
          if (args.length > 1) {
            res(args);
          } else {
            res(args[0]);
          }
        });
      });
    }
    /** Number of listeners. */
    get listenerCount() {
      return this._listeners.length;
    }
    /** `true` if it has no listeners, `false` otherwise. */
    get isEmpty() {
      return this.listenerCount === 0;
    }
  };
  var RetainEmitterUndefined = {};
  var RetainEmitter = class extends Emitter {
    /** Pre-resolved data. @hidden */
    _event = RetainEmitterUndefined;
    /**
     * Emitter target used to reset the state of this emitter.
     *
     * @hidden
     */
    _reset;
    /** @override */
    add(listener, opts) {
      const immediate = opts?.immediate ?? true;
      if (this._event !== RetainEmitterUndefined && immediate) {
        listener(...this._event);
      }
      super.add(listener, opts);
      return this;
    }
    /**
     * @override
     *
     * @param listener The callback to register.
     * @param immediate If `true`, directly resolves if the emitter retains a value.
     *
     * @returns Reference to self (for method chaining).
     */
    once(listener, immediate) {
      return this.add(listener, { once: true, immediate });
    }
    /** @override */
    notify(...data) {
      this._event = data;
      super.notify(...data);
    }
    /** @override */
    notifyUnsafe(...data) {
      this._event = data;
      super.notifyUnsafe(...data);
    }
    /**
     * Reset the state of the emitter.
     *
     * Further call to {@link Emitter.add} will not automatically resolve,
     * until a new call to {@link Emitter.notify} is performed.
     *
     * @returns Reference to self (for method chaining)
     */
    reset() {
      this._event = RetainEmitterUndefined;
      return this;
    }
    /** Returns the retained data, or `undefined` if no data was retained. */
    get data() {
      return this.isDataRetained ? this._event : void 0;
    }
    /** `true` if data is retained from the last event, `false` otherwise. */
    get isDataRetained() {
      return this._event !== RetainEmitterUndefined;
    }
  };

  // node_modules/@wonderlandengine/api/dist/wonderland.js
  var __decorate = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var Collider;
  (function(Collider2) {
    Collider2[Collider2["Sphere"] = 0] = "Sphere";
    Collider2[Collider2["AxisAlignedBox"] = 1] = "AxisAlignedBox";
    Collider2[Collider2["Box"] = 2] = "Box";
  })(Collider || (Collider = {}));
  var Alignment;
  (function(Alignment2) {
    Alignment2[Alignment2["Left"] = 0] = "Left";
    Alignment2[Alignment2["Center"] = 1] = "Center";
    Alignment2[Alignment2["Right"] = 2] = "Right";
  })(Alignment || (Alignment = {}));
  var Justification;
  (function(Justification2) {
    Justification2[Justification2["Line"] = 0] = "Line";
    Justification2[Justification2["Middle"] = 1] = "Middle";
    Justification2[Justification2["Top"] = 2] = "Top";
    Justification2[Justification2["Bottom"] = 3] = "Bottom";
  })(Justification || (Justification = {}));
  var TextEffect;
  (function(TextEffect2) {
    TextEffect2[TextEffect2["None"] = 0] = "None";
    TextEffect2[TextEffect2["Outline"] = 1] = "Outline";
  })(TextEffect || (TextEffect = {}));
  var InputType;
  (function(InputType2) {
    InputType2[InputType2["Head"] = 0] = "Head";
    InputType2[InputType2["EyeLeft"] = 1] = "EyeLeft";
    InputType2[InputType2["EyeRight"] = 2] = "EyeRight";
    InputType2[InputType2["ControllerLeft"] = 3] = "ControllerLeft";
    InputType2[InputType2["ControllerRight"] = 4] = "ControllerRight";
    InputType2[InputType2["RayLeft"] = 5] = "RayLeft";
    InputType2[InputType2["RayRight"] = 6] = "RayRight";
  })(InputType || (InputType = {}));
  var LightType;
  (function(LightType2) {
    LightType2[LightType2["Point"] = 0] = "Point";
    LightType2[LightType2["Spot"] = 1] = "Spot";
    LightType2[LightType2["Sun"] = 2] = "Sun";
  })(LightType || (LightType = {}));
  var AnimationState;
  (function(AnimationState2) {
    AnimationState2[AnimationState2["Playing"] = 0] = "Playing";
    AnimationState2[AnimationState2["Paused"] = 1] = "Paused";
    AnimationState2[AnimationState2["Stopped"] = 2] = "Stopped";
  })(AnimationState || (AnimationState = {}));
  var ForceMode;
  (function(ForceMode2) {
    ForceMode2[ForceMode2["Force"] = 0] = "Force";
    ForceMode2[ForceMode2["Impulse"] = 1] = "Impulse";
    ForceMode2[ForceMode2["VelocityChange"] = 2] = "VelocityChange";
    ForceMode2[ForceMode2["Acceleration"] = 3] = "Acceleration";
  })(ForceMode || (ForceMode = {}));
  var CollisionEventType;
  (function(CollisionEventType2) {
    CollisionEventType2[CollisionEventType2["Touch"] = 0] = "Touch";
    CollisionEventType2[CollisionEventType2["TouchLost"] = 1] = "TouchLost";
    CollisionEventType2[CollisionEventType2["TriggerTouch"] = 2] = "TriggerTouch";
    CollisionEventType2[CollisionEventType2["TriggerTouchLost"] = 3] = "TriggerTouchLost";
  })(CollisionEventType || (CollisionEventType = {}));
  var Shape;
  (function(Shape2) {
    Shape2[Shape2["None"] = 0] = "None";
    Shape2[Shape2["Sphere"] = 1] = "Sphere";
    Shape2[Shape2["Capsule"] = 2] = "Capsule";
    Shape2[Shape2["Box"] = 3] = "Box";
    Shape2[Shape2["Plane"] = 4] = "Plane";
    Shape2[Shape2["ConvexMesh"] = 5] = "ConvexMesh";
    Shape2[Shape2["TriangleMesh"] = 6] = "TriangleMesh";
  })(Shape || (Shape = {}));
  var MeshAttribute;
  (function(MeshAttribute2) {
    MeshAttribute2[MeshAttribute2["Position"] = 0] = "Position";
    MeshAttribute2[MeshAttribute2["Tangent"] = 1] = "Tangent";
    MeshAttribute2[MeshAttribute2["Normal"] = 2] = "Normal";
    MeshAttribute2[MeshAttribute2["TextureCoordinate"] = 3] = "TextureCoordinate";
    MeshAttribute2[MeshAttribute2["Color"] = 4] = "Color";
    MeshAttribute2[MeshAttribute2["JointId"] = 5] = "JointId";
    MeshAttribute2[MeshAttribute2["JointWeight"] = 6] = "JointWeight";
  })(MeshAttribute || (MeshAttribute = {}));
  var MaterialParamType;
  (function(MaterialParamType2) {
    MaterialParamType2[MaterialParamType2["UnsignedInt"] = 0] = "UnsignedInt";
    MaterialParamType2[MaterialParamType2["Int"] = 1] = "Int";
    MaterialParamType2[MaterialParamType2["Float"] = 2] = "Float";
    MaterialParamType2[MaterialParamType2["Sampler"] = 3] = "Sampler";
    MaterialParamType2[MaterialParamType2["Font"] = 4] = "Font";
  })(MaterialParamType || (MaterialParamType = {}));
  function isMeshShape(shape) {
    return shape === Shape.ConvexMesh || shape === Shape.TriangleMesh;
  }
  var UP_VECTOR = [0, 1, 0];
  var Component = class {
    /** Manager index. @hidden */
    _manager;
    /** Instance index. @hidden */
    _id;
    /**
     * Object containing this object.
     *
     * **Note**: This is cached for faster retrieval.
     *
     * @hidden
     */
    _object;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new instance
     *
     * @param engine The engine instance.
     * @param manager Index of the manager.
     * @param id WASM component instance index.
     *
     * @hidden
     */
    constructor(engine, manager = -1, id = -1) {
      this._engine = engine;
      this._manager = manager;
      this._id = id;
      this._object = null;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /** The name of this component's type */
    get type() {
      const ctor = this.constructor;
      return ctor.TypeName ?? this._engine.wasm._typeNameFor(this._manager);
    }
    /** The object this component is attached to. */
    get object() {
      if (!this._object) {
        const objectId = this._engine.wasm._wl_component_get_object(this._manager, this._id);
        this._object = this._engine.wrapObject(objectId);
      }
      return this._object;
    }
    /**
     * Set whether this component is active.
     *
     * Activating/deactivating a component comes at a small cost of reordering
     * components in the respective component manager. This function therefore
     * is not a trivial assignment.
     *
     * Does nothing if the component is already activated/deactivated.
     *
     * @param active New active state.
     */
    set active(active) {
      this._engine.wasm._wl_component_setActive(this._manager, this._id, active);
    }
    /**
     * Whether this component is active
     */
    get active() {
      return this._engine.wasm._wl_component_isActive(this._manager, this._id) != 0;
    }
    /**
     * Remove this component from its objects and destroy it.
     *
     * It is best practice to set the component to `null` after,
     * to ensure it does not get used later.
     *
     * ```js
     *    c.destroy();
     *    c = null;
     * ```
     * @since 0.9.0
     */
    destroy() {
      this._engine.wasm._wl_component_remove(this._manager, this._id);
      this._manager = -1;
      this._id = -1;
    }
    /**
     * Checks equality by comparing whether the wrapped native component ids
     * and component manager types are equal.
     *
     * @param otherComponent Component to check equality with.
     * @returns Whether this component equals the given component.
     */
    equals(otherComponent) {
      if (!otherComponent)
        return false;
      return this._manager == otherComponent._manager && this._id == otherComponent._id;
    }
    /**
     * Reset the component properties to default.
     *
     * @returns Reference to self (for method chaining).
     */
    reset() {
      const ctor = this.constructor;
      const properties = ctor.Properties;
      for (const name in properties) {
        this[name] = properties[name].default;
      }
      return this;
    }
    /**
     * Trigger the component {@link Component.init} method.
     *
     * @note Use this method instead of directly calling {@link Component.init},
     * because this method creates an handler for the {@link Component.start}.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerInit() {
      if (this.init) {
        try {
          this.init();
        } catch (e) {
          console.error(`Exception during ${this.type} init() on object ${this.object.name}`);
          console.error(e);
        }
      }
      if (!this.start)
        return;
      const oldActivate = this.onActivate;
      this.onActivate = function() {
        try {
          this.start?.();
        } catch (e) {
          console.error(`Exception during ${this.type} start() on object ${this.object.name}`);
          console.error(e);
        }
        this.onActivate = oldActivate;
        if (!this.onActivate)
          return;
        try {
          this.onActivate();
        } catch (e) {
          console.error(`Exception during ${this.type} onActivate() on object ${this.object.name}`);
          console.error(e);
        }
      };
    }
    /**
     * Trigger the component {@link Component.update} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerUpdate(dt) {
      if (!this.update)
        return;
      try {
        this.update(dt);
      } catch (e) {
        console.error(`Exception during ${this.type} update() on object ${this.object.name}`);
        console.error(e);
        if (this._engine.wasm._deactivate_component_on_error) {
          this.active = false;
        }
      }
    }
    /**
     * Trigger the component {@link Component.onActivate} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnActivate() {
      if (!this.onActivate)
        return;
      try {
        this.onActivate();
      } catch (e) {
        console.error(`Exception during ${this.type} onActivate() on object ${this.object.name}`);
        console.error(e);
      }
    }
    /**
     * Trigger the component {@link Component.onDeactivate} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnDeactivate() {
      if (!this.onDeactivate)
        return;
      try {
        this.onDeactivate();
      } catch (e) {
        console.error(`Exception during ${this.type} onDeactivate() on object ${this.object.name}`);
        console.error(e);
      }
    }
    /**
     * Trigger the component {@link Component.onDestroy} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnDestroy() {
      if (!this.onDestroy)
        return;
      try {
        this.onDestroy();
      } catch (e) {
        console.error(`Exception during ${this.type} onDestroy() on object ${this.object.name}`);
        console.error(e);
      }
    }
  };
  /**
   * Unique identifier for this component class.
   *
   * This is used to register, add, and retrieve components of a given type.
   */
  __publicField(Component, "TypeName");
  /**
   * Properties of this component class.
   *
   * Properties are public attributes that can be configured via the
   * Wonderland Editor.
   *
   * Example:
   *
   * ```js
   * import { Component, Type } from '@wonderlandengine/api';
   * class MyComponent extends Component {
   *     static TypeName = 'my-component';
   *     static Properties = {
   *         myBoolean: { type: Type.Boolean, default: false },
   *         myFloat: { type: Type.Float, default: false },
   *         myTexture: { type: Type.Texture, default: null },
   *     };
   * }
   * ```
   *
   * Properties are automatically added to each component instance, and are
   * accessible like any JS attribute:
   *
   * ```js
   * // Creates a new component and set each properties value:
   * const myComponent = object.addComponent(MyComponent, {
   *     myBoolean: true,
   *     myFloat: 42.0,
   *     myTexture: null
   * });
   *
   * // You can also override the properties on the instance:
   * myComponent.myBoolean = false;
   * myComponent.myFloat = -42.0;
   * ```
   */
  __publicField(Component, "Properties");
  /**
   * This was never released in an official version, we are keeping it
   * to easy transition to the new API.
   *
   * @deprecated Use {@link Component.onRegister} instead.
   * @hidden
   */
  __publicField(Component, "Dependencies");
  /**
   * Called when this component class is registered.
   *
   * @example
   *
   * This callback can be used to register dependencies of a component,
   * e.g., component classes that need to be registered in order to add
   * them at runtime with {@link Object3D.addComponent}, independent of whether
   * they are used in the editor.
   *
   * ```js
   * class Spawner extends Component {
   *     static TypeName = 'spawner';
   *
   *     static onRegister(engine) {
   *         engine.registerComponent(SpawnedComponent);
   *     }
   *
   *     // You can now use addComponent with SpawnedComponent
   * }
   * ```
   *
   * @example
   *
   * This callback can be used to register different implementations of a
   * component depending on client features or API versions.
   *
   * ```js
   * // Properties need to be the same for all implementations!
   * const SharedProperties = {};
   *
   * class Anchor extends Component {
   *     static TypeName = 'spawner';
   *     static Properties = SharedProperties;
   *
   *     static onRegister(engine) {
   *         if(navigator.xr === undefined) {
   *             /* WebXR unsupported, keep this dummy component *\/
   *             return;
   *         }
   *         /* WebXR supported! Override already registered dummy implementation
   *          * with one depending on hit-test API support *\/
   *         engine.registerComponent(window.HitTestSource === undefined ?
   *             AnchorWithoutHitTest : AnchorWithHitTest);
   *     }
   *
   *     // This one implements no functions
   * }
   * ```
   */
  __publicField(Component, "onRegister");
  var _CollisionComponent = class extends Component {
    /** Collision component collider */
    get collider() {
      return this._engine.wasm._wl_collision_component_get_collider(this._id);
    }
    /**
     * Set collision component collider.
     *
     * @param collider Collider of the collision component.
     */
    set collider(collider) {
      this._engine.wasm._wl_collision_component_set_collider(this._id, collider);
    }
    /**
     * Collision component extents.
     *
     * If {@link collider} returns {@link Collider.Sphere}, only the first
     * component of the returned vector is used.
     */
    get extents() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);
    }
    /**
     * Set collision component extents.
     *
     * If {@link collider} returns {@link Collider.Sphere}, only the first
     * component of the passed vector is used.
     *
     * Example:
     *
     * ```js
     * // Spans 1 unit on the x-axis, 2 on the y-axis, 3 on the z-axis.
     * collision.extent = [1, 2, 3];
     * ```
     *
     * @param extents Extents of the collision component, expects a
     *      3 component array.
     */
    set extents(extents) {
      this.extents.set(extents);
    }
    /**
     * Collision component group.
     *
     * The groups is a bitmask that is compared to other components in {@link CollisionComponent#queryOverlaps}
     * or the group in {@link Scene#rayCast}.
     *
     * Colliders that have no common groups will not overlap with each other. If a collider
     * has none of the groups set for {@link Scene#rayCast}, the ray will not hit it.
     *
     * Each bit represents belonging to a group, see example.
     *
     * ```js
     *    // c belongs to group 2
     *    c.group = (1 << 2);
     *
     *    // c belongs to group 0
     *    c.group = (1 << 0);
     *
     *    // c belongs to group 0 *and* 2
     *    c.group = (1 << 0) | (1 << 2);
     *
     *    (c.group & (1 << 2)) != 0; // true
     *    (c.group & (1 << 7)) != 0; // false
     * ```
     */
    get group() {
      return this._engine.wasm._wl_collision_component_get_group(this._id);
    }
    /**
     * Set collision component group.
     *
     * @param group Group mask of the collision component.
     */
    set group(group) {
      this._engine.wasm._wl_collision_component_set_group(this._id, group);
    }
    /**
     * Query overlapping objects.
     *
     * Usage:
     *
     * ```js
     * const collision = object.getComponent('collision');
     * const overlaps = collision.queryOverlaps();
     * for(const otherCollision of overlaps) {
     *     const otherObject = otherCollision.object;
     *     console.log(`Collision with object ${otherObject.objectId}`);
     * }
     * ```
     *
     * @returns Collision components overlapping this collider.
     */
    queryOverlaps() {
      const count = this._engine.wasm._wl_collision_component_query_overlaps(this._id, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);
      const overlaps = new Array(count);
      for (let i = 0; i < count; ++i) {
        overlaps[i] = new _CollisionComponent(this._engine, this._manager, this._engine.wasm._tempMemUint16[i]);
      }
      return overlaps;
    }
  };
  var CollisionComponent = _CollisionComponent;
  /** @override */
  __publicField(CollisionComponent, "TypeName", "collision");
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "collider", null);
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "extents", null);
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "group", null);
  var TextComponent = class extends Component {
    /** Text component alignment. */
    get alignment() {
      return this._engine.wasm._wl_text_component_get_horizontal_alignment(this._id);
    }
    /**
     * Set text component alignment.
     *
     * @param alignment Alignment for the text component.
     */
    set alignment(alignment) {
      this._engine.wasm._wl_text_component_set_horizontal_alignment(this._id, alignment);
    }
    /** Text component justification. */
    get justification() {
      return this._engine.wasm._wl_text_component_get_vertical_alignment(this._id);
    }
    /**
     * Set text component justification.
     *
     * @param justification Justification for the text component.
     */
    set justification(justification) {
      this._engine.wasm._wl_text_component_set_vertical_alignment(this._id, justification);
    }
    /** Text component character spacing. */
    get characterSpacing() {
      return this._engine.wasm._wl_text_component_get_character_spacing(this._id);
    }
    /**
     * Set text component character spacing.
     *
     * @param spacing Character spacing for the text component.
     */
    set characterSpacing(spacing) {
      this._engine.wasm._wl_text_component_set_character_spacing(this._id, spacing);
    }
    /** Text component line spacing. */
    get lineSpacing() {
      return this._engine.wasm._wl_text_component_get_line_spacing(this._id);
    }
    /**
     * Set text component line spacing
     *
     * @param spacing Line spacing for the text component
     */
    set lineSpacing(spacing) {
      this._engine.wasm._wl_text_component_set_line_spacing(this._id, spacing);
    }
    /** Text component effect. */
    get effect() {
      return this._engine.wasm._wl_text_component_get_effect(this._id);
    }
    /**
     * Set text component effect
     *
     * @param effect Effect for the text component
     */
    set effect(effect) {
      this._engine.wasm._wl_text_component_set_effect(this._id, effect);
    }
    /** Text component text. */
    get text() {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_text_component_get_text(this._id);
      return wasm.UTF8ToString(ptr);
    }
    /**
     * Set text component text.
     *
     * @param text Text of the text component.
     */
    set text(text) {
      const wasm = this._engine.wasm;
      wasm._wl_text_component_set_text(this._id, wasm.tempUTF8(text.toString()));
    }
    /**
     * Set material to render the text with.
     *
     * @param material New material.
     */
    set material(material) {
      const matIndex = material ? material._index : 0;
      this._engine.wasm._wl_text_component_set_material(this._id, matIndex);
    }
    /** Material used to render the text. */
    get material() {
      const id = this._engine.wasm._wl_text_component_get_material(this._id);
      return id > 0 ? new Material(this._engine, id) : null;
    }
  };
  /** @override */
  __publicField(TextComponent, "TypeName", "text");
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "alignment", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "justification", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "characterSpacing", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "lineSpacing", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "effect", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "text", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "material", null);
  var ViewComponent = class extends Component {
    /** Projection matrix. */
    get projectionMatrix() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_view_component_get_projection_matrix(this._id), 16);
    }
    /** ViewComponent near clipping plane value. */
    get near() {
      return this._engine.wasm._wl_view_component_get_near(this._id);
    }
    /**
     * Set near clipping plane distance for the view.
     *
     * If an XR session is active, the change will apply in the
     * following frame, otherwise the change is immediate.
     *
     * @param near Near depth value.
     */
    set near(near) {
      this._engine.wasm._wl_view_component_set_near(this._id, near);
    }
    /** Far clipping plane value. */
    get far() {
      return this._engine.wasm._wl_view_component_get_far(this._id);
    }
    /**
     * Set far clipping plane distance for the view.
     *
     * If an XR session is active, the change will apply in the
     * following frame, otherwise the change is immediate.
     *
     * @param far Near depth value.
     */
    set far(far) {
      this._engine.wasm._wl_view_component_set_far(this._id, far);
    }
    /**
     * Get the horizontal field of view for the view, **in degrees**.
     *
     * If an XR session is active, this returns the field of view reported by
     * the device, regardless of the fov that was set.
     */
    get fov() {
      return this._engine.wasm._wl_view_component_get_fov(this._id);
    }
    /**
     * Set the horizontal field of view for the view, **in degrees**.
     *
     * If an XR session is active, the field of view reported by the device is
     * used and this value is ignored. After the XR session ends, the new value
     * is applied.
     *
     * @param fov Horizontal field of view, **in degrees**.
     */
    set fov(fov) {
      this._engine.wasm._wl_view_component_set_fov(this._id, fov);
    }
  };
  /** @override */
  __publicField(ViewComponent, "TypeName", "view");
  __decorate([
    enumerable()
  ], ViewComponent.prototype, "projectionMatrix", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "near", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "far", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "fov", null);
  var InputComponent = class extends Component {
    /** Input component type */
    get inputType() {
      return this._engine.wasm._wl_input_component_get_type(this._id);
    }
    /**
     * Set input component type.
     *
     * @params New input component type.
     */
    set inputType(type) {
      this._engine.wasm._wl_input_component_set_type(this._id, type);
    }
    /**
     * WebXR Device API input source associated with this input component,
     * if type {@link InputType.ControllerLeft} or {@link InputType.ControllerRight}.
     */
    get xrInputSource() {
      const xrSession = this._engine.xrSession;
      if (xrSession) {
        for (let inputSource of xrSession.inputSources) {
          if (inputSource.handedness == this.handedness) {
            return inputSource;
          }
        }
      }
      return null;
    }
    /**
     * 'left', 'right' or `null` depending on the {@link InputComponent#inputType}.
     */
    get handedness() {
      const inputType = this.inputType;
      if (inputType == InputType.ControllerRight || inputType == InputType.RayRight || inputType == InputType.EyeRight)
        return "right";
      if (inputType == InputType.ControllerLeft || inputType == InputType.RayLeft || inputType == InputType.EyeLeft)
        return "left";
      return null;
    }
  };
  /** @override */
  __publicField(InputComponent, "TypeName", "input");
  __decorate([
    nativeProperty()
  ], InputComponent.prototype, "inputType", null);
  __decorate([
    enumerable()
  ], InputComponent.prototype, "xrInputSource", null);
  __decorate([
    enumerable()
  ], InputComponent.prototype, "handedness", null);
  var LightComponent = class extends Component {
    getColor(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_light_component_get_color(this._id) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      return out;
    }
    /**
     * Set light color.
     *
     * @param c New color array/vector, expected to have at least 3 elements.
     * @since 1.0.0
     */
    setColor(c) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_light_component_get_color(this._id) / 4;
      wasm.HEAPF32[ptr] = c[0];
      wasm.HEAPF32[ptr + 1] = c[1];
      wasm.HEAPF32[ptr + 2] = c[2];
    }
    /**
     * View on the light color.
     *
     * @note Prefer to use {@link getColor} in performance-critical code.
     */
    get color() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_light_component_get_color(this._id), 3);
    }
    /**
     * Set light color.
     *
     * @param c Color of the light component.
     *
     * @note Prefer to use {@link setColor} in performance-critical code.
     */
    set color(c) {
      this.color.set(c);
    }
    /** Light type. */
    get lightType() {
      return this._engine.wasm._wl_light_component_get_type(this._id);
    }
    /**
     * Set light type.
     *
     * @param lightType Type of the light component.
     */
    set lightType(t) {
      this._engine.wasm._wl_light_component_set_type(this._id, t);
    }
    /**
     * Light intensity.
     * @since 1.0.0
     */
    get intensity() {
      return this._engine.wasm._wl_light_component_get_intensity(this._id);
    }
    /**
     * Set light intensity.
     *
     * @param intensity Intensity of the light component.
     * @since 1.0.0
     */
    set intensity(intensity) {
      this._engine.wasm._wl_light_component_set_intensity(this._id, intensity);
    }
    /**
     * Outer angle for spot lights, in degrees.
     * @since 1.0.0
     */
    get outerAngle() {
      return this._engine.wasm._wl_light_component_get_outerAngle(this._id);
    }
    /**
     * Set outer angle for spot lights.
     *
     * @param angle Outer angle, in degrees.
     * @since 1.0.0
     */
    set outerAngle(angle3) {
      this._engine.wasm._wl_light_component_set_outerAngle(this._id, angle3);
    }
    /**
     * Inner angle for spot lights, in degrees.
     * @since 1.0.0
     */
    get innerAngle() {
      return this._engine.wasm._wl_light_component_get_innerAngle(this._id);
    }
    /**
     * Set inner angle for spot lights.
     *
     * @param angle Inner angle, in degrees.
     * @since 1.0.0
     */
    set innerAngle(angle3) {
      this._engine.wasm._wl_light_component_set_innerAngle(this._id, angle3);
    }
    /**
     * Whether the light casts shadows.
     * @since 1.0.0
     */
    get shadows() {
      return !!this._engine.wasm._wl_light_component_get_shadows(this._id);
    }
    /**
     * Set whether the light casts shadows.
     *
     * @param b Whether the light casts shadows.
     * @since 1.0.0
     */
    set shadows(b) {
      this._engine.wasm._wl_light_component_set_shadows(this._id, b);
    }
    /**
     * Range for shadows.
     * @since 1.0.0
     */
    get shadowRange() {
      return this._engine.wasm._wl_light_component_get_shadowRange(this._id);
    }
    /**
     * Set range for shadows.
     *
     * @param range Range for shadows.
     * @since 1.0.0
     */
    set shadowRange(range) {
      this._engine.wasm._wl_light_component_set_shadowRange(this._id, range);
    }
    /**
     * Bias value for shadows.
     * @since 1.0.0
     */
    get shadowBias() {
      return this._engine.wasm._wl_light_component_get_shadowBias(this._id);
    }
    /**
     * Set bias value for shadows.
     *
     * @param bias Bias for shadows.
     * @since 1.0.0
     */
    set shadowBias(bias) {
      this._engine.wasm._wl_light_component_set_shadowBias(this._id, bias);
    }
    /**
     * Normal bias value for shadows.
     * @since 1.0.0
     */
    get shadowNormalBias() {
      return this._engine.wasm._wl_light_component_get_shadowNormalBias(this._id);
    }
    /**
     * Set normal bias value for shadows.
     *
     * @param bias Normal bias for shadows.
     * @since 1.0.0
     */
    set shadowNormalBias(bias) {
      this._engine.wasm._wl_light_component_set_shadowNormalBias(this._id, bias);
    }
    /**
     * Texel size for shadows.
     * @since 1.0.0
     */
    get shadowTexelSize() {
      return this._engine.wasm._wl_light_component_get_shadowTexelSize(this._id);
    }
    /**
     * Set texel size for shadows.
     *
     * @param size Texel size for shadows.
     * @since 1.0.0
     */
    set shadowTexelSize(size2) {
      this._engine.wasm._wl_light_component_set_shadowTexelSize(this._id, size2);
    }
    /**
     * Cascade count for {@link LightType.Sun} shadows.
     * @since 1.0.0
     */
    get cascadeCount() {
      return this._engine.wasm._wl_light_component_get_cascadeCount(this._id);
    }
    /**
     * Set cascade count for {@link LightType.Sun} shadows.
     *
     * @param count Cascade count.
     * @since 1.0.0
     */
    set cascadeCount(count) {
      this._engine.wasm._wl_light_component_set_cascadeCount(this._id, count);
    }
  };
  /** @override */
  __publicField(LightComponent, "TypeName", "light");
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "color", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "lightType", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "intensity", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "outerAngle", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "innerAngle", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadows", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowRange", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowBias", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowNormalBias", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowTexelSize", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "cascadeCount", null);
  var AnimationComponent = class extends Component {
    /**
     * Set animation to play.
     *
     * Make sure to {@link Animation#retarget} the animation to affect the
     * right objects.
     *
     * @param anim Animation to play.
     */
    set animation(anim) {
      this._engine.wasm._wl_animation_component_set_animation(this._id, anim ? anim._index : 0);
    }
    /** Animation set for this component */
    get animation() {
      const id = this._engine.wasm._wl_animation_component_get_animation(this._id);
      return id > 0 ? new Animation(this._engine, id) : null;
    }
    /**
     * Set play count. Set to `0` to loop indefinitely.
     *
     * @param playCount Number of times to repeat the animation.
     */
    set playCount(playCount) {
      this._engine.wasm._wl_animation_component_set_playCount(this._id, playCount);
    }
    /** Number of times the animation is played. */
    get playCount() {
      return this._engine.wasm._wl_animation_component_get_playCount(this._id);
    }
    /**
     * Set speed. Set to negative values to run the animation backwards.
     *
     * Setting speed has an immediate effect for the current frame's update
     * and will continue with the speed from the current point in the animation.
     *
     * @param speed New speed at which to play the animation.
     * @since 0.8.10
     */
    set speed(speed) {
      this._engine.wasm._wl_animation_component_set_speed(this._id, speed);
    }
    /**
     * Speed factor at which the animation is played.
     *
     * @since 0.8.10
     */
    get speed() {
      return this._engine.wasm._wl_animation_component_get_speed(this._id);
    }
    /** Current playing state of the animation */
    get state() {
      return this._engine.wasm._wl_animation_component_state(this._id);
    }
    /**
     * Play animation.
     *
     * If the animation is currently paused, resumes from that position. If the
     * animation is already playing, does nothing.
     *
     * To restart the animation, {@link AnimationComponent#stop} it first.
     */
    play() {
      this._engine.wasm._wl_animation_component_play(this._id);
    }
    /** Stop animation. */
    stop() {
      this._engine.wasm._wl_animation_component_stop(this._id);
    }
    /** Pause animation. */
    pause() {
      this._engine.wasm._wl_animation_component_pause(this._id);
    }
  };
  /** @override */
  __publicField(AnimationComponent, "TypeName", "animation");
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "animation", null);
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "playCount", null);
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "speed", null);
  __decorate([
    enumerable()
  ], AnimationComponent.prototype, "state", null);
  var MeshComponent = class extends Component {
    /**
     * Set material to render the mesh with.
     *
     * @param material Material to render the mesh with.
     */
    set material(material) {
      this._engine.wasm._wl_mesh_component_set_material(this._id, material ? material._index : 0);
    }
    /** Material used to render the mesh. */
    get material() {
      const id = this._engine.wasm._wl_mesh_component_get_material(this._id);
      return id > 0 ? new Material(this._engine, id) : null;
    }
    /** Mesh rendered by this component. */
    get mesh() {
      const id = this._engine.wasm._wl_mesh_component_get_mesh(this._id);
      return id > 0 ? new Mesh(this._engine, id) : null;
    }
    /**
     * Set mesh to rendered with this component.
     *
     * @param mesh Mesh rendered by this component.
     */
    set mesh(mesh) {
      this._engine.wasm._wl_mesh_component_set_mesh(this._id, mesh ? mesh._index : 0);
    }
    /** Skin for this mesh component. */
    get skin() {
      const id = this._engine.wasm._wl_mesh_component_get_skin(this._id);
      return id > 0 ? new Skin(this._engine, id) : null;
    }
    /**
     * Set skin to transform this mesh component.
     *
     * @param skin Skin to use for rendering skinned meshes.
     */
    set skin(skin) {
      this._engine.wasm._wl_mesh_component_set_skin(this._id, skin ? skin._index : 0);
    }
  };
  /** @override */
  __publicField(MeshComponent, "TypeName", "mesh");
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "material", null);
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "mesh", null);
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "skin", null);
  var LockAxis;
  (function(LockAxis2) {
    LockAxis2[LockAxis2["None"] = 0] = "None";
    LockAxis2[LockAxis2["X"] = 1] = "X";
    LockAxis2[LockAxis2["Y"] = 2] = "Y";
    LockAxis2[LockAxis2["Z"] = 4] = "Z";
  })(LockAxis || (LockAxis = {}));
  var PhysXComponent = class extends Component {
    /**
     * Set whether this rigid body is static.
     *
     * Setting this property only takes effect once the component
     * switches from inactive to active.
     *
     * @param b Whether the rigid body should be static.
     */
    set static(b) {
      this._engine.wasm._wl_physx_component_set_static(this._id, b);
    }
    /**
     * Whether this rigid body is static.
     *
     * This property returns whether the rigid body is *effectively*
     * static. If static property was set while the rigid body was
     * active, it will not take effect until the rigid body is set
     * inactive and active again. Until the component is set inactive,
     * this getter will return whether the rigid body is actually
     * static.
     */
    get static() {
      return !!this._engine.wasm._wl_physx_component_get_static(this._id);
    }
    /**
     * Set whether this rigid body is kinematic.
     *
     * @param b Whether the rigid body should be kinematic.
     */
    set kinematic(b) {
      this._engine.wasm._wl_physx_component_set_kinematic(this._id, b);
    }
    /**
     * Whether this rigid body is kinematic.
     */
    get kinematic() {
      return !!this._engine.wasm._wl_physx_component_get_kinematic(this._id);
    }
    /**
     * Set whether this rigid body's gravity is enabled.
     *
     * @param b Whether the rigid body's gravity should be enabled.
     */
    set gravity(b) {
      this._engine.wasm._wl_physx_component_set_gravity(this._id, b);
    }
    /**
     * Whether this rigid body's gravity flag is enabled.
     */
    get gravity() {
      return !!this._engine.wasm._wl_physx_component_get_gravity(this._id);
    }
    /**
     * Set whether this rigid body's simulate flag is enabled.
     *
     * @param b Whether the rigid body's simulate flag should be enabled.
     */
    set simulate(b) {
      this._engine.wasm._wl_physx_component_set_simulate(this._id, b);
    }
    /**
     * Whether this rigid body's simulate flag is enabled.
     */
    get simulate() {
      return !!this._engine.wasm._wl_physx_component_get_simulate(this._id);
    }
    /**
     * Set whether to allow simulation of this rigid body.
     *
     * {@link allowSimulation} and {@link trigger} can not be enabled at the
     * same time. Enabling {@link allowSimulation} while {@link trigger} is enabled
     * will disable {@link trigger}.
     *
     * @param b Whether to allow simulation of this rigid body.
     */
    set allowSimulation(b) {
      this._engine.wasm._wl_physx_component_set_allowSimulation(this._id, b);
    }
    /**
     * Whether to allow simulation of this rigid body.
     */
    get allowSimulation() {
      return !!this._engine.wasm._wl_physx_component_get_allowSimulation(this._id);
    }
    /**
     * Set whether this rigid body may be queried in ray casts.
     *
     * @param b Whether this rigid body may be queried in ray casts.
     */
    set allowQuery(b) {
      this._engine.wasm._wl_physx_component_set_allowQuery(this._id, b);
    }
    /**
     * Whether this rigid body may be queried in ray casts.
     */
    get allowQuery() {
      return !!this._engine.wasm._wl_physx_component_get_allowQuery(this._id);
    }
    /**
     * Set whether this physics body is a trigger.
     *
     * {@link allowSimulation} and {@link trigger} can not be enabled at the
     * same time. Enabling trigger while {@link allowSimulation} is enabled,
     * will disable {@link allowSimulation}.
     *
     * @param b Whether this physics body is a trigger.
     */
    set trigger(b) {
      this._engine.wasm._wl_physx_component_set_trigger(this._id, b);
    }
    /**
     * Whether this physics body is a trigger.
     */
    get trigger() {
      return !!this._engine.wasm._wl_physx_component_get_trigger(this._id);
    }
    /**
     * Set the shape for collision detection.
     *
     * @param s New shape.
     * @since 0.8.5
     */
    set shape(s) {
      this._engine.wasm._wl_physx_component_set_shape(this._id, s);
    }
    /** The shape for collision detection. */
    get shape() {
      return this._engine.wasm._wl_physx_component_get_shape(this._id);
    }
    /**
     * Set additional data for the shape.
     *
     * Retrieved only from {@link PhysXComponent#shapeData}.
     * @since 0.8.10
     */
    set shapeData(d) {
      if (d == null || !isMeshShape(this.shape))
        return;
      this._engine.wasm._wl_physx_component_set_shape_data(this._id, d.index);
    }
    /**
     * Additional data for the shape.
     *
     * `null` for {@link Shape} values: `None`, `Sphere`, `Capsule`, `Box`, `Plane`.
     * `{index: n}` for `TriangleMesh` and `ConvexHull`.
     *
     * This data is currently only for passing onto or creating other {@link PhysXComponent}.
     * @since 0.8.10
     */
    get shapeData() {
      if (!isMeshShape(this.shape))
        return null;
      return { index: this._engine.wasm._wl_physx_component_get_shape_data(this._id) };
    }
    /**
     * Set the shape extents for collision detection.
     *
     * @param e New extents for the shape.
     * @since 0.8.5
     */
    set extents(e) {
      this.extents.set(e);
    }
    /**
     * The shape extents for collision detection.
     */
    get extents() {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_physx_component_get_extents(this._id);
      return new Float32Array(wasm.HEAPF32.buffer, ptr, 3);
    }
    /**
     * Get staticFriction.
     */
    get staticFriction() {
      return this._engine.wasm._wl_physx_component_get_staticFriction(this._id);
    }
    /**
     * Set staticFriction.
     * @param v New staticFriction.
     */
    set staticFriction(v) {
      this._engine.wasm._wl_physx_component_set_staticFriction(this._id, v);
    }
    /**
     * Get dynamicFriction.
     */
    get dynamicFriction() {
      return this._engine.wasm._wl_physx_component_get_dynamicFriction(this._id);
    }
    /**
     * Set dynamicFriction
     * @param v New dynamicDamping.
     */
    set dynamicFriction(v) {
      this._engine.wasm._wl_physx_component_set_dynamicFriction(this._id, v);
    }
    /**
     * Get bounciness.
     * @since 0.9.0
     */
    get bounciness() {
      return this._engine.wasm._wl_physx_component_get_bounciness(this._id);
    }
    /**
     * Set bounciness.
     * @param v New bounciness.
     * @since 0.9.0
     */
    set bounciness(v) {
      this._engine.wasm._wl_physx_component_set_bounciness(this._id, v);
    }
    /**
     * Get linearDamping/
     */
    get linearDamping() {
      return this._engine.wasm._wl_physx_component_get_linearDamping(this._id);
    }
    /**
     * Set linearDamping.
     * @param v New linearDamping.
     */
    set linearDamping(v) {
      this._engine.wasm._wl_physx_component_set_linearDamping(this._id, v);
    }
    /** Get angularDamping. */
    get angularDamping() {
      return this._engine.wasm._wl_physx_component_get_angularDamping(this._id);
    }
    /**
     * Set angularDamping.
     * @param v New angularDamping.
     */
    set angularDamping(v) {
      this._engine.wasm._wl_physx_component_set_angularDamping(this._id, v);
    }
    /**
     * Set linear velocity.
     *
     * [PhysX Manual - "Velocity"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New linear velocity.
     */
    set linearVelocity(v) {
      this._engine.wasm._wl_physx_component_set_linearVelocity(this._id, v[0], v[1], v[2]);
    }
    /** Linear velocity or `[0, 0, 0]` if the component is not active. */
    get linearVelocity() {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_linearVelocity(this._id, wasm._tempMem);
      return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);
    }
    /**
     * Set angular velocity
     *
     * [PhysX Manual - "Velocity"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New angular velocity
     */
    set angularVelocity(v) {
      this._engine.wasm._wl_physx_component_set_angularVelocity(this._id, v[0], v[1], v[2]);
    }
    /** Angular velocity or `[0, 0, 0]` if the component is not active. */
    get angularVelocity() {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_angularVelocity(this._id, wasm._tempMem);
      return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);
    }
    /**
     * Set the components groups mask.
     *
     * @param flags New flags that need to be set.
     */
    set groupsMask(flags) {
      this._engine.wasm._wl_physx_component_set_groupsMask(this._id, flags);
    }
    /**
     * Get the components groups mask flags.
     *
     * Each bit represents membership to group, see example.
     *
     * ```js
     * // Assign c to group 2
     * c.groupsMask = (1 << 2);
     *
     * // Assign c to group 0
     * c.groupsMask  = (1 << 0);
     *
     * // Assign c to group 0 and 2
     * c.groupsMask = (1 << 0) | (1 << 2);
     *
     * (c.groupsMask & (1 << 2)) != 0; // true
     * (c.groupsMask & (1 << 7)) != 0; // false
     * ```
     */
    get groupsMask() {
      return this._engine.wasm._wl_physx_component_get_groupsMask(this._id);
    }
    /**
     * Set the components blocks mask.
     *
     * @param flags New flags that need to be set.
     */
    set blocksMask(flags) {
      this._engine.wasm._wl_physx_component_set_blocksMask(this._id, flags);
    }
    /**
     * Get the components blocks mask flags.
     *
     * Each bit represents membership to the block, see example.
     *
     * ```js
     * // Block overlap with any objects in group 2
     * c.blocksMask = (1 << 2);
     *
     * // Block overlap with any objects in group 0
     * c.blocksMask  = (1 << 0)
     *
     * // Block overlap with any objects in group 0 and 2
     * c.blocksMask = (1 << 0) | (1 << 2);
     *
     * (c.blocksMask & (1 << 2)) != 0; // true
     * (c.blocksMask & (1 << 7)) != 0; // false
     * ```
     */
    get blocksMask() {
      return this._engine.wasm._wl_physx_component_get_blocksMask(this._id);
    }
    /**
     * Set axes to lock for linear velocity.
     *
     * @param lock The Axis that needs to be set.
     *
     * Combine flags with Bitwise OR.
     * ```js
     * body.linearLockAxis = LockAxis.X | LockAxis.Y; // x and y set
     * body.linearLockAxis = LockAxis.X; // y unset
     * ```
     *
     * @note This has no effect if the component is static.
     */
    set linearLockAxis(lock) {
      this._engine.wasm._wl_physx_component_set_linearLockAxis(this._id, lock);
    }
    /**
     * Get the linear lock axes flags.
     *
     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.
     *
     * ```js
     * if(body.linearLockAxis & LockAxis.Y) {
     *     console.log("The Y flag was set!");
     * }
     * ```
     *
     * @return axes that are currently locked for linear movement.
     */
    get linearLockAxis() {
      return this._engine.wasm._wl_physx_component_get_linearLockAxis(this._id);
    }
    /**
     * Set axes to lock for angular velocity.
     *
     * @param lock The Axis that needs to be set.
     *
     * ```js
     * body.angularLockAxis = LockAxis.X | LockAxis.Y; // x and y set
     * body.angularLockAxis = LockAxis.X; // y unset
     * ```
     *
     * @note This has no effect if the component is static.
     */
    set angularLockAxis(lock) {
      this._engine.wasm._wl_physx_component_set_angularLockAxis(this._id, lock);
    }
    /**
     * Get the angular lock axes flags.
     *
     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.
     *
     * ```js
     * if(body.angularLockAxis & LockAxis.Y) {
     *     console.log("The Y flag was set!");
     * }
     * ```
     *
     * @return axes that are currently locked for angular movement.
     */
    get angularLockAxis() {
      return this._engine.wasm._wl_physx_component_get_angularLockAxis(this._id);
    }
    /**
     * Set mass.
     *
     * [PhysX Manual - "Mass Properties"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)
     *
     * @param m New mass.
     */
    set mass(m) {
      this._engine.wasm._wl_physx_component_set_mass(this._id, m);
    }
    /** Mass */
    get mass() {
      return this._engine.wasm._wl_physx_component_get_mass(this._id);
    }
    /**
     * Set mass space interia tensor.
     *
     * [PhysX Manual - "Mass Properties"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New mass space interatia tensor.
     */
    set massSpaceInteriaTensor(v) {
      this._engine.wasm._wl_physx_component_set_massSpaceInertiaTensor(this._id, v[0], v[1], v[2]);
    }
    /**
     * Apply a force.
     *
     * [PhysX Manual - "Applying Forces and Torques"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)
     *
     * Has no effect, if the component is not active.
     *
     * @param f Force vector.
     * @param m Force mode, see {@link ForceMode}, default `Force`.
     * @param localForce Whether the force vector is in local space, default `false`.
     * @param p Position to apply force at, default is center of mass.
     * @param local Whether position is in local space, default `false`.
     */
    addForce(f2, m = ForceMode.Force, localForce = false, p, local = false) {
      const wasm = this._engine.wasm;
      if (!p) {
        wasm._wl_physx_component_addForce(this._id, f2[0], f2[1], f2[2], m, localForce);
        return;
      }
      wasm._wl_physx_component_addForceAt(this._id, f2[0], f2[1], f2[2], m, localForce, p[0], p[1], p[2], local);
    }
    /**
     * Apply torque.
     *
     * [PhysX Manual - "Applying Forces and Torques"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)
     *
     * Has no effect, if the component is not active.
     *
     * @param f Force vector.
     * @param m Force mode, see {@link ForceMode}, default `Force`.
     */
    addTorque(f2, m = ForceMode.Force) {
      this._engine.wasm._wl_physx_component_addTorque(this._id, f2[0], f2[1], f2[2], m);
    }
    /**
     * Add on collision callback.
     *
     * @param callback Function to call when this rigid body (un)collides with any other.
     *
     * ```js
     *  let rigidBody = this.object.getComponent('physx');
     *  rigidBody.onCollision(function(type, other) {
     *      // Ignore uncollides
     *      if(type == CollisionEventType.TouchLost) return;
     *
     *      // Take damage on collision with enemies
     *      if(other.object.name.startsWith('enemy-')) {
     *          this.applyDamage(10);
     *      }
     *  }.bind(this));
     * ```
     *
     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.
     */
    onCollision(callback) {
      return this.onCollisionWith(this, callback);
    }
    /**
     * Add filtered on collision callback.
     *
     * @param otherComp Component for which callbacks will
     *        be triggered. If you pass this component, the method is equivalent to.
     *        {@link PhysXComponent#onCollision}.
     * @param callback Function to call when this rigid body
     *        (un)collides with `otherComp`.
     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.
     */
    onCollisionWith(otherComp, callback) {
      const physics = this._engine.physics;
      physics._callbacks[this._id] = physics._callbacks[this._id] || [];
      physics._callbacks[this._id].push(callback);
      return this._engine.wasm._wl_physx_component_addCallback(this._id, otherComp._id || this._id);
    }
    /**
     * Remove a collision callback added with {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.
     *
     * @param callbackId Callback id as returned by {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.
     * @throws When the callback does not belong to the component.
     * @throws When the callback does not exist.
     */
    removeCollisionCallback(callbackId) {
      const physics = this._engine.physics;
      const r = this._engine.wasm._wl_physx_component_removeCallback(this._id, callbackId);
      if (r)
        physics._callbacks[this._id].splice(-r);
    }
  };
  /** @override */
  __publicField(PhysXComponent, "TypeName", "physx");
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "static", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "kinematic", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "gravity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "simulate", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "allowSimulation", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "allowQuery", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "trigger", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "shape", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "shapeData", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "extents", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "staticFriction", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "dynamicFriction", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "bounciness", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearDamping", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularDamping", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearVelocity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularVelocity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "groupsMask", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "blocksMask", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearLockAxis", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularLockAxis", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "mass", null);
  var Physics = class {
    /**
     * @hidden
     *
     * **Note**: This is public to emulate a `friend` accessor.
     */
    _callbacks;
    /** Wonderland Engine instance */
    _engine;
    /** Ray Hit */
    _rayHit;
    /** Hit. */
    _hit;
    constructor(engine) {
      this._engine = engine;
      this._rayHit = engine.wasm._malloc(4 * (3 * 4 + 3 * 4 + 4 + 2) + 4);
      this._hit = new RayHit(this._engine, this._rayHit);
      this._callbacks = {};
    }
    /**
     * Cast a ray through the physics scene and find intersecting objects.
     *
     * The resulting ray hit will contain **up to 4** closest ray hits,
     * sorted by increasing distance.
     *
     * @param o Ray origin.
     * @param d Ray direction.
     * @param group Collision group to filter by: only objects that are
     *        part of given group are considered for raycast.
     * @param maxDistance Maximum ray distance, default `100.0`.
     *
     * @returns The RayHit instance, belonging to this class.
     *
     * @note The returned {@link RayHit} object is owned by the Physics instance and
     *       will be reused with the next {@link Physics#rayCast} call.
     */
    rayCast(o, d, group, maxDistance = 100) {
      this._engine.wasm._wl_physx_ray_cast(o[0], o[1], o[2], d[0], d[1], d[2], group, maxDistance, this._rayHit);
      return this._hit;
    }
  };
  var MeshIndexType;
  (function(MeshIndexType2) {
    MeshIndexType2[MeshIndexType2["UnsignedByte"] = 1] = "UnsignedByte";
    MeshIndexType2[MeshIndexType2["UnsignedShort"] = 2] = "UnsignedShort";
    MeshIndexType2[MeshIndexType2["UnsignedInt"] = 4] = "UnsignedInt";
  })(MeshIndexType || (MeshIndexType = {}));
  var MeshSkinningType;
  (function(MeshSkinningType2) {
    MeshSkinningType2[MeshSkinningType2["None"] = 0] = "None";
    MeshSkinningType2[MeshSkinningType2["FourJoints"] = 1] = "FourJoints";
    MeshSkinningType2[MeshSkinningType2["EightJoints"] = 2] = "EightJoints";
  })(MeshSkinningType || (MeshSkinningType = {}));
  var Mesh = class {
    /**
     * Index of the mesh in the manager.
     *
     * @hidden
     */
    _index = -1;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new instance.
     *
     * @param params Either a mesh index to wrap or set of parameters to create a new mesh.
     *    For more information, please have a look at the {@link MeshParameters} interface.
     */
    constructor(engine, params) {
      this._engine = engine ?? WL;
      this._index = -1;
      if (isNumber(params)) {
        this._index = params;
        return;
      }
      if (!params.vertexCount)
        throw new Error("Missing parameter 'vertexCount'");
      const wasm = this._engine.wasm;
      let indexData = 0;
      let indexType = 0;
      let indexDataSize = 0;
      if (params.indexData) {
        indexType = params.indexType || MeshIndexType.UnsignedShort;
        indexDataSize = params.indexData.length * indexType;
        indexData = wasm._malloc(indexDataSize);
        switch (indexType) {
          case MeshIndexType.UnsignedByte:
            wasm.HEAPU8.set(params.indexData, indexData);
            break;
          case MeshIndexType.UnsignedShort:
            wasm.HEAPU16.set(params.indexData, indexData >> 1);
            break;
          case MeshIndexType.UnsignedInt:
            wasm.HEAPU32.set(params.indexData, indexData >> 2);
            break;
        }
      }
      const { skinningType = MeshSkinningType.None } = params;
      this._index = wasm._wl_mesh_create(indexData, indexDataSize, indexType, params.vertexCount, skinningType);
    }
    /** Number of vertices in this mesh. */
    get vertexCount() {
      return this._engine.wasm._wl_mesh_get_vertexCount(this._index);
    }
    /** Index data (read-only) or `null` if the mesh is not indexed. */
    get indexData() {
      const wasm = this._engine.wasm;
      const tempMem = wasm._tempMem;
      const ptr = wasm._wl_mesh_get_indexData(this._index, tempMem, tempMem + 4);
      if (ptr === null)
        return null;
      const indexCount = wasm.HEAPU32[tempMem / 4];
      const indexSize = wasm.HEAPU32[tempMem / 4 + 1];
      switch (indexSize) {
        case MeshIndexType.UnsignedByte:
          return new Uint8Array(wasm.HEAPU8.buffer, ptr, indexCount);
        case MeshIndexType.UnsignedShort:
          return new Uint16Array(wasm.HEAPU16.buffer, ptr, indexCount);
        case MeshIndexType.UnsignedInt:
          return new Uint32Array(wasm.HEAPU32.buffer, ptr, indexCount);
      }
      return null;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Apply changes to {@link attribute | vertex attributes}.
     *
     * Uploads the updated vertex attributes to the GPU and updates the bounding
     * sphere to match the new vertex positions.
     *
     * Since this is an expensive operation, call it only once you have performed
     * all modifications on a mesh and avoid calling if you did not perform any
     * modifications at all.
     */
    update() {
      this._engine.wasm._wl_mesh_update(this._index);
    }
    getBoundingSphere(out = new Float32Array(4)) {
      const tempMemFloat = this._engine.wasm._tempMemFloat;
      this._engine.wasm._wl_mesh_get_boundingSphere(this._index, this._engine.wasm._tempMem);
      out[0] = tempMemFloat[0];
      out[1] = tempMemFloat[1];
      out[2] = tempMemFloat[2];
      out[3] = tempMemFloat[3];
      return out;
    }
    attribute(attr) {
      if (typeof attr != "number")
        throw new TypeError("Expected number, but got " + typeof attr);
      const tempMemUint32 = this._engine.wasm._tempMemUint32;
      this._engine.wasm._wl_mesh_get_attribute(this._index, attr, this._engine.wasm._tempMem);
      if (tempMemUint32[0] == 255)
        return null;
      const arraySize = tempMemUint32[5];
      return new MeshAttributeAccessor(this._engine, {
        attribute: tempMemUint32[0],
        offset: tempMemUint32[1],
        stride: tempMemUint32[2],
        formatSize: tempMemUint32[3],
        componentCount: tempMemUint32[4],
        /* The WASM API returns `0` for a scalar value. We clamp it to 1 as we strictly use it as a multiplier for get/set operations */
        arraySize: arraySize ? arraySize : 1,
        length: this.vertexCount,
        bufferType: attr !== MeshAttribute.JointId ? Float32Array : Uint16Array
      });
    }
    /**
     * Destroy and free the meshes memory.
     *
     * It is best practice to set the mesh variable to `null` after calling
     * destroy to prevent accidental use:
     *
     * ```js
     *   mesh.destroy();
     *   mesh = null;
     * ```
     *
     * Accessing the mesh after destruction behaves like accessing an empty
     * mesh.
     *
     * @since 0.9.0
     */
    destroy() {
      this._engine.wasm._wl_mesh_destroy(this._index);
    }
    /**
     * Checks equality by comparing whether the wrapped native mesh ids are
     * equal.
     *
     * @param otherMesh Mesh to check equality with.
     * @returns Whether this mesh equals the given mesh.
     *
     * @since 1.0.0
     */
    equals(otherMesh) {
      if (!otherMesh)
        return false;
      return this._index === otherMesh._index;
    }
  };
  var MeshAttributeAccessor = class {
    /** Max number of elements. */
    length = 0;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Attribute index. @hidden */
    _attribute = -1;
    /** Attribute offset. @hidden */
    _offset = 0;
    /** Attribute stride. @hidden */
    _stride = 0;
    /** Format size native enum. @hidden */
    _formatSize = 0;
    /** Number of components per vertex. @hidden */
    _componentCount = 0;
    /** Number of values per vertex. @hidden */
    _arraySize = 1;
    /**
     * Class to instantiate an ArrayBuffer to get/set values.
     */
    _bufferType;
    /**
     * Function to allocate temporary WASM memory. It is cached in the accessor to avoid
     * conditionals during get/set.
     */
    _tempBufferGetter;
    /**
     * Create a new instance.
     *
     * @note Please use {@link Mesh.attribute} to create a new instance.
     *
     * @param options Contains information about how to read the data.
     * @note Do not use this constructor. Instead, please use the {@link Mesh.attribute} method.
     *
     * @hidden
     */
    constructor(engine, options) {
      this._engine = engine;
      const wasm = this._engine.wasm;
      this._attribute = options.attribute;
      this._offset = options.offset;
      this._stride = options.stride;
      this._formatSize = options.formatSize;
      this._componentCount = options.componentCount;
      this._arraySize = options.arraySize;
      this._bufferType = options.bufferType;
      this.length = options.length;
      this._tempBufferGetter = this._bufferType === Float32Array ? wasm.getTempBufferF32.bind(wasm) : wasm.getTempBufferU16.bind(wasm);
    }
    /**
     * Create a new TypedArray to hold this attribute's values.
     *
     * This method is useful to create a view to hold the data to
     * pass to {@link get} and {@link set}
     *
     * Example:
     *
     * ```js
     * const vertexCount = 4;
     * const positionAttribute = mesh.attribute(MeshAttributes.Position);
     *
     * // A position has 3 floats per vertex. Thus, positions has length 3 * 4.
     * const positions = positionAttribute.createArray(vertexCount);
     * ```
     *
     * @param count The number of **vertices** expected.
     * @returns A TypedArray with the appropriate format to access the data
     */
    createArray(count = 1) {
      count = count > this.length ? this.length : count;
      return new this._bufferType(count * this._componentCount * this._arraySize);
    }
    get(index, out = this.createArray()) {
      if (out.length % this._componentCount !== 0) {
        throw new Error(`out.length, ${out.length} is not a multiple of the attribute vector components, ${this._componentCount}`);
      }
      const dest = this._tempBufferGetter(out.length);
      const elementSize = this._bufferType.BYTES_PER_ELEMENT;
      const destSize = elementSize * out.length;
      const srcFormatSize = this._formatSize * this._arraySize;
      const destFormatSize = this._componentCount * elementSize * this._arraySize;
      this._engine.wasm._wl_mesh_get_attribute_values(this._attribute, srcFormatSize, this._offset + index * this._stride, this._stride, destFormatSize, dest.byteOffset, destSize);
      for (let i = 0; i < out.length; ++i)
        out[i] = dest[i];
      return out;
    }
    /**
     * Set attribute element.
     *
     * @param i Index
     * @param v Value to set the element to
     *
     * `v.length` needs to be a multiple of the attributes component count, see
     * {@link MeshAttribute}. If `v.length` is more than one multiple, it will be
     * filled with the next n attribute elements, which can reduce overhead
     * of this call.
     *
     * @returns Reference to self (for method chaining)
     */
    set(i, v) {
      if (v.length % this._componentCount !== 0)
        throw new Error(`out.length, ${v.length} is not a multiple of the attribute vector components, ${this._componentCount}`);
      const elementSize = this._bufferType.BYTES_PER_ELEMENT;
      const srcSize = elementSize * v.length;
      const srcFormatSize = this._componentCount * elementSize * this._arraySize;
      const destFormatSize = this._formatSize * this._arraySize;
      const wasm = this._engine.wasm;
      if (v.buffer != wasm.HEAPU8.buffer) {
        const dest = this._tempBufferGetter(v.length);
        dest.set(v);
        v = dest;
      }
      wasm._wl_mesh_set_attribute_values(this._attribute, srcFormatSize, v.byteOffset, srcSize, destFormatSize, this._offset + i * this._stride, this._stride);
      return this;
    }
  };
  var Material = class {
    /**
     * Index of this material in the manager.
     *
     * @hidden
     */
    _index;
    /**
     * Material definition index in the scene.
     *
     * @hidden
     */
    _definition;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new Material.
     *
     * @note Creating material is expensive. Please use {@link Material#clone} to clone a material.
     * @note Do not use this constructor directly with an index, this is reserved for internal purposes.
     */
    constructor(engine, params) {
      this._engine = engine;
      if (typeof params !== "number") {
        if (!params?.pipeline)
          throw new Error("Missing parameter 'pipeline'");
        const wasm = this._engine.wasm;
        const pipeline = params.pipeline;
        this._index = wasm._wl_material_create(wasm.tempUTF8(pipeline));
        if (this._index < 0)
          throw new Error(`No such pipeline '${pipeline}'`);
      } else {
        this._index = params;
      }
      this._definition = this._engine.wasm._wl_material_get_definition(this._index);
      if (!this._engine.wasm._materialDefinitions[this._definition])
        throw new Error(`Material Definition ${this._definition} not found for material with index ${this._index}`);
      return new Proxy(this, {
        get(target, prop) {
          const wasm = engine.wasm;
          const definition = wasm._materialDefinitions[target._definition];
          const param = definition.get(prop);
          if (!param)
            return target[prop];
          if (wasm._wl_material_get_param_value(target._index, param.index, wasm._tempMem)) {
            const type = param.type;
            switch (type.type) {
              case MaterialParamType.UnsignedInt:
                return type.componentCount == 1 ? wasm._tempMemUint32[0] : new Uint32Array(wasm.HEAPU32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Int:
                return type.componentCount == 1 ? wasm._tempMemInt[0] : new Int32Array(wasm.HEAP32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Float:
                return type.componentCount == 1 ? wasm._tempMemFloat[0] : new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Sampler:
                return engine.textures.wrap(wasm._tempMemInt[0]);
              default:
                throw new Error(`Invalid type ${type.type} on parameter ${param.index} for material ${target._index}`);
            }
          }
        },
        set(target, prop, value) {
          const wasm = engine.wasm;
          const definition = wasm._materialDefinitions[target._definition];
          const param = definition.get(prop);
          if (!param) {
            target[prop] = value;
            return true;
          }
          const type = param.type;
          switch (type.type) {
            case MaterialParamType.UnsignedInt:
            case MaterialParamType.Int:
            case MaterialParamType.Sampler:
              const v = value.id ?? value;
              wasm._wl_material_set_param_value_uint(target._index, param.index, v);
              break;
            case MaterialParamType.Float:
              let count = 1;
              if (typeof value === "number") {
                wasm._tempMemFloat[0] = value;
              } else {
                count = value.length;
                for (let i = 0; i < count; ++i)
                  wasm._tempMemFloat[i] = value[i];
              }
              wasm._wl_material_set_param_value_float(target._index, param.index, wasm._tempMem, count);
              break;
            case MaterialParamType.Font:
              throw new Error("Setting font properties is currently unsupported.");
          }
          return true;
        }
      });
    }
    /** @deprecated Use {@link #pipeline} instead. */
    get shader() {
      return this.pipeline;
    }
    /** Name of the pipeline used by this material. */
    get pipeline() {
      const wasm = this._engine.wasm;
      return wasm.UTF8ToString(wasm._wl_material_get_pipeline(this._index));
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Create a copy of the underlying native material.
     *
     * @returns Material clone.
     */
    clone() {
      const id = this._engine.wasm._wl_material_clone(this._index);
      return id > 0 ? new Material(this._engine, id) : null;
    }
    /**
     * Checks equality by comparing whether the wrapped native material ids are
     * equal.
     *
     * @param otherMaterial Material to check equality with.
     * @returns Whether this material equals the given material.
     *
     * @since 1.0.0
     */
    equals(otherMaterial) {
      if (!otherMaterial)
        return false;
      return this._index === otherMaterial._index;
    }
    /**
     * Wrap a native material index.
     *
     * @param engine Engine instance.
     * @param index The index.
     * @returns Material instance or `null` if index <= 0.
     *
     * @deprecated Please use `new Material()` instead.
     */
    static wrap(engine, index) {
      return index > 0 ? new Material(engine, index) : null;
    }
  };
  var temp2d = null;
  var Texture = class {
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Index in the manager. @hidden */
    _id = 0;
    /** HTML image index. @hidden */
    _imageIndex = null;
    /**
     * @param engine The engine instance
     * @param param HTML media element to create texture from or texture id to wrap.
     */
    constructor(engine, param) {
      this._engine = engine ?? WL;
      const wasm = engine.wasm;
      if (param instanceof HTMLImageElement || param instanceof HTMLVideoElement || param instanceof HTMLCanvasElement) {
        const index = wasm._images.length;
        wasm._images.push(param);
        this._imageIndex = index;
        this._id = this._engine.wasm._wl_renderer_addImage(index);
      } else {
        this._id = param;
      }
      this._engine.textures._set(this);
    }
    /** Whether this texture is valid. */
    get valid() {
      return this._id >= 0;
    }
    /** Index in this manager. */
    get id() {
      return this._id;
    }
    /** Update the texture to match the HTML element (e.g. reflect the current frame of a video). */
    update() {
      if (!this.valid || this._imageIndex === null)
        return;
      this._engine.wasm._wl_renderer_updateImage(this._id, this._imageIndex);
    }
    /** Width of the texture. */
    get width() {
      return this._engine.wasm._wl_texture_width(this._id);
    }
    /** Height of the texture. */
    get height() {
      return this._engine.wasm._wl_texture_height(this._id);
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Update a subrange on the texture to match the HTML element (e.g. reflect the current frame of a video).
     *
     * Usage:
     *
     * ```js
     * // Copies rectangle of pixel starting from (10, 20)
     * texture.updateSubImage(10, 20, 600, 400);
     * ```
     *
     * @param x x offset
     * @param y y offset
     * @param w width
     * @param h height
     */
    updateSubImage(x, y, w, h) {
      if (!this.valid || this._imageIndex === null)
        return;
      if (!temp2d) {
        const canvas2 = document.createElement("canvas");
        const ctx = canvas2.getContext("2d");
        if (!ctx) {
          throw new Error("Texture.updateSubImage(): Failed to obtain CanvasRenderingContext2D.");
        }
        temp2d = { canvas: canvas2, ctx };
      }
      const wasm = this._engine.wasm;
      const img = wasm._images[this._imageIndex];
      if (!img)
        return;
      temp2d.canvas.width = w;
      temp2d.canvas.height = h;
      temp2d.ctx.drawImage(img, x, y, w, h, 0, 0, w, h);
      const yOffset = (img.videoHeight ?? img.height) - y - h;
      wasm._images[this._imageIndex] = temp2d.canvas;
      wasm._wl_renderer_updateImage(this._id, this._imageIndex, x, yOffset);
      wasm._images[this._imageIndex] = img;
    }
    /**
     * Destroy and free the texture's texture altas space and memory.
     *
     * It is best practice to set the texture variable to `null` after calling
     * destroy to prevent accidental use of the invalid texture:
     *
     * ```js
     *   texture.destroy();
     *   texture = null;
     * ```
     *
     * @since 0.9.0
     */
    destroy() {
      this.engine.textures._destroy(this);
      this._id = -1;
      this._imageIndex = null;
    }
    /**
     * Checks equality by comparing whether the wrapped native texture ids are
     * equal.
     *
     * @param otherTexture Texture to check equality with.
     * @returns Whether this texture equals the given texture.
     *
     * @since 1.0.0
     */
    equals(otherTexture) {
      if (!otherTexture)
        return false;
      return this._id === otherTexture._id;
    }
  };
  var Animation = class {
    /** Index of the mesh in the manager. @hidden */
    _index;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * @param index Index in the manager
     */
    constructor(engine = WL, index) {
      this._engine = engine;
      this._index = index;
    }
    /** Duration of this animation. */
    get duration() {
      return this._engine.wasm._wl_animation_get_duration(this._index);
    }
    /** Number of tracks in this animation. */
    get trackCount() {
      return this._engine.wasm._wl_animation_get_trackCount(this._index);
    }
    /**
     * Clone this animation retargeted to a new set of objects.
     *
     * The clone shares most of the data with the original and is therefore
     * light-weight.
     *
     * **Experimental:** This API might change in upcoming versions.
     *
     * If retargeting to {@link Skin}, the join names will be used to determine a mapping
     * from the previous skin to the new skin. The source skin will be retrieved from
     * the first track in the animation that targets a joint.
     *
     * @param newTargets New targets per track. Expected to have
     *      {@link Animation#trackCount} elements or to be a {@link Skin}.
     * @returns The retargeted clone of this animation.
     */
    retarget(newTargets) {
      const wasm = this._engine.wasm;
      if (newTargets instanceof Skin) {
        const animId2 = wasm._wl_animation_retargetToSkin(this._index, newTargets._index);
        return new Animation(this._engine, animId2);
      }
      if (newTargets.length != this.trackCount) {
        throw Error("Expected " + this.trackCount.toString() + " targets, but got " + newTargets.length.toString());
      }
      const ptr = wasm._malloc(2 * newTargets.length);
      for (let i = 0; i < newTargets.length; ++i) {
        wasm.HEAPU16[ptr >> 1 + i] = newTargets[i].objectId;
      }
      const animId = wasm._wl_animation_retarget(this._index, ptr);
      wasm._free(ptr);
      return new Animation(this._engine, animId);
    }
    /**
     * Checks equality by comparing whether the wrapped native animation ids
     * are equal.
     *
     * @param otherAnimation Animation to check equality with.
     * @returns Whether this animation equals the given animation.
     *
     * @since 1.0.0
     */
    equals(otherAnimation) {
      if (!otherAnimation)
        return false;
      return this._index === otherAnimation._index;
    }
  };
  var Object3D = class {
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Object index in the manager.
     *
     * @hidden
     */
    _objectId = -1;
    /**
     * @param o Object id to wrap
     *
     * For performance reasons, please use {@link WonderlandEngine.wrapObject}
     */
    constructor(engine, o) {
      this._objectId = o;
      this._engine = engine;
    }
    /**
     * Name of the object.
     *
     * Useful for identifying objects during debugging.
     */
    get name() {
      const wasm = this._engine.wasm;
      return wasm.UTF8ToString(wasm._wl_object_name(this.objectId));
    }
    /**
     * Set the object's name.
     *
     * @param newName The new name to set.
     */
    set name(newName) {
      const wasm = this._engine.wasm;
      wasm._wl_object_set_name(this.objectId, wasm.tempUTF8(newName));
    }
    /**
     * Parent of this object or `null` if parented to root.
     */
    get parent() {
      const p = this._engine.wasm._wl_object_parent(this.objectId);
      return p === 0 ? null : this._engine.wrapObject(p);
    }
    /**
     * Children of this object.
     */
    get children() {
      const childrenCount = this._engine.wasm._wl_object_get_children_count(this.objectId);
      if (childrenCount === 0)
        return [];
      const wasm = this._engine.wasm;
      wasm.requireTempMem(childrenCount * 2);
      this._engine.wasm._wl_object_get_children(this.objectId, wasm._tempMem, wasm._tempMemSize >> 1);
      const children = new Array(childrenCount);
      for (let i = 0; i < childrenCount; ++i) {
        children[i] = this._engine.wrapObject(wasm._tempMemUint16[i]);
      }
      return children;
    }
    /**
     * Reparent object to given object.
     *
     * @note Reparenting is not trivial and might have a noticeable performance impact.
     *
     * @param newParent New parent or `null` to parent to root
     */
    set parent(newParent) {
      this._engine.wasm._wl_object_set_parent(this.objectId, newParent == null ? 0 : newParent.objectId);
    }
    /** Object index in the manager. */
    get objectId() {
      return this._objectId;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Reset local transformation (translation, rotation and scaling) to identity.
     *
     * @returns Reference to self (for method chaining).
     */
    resetTransform() {
      this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);
      this._engine.wasm._wl_object_reset_scaling(this.objectId);
      return this;
    }
    /**
     * Reset local position and rotation to identity.
     *
     * @returns Reference to self (for method chaining).
     */
    resetPositionRotation() {
      this._engine.wasm._wl_object_reset_translation_rotation(this.objectId);
      return this;
    }
    /** @deprecated Please use {@link Object3D.resetPositionRotation} instead. */
    resetTranslationRotation() {
      return this.resetPositionRotation();
    }
    /**
     * Reset local rotation, keep translation.
     *
     * @note To reset both rotation and translation, prefer
     *       {@link resetTranslationRotation}.
     *
     * @returns Reference to self (for method chaining).
     */
    resetRotation() {
      this._engine.wasm._wl_object_reset_rotation(this.objectId);
      return this;
    }
    /**
     * Reset local translation, keep rotation.
     *
     * @note To reset both rotation and translation, prefer
     *       {@link resetTranslationRotation}.
     *
     * @returns Reference to self (for method chaining).
     */
    resetPosition() {
      this._engine.wasm._wl_object_reset_translation(this.objectId);
      return this;
    }
    /** @deprecated Please use {@link Object3D.resetPosition} instead. */
    resetTranslation() {
      return this.resetPosition();
    }
    /**
     * Reset local scaling to identity (``[1.0, 1.0, 1.0]``).
     *
     * @returns Reference to self (for method chaining).
     */
    resetScaling() {
      this._engine.wasm._wl_object_reset_scaling(this.objectId);
      return this;
    }
    /** @deprecated Please use {@link Object3D.translateLocal} instead. */
    translate(v) {
      return this.translateLocal(v);
    }
    /**
     * Translate object by a vector in the parent's space.
     *
     * @param v Vector to translate by.
     *
     * @returns Reference to self (for method chaining).
     */
    translateLocal(v) {
      this._engine.wasm._wl_object_translate(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /**
     * Translate object by a vector in object space.
     *
     * @param v Vector to translate by.
     *
     * @returns Reference to self (for method chaining).
     */
    translateObject(v) {
      this._engine.wasm._wl_object_translate_obj(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /**
     * Translate object by a vector in world space.
     *
     * @param v Vector to translate by.
     *
     * @returns Reference to self (for method chaining).
     */
    translateWorld(v) {
      this._engine.wasm._wl_object_translate_world(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.rotateAxisAngleDegLocal} instead. */
    rotateAxisAngleDeg(a, d) {
      this.rotateAxisAngleDegLocal(a, d);
      return this;
    }
    /**
     * Rotate around given axis by given angle (degrees) in local space.
     *
     * @param a Vector representing the rotation axis.
     * @param d Angle in degrees.
     *
     * @note If the object is translated the rotation will be around
     *     the parent. To rotate around the object origin, use
     *     {@link rotateAxisAngleDegObject}
     *
     * @see {@link rotateAxisAngleRad}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleDegLocal(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /** @deprecated Please use {@link Object3D.rotateAxisAngleRadLocal} instead. */
    rotateAxisAngleRad(a, d) {
      return this.rotateAxisAngleRadLocal(a, d);
    }
    /**
     * Rotate around given axis by given angle (radians) in local space.
     *
     * @param a Vector representing the rotation axis.
     * @param d Angle in radians.
     *
     * @note If the object is translated the rotation will be around
     *     the parent. To rotate around the object origin, use
     *     {@link rotateAxisAngleDegObject}
     *
     * @see {@link rotateAxisAngleDeg}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleRadLocal(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle_rad(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /**
     * Rotate around given axis by given angle (degrees) in object space.
     *
     * @param a Vector representing the rotation axis.
     * @param d Angle in degrees.
     *
     * Equivalent to prepending a rotation quaternion to the object's
     * local transformation.
     *
     * @see {@link rotateAxisAngleRadObject}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleDegObject(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle_obj(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /**
     * Rotate around given axis by given angle (radians) in object space
     * Equivalent to prepending a rotation quaternion to the object's
     * local transformation.
     *
     * @param a Vector representing the rotation axis
     * @param d Angle in degrees
     *
     * @see {@link rotateAxisAngleDegObject}
     *
     * @returns Reference to self (for method chaining).
     */
    rotateAxisAngleRadObject(a, d) {
      this._engine.wasm._wl_object_rotate_axis_angle_rad_obj(this.objectId, a[0], a[1], a[2], d);
      return this;
    }
    /** @deprecated Please use {@link Object3D.rotateLocal} instead. */
    rotate(q2) {
      this.rotateLocal(q2);
      return this;
    }
    /**
     * Rotate by a quaternion.
     *
     * @param q the Quaternion to rotate by.
     *
     * @returns Reference to self (for method chaining).
     */
    rotateLocal(q2) {
      this._engine.wasm._wl_object_rotate_quat(this.objectId, q2[0], q2[1], q2[2], q2[3]);
      return this;
    }
    /**
     * Rotate by a quaternion in object space.
     *
     * Equivalent to prepending a rotation quaternion to the object's
     * local transformation.
     *
     * @param q the Quaternion to rotate by.
     *
     * @returns Reference to self (for method chaining).
     */
    rotateObject(q2) {
      this._engine.wasm._wl_object_rotate_quat_obj(this.objectId, q2[0], q2[1], q2[2], q2[3]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.scaleLocal} instead. */
    scale(v) {
      this.scaleLocal(v);
      return this;
    }
    /**
     * Scale object by a vector in object space.
     *
     * @param v Vector to scale by.
     *
     * @returns Reference to self (for method chaining).
     */
    scaleLocal(v) {
      this._engine.wasm._wl_object_scale(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    getPositionLocal(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      wasm._wl_object_get_translation_local(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    getTranslationLocal(out = new Float32Array(3)) {
      return this.getPositionLocal(out);
    }
    getPositionWorld(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      wasm._wl_object_get_translation_world(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    getTranslationWorld(out = new Float32Array(3)) {
      return this.getPositionWorld(out);
    }
    /**
     * Set local / object space position.
     *
     * Concatenates a new translation dual quaternion onto the existing rotation.
     *
     * @param v New local position array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setPositionLocal(v) {
      this._engine.wasm._wl_object_set_translation_local(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.setPositionLocal} instead. */
    setTranslationLocal(v) {
      return this.setPositionLocal(v);
    }
    /**
     * Set world space position.
     *
     * Applies the inverse parent transform with a new translation dual quaternion
     * which is concatenated onto the existing rotation.
     *
     * @param v New world position array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setPositionWorld(v) {
      this._engine.wasm._wl_object_set_translation_world(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    /** @deprecated Please use {@link Object3D.setPositionWorld} instead. */
    setTranslationWorld(v) {
      return this.setPositionWorld(v);
    }
    getScalingLocal(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_scaling_local(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      return out;
    }
    /**
     * Set local / object space scaling.
     *
     * @param v New local scaling array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setScalingLocal(v) {
      this._engine.wasm._wl_object_set_scaling_local(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    getScalingWorld(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_scaling_world(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      return out;
    }
    /**
     * Set World space scaling.
     *
     * @param v New world scaling array/vector, expected to have at least 3 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setScalingWorld(v) {
      this._engine.wasm._wl_object_set_scaling_world(this.objectId, v[0], v[1], v[2]);
      return this;
    }
    getRotationLocal(out = new Float32Array(4)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_local(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      return out;
    }
    /**
     * Set local space rotation.
     *
     * @param v New world rotation array/vector, expected to have at least 4 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setRotationLocal(v) {
      this._engine.wasm._wl_object_set_rotation_local(this.objectId, v[0], v[1], v[2], v[3]);
      return this;
    }
    getRotationWorld(out = new Float32Array(4)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_world(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      return out;
    }
    /**
     * Set local space rotation.
     *
     * @param v New world rotation array/vector, expected to have at least 4 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setRotationWorld(v) {
      this._engine.wasm._wl_object_set_rotation_world(this.objectId, v[0], v[1], v[2], v[3]);
      return this;
    }
    getTransformLocal(out = new Float32Array(8)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_local(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      out[4] = wasm.HEAPF32[ptr + 4];
      out[5] = wasm.HEAPF32[ptr + 5];
      out[6] = wasm.HEAPF32[ptr + 6];
      out[7] = wasm.HEAPF32[ptr + 7];
      return out;
    }
    /**
     * Set local space rotation.
     *
     * @param v New local transform array, expected to have at least 8 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setTransformLocal(v) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_local(this.objectId) / 4;
      wasm.HEAPF32[ptr] = v[0];
      wasm.HEAPF32[ptr + 1] = v[1];
      wasm.HEAPF32[ptr + 2] = v[2];
      wasm.HEAPF32[ptr + 3] = v[3];
      wasm.HEAPF32[ptr + 4] = v[4];
      wasm.HEAPF32[ptr + 5] = v[5];
      wasm.HEAPF32[ptr + 6] = v[6];
      wasm.HEAPF32[ptr + 7] = v[7];
      this.setDirty();
      return this;
    }
    getTransformWorld(out = new Float32Array(8)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_world(this.objectId) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      out[4] = wasm.HEAPF32[ptr + 4];
      out[5] = wasm.HEAPF32[ptr + 5];
      out[6] = wasm.HEAPF32[ptr + 6];
      out[7] = wasm.HEAPF32[ptr + 7];
      return out;
    }
    /**
     * Set world space rotation.
     *
     * @param v New world transform array, expected to have at least 8 elements.
     *
     * @returns Reference to self (for method chaining).
     */
    setTransformWorld(v) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_object_trans_world(this.objectId) / 4;
      wasm.HEAPF32[ptr] = v[0];
      wasm.HEAPF32[ptr + 1] = v[1];
      wasm.HEAPF32[ptr + 2] = v[2];
      wasm.HEAPF32[ptr + 3] = v[3];
      wasm.HEAPF32[ptr + 4] = v[4];
      wasm.HEAPF32[ptr + 5] = v[5];
      wasm.HEAPF32[ptr + 6] = v[6];
      wasm.HEAPF32[ptr + 7] = v[7];
      this._engine.wasm._wl_object_trans_world_to_local(this.objectId);
      return this;
    }
    /**
     * Local space transformation.
     *
     * @deprecated Please use {@link Object3D.setTransformLocal} and
     * {@link Object3D.getTransformLocal} instead.
     */
    get transformLocal() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_local(this.objectId), 8);
    }
    /**
     * Set local transform.
     *
     * @param t Local space transformation.
     *
     * @since 0.8.5
     *
     * @deprecated Please use {@link Object3D.setTransformLocal} and
     * {@link Object3D.getTransformLocal} instead.
     */
    set transformLocal(t) {
      this.transformLocal.set(t);
      this.setDirty();
    }
    /**
     * Global / world space transformation.
     *
     * May recompute transformations of the hierarchy of this object,
     * if they were changed by JavaScript components this frame.
     *
     * @deprecated Please use {@link Object3D.setTransformWorld} and
     * {@link Object3D.getTransformWorld} instead.
     */
    get transformWorld() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_trans_world(this.objectId), 8);
    }
    /**
     * Set world transform.
     *
     * @param t Global / world space transformation.
     *
     * @since 0.8.5
     *
     * @deprecated Please use {@link Object3D.setTransformWorld} and
     * {@link Object3D.getTransformWorld} instead.
     */
    set transformWorld(t) {
      this.transformWorld.set(t);
      this._engine.wasm._wl_object_trans_world_to_local(this.objectId);
    }
    /**
     * Local / object space scaling.
     *
     * @deprecated Please use {@link Object3D.setScalingLocal} and
     * {@link Object3D.getScalingLocal} instead.
     */
    get scalingLocal() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_local(this.objectId), 3);
    }
    /**
     * Set local space scaling.
     *
     * @param s Local space scaling.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.setScalingLocal} and
     * {@link Object3D.getScalingLocal} instead.
     */
    set scalingLocal(s) {
      this.scalingLocal.set(s);
      this.setDirty();
    }
    /**
     * Global / world space scaling.
     *
     * May recompute transformations of the hierarchy of this object,
     * if they were changed by JavaScript components this frame.
     *
     * @deprecated Please use {@link Object3D.setScalingWorld} and
     * {@link Object3D.getScalingWorld} instead.
     */
    get scalingWorld() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_object_scaling_world(this.objectId), 3);
    }
    /**
     * Set world space scaling.
     *
     * @param t World space scaling.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.setScalingWorld} and
     * {@link Object3D.getScalingWorld} instead.
     */
    set scalingWorld(s) {
      this.scalingWorld.set(s);
      this._engine.wasm._wl_object_scaling_world_to_local(this.objectId);
    }
    /**
     * Local space rotation.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationLocal} and
     * {@link Object3D.setRotationLocal} instead.
     */
    get rotationLocal() {
      return this.transformLocal.subarray(0, 4);
    }
    /**
     * Global / world space rotation
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationWorld} and
     * {@link Object3D.setRotationWorld} instead.
     */
    get rotationWorld() {
      return this.transformWorld.subarray(0, 4);
    }
    /**
     * Set local space rotation.
     *
     * @param r Local space rotation
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationLocal} and
     * {@link Object3D.setRotationLocal} instead.
     */
    set rotationLocal(r) {
      this._engine.wasm._wl_object_set_rotation_local(this.objectId, r[0], r[1], r[2], r[3]);
    }
    /**
     * Set world space rotation.
     *
     * @param r Global / world space rotation.
     *
     * @since 0.8.7
     *
     * @deprecated Please use {@link Object3D.getRotationWorld} and
     * {@link Object3D.setRotationWorld} instead.
     */
    set rotationWorld(r) {
      this._engine.wasm._wl_object_set_rotation_world(this.objectId, r[0], r[1], r[2], r[3]);
    }
    /** @deprecated Please use {@link Object3D.getForwardWorld} instead. */
    getForward(out) {
      return this.getForwardWorld(out);
    }
    /**
     * Compute the object's forward facing world space vector.
     *
     * The forward vector in object space is along the negative z-axis, i.e.,
     * `[0, 0, -1]`.
     *
     * @param out Destination array/vector, expected to have at least 3 elements.
     * @return The `out` parameter.
     */
    getForwardWorld(out) {
      out[0] = 0;
      out[1] = 0;
      out[2] = -1;
      this.transformVectorWorld(out);
      return out;
    }
    /** @deprecated Please use {@link Object3D.getUpWorld} instead. */
    getUp(out) {
      return this.getUpWorld(out);
    }
    /**
     * Compute the object's up facing world space vector.
     *
     * @param out Destination array/vector, expected to have at least 3 elements.
     * @return The `out` parameter.
     */
    getUpWorld(out) {
      out[0] = 0;
      out[1] = 1;
      out[2] = 0;
      this.transformVectorWorld(out);
      return out;
    }
    /** @deprecated Please use {@link Object3D.getRightWorld} instead. */
    getRight(out) {
      return this.getRightWorld(out);
    }
    /**
     * Compute the object's right facing world space vector.
     *
     * @param out Destination array/vector, expected to have at least 3 elements.
     * @return The `out` parameter.
     */
    getRightWorld(out) {
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      this.transformVectorWorld(out);
      return out;
    }
    /**
     * Transform a vector by this object's world transform.
     *
     * @param out Out vector
     * @param v Vector to transform, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorWorld(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a vector by this object's local transform.
     *
     * @param out Out vector
     * @param v Vector to transform, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorLocal(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's world transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointWorld(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = p[0];
      wasm._tempMemFloat[1] = p[1];
      wasm._tempMemFloat[2] = p[2];
      wasm._wl_object_transformPointWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's local transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointLocal(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = p[0];
      wasm._tempMemFloat[1] = p[1];
      wasm._tempMemFloat[2] = p[2];
      wasm._wl_object_transformPointLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a vector by this object's inverse world transform.
     *
     * @param out Out vector.
     * @param v Vector to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorInverseWorld(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorInverseWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a vector by this object's inverse local transform.
     *
     * @param out Out vector
     * @param v Vector to transform, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformVectorInverseLocal(out, v = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = v[0];
      wasm._tempMemFloat[1] = v[1];
      wasm._tempMemFloat[2] = v[2];
      wasm._wl_object_transformVectorInverseLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's inverse world transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointInverseWorld(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat[0] = p[0];
      wasm._tempMemFloat[1] = p[1];
      wasm._tempMemFloat[2] = p[2];
      wasm._wl_object_transformPointInverseWorld(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform a point by this object's inverse local transform.
     *
     * @param out Out point.
     * @param p Point to transform, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    transformPointInverseLocal(out, p = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat.set(p);
      wasm._wl_object_transformPointInverseLocal(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    /**
     * Transform an object space dual quaternion into world space.
     *
     * @param out Out transformation.
     * @param q Local space transformation, default `out`.
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    toWorldSpaceTransform(out, q2 = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat.set(q2);
      wasm._wl_object_toWorldSpaceTransform(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      out[3] = wasm._tempMemFloat[3];
      out[4] = wasm._tempMemFloat[4];
      out[5] = wasm._tempMemFloat[5];
      out[6] = wasm._tempMemFloat[6];
      out[7] = wasm._tempMemFloat[7];
      return out;
    }
    /**
     * Transform a world space dual quaternion into local space.
     *
     * @param out Out transformation
     * @param q World space transformation, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    toLocalSpaceTransform(out, q2 = out) {
      const p = this.parent;
      if (p) {
        p.toObjectSpaceTransform(out, q2);
        return out;
      }
      if (out !== q2) {
        out[0] = q2[0];
        out[1] = q2[1];
        out[2] = q2[2];
        out[3] = q2[3];
        out[4] = q2[4];
        out[5] = q2[5];
        out[6] = q2[6];
        out[7] = q2[7];
      }
      return out;
    }
    /**
     * Transform a world space dual quaternion into object space.
     *
     * @param out Out transformation.
     * @param q World space transformation, default `out`
     * @return The `out` parameter.
     *
     * @since 0.8.7
     */
    toObjectSpaceTransform(out, q2 = out) {
      const wasm = this._engine.wasm;
      wasm._tempMemFloat.set(q2);
      wasm._wl_object_toObjectSpaceTransform(this.objectId, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      out[3] = wasm._tempMemFloat[3];
      out[4] = wasm._tempMemFloat[4];
      out[5] = wasm._tempMemFloat[5];
      out[6] = wasm._tempMemFloat[6];
      out[7] = wasm._tempMemFloat[7];
      return out;
    }
    /**
     * Turn towards / look at target.
     *
     * Rotates the object so that its forward vector faces towards the target
     * position. The `up` vector acts as a hint to uniquely orient the object's
     * up direction. When orienting a view component, the projected `up` vector
     * faces upwards on the viewing plane.
     *
     * @param p Target position to turn towards, in world space.
     * @param up Up vector to align object with, in world space. Default is `[0, 1, 0]`.
     *
     * @returns Reference to self (for method chaining).
     */
    lookAt(p, up = UP_VECTOR) {
      this._engine.wasm._wl_object_lookAt(this.objectId, p[0], p[1], p[2], up[0], up[1], up[2]);
      return this;
    }
    /** Destroy the object with all of its components and remove it from the scene */
    destroy() {
      this._engine.wasm._wl_scene_remove_object(this.objectId);
      this._objectId = -1;
    }
    /**
     * Mark transformation dirty.
     *
     * Causes an eventual recalculation of {@link transformWorld}, either
     * on next {@link getTranslationWorld}, {@link transformWorld} or
     * {@link scalingWorld} or the beginning of next frame, whichever
     * happens first.
     */
    setDirty() {
      this._engine.wasm._wl_object_set_dirty(this.objectId);
    }
    /**
     * Disable/enable all components of this object.
     *
     * @param b New state for the components.
     *
     * @since 0.8.5
     */
    set active(b) {
      const comps = this.getComponents();
      for (let c of comps) {
        c.active = b;
      }
    }
    getComponent(typeOrClass, index = 0) {
      const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;
      const wasm = this._engine.wasm;
      const componentType = wasm._wl_get_component_manager_index(wasm.tempUTF8(type));
      if (componentType < 0) {
        const typeIndex = wasm._componentTypeIndices[type];
        if (typeIndex === void 0)
          return null;
        const jsIndex = wasm._wl_get_js_component_index(this.objectId, typeIndex, index);
        return jsIndex < 0 ? null : this._engine.wasm._components[jsIndex];
      }
      const componentId = this._engine.wasm._wl_get_component_id(this.objectId, componentType, index);
      return this._engine._wrapComponent(type, componentType, componentId);
    }
    /**
     * @param typeOrClass Type name, pass a falsey value (`undefined` or `null`) to retrieve all.
     *     It's also possible to give a class definition. In this case, the method will use the `class.TypeName` field to
     *     find the components.
     * @returns All components of given type attached to this object.
     *
     * @note As this function is non-trivial, avoid using it in `update()` repeatedly,
     *      but rather store its result in `init()` or `start()`
     * @warning This method will currently return at most 341 components.
     */
    getComponents(typeOrClass) {
      const wasm = this._engine.wasm;
      let componentType = null;
      let type = null;
      if (typeOrClass) {
        type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;
        componentType = wasm._typeIndexFor(type);
      }
      const components = [];
      const maxComps = Math.floor(wasm._tempMemSize / 3 * 2);
      const componentsCount = wasm._wl_object_get_components(this.objectId, wasm._tempMem, maxComps);
      const offset2 = 2 * componentsCount;
      wasm._wl_object_get_component_types(this.objectId, wasm._tempMem + offset2, maxComps);
      const jsManagerIndex = wasm._typeIndexFor("js");
      for (let i = 0; i < componentsCount; ++i) {
        const t = wasm._tempMemUint8[i + offset2];
        const componentId = wasm._tempMemUint16[i];
        if (t == jsManagerIndex) {
          const typeIndex = wasm._wl_get_js_component_index_for_id(componentId);
          const comp = wasm._components[typeIndex];
          if (componentType === null || comp.type == type)
            components.push(comp);
          continue;
        }
        if (componentType === null) {
          const managerName = wasm._typeNameFor(t);
          components.push(this._engine._wrapComponent(managerName, t, componentId));
        } else if (t == componentType) {
          components.push(this._engine._wrapComponent(type, componentType, componentId));
        }
      }
      return components;
    }
    addComponent(typeOrClass, params) {
      const wasm = this._engine.wasm;
      const type = isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName;
      const componentType = wasm._typeIndexFor(type);
      let component = null;
      let componentIndex = null;
      if (componentType < 0) {
        if (!(type in wasm._componentTypeIndices)) {
          throw new TypeError("Unknown component type '" + type + "'");
        }
        const componentId = wasm._wl_object_add_js_component(this.objectId, wasm._componentTypeIndices[type]);
        componentIndex = wasm._wl_get_js_component_index_for_id(componentId);
        component = wasm._components[componentIndex];
      } else {
        const componentId = wasm._wl_object_add_component(this.objectId, componentType);
        component = this._engine._wrapComponent(type, componentType, componentId);
      }
      if (params !== void 0) {
        const ctor = component.constructor;
        for (const key in params) {
          if (!(key in ctor.Properties))
            continue;
          component[key] = params[key];
        }
      }
      if (componentType < 0) {
        wasm._wljs_component_init(componentIndex);
      }
      if (!params || !("active" in params && !params.active)) {
        component.active = true;
      }
      return component;
    }
    /**
     * Whether given object's transformation has changed.
     */
    get changed() {
      return !!this._engine.wasm._wl_object_is_changed(this.objectId);
    }
    /**
     * Checks equality by comparing whether the wrapped native object ids are
     * equal.
     *
     * @param otherObject Object to check equality with.
     * @returns Whether this object equals the given object.
     */
    equals(otherObject) {
      if (!otherObject)
        return false;
      return this.objectId == otherObject.objectId;
    }
  };
  var Skin = class {
    /**
     * Index of the skin in the manager.
     * @hidden
     */
    _index;
    /** Wonderland Engine instance. @hidden */
    _engine;
    constructor(engine, index) {
      this._engine = engine;
      this._index = index;
    }
    /** Amount of joints in this skin. */
    get jointCount() {
      return this._engine.wasm._wl_skin_get_joint_count(this._index);
    }
    /** Joints object ids for this skin */
    get jointIds() {
      const wasm = this._engine.wasm;
      return new Uint16Array(wasm.HEAPU16.buffer, wasm._wl_skin_joint_ids(this._index), this.jointCount);
    }
    /**
     * Dual quaternions in a flat array of size 8 times {@link jointCount}.
     *
     * Inverse bind transforms of the skin.
     */
    get inverseBindTransforms() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_transforms(this._index), 8 * this.jointCount);
    }
    /**
     * Vectors in a flat array of size 3 times {@link jointCount}.
     *
     * Inverse bind scalings of the skin.
     */
    get inverseBindScalings() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_scalings(this._index), 3 * this.jointCount);
    }
    /**
     * Checks equality by comparing whether the wrapped native skin ids are
     * equal.
     *
     * @param otherSkin Skin to check equality with.
     * @returns Whether this skin equals the given skin.
     *
     * @since 1.0.0
     */
    equals(otherSkin) {
      if (!otherSkin)
        return false;
      return this._index === otherSkin._index;
    }
  };
  var RayHit = class {
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Pointer to the memory heap. */
    _ptr;
    /**
     * @param ptr Pointer to the ray hits memory.
     */
    constructor(engine, ptr) {
      if ((ptr & 3) !== 0) {
        throw new Error("Misaligned pointer: please report a bug");
      }
      this._engine = engine;
      this._ptr = ptr;
    }
    /** Array of ray hit locations. */
    get locations() {
      let p = this._ptr;
      let l2 = [];
      for (let i = 0; i < this.hitCount; ++i) {
        l2.push(new Float32Array(this._engine.wasm.HEAPF32.buffer, p + 12 * i, 3));
      }
      return l2;
    }
    /** Array of ray hit normals (only when using {@link Physics#rayCast}. */
    get normals() {
      let p = this._ptr + 48;
      let l2 = [];
      for (let i = 0; i < this.hitCount; ++i) {
        l2.push(new Float32Array(this._engine.wasm.HEAPF32.buffer, p + 12 * i, 3));
      }
      return l2;
    }
    /**
     * Prefer these to recalculating the distance from locations.
     *
     * Distances of array hits to ray origin.
     */
    get distances() {
      const p = this._ptr + 48 * 2;
      return new Float32Array(this._engine.wasm.HEAPF32.buffer, p, this.hitCount);
    }
    /** Hit objects */
    get objects() {
      const HEAPU16 = this._engine.wasm.HEAPU16;
      const objects = [null, null, null, null];
      let p = this._ptr + (48 * 2 + 16) >> 1;
      for (let i = 0; i < this.hitCount; ++i) {
        objects[i] = this._engine.wrapObject(HEAPU16[p + i]);
      }
      return objects;
    }
    /** Number of hits (max 4) */
    get hitCount() {
      return Math.min(this._engine.wasm.HEAPU32[this._ptr / 4 + 30], 4);
    }
  };
  var I18N = class {
    /**
     * {@link Emitter} for language change events.
     *
     * First parameter to a listener is the old language index,
     * second parameter is the new language index.
     *
     * Usage from a within a component:
     * ```js
     * this.engine.i18n.onLanguageChanged.add((oldLanguageIndex, newLanguageIndex) => {
     *     const oldLanguage = this.engine.i18n.languageName(oldLanguageIndex);
     *     const newLanguage = this.engine.i18n.languageName(newLanguageIndex);
     *     console.log("Switched from", oldLanguage, "to", newLanguage);
     * });
     * ```
     */
    onLanguageChanged = new Emitter();
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Constructor
     */
    constructor(engine) {
      this._engine = engine;
    }
    /**
     * Set current language and apply translations to linked text parameters.
     *
     * @param code Language code to switch to
     */
    set language(code) {
      if (code == null)
        return;
      const wasm = this._engine.wasm;
      wasm._wl_i18n_setLanguage(wasm.tempUTF8(code));
    }
    /**
     * Get current language code.
     *
     */
    get language() {
      const wasm = this._engine.wasm;
      const code = wasm._wl_i18n_currentLanguage();
      if (code === 0)
        return null;
      return wasm.UTF8ToString(code);
    }
    /**
     * Get translated string for a term for the currently loaded language.
     *
     * @param term Term to translate
     */
    translate(term) {
      const wasm = this._engine.wasm;
      const translation = wasm._wl_i18n_translate(wasm.tempUTF8(term));
      if (translation === 0)
        return null;
      return wasm.UTF8ToString(translation);
    }
    /**
     * Get the number of languages in the project.
     *
     */
    languageCount() {
      const wasm = this._engine.wasm;
      return wasm._wl_i18n_languageCount();
    }
    /**
     * Get a language code.
     *
     * @param index Index of the language to get the code from
     */
    languageIndex(code) {
      const wasm = this._engine.wasm;
      return wasm._wl_i18n_languageIndex(wasm.tempUTF8(code));
    }
    /**
     * Get a language code.
     *
     * @param index Index of the language to get the code from
     */
    languageCode(index) {
      const wasm = this._engine.wasm;
      const code = wasm._wl_i18n_languageCode(index);
      if (code === 0)
        return null;
      return wasm.UTF8ToString(code);
    }
    /**
     * Get a language name.
     *
     * @param index Index of the language to get the name from
     */
    languageName(index) {
      const wasm = this._engine.wasm;
      const name = wasm._wl_i18n_languageName(index);
      if (name === 0)
        return null;
      return wasm.UTF8ToString(name);
    }
  };

  // node_modules/@wonderlandengine/api/dist/utils/fetch.js
  function fetchWithProgress(path, onProgress) {
    return new Promise((resolve, reject) => {
      const xhr = new XMLHttpRequest();
      xhr.open("GET", path);
      xhr.responseType = "arraybuffer";
      xhr.onprogress = (progress) => {
        if (progress.lengthComputable) {
          onProgress?.(progress.loaded, progress.total);
        }
      };
      xhr.onload = () => {
        if (xhr.status >= 200 && xhr.status < 300) {
          const buffer = xhr.response;
          onProgress?.(buffer.byteLength, buffer.byteLength);
          resolve(buffer);
        } else {
          reject(xhr.statusText);
        }
      };
      xhr.onerror = () => reject(xhr.statusText);
      xhr.send();
    });
  }

  // node_modules/@wonderlandengine/api/dist/scene.js
  var Scene = class {
    /** Called before rendering the scene */
    onPreRender = new Emitter();
    /** Called after the scene has been rendered */
    onPostRender = new Emitter();
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Ray hit pointer in WASM heap. @hidden */
    _rayHit;
    /** Ray hit. @hidden */
    _hit;
    constructor(engine) {
      this._engine = engine;
      this._rayHit = engine.wasm._malloc(4 * (3 * 4 + 3 * 4 + 4 + 2) + 4);
      this._hit = new RayHit(this._engine, this._rayHit);
    }
    /**
     * Currently active view components.
     */
    get activeViews() {
      const wasm = this._engine.wasm;
      const count = wasm._wl_scene_get_active_views(this._engine.wasm._tempMem, 16);
      const views = [];
      const viewTypeIndex = wasm._typeIndexFor("view");
      for (let i = 0; i < count; ++i) {
        views.push(new ViewComponent(this._engine, viewTypeIndex, this._engine.wasm._tempMemInt[i]));
      }
      return views;
    }
    /**
     * Cast a ray through the scene and find intersecting objects.
     *
     * The resulting ray hit will contain up to **4** closest ray hits,
     * sorted by increasing distance.
     *
     * @param o Ray origin.
     * @param d Ray direction.
     * @param group Collision group to filter by: only objects that are
     *        part of given group are considered for raycast.
     *
     * @returns The scene cached {@link RayHit} instance.
     * @note The returned object is owned by the Scene instance
     *   will be reused with the next {@link Scene#rayCast} call.
     */
    rayCast(o, d, group) {
      this._engine.wasm._wl_scene_ray_cast(o[0], o[1], o[2], d[0], d[1], d[2], group, this._rayHit);
      return this._hit;
    }
    /**
     * Add an object to the scene.
     *
     * @param parent Parent object or `null`.
     * @returns A newly created object.
     */
    addObject(parent = null) {
      const parentId = parent ? parent.objectId : 0;
      const objectId = this._engine.wasm._wl_scene_add_object(parentId);
      return this._engine.wrapObject(objectId);
    }
    /**
     * Batch-add objects to the scene.
     *
     * Will provide better performance for adding multiple objects (e.g. > 16)
     * than calling {@link Scene#addObject} repeatedly in a loop.
     *
     * By providing upfront information of how many objects will be required,
     * the engine is able to batch-allocate the required memory rather than
     * convervatively grow the memory in small steps.
     *
     * **Experimental:** This API might change in upcoming versions.
     *
     * @param count Number of objects to add.
     * @param parent Parent object or `null`, default `null`.
     * @param componentCountHint Hint for how many components in total will
     *      be added to the created objects afterwards, default `0`.
     * @returns Newly created objects
     */
    addObjects(count, parent = null, componentCountHint = 0) {
      const parentId = parent ? parent.objectId : 0;
      this._engine.wasm.requireTempMem(count * 2);
      const actualCount = this._engine.wasm._wl_scene_add_objects(parentId, count, componentCountHint || 0, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);
      const ids = this._engine.wasm._tempMemUint16.subarray(0, actualCount);
      const wrapper = this._engine.wrapObject.bind(this._engine);
      const objects = Array.from(ids, wrapper);
      return objects;
    }
    /**
     * Pre-allocate memory for a given amount of objects and components.
     *
     * Will provide better performance for adding objects later with {@link Scene#addObject}
     * and {@link Scene#addObjects}.
     *
     * By providing upfront information of how many objects will be required,
     * the engine is able to batch-allocate the required memory rather than
     * conservatively grow the memory in small steps.
     *
     * **Experimental:** This API might change in upcoming versions.
     *
     * @param objectCount Number of objects to add.
     * @param componentCountPerType Amount of components to
     *      allocate for {@link Object3D.addComponent}, e.g. `{mesh: 100, collision: 200, "my-comp": 100}`.
     * @since 0.8.10
     */
    reserveObjects(objectCount, componentCountPerType) {
      const wasm = this._engine.wasm;
      componentCountPerType = componentCountPerType || {};
      const jsManagerIndex = wasm._typeIndexFor("js");
      let countsPerTypeIndex = wasm._tempMemInt.subarray();
      countsPerTypeIndex.fill(0);
      for (const e of Object.entries(componentCountPerType)) {
        const typeIndex = wasm._typeIndexFor(e[0]);
        countsPerTypeIndex[typeIndex < 0 ? jsManagerIndex : typeIndex] += e[1];
      }
      wasm._wl_scene_reserve_objects(objectCount, wasm._tempMem);
    }
    /**
     * Set the background clear color.
     *
     * @param color new clear color (RGBA).
     * @since 0.8.5
     */
    set clearColor(color) {
      this._engine.wasm._wl_scene_set_clearColor(color[0], color[1], color[2], color[3]);
    }
    /**
     * Set whether to clear the color framebuffer before drawing.
     *
     * This function is useful if an external framework (e.g. an AR tracking
     * framework) is responsible for drawing a camera frame before Wonderland
     * Engine draws the scene on top of it.
     *
     * @param b Whether to enable color clear.
     * @since 0.9.4
     */
    set colorClearEnabled(b) {
      this._engine.wasm._wl_scene_enableColorClear(b);
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Load a scene file (.bin).
     *
     * Will replace the currently active scene with the one loaded
     * from given file. It is assumed that JavaScript components required by
     * the new scene were registered in advance.
     *
     * Once the scene is loaded successfully and initialized,
     * {@link WonderlandEngine.onSceneLoaded} is notified.
     *
     * @param filename Path to the .bin file.
     * @returns Promise that resolves when the scene was loaded.
     */
    async load(filename) {
      const wasm = this._engine.wasm;
      const buffer = await fetchWithProgress(filename, (bytes, size3) => {
        console.log(`Scene downloading: ${bytes} / ${size3}`);
        wasm._wl_set_loading_screen_progress(bytes / size3);
      });
      const size2 = buffer.byteLength;
      console.log(`Scene download of ${size2} bytes successful.`);
      const ptr = wasm._malloc(size2);
      new Uint8Array(wasm.HEAPU8.buffer, ptr, size2).set(new Uint8Array(buffer));
      try {
        wasm._wl_load_scene_bin(ptr, size2, wasm.tempUTF8(filename));
      } finally {
        wasm._free(ptr);
      }
      const binQueue = wasm._queuedBinFiles;
      if (binQueue.length > 0) {
        wasm._queuedBinFiles = [];
        await Promise.all(binQueue.map((path) => this.append(path)));
      }
      this._engine.onSceneLoaded.notify();
    }
    /**
     * Append a scene file.
     *
     * Loads and parses the file and its images and appends the result
     * to the currently active scene.
     *
     * Supported formats are streamable Wonderland scene files (.bin) and glTF
     * 3D scenes (.gltf, .glb).
     *
     * ```js
     * WL.scene.append(filename).then(root => {
     *     // root contains the loaded scene
     * });
     * ```
     *
     * In case the `loadGltfExtensions` option is set to true, the response
     * will be an object containing both the root of the loaded scene and
     * any glTF extensions found on nodes, meshes and the root of the file.
     *
     * ```js
     * WL.scene.append(filename, { loadGltfExtensions: true }).then(({root, extensions}) => {
     *     // root contains the loaded scene
     *     // extensions.root contains any extensions at the root of glTF document
     *     const rootExtensions = extensions.root;
     *     // extensions.mesh and extensions.node contain extensions indexed by Object id
     *     const childObject = root.children[0];
     *     const meshExtensions = root.meshExtensions[childObject.objectId];
     *     const nodeExtensions = root.nodeExtensions[childObject.objectId];
     *     // extensions.idMapping contains a mapping from glTF node index to Object id
     * });
     * ```
     *
     * @param file The .bin, .gltf or .glb file to append. Should be a URL or
     *   an `ArrayBuffer` with the file content.
     * @param options Additional options for loading.
     * @returns Promise that resolves when the scene was appended.
     */
    async append(file, options) {
      const buffer = isString(file) ? await fetchWithProgress(file) : file;
      const wasm = this._engine.wasm;
      let callback;
      const promise = new Promise((resolve, reject) => {
        callback = wasm.addFunction((objectId, extensionData, extensionDataSize) => {
          if (objectId < 0) {
            reject();
            return;
          }
          const root = objectId ? this._engine.wrapObject(objectId) : null;
          if (extensionData && extensionDataSize) {
            const marshalled = new Uint32Array(wasm.HEAPU32.buffer, extensionData, extensionDataSize / 4);
            const extensions = this._unmarshallGltfExtensions(marshalled);
            resolve({ root, extensions });
          } else {
            resolve(root);
          }
        }, "viii");
      }).finally(() => wasm.removeFunction(callback));
      const size2 = buffer.byteLength;
      const ptr = wasm._malloc(size2);
      const data = new Uint8Array(wasm.HEAPU8.buffer, ptr, size2);
      data.set(new Uint8Array(buffer));
      const MAGIC = "WLEV";
      const isBinFile = data.byteLength > MAGIC.length && data.subarray(0, MAGIC.length).every((value, i) => value === MAGIC.charCodeAt(i));
      try {
        if (isBinFile) {
          wasm._wl_append_scene_bin(ptr, size2, callback);
        } else {
          const loadExtensions = options?.loadGltfExtensions ?? false;
          wasm._wl_append_scene_gltf(ptr, size2, loadExtensions, callback);
        }
      } catch (e) {
        wasm.removeFunction(callback);
        throw e;
      } finally {
        wasm._free(ptr);
      }
      const result = await promise;
      const binQueue = wasm._queuedBinFiles;
      if (isBinFile && binQueue.length > 0) {
        wasm._queuedBinFiles = [];
        await Promise.all(binQueue.map((path) => this.append(path, options)));
      }
      return result;
    }
    /**
     * Unmarshalls the GltfExtensions from an Uint32Array.
     *
     * @param data Array containing the gltf extension data.
     * @returns The extensions stored in an object literal.
     *
     * @hidden
     */
    _unmarshallGltfExtensions(data) {
      const extensions = {
        root: {},
        mesh: {},
        node: {},
        idMapping: []
      };
      let index = 0;
      const readString = () => {
        const strPtr = data[index++];
        const strLen = data[index++];
        return this._engine.wasm.UTF8ViewToString(strPtr, strPtr + strLen);
      };
      const idMappingSize = data[index++];
      const idMapping = new Array(idMappingSize);
      for (let i = 0; i < idMappingSize; ++i) {
        idMapping[i] = data[index++];
      }
      extensions.idMapping = idMapping;
      const meshExtensionsSize = data[index++];
      for (let i = 0; i < meshExtensionsSize; ++i) {
        const objectId = data[index++];
        extensions.mesh[idMapping[objectId]] = JSON.parse(readString());
      }
      const nodeExtensionsSize = data[index++];
      for (let i = 0; i < nodeExtensionsSize; ++i) {
        const objectId = data[index++];
        extensions.node[idMapping[objectId]] = JSON.parse(readString());
      }
      const rootExtensionsStr = readString();
      if (rootExtensionsStr) {
        extensions.root = JSON.parse(rootExtensionsStr);
      }
      return extensions;
    }
    /**
     * Reset the scene.
     *
     * This method deletes all used and allocated objects, and components.
     */
    reset() {
      this._engine.wasm._wl_scene_reset();
    }
  };

  // node_modules/@wonderlandengine/api/dist/texture-manager.js
  var TextureManager = class {
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Texture cache. @hidden */
    #cache = [];
    /** @hidden */
    constructor(engine) {
      this._engine = engine;
    }
    /**
     * Retrieve the texture with the given id.
     *
     * @param id The texture identifier.
     * @return The {@link Texture} if found, `null` otherwise.
     */
    get(id) {
      return this.#cache[id] ?? null;
    }
    /**
     * Load an image from URL as {@link Texture}.
     *
     * @param filename URL to load from.
     * @param crossOrigin Cross origin flag for the image object.
     * @returns Loaded texture.
     */
    load(filename, crossOrigin) {
      let image = new Image();
      image.crossOrigin = crossOrigin ?? image.crossOrigin;
      image.src = filename;
      return new Promise((resolve, reject) => {
        image.onload = () => {
          let texture = new Texture(this._engine, image);
          if (!texture.valid) {
            reject("Failed to add image " + image.src + " to texture atlas. Probably incompatible format.");
          }
          resolve(texture);
        };
        image.onerror = function() {
          reject("Failed to load image. Not found or no read access");
        };
      });
    }
    /**
     * Wrap a texture ID using {@link Texture}.
     *
     * @note This method performs caching and will return the same
     * instance on subsequent calls.
     *
     * @param id ID of the texture to create.
     *
     * @returns The texture.
     */
    wrap(id) {
      const texture = this.#cache[id] ?? (this.#cache[id] = new Texture(this._engine, id));
      texture["_id"] = id;
      return texture;
    }
    /** Number of textures allocated in the manager. */
    get allocatedCount() {
      return this.#cache.length;
    }
    /**
     * Number of textures in the manager.
     *
     * @note For performance reasons, avoid calling this method when possible.
     */
    get count() {
      let count = 0;
      for (const tex of this.#cache) {
        if (tex && tex.id >= 0)
          ++count;
      }
      return count;
    }
    /**
     * Set a new texture in the manager cache.
     *
     * @note This api is meant to be used internally.
     *
     * @param texture The texture to add.
     *
     * @hidden
     */
    _set(texture) {
      this.#cache[texture.id] = texture;
    }
    /**
     * Destroys the texture.
     *
     * @note This api is meant to be used internally.
     *
     * @param texture The texture to destroy.
     *
     * @hidden
     */
    _destroy(texture) {
      this._engine.wasm._wl_texture_destroy(texture.id);
      const img = texture["_imageIndex"];
      if (img !== null) {
        this._engine.wasm._images[img] = null;
      }
    }
    /**
     * Reset the manager.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _reset() {
      this.#cache.length = 0;
    }
  };

  // node_modules/@wonderlandengine/api/dist/engine.js
  var WonderlandEngine = class {
    /**
     * {@link Emitter} for WebXR session end events.
     *
     * Usage from a within a component:
     * ```js
     * this.engine.onXRSessionEnd.add(() => console.log("XR session ended."));
     * ```
     */
    onXRSessionEnd = new Emitter();
    /**
     * {@link Emitter} for WebXR session start events.
     *
     * Usage from a within a component:
     * ```js
     * this.engine.onXRSessionStart.add((session, mode) => console.log(session, mode));
     * ```
     *
     * By default, this emitter is retained and will automatically call any callback added
     * while a session is already started:
     *
     * ```js
     * // XR session is already active.
     * this.engine.onXRSessionStart.add((session, mode) => {
     *     console.log(session, mode); // Triggered immediately.
     * });
     * ```
     */
    onXRSessionStart = new RetainEmitter();
    /**
     * {@link Emitter} for canvas / main framebuffer resize events.
     *
     * Usage from a within a component:
     * ```js
     * this.engine.onResize.add(() => {
     *     const canvas = this.engine.canvas;
     *     console.log(`New Size: ${canvas.width}, ${canvas.height}`);
     * });
     * ```
     *
     * @note The size of the canvas is in physical pixels, and is set via {@link WonderlandEngine.resize}.
     */
    onResize = new Emitter();
    /** Whether AR is supported by the browser. */
    arSupported = false;
    /** Whether VR is supported by the browser. */
    vrSupported = false;
    /**
     * {@link Emitter} for scene loaded events.
     *
     * Listeners get notified when a call to {@link Scene#load()} finishes,
     * which also happens after the main scene has replaced the loading screen.
     *
     * Usage from a within a component:
     * ```js
     * this.engine.onSceneLoaded.add(() => console.log("Scene switched!"));
     * ```
     */
    onSceneLoaded = new Emitter();
    /**
     * Current main scene.
     */
    scene = null;
    /**
     * Access to internationalization.
     */
    i18n = new I18N(this);
    /**
     * WebXR related state, `null` if no XR session is active.
     */
    xr = null;
    /* Component class instances per type to avoid GC */
    _componentCache = {};
    /* Object class instances per type to avoid GC */
    _objectCache = [];
    /**
     * WebAssembly bridge.
     *
     * @hidden
     */
    #wasm;
    /**
     * Physics manager, only available when physx is enabled in the runtime.
     *
     * @hidden
     */
    #physics = null;
    /** Texture manager. @hidden */
    #textures = new TextureManager(this);
    /**
     * Resize observer to track for canvas size changes.
     *
     * @hidden
     */
    #resizeObserver = null;
    /**
     * Create a new engine instance.
     *
     * @param wasm Wasm bridge instance
     * @param loadingScreen Loading screen .bin file data
     *
     * @hidden
     */
    constructor(wasm, loadingScreen) {
      this.#wasm = wasm;
      this.#wasm["_setEngine"](this);
      this.#wasm._loadingScreen = loadingScreen;
      this._componentCache = {};
      this._objectCache.length = 0;
      this.canvas.addEventListener("webglcontextlost", function(e) {
        console.error("Context lost:");
        console.error(e);
      }, false);
    }
    /**
     * Start the engine if it's not already running.
     *
     * When using the {@link loadRuntime} function, this method is called
     * automatically.
     */
    start() {
      this.wasm._wl_application_start();
    }
    /**
     * Register a custom JavaScript component type.
     *
     * You can register a component directly using a class inheriting from {@link Component}:
     *
     * ```js
     * import { Component, Type } from '@wonderlandengine/api';
     *
     * export class MyComponent extends Component {
     *     static TypeName = 'my-component';
     *     static Properties = {
     *         myParam: {type: Type.Float, default: 42.0},
     *     };
     *     init() {}
     *     start() {}
     *     update(dt) {}
     *     onActivate() {}
     *     onDeactivate() {}
     *     onDestroy() {}
     * });
     *
     * // Here, we assume we have an engine already instantiated.
     * // In general, the registration occurs in the `index.js` file in your
     * // final application.
     * engine.registerComponent(MyComponent);
     * ```
     *
     * {@label CLASSES}
     * @param classes Custom component(s) extending {@link Component}.
     *
     * @since 1.0.0
     */
    registerComponent(...classes) {
      for (const arg of classes) {
        this.wasm._registerComponent(arg);
      }
    }
    /**
     * Checks whether the given component is registered or not.
     *
     * @param typeOrClass A string representing the component typename (e.g., `'cursor-component'`),
     *     or a component class (e.g., `CursorComponent`).
     * @returns `true` if the component is registered, `false` otherwise.
     */
    isRegistered(typeOrClass) {
      return this.#wasm.isRegistered(isString(typeOrClass) ? typeOrClass : typeOrClass.TypeName);
    }
    /**
     * Resize the canvas and the rendering context.
     *
     * @note The `width` and `height` parameters will be scaled by the
     * `devicePixelRatio` value. By default, the pixel ratio used is
     * [window.devicePixelRatio](https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio).
     *
     * @param width The width, in CSS pixels.
     * @param height The height, in CSS pixels.
     * @param devicePixelRatio The pixel ratio factor.
     */
    resize(width, height, devicePixelRatio = window.devicePixelRatio) {
      width = width * devicePixelRatio;
      height = height * devicePixelRatio;
      this.canvas.width = width;
      this.canvas.height = height;
      this.wasm._wl_application_resize(width, height);
      this.onResize.notify();
    }
    /**
     * Run the next frame.
     *
     * @param fixedDelta The elapsed time between this frame and the previous one.
     *
     * @note The engine automatically schedules next frames. You should only
     * use this method for testing.
     */
    nextFrame(fixedDelta = 0) {
      this.#wasm._wl_nextFrame(fixedDelta);
    }
    /**
     * Request a XR session.
     *
     * @note Please use this call instead of directly calling `navigator.xr.requestSession()`.
     * Wonderland Engine requires to be aware that a session is started, and this
     * is done through this call.
     *
     * @param mode The XR mode.
     * @param features An array of required features, e.g., `['local-floor', 'hit-test']`.
     * @param optionalFeatures An array of optional features, e.g., `['bounded-floor', 'depth-sensing']`.
     * @returns A promise resolving with the `XRSession`, a string error message otherwise.
     */
    requestXRSession(mode, features, optionalFeatures = []) {
      if (!navigator.xr) {
        const isLocalhost = location.hostname === "localhost" || location.hostname === "127.0.0.1";
        const missingHTTPS = location.protocol !== "https:" && !isLocalhost;
        return Promise.reject(missingHTTPS ? "WebXR is only supported with HTTPS or on localhost!" : "WebXR unsupported in this browser.");
      }
      return this.#wasm.webxr_requestSession(mode, features, optionalFeatures);
    }
    /**
     * Wrap an object ID using {@link Object}.
     *
     * @note This method performs caching and will return the same
     * instance on subsequent calls.
     *
     * @param objectId ID of the object to create.
     *
     * @returns The object
     */
    wrapObject(objectId) {
      const cache = this._objectCache;
      const o = cache[objectId] || (cache[objectId] = new Object3D(this, objectId));
      o["_objectId"] = objectId;
      return o;
    }
    /* Public Getters & Setter */
    /**
     * WebAssembly bridge.
     *
     * @note Use with care. This object is used to communicate
     * with the WebAssembly code throughout the api.
     *
     * @hidden
     */
    get wasm() {
      return this.#wasm;
    }
    /** Canvas element that Wonderland Engine renders to. */
    get canvas() {
      return this.#wasm.canvas;
    }
    /**
     * Current WebXR session or `null` if no session active.
     *
     * @deprecated Use {@link XR.session} on the {@link xr}
     * object instead.
     */
    get xrSession() {
      return this.xr?.session ?? null;
    }
    /**
     * Current WebXR frame or `null` if no session active.
     *
     * @deprecated Use {@link XR.frame} on the {@link xr}
     * object instead.
     */
    get xrFrame() {
      return this.xr?.frame ?? null;
    }
    /**
     * Current WebXR base layer or `null` if no session active.
     *
     * @deprecated Use {@link XR.baseLayer} on the {@link xr}
     * object instead.
     */
    get xrBaseLayer() {
      return this.xr?.baseLayer ?? null;
    }
    /**
     * Current WebXR framebuffer or `null` if no session active.
     *
     * @deprecated Use {@link XR.framebuffers} on the
     * {@link xr} object instead.
     */
    get xrFramebuffer() {
      return this.xr?.framebuffers[0] ?? null;
    }
    /** Framebuffer scale factor. */
    get xrFramebufferScaleFactor() {
      return this.#wasm.webxr_framebufferScaleFactor;
    }
    set xrFramebufferScaleFactor(value) {
      this.#wasm.webxr_framebufferScaleFactor = value;
    }
    /** Physics manager, only available when physx is enabled in the runtime. */
    get physics() {
      return this.#physics;
    }
    /**
     * Texture managger.
     *
     * Use this to load or programmatically create new textures at runtime.
     */
    get textures() {
      return this.#textures;
    }
    /*
     * Enable or disable the mechanism to automatically resize the canvas.
     *
     * Internally, the engine uses a [ResizeObserver](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver).
     * Changing the canvas css will thus automatically be tracked by the engine.
     */
    set autoResizeCanvas(flag) {
      const state = !!this.#resizeObserver;
      if (state === flag)
        return;
      if (!flag) {
        this.#resizeObserver?.unobserve(this.canvas);
        this.#resizeObserver = null;
        return;
      }
      this.#resizeObserver = new ResizeObserver((entries) => {
        for (const entry of entries) {
          if (entry.target === this.canvas) {
            this.resize(entry.contentRect.width, entry.contentRect.height);
          }
        }
      });
      this.#resizeObserver.observe(this.canvas);
    }
    /** `true` if the canvas is automatically resized by the engine. */
    get autoResizeCanvas() {
      return this.#resizeObserver !== null;
    }
    /** Retrieves the runtime version. */
    get runtimeVersion() {
      const wasm = this.#wasm;
      const v = wasm._wl_application_version(wasm._tempMem);
      return {
        major: wasm._tempMemUint16[0],
        minor: wasm._tempMemUint16[1],
        patch: wasm._tempMemUint16[2],
        rc: wasm._tempMemUint16[3]
      };
    }
    /* Internal-Only Methods */
    /**
     * Initialize the engine.
     *
     * @note Should be called after the WebAssembly is fully loaded.
     *
     * @hidden
     */
    _init() {
      this.scene = new Scene(this);
      this.#wasm._wl_set_error_callback(this.#wasm.addFunction((messagePtr) => {
        throw new Error(this.#wasm.UTF8ToString(messagePtr));
      }, "vi"));
      this.#physics = null;
      if (this.#wasm.withPhysX) {
        const physics = new Physics(this);
        this.#wasm._wl_physx_set_collision_callback(this.#wasm.addFunction((a, index, type, b) => {
          const callback = physics._callbacks[a][index];
          const component = new PhysXComponent(this, this.wasm._typeIndexFor("physx"), b);
          callback(type, component);
        }, "viiii"));
        this.#physics = physics;
      }
      this.resize(this.canvas.clientWidth, this.canvas.clientHeight);
    }
    /**
     * Reset the runtime state, including:
     *     - Component cache
     *     - Images
     *     - Callbacks
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _reset() {
      this._componentCache = {};
      this._objectCache.length = 0;
      this.#textures._reset();
      this.scene.reset();
      this.wasm.reset();
    }
    /**
     * Retrieves a component instance if it exists, or create and cache
     * a new one.
     *
     * @note This api is meant to be used internally. Please have a look at
     * {@link Object3D.addComponent} instead.
     *
     * @param type component type name
     * @param componentType Component manager index
     * @param componentId Component id in the manager
     *
     * @returns JavaScript instance wrapping the native component
     *
     * @hidden
     */
    _wrapComponent(type, componentType, componentId) {
      if (componentId < 0)
        return null;
      const c = this._componentCache[componentType] || (this._componentCache[componentType] = []);
      if (c[componentId]) {
        return c[componentId];
      }
      let component;
      if (type == "collision") {
        component = new CollisionComponent(this, componentType, componentId);
      } else if (type == "text") {
        component = new TextComponent(this, componentType, componentId);
      } else if (type == "view") {
        component = new ViewComponent(this, componentType, componentId);
      } else if (type == "mesh") {
        component = new MeshComponent(this, componentType, componentId);
      } else if (type == "input") {
        component = new InputComponent(this, componentType, componentId);
      } else if (type == "light") {
        component = new LightComponent(this, componentType, componentId);
      } else if (type == "animation") {
        component = new AnimationComponent(this, componentType, componentId);
      } else if (type == "physx") {
        component = new PhysXComponent(this, componentType, componentId);
      } else {
        const typeIndex = this.wasm._componentTypeIndices[type];
        const constructor = this.wasm._componentTypes[typeIndex];
        component = new constructor(this);
      }
      component._engine = this;
      component._manager = componentType;
      component._id = componentId;
      c[componentId] = component;
      return component;
    }
  };

  // node_modules/@wonderlandengine/api/dist/wasm.js
  var _componentDefaults = /* @__PURE__ */ new Map([
    [Type.Bool, false],
    [Type.Int, 0],
    [Type.Float, 0],
    [Type.String, ""],
    [Type.Enum, void 0],
    [Type.Object, null],
    [Type.Mesh, null],
    [Type.Texture, null],
    [Type.Material, null],
    [Type.Animation, null],
    [Type.Skin, null],
    [Type.Color, [0, 0, 0, 1]]
  ]);

  // node_modules/@sorskoot/wonderland-components/dist/components/flipbook.js
  var __decorate2 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var DynamicTextureCache = class {
    textures;
    engine;
    constructor(engine) {
      this.textures = {};
      this.engine = engine;
    }
    loadTextures(url, columns, rows) {
      if (!this.textures.hasOwnProperty(url)) {
        this.textures[url] = new Promise((resolve, reject) => {
          let image = new Image();
          let textures = [];
          image.src = url;
          image.onload = () => {
            let canvas2 = document.createElement("canvas");
            let context2 = canvas2.getContext("2d");
            if (context2 == null)
              reject("Could not get context");
            canvas2.width = image.width;
            canvas2.height = image.height;
            context2.drawImage(image, 0, 0);
            let spriteWidth = image.width / columns;
            let spriteHeight = image.height / rows;
            for (let y = 0; y < rows; y++) {
              for (let x = 0; x < columns; x++) {
                let pc = this.copyPartOfCanvas(canvas2, x * spriteWidth, y * spriteHeight, spriteWidth, spriteHeight);
                let texturePc = new Texture(this.engine, pc);
                textures.push(texturePc);
              }
            }
            resolve(textures);
          };
        });
      }
      return this.textures[url];
    }
    copyPartOfCanvas(canvas2, x, y, width, height) {
      let copy7 = document.createElement("canvas");
      copy7.width = width;
      copy7.height = height;
      let ctx2 = copy7.getContext("2d");
      ctx2.drawImage(canvas2, x, y, width, height, 0, 0, width, height);
      return copy7;
    }
  };
  var textureCache;
  var Flipbook = class extends Component {
    base;
    url = "";
    urlEmissive = "";
    columns = 4;
    rows = 4;
    speed = 8;
    textures = [];
    loaded = false;
    index = 0;
    init() {
      if (!textureCache) {
        textureCache = new DynamicTextureCache(this.engine);
      }
      let texturesPromises = [];
      texturesPromises.push(textureCache.loadTextures(this.url, this.columns, this.rows));
      if (this.urlEmissive) {
        texturesPromises.push(textureCache.loadTextures(this.urlEmissive, this.columns, this.rows));
      }
      Promise.all(texturesPromises).then((tex) => {
        this.textures = [];
        if (this.urlEmissive) {
          for (let i = 0; i < tex[0].length; i++) {
            this.textures.push(this.createMaterial(this.base, tex[0][i], tex[1][i]));
          }
        } else {
          for (let i = 0; i < tex[0].length; i++) {
            this.textures.push(this.createMaterial(this.base, tex[0][i]));
          }
        }
        this.loaded = true;
        this.index = Math.floor(Math.random() * this.textures.length);
      });
    }
    createMaterial(base, texture, emissiveTexture = null) {
      const mat = base.clone();
      if (!mat)
        throw new Error("Could not clone material");
      if (mat.pipeline == "Flat Opaque Textured" || mat.pipeline.startsWith("FlatSorskoot")) {
        const flatMat = mat;
        flatMat.flatTexture = texture;
        if (mat.pipeline == "FlatSorskoot Emissive") {
          flatMat.flatTexture = texture;
          if (emissiveTexture) {
            flatMat.emissiveTexture = emissiveTexture;
          }
        }
      } else {
        console.error(`Pipeline ${mat.pipeline} not supported by flipbook`);
      }
      return mat;
    }
    mat = null;
    t = 0;
    start() {
      this.mat = this.object.getComponent(MeshComponent);
      this.t = Math.random() * this.speed;
    }
    previousIndex = -1;
    update(dt) {
      if (!this.loaded)
        return;
      this.t += dt * this.speed;
      this.index = ~~this.t % this.textures.length;
      if (this.textures && this.textures.length && this.previousIndex != this.index && this.mat) {
        this.previousIndex = this.index;
        this.mat.material = this.textures[this.index];
      }
    }
  };
  __publicField(Flipbook, "TypeName", "flipbook");
  __decorate2([
    property.material()
  ], Flipbook.prototype, "base", void 0);
  __decorate2([
    property.string("")
  ], Flipbook.prototype, "url", void 0);
  __decorate2([
    property.string("")
  ], Flipbook.prototype, "urlEmissive", void 0);
  __decorate2([
    property.int(4)
  ], Flipbook.prototype, "columns", void 0);
  __decorate2([
    property.int(4)
  ], Flipbook.prototype, "rows", void 0);
  __decorate2([
    property.float(8)
  ], Flipbook.prototype, "speed", void 0);

  // node_modules/@sorskoot/wonderland-components/dist/components/prefab.js
  var __decorate3 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var Prefab = class extends Component {
    name;
  };
  __publicField(Prefab, "TypeName", "prefab");
  __decorate3([
    property.string()
  ], Prefab.prototype, "name", void 0);

  // node_modules/@sorskoot/wonderland-components/dist/components/prefab-storage.js
  var PrefabStorage = class extends Component {
    prefabs = {};
    start() {
      let children = this.object.children;
      for (let i = 0; i < children.length; i++) {
        let child = children[i];
        let childPrefab = child.getComponent(Prefab);
        if (childPrefab) {
          this.prefabs[childPrefab.name] = child;
          child.setPositionWorld([-1e3, -1e3, -1e3]);
        }
      }
    }
    /**
     * Instantiate a prefab.
     *
     * @param {string} prefabName Name of the prefab to instantiate.
     * @param {Object3D} parentObject The object to parent the prefab to after instantiation.
     * @returns {Object3D|undefined} The root of the instantiated prefab.
     */
    instantiate(prefabName, parentObject) {
      let prefab = this.prefabs[prefabName];
      if (!prefab) {
        console.error("trying to create " + prefabName + " but that is not a registerd prefab");
        return;
      }
      let obj = this.engine.scene.addObject(parentObject);
      obj.name = prefabName;
      obj.scaleLocal(prefab.getScalingLocal());
      obj.setTransformLocal(prefab.getTransformLocal());
      var prefabMesh = prefab.getComponent(MeshComponent);
      if (prefabMesh) {
        let newMesh = obj.addComponent(MeshComponent);
        if (!newMesh) {
          console.error("mesh component could not be added to object");
          return;
        }
        newMesh.mesh = prefabMesh.mesh;
        newMesh.material = prefabMesh.material;
      }
      var prefabCollision = prefab.getComponent(CollisionComponent);
      if (prefabCollision) {
        let newCollision = obj.addComponent(CollisionComponent);
        if (!newCollision) {
          console.error("collision component could not be added to object");
          return;
        }
        newCollision.collider = prefabCollision.collider;
        newCollision.extents = prefabCollision.extents;
        newCollision.group = prefabCollision.group;
      }
      obj.setDirty();
      return obj;
    }
  };
  __publicField(PrefabStorage, "TypeName", "prefab-storage");

  // node_modules/@sorskoot/wonderland-components/dist/components/shootBase.js
  var __decorate4 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var handedness = ["left", "right"];
  var ShootBase = class extends Component {
    haptics = true;
    handedness = 0;
    initialized = false;
    start() {
      this.initialized = false;
      this.engine.onXRSessionStart.add((session) => {
        if (this.initialized)
          return;
        session.addEventListener("select", (e) => {
          if (!this.active)
            return;
          if (e.inputSource.handedness === handedness[this.handedness]) {
            if (this.haptics) {
              this.pulse(e.inputSource.gamepad);
            }
            this.shoot(this.object.getPositionWorld(), this.object.getRotationWorld());
          }
        });
        this.initialized = true;
      });
    }
    pulse(gamepad) {
      var actuator;
      if (!gamepad || !gamepad.hapticActuators) {
        return;
      }
      actuator = gamepad.hapticActuators[0];
      if (!actuator)
        return;
      actuator.pulse(1, 100);
    }
    shoot(transform, rotation) {
    }
  };
  __publicField(ShootBase, "TypeName", "shoot-base");
  __decorate4([
    property.bool(true)
  ], ShootBase.prototype, "haptics", void 0);
  __decorate4([
    property.enum(["Left", "Right"])
  ], ShootBase.prototype, "handedness", void 0);

  // node_modules/gl-matrix/esm/common.js
  var EPSILON = 1e-6;
  var ARRAY_TYPE = typeof Float32Array !== "undefined" ? Float32Array : Array;
  var RANDOM = Math.random;
  var degree = Math.PI / 180;
  if (!Math.hypot)
    Math.hypot = function() {
      var y = 0, i = arguments.length;
      while (i--) {
        y += arguments[i] * arguments[i];
      }
      return Math.sqrt(y);
    };

  // node_modules/gl-matrix/esm/mat3.js
  function create() {
    var out = new ARRAY_TYPE(9);
    if (ARRAY_TYPE != Float32Array) {
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[5] = 0;
      out[6] = 0;
      out[7] = 0;
    }
    out[0] = 1;
    out[4] = 1;
    out[8] = 1;
    return out;
  }

  // node_modules/gl-matrix/esm/mat4.js
  var mat4_exports = {};
  __export(mat4_exports, {
    add: () => add,
    adjoint: () => adjoint,
    clone: () => clone,
    copy: () => copy,
    create: () => create2,
    determinant: () => determinant,
    equals: () => equals,
    exactEquals: () => exactEquals,
    frob: () => frob,
    fromQuat: () => fromQuat,
    fromQuat2: () => fromQuat2,
    fromRotation: () => fromRotation,
    fromRotationTranslation: () => fromRotationTranslation,
    fromRotationTranslationScale: () => fromRotationTranslationScale,
    fromRotationTranslationScaleOrigin: () => fromRotationTranslationScaleOrigin,
    fromScaling: () => fromScaling,
    fromTranslation: () => fromTranslation,
    fromValues: () => fromValues,
    fromXRotation: () => fromXRotation,
    fromYRotation: () => fromYRotation,
    fromZRotation: () => fromZRotation,
    frustum: () => frustum,
    getRotation: () => getRotation,
    getScaling: () => getScaling,
    getTranslation: () => getTranslation,
    identity: () => identity,
    invert: () => invert,
    lookAt: () => lookAt,
    mul: () => mul,
    multiply: () => multiply,
    multiplyScalar: () => multiplyScalar,
    multiplyScalarAndAdd: () => multiplyScalarAndAdd,
    ortho: () => ortho,
    orthoNO: () => orthoNO,
    orthoZO: () => orthoZO,
    perspective: () => perspective,
    perspectiveFromFieldOfView: () => perspectiveFromFieldOfView,
    perspectiveNO: () => perspectiveNO,
    perspectiveZO: () => perspectiveZO,
    rotate: () => rotate,
    rotateX: () => rotateX,
    rotateY: () => rotateY,
    rotateZ: () => rotateZ,
    scale: () => scale,
    set: () => set,
    str: () => str,
    sub: () => sub,
    subtract: () => subtract,
    targetTo: () => targetTo,
    translate: () => translate,
    transpose: () => transpose
  });
  function create2() {
    var out = new ARRAY_TYPE(16);
    if (ARRAY_TYPE != Float32Array) {
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 0;
      out[6] = 0;
      out[7] = 0;
      out[8] = 0;
      out[9] = 0;
      out[11] = 0;
      out[12] = 0;
      out[13] = 0;
      out[14] = 0;
    }
    out[0] = 1;
    out[5] = 1;
    out[10] = 1;
    out[15] = 1;
    return out;
  }
  function clone(a) {
    var out = new ARRAY_TYPE(16);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function copy(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
    var out = new ARRAY_TYPE(16);
    out[0] = m00;
    out[1] = m01;
    out[2] = m02;
    out[3] = m03;
    out[4] = m10;
    out[5] = m11;
    out[6] = m12;
    out[7] = m13;
    out[8] = m20;
    out[9] = m21;
    out[10] = m22;
    out[11] = m23;
    out[12] = m30;
    out[13] = m31;
    out[14] = m32;
    out[15] = m33;
    return out;
  }
  function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
    out[0] = m00;
    out[1] = m01;
    out[2] = m02;
    out[3] = m03;
    out[4] = m10;
    out[5] = m11;
    out[6] = m12;
    out[7] = m13;
    out[8] = m20;
    out[9] = m21;
    out[10] = m22;
    out[11] = m23;
    out[12] = m30;
    out[13] = m31;
    out[14] = m32;
    out[15] = m33;
    return out;
  }
  function identity(out) {
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function transpose(out, a) {
    if (out === a) {
      var a01 = a[1], a02 = a[2], a03 = a[3];
      var a12 = a[6], a13 = a[7];
      var a23 = a[11];
      out[1] = a[4];
      out[2] = a[8];
      out[3] = a[12];
      out[4] = a01;
      out[6] = a[9];
      out[7] = a[13];
      out[8] = a02;
      out[9] = a12;
      out[11] = a[14];
      out[12] = a03;
      out[13] = a13;
      out[14] = a23;
    } else {
      out[0] = a[0];
      out[1] = a[4];
      out[2] = a[8];
      out[3] = a[12];
      out[4] = a[1];
      out[5] = a[5];
      out[6] = a[9];
      out[7] = a[13];
      out[8] = a[2];
      out[9] = a[6];
      out[10] = a[10];
      out[11] = a[14];
      out[12] = a[3];
      out[13] = a[7];
      out[14] = a[11];
      out[15] = a[15];
    }
    return out;
  }
  function invert(out, a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b00 = a00 * a11 - a01 * a10;
    var b01 = a00 * a12 - a02 * a10;
    var b02 = a00 * a13 - a03 * a10;
    var b03 = a01 * a12 - a02 * a11;
    var b04 = a01 * a13 - a03 * a11;
    var b05 = a02 * a13 - a03 * a12;
    var b06 = a20 * a31 - a21 * a30;
    var b07 = a20 * a32 - a22 * a30;
    var b08 = a20 * a33 - a23 * a30;
    var b09 = a21 * a32 - a22 * a31;
    var b10 = a21 * a33 - a23 * a31;
    var b11 = a22 * a33 - a23 * a32;
    var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
    if (!det) {
      return null;
    }
    det = 1 / det;
    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;
    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;
    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;
    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;
    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;
    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;
    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;
    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;
    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;
    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;
    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;
    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;
    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;
    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;
    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;
    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;
    return out;
  }
  function adjoint(out, a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);
    out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));
    out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);
    out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));
    out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));
    out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);
    out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));
    out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);
    out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);
    out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));
    out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);
    out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));
    out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));
    out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);
    out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));
    out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);
    return out;
  }
  function determinant(a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b00 = a00 * a11 - a01 * a10;
    var b01 = a00 * a12 - a02 * a10;
    var b02 = a00 * a13 - a03 * a10;
    var b03 = a01 * a12 - a02 * a11;
    var b04 = a01 * a13 - a03 * a11;
    var b05 = a02 * a13 - a03 * a12;
    var b06 = a20 * a31 - a21 * a30;
    var b07 = a20 * a32 - a22 * a30;
    var b08 = a20 * a33 - a23 * a30;
    var b09 = a21 * a32 - a22 * a31;
    var b10 = a21 * a33 - a23 * a31;
    var b11 = a22 * a33 - a23 * a32;
    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
  }
  function multiply(out, a, b) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[4];
    b1 = b[5];
    b2 = b[6];
    b3 = b[7];
    out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[8];
    b1 = b[9];
    b2 = b[10];
    b3 = b[11];
    out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[12];
    b1 = b[13];
    b2 = b[14];
    b3 = b[15];
    out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    return out;
  }
  function translate(out, a, v) {
    var x = v[0], y = v[1], z = v[2];
    var a00, a01, a02, a03;
    var a10, a11, a12, a13;
    var a20, a21, a22, a23;
    if (a === out) {
      out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];
      out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];
      out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];
      out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];
    } else {
      a00 = a[0];
      a01 = a[1];
      a02 = a[2];
      a03 = a[3];
      a10 = a[4];
      a11 = a[5];
      a12 = a[6];
      a13 = a[7];
      a20 = a[8];
      a21 = a[9];
      a22 = a[10];
      a23 = a[11];
      out[0] = a00;
      out[1] = a01;
      out[2] = a02;
      out[3] = a03;
      out[4] = a10;
      out[5] = a11;
      out[6] = a12;
      out[7] = a13;
      out[8] = a20;
      out[9] = a21;
      out[10] = a22;
      out[11] = a23;
      out[12] = a00 * x + a10 * y + a20 * z + a[12];
      out[13] = a01 * x + a11 * y + a21 * z + a[13];
      out[14] = a02 * x + a12 * y + a22 * z + a[14];
      out[15] = a03 * x + a13 * y + a23 * z + a[15];
    }
    return out;
  }
  function scale(out, a, v) {
    var x = v[0], y = v[1], z = v[2];
    out[0] = a[0] * x;
    out[1] = a[1] * x;
    out[2] = a[2] * x;
    out[3] = a[3] * x;
    out[4] = a[4] * y;
    out[5] = a[5] * y;
    out[6] = a[6] * y;
    out[7] = a[7] * y;
    out[8] = a[8] * z;
    out[9] = a[9] * z;
    out[10] = a[10] * z;
    out[11] = a[11] * z;
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function rotate(out, a, rad, axis) {
    var x = axis[0], y = axis[1], z = axis[2];
    var len5 = Math.hypot(x, y, z);
    var s, c, t;
    var a00, a01, a02, a03;
    var a10, a11, a12, a13;
    var a20, a21, a22, a23;
    var b00, b01, b02;
    var b10, b11, b12;
    var b20, b21, b22;
    if (len5 < EPSILON) {
      return null;
    }
    len5 = 1 / len5;
    x *= len5;
    y *= len5;
    z *= len5;
    s = Math.sin(rad);
    c = Math.cos(rad);
    t = 1 - c;
    a00 = a[0];
    a01 = a[1];
    a02 = a[2];
    a03 = a[3];
    a10 = a[4];
    a11 = a[5];
    a12 = a[6];
    a13 = a[7];
    a20 = a[8];
    a21 = a[9];
    a22 = a[10];
    a23 = a[11];
    b00 = x * x * t + c;
    b01 = y * x * t + z * s;
    b02 = z * x * t - y * s;
    b10 = x * y * t - z * s;
    b11 = y * y * t + c;
    b12 = z * y * t + x * s;
    b20 = x * z * t + y * s;
    b21 = y * z * t - x * s;
    b22 = z * z * t + c;
    out[0] = a00 * b00 + a10 * b01 + a20 * b02;
    out[1] = a01 * b00 + a11 * b01 + a21 * b02;
    out[2] = a02 * b00 + a12 * b01 + a22 * b02;
    out[3] = a03 * b00 + a13 * b01 + a23 * b02;
    out[4] = a00 * b10 + a10 * b11 + a20 * b12;
    out[5] = a01 * b10 + a11 * b11 + a21 * b12;
    out[6] = a02 * b10 + a12 * b11 + a22 * b12;
    out[7] = a03 * b10 + a13 * b11 + a23 * b12;
    out[8] = a00 * b20 + a10 * b21 + a20 * b22;
    out[9] = a01 * b20 + a11 * b21 + a21 * b22;
    out[10] = a02 * b20 + a12 * b21 + a22 * b22;
    out[11] = a03 * b20 + a13 * b21 + a23 * b22;
    if (a !== out) {
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    return out;
  }
  function rotateX(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a10 = a[4];
    var a11 = a[5];
    var a12 = a[6];
    var a13 = a[7];
    var a20 = a[8];
    var a21 = a[9];
    var a22 = a[10];
    var a23 = a[11];
    if (a !== out) {
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[4] = a10 * c + a20 * s;
    out[5] = a11 * c + a21 * s;
    out[6] = a12 * c + a22 * s;
    out[7] = a13 * c + a23 * s;
    out[8] = a20 * c - a10 * s;
    out[9] = a21 * c - a11 * s;
    out[10] = a22 * c - a12 * s;
    out[11] = a23 * c - a13 * s;
    return out;
  }
  function rotateY(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a00 = a[0];
    var a01 = a[1];
    var a02 = a[2];
    var a03 = a[3];
    var a20 = a[8];
    var a21 = a[9];
    var a22 = a[10];
    var a23 = a[11];
    if (a !== out) {
      out[4] = a[4];
      out[5] = a[5];
      out[6] = a[6];
      out[7] = a[7];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[0] = a00 * c - a20 * s;
    out[1] = a01 * c - a21 * s;
    out[2] = a02 * c - a22 * s;
    out[3] = a03 * c - a23 * s;
    out[8] = a00 * s + a20 * c;
    out[9] = a01 * s + a21 * c;
    out[10] = a02 * s + a22 * c;
    out[11] = a03 * s + a23 * c;
    return out;
  }
  function rotateZ(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a00 = a[0];
    var a01 = a[1];
    var a02 = a[2];
    var a03 = a[3];
    var a10 = a[4];
    var a11 = a[5];
    var a12 = a[6];
    var a13 = a[7];
    if (a !== out) {
      out[8] = a[8];
      out[9] = a[9];
      out[10] = a[10];
      out[11] = a[11];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[0] = a00 * c + a10 * s;
    out[1] = a01 * c + a11 * s;
    out[2] = a02 * c + a12 * s;
    out[3] = a03 * c + a13 * s;
    out[4] = a10 * c - a00 * s;
    out[5] = a11 * c - a01 * s;
    out[6] = a12 * c - a02 * s;
    out[7] = a13 * c - a03 * s;
    return out;
  }
  function fromTranslation(out, v) {
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromScaling(out, v) {
    out[0] = v[0];
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = v[1];
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = v[2];
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromRotation(out, rad, axis) {
    var x = axis[0], y = axis[1], z = axis[2];
    var len5 = Math.hypot(x, y, z);
    var s, c, t;
    if (len5 < EPSILON) {
      return null;
    }
    len5 = 1 / len5;
    x *= len5;
    y *= len5;
    z *= len5;
    s = Math.sin(rad);
    c = Math.cos(rad);
    t = 1 - c;
    out[0] = x * x * t + c;
    out[1] = y * x * t + z * s;
    out[2] = z * x * t - y * s;
    out[3] = 0;
    out[4] = x * y * t - z * s;
    out[5] = y * y * t + c;
    out[6] = z * y * t + x * s;
    out[7] = 0;
    out[8] = x * z * t + y * s;
    out[9] = y * z * t - x * s;
    out[10] = z * z * t + c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromXRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = c;
    out[6] = s;
    out[7] = 0;
    out[8] = 0;
    out[9] = -s;
    out[10] = c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromYRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = c;
    out[1] = 0;
    out[2] = -s;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = s;
    out[9] = 0;
    out[10] = c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromZRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = c;
    out[1] = s;
    out[2] = 0;
    out[3] = 0;
    out[4] = -s;
    out[5] = c;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromRotationTranslation(out, q2, v) {
    var x = q2[0], y = q2[1], z = q2[2], w = q2[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    out[0] = 1 - (yy + zz);
    out[1] = xy + wz;
    out[2] = xz - wy;
    out[3] = 0;
    out[4] = xy - wz;
    out[5] = 1 - (xx + zz);
    out[6] = yz + wx;
    out[7] = 0;
    out[8] = xz + wy;
    out[9] = yz - wx;
    out[10] = 1 - (xx + yy);
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromQuat2(out, a) {
    var translation = new ARRAY_TYPE(3);
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7];
    var magnitude = bx * bx + by * by + bz * bz + bw * bw;
    if (magnitude > 0) {
      translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;
      translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;
      translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;
    } else {
      translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
      translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
      translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
    }
    fromRotationTranslation(out, a, translation);
    return out;
  }
  function getTranslation(out, mat) {
    out[0] = mat[12];
    out[1] = mat[13];
    out[2] = mat[14];
    return out;
  }
  function getScaling(out, mat) {
    var m11 = mat[0];
    var m12 = mat[1];
    var m13 = mat[2];
    var m21 = mat[4];
    var m22 = mat[5];
    var m23 = mat[6];
    var m31 = mat[8];
    var m32 = mat[9];
    var m33 = mat[10];
    out[0] = Math.hypot(m11, m12, m13);
    out[1] = Math.hypot(m21, m22, m23);
    out[2] = Math.hypot(m31, m32, m33);
    return out;
  }
  function getRotation(out, mat) {
    var scaling = new ARRAY_TYPE(3);
    getScaling(scaling, mat);
    var is1 = 1 / scaling[0];
    var is2 = 1 / scaling[1];
    var is3 = 1 / scaling[2];
    var sm11 = mat[0] * is1;
    var sm12 = mat[1] * is2;
    var sm13 = mat[2] * is3;
    var sm21 = mat[4] * is1;
    var sm22 = mat[5] * is2;
    var sm23 = mat[6] * is3;
    var sm31 = mat[8] * is1;
    var sm32 = mat[9] * is2;
    var sm33 = mat[10] * is3;
    var trace = sm11 + sm22 + sm33;
    var S = 0;
    if (trace > 0) {
      S = Math.sqrt(trace + 1) * 2;
      out[3] = 0.25 * S;
      out[0] = (sm23 - sm32) / S;
      out[1] = (sm31 - sm13) / S;
      out[2] = (sm12 - sm21) / S;
    } else if (sm11 > sm22 && sm11 > sm33) {
      S = Math.sqrt(1 + sm11 - sm22 - sm33) * 2;
      out[3] = (sm23 - sm32) / S;
      out[0] = 0.25 * S;
      out[1] = (sm12 + sm21) / S;
      out[2] = (sm31 + sm13) / S;
    } else if (sm22 > sm33) {
      S = Math.sqrt(1 + sm22 - sm11 - sm33) * 2;
      out[3] = (sm31 - sm13) / S;
      out[0] = (sm12 + sm21) / S;
      out[1] = 0.25 * S;
      out[2] = (sm23 + sm32) / S;
    } else {
      S = Math.sqrt(1 + sm33 - sm11 - sm22) * 2;
      out[3] = (sm12 - sm21) / S;
      out[0] = (sm31 + sm13) / S;
      out[1] = (sm23 + sm32) / S;
      out[2] = 0.25 * S;
    }
    return out;
  }
  function fromRotationTranslationScale(out, q2, v, s) {
    var x = q2[0], y = q2[1], z = q2[2], w = q2[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    var sx = s[0];
    var sy = s[1];
    var sz = s[2];
    out[0] = (1 - (yy + zz)) * sx;
    out[1] = (xy + wz) * sx;
    out[2] = (xz - wy) * sx;
    out[3] = 0;
    out[4] = (xy - wz) * sy;
    out[5] = (1 - (xx + zz)) * sy;
    out[6] = (yz + wx) * sy;
    out[7] = 0;
    out[8] = (xz + wy) * sz;
    out[9] = (yz - wx) * sz;
    out[10] = (1 - (xx + yy)) * sz;
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromRotationTranslationScaleOrigin(out, q2, v, s, o) {
    var x = q2[0], y = q2[1], z = q2[2], w = q2[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    var sx = s[0];
    var sy = s[1];
    var sz = s[2];
    var ox = o[0];
    var oy = o[1];
    var oz = o[2];
    var out0 = (1 - (yy + zz)) * sx;
    var out1 = (xy + wz) * sx;
    var out2 = (xz - wy) * sx;
    var out4 = (xy - wz) * sy;
    var out5 = (1 - (xx + zz)) * sy;
    var out6 = (yz + wx) * sy;
    var out8 = (xz + wy) * sz;
    var out9 = (yz - wx) * sz;
    var out10 = (1 - (xx + yy)) * sz;
    out[0] = out0;
    out[1] = out1;
    out[2] = out2;
    out[3] = 0;
    out[4] = out4;
    out[5] = out5;
    out[6] = out6;
    out[7] = 0;
    out[8] = out8;
    out[9] = out9;
    out[10] = out10;
    out[11] = 0;
    out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);
    out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);
    out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);
    out[15] = 1;
    return out;
  }
  function fromQuat(out, q2) {
    var x = q2[0], y = q2[1], z = q2[2], w = q2[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var yx = y * x2;
    var yy = y * y2;
    var zx = z * x2;
    var zy = z * y2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    out[0] = 1 - yy - zz;
    out[1] = yx + wz;
    out[2] = zx - wy;
    out[3] = 0;
    out[4] = yx - wz;
    out[5] = 1 - xx - zz;
    out[6] = zy + wx;
    out[7] = 0;
    out[8] = zx + wy;
    out[9] = zy - wx;
    out[10] = 1 - xx - yy;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function frustum(out, left, right, bottom, top, near, far) {
    var rl = 1 / (right - left);
    var tb = 1 / (top - bottom);
    var nf = 1 / (near - far);
    out[0] = near * 2 * rl;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = near * 2 * tb;
    out[6] = 0;
    out[7] = 0;
    out[8] = (right + left) * rl;
    out[9] = (top + bottom) * tb;
    out[10] = (far + near) * nf;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[14] = far * near * 2 * nf;
    out[15] = 0;
    return out;
  }
  function perspectiveNO(out, fovy, aspect, near, far) {
    var f2 = 1 / Math.tan(fovy / 2), nf;
    out[0] = f2 / aspect;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = f2;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[15] = 0;
    if (far != null && far !== Infinity) {
      nf = 1 / (near - far);
      out[10] = (far + near) * nf;
      out[14] = 2 * far * near * nf;
    } else {
      out[10] = -1;
      out[14] = -2 * near;
    }
    return out;
  }
  var perspective = perspectiveNO;
  function perspectiveZO(out, fovy, aspect, near, far) {
    var f2 = 1 / Math.tan(fovy / 2), nf;
    out[0] = f2 / aspect;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = f2;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[15] = 0;
    if (far != null && far !== Infinity) {
      nf = 1 / (near - far);
      out[10] = far * nf;
      out[14] = far * near * nf;
    } else {
      out[10] = -1;
      out[14] = -near;
    }
    return out;
  }
  function perspectiveFromFieldOfView(out, fov, near, far) {
    var upTan = Math.tan(fov.upDegrees * Math.PI / 180);
    var downTan = Math.tan(fov.downDegrees * Math.PI / 180);
    var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180);
    var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180);
    var xScale = 2 / (leftTan + rightTan);
    var yScale = 2 / (upTan + downTan);
    out[0] = xScale;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = yScale;
    out[6] = 0;
    out[7] = 0;
    out[8] = -((leftTan - rightTan) * xScale * 0.5);
    out[9] = (upTan - downTan) * yScale * 0.5;
    out[10] = far / (near - far);
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[14] = far * near / (near - far);
    out[15] = 0;
    return out;
  }
  function orthoNO(out, left, right, bottom, top, near, far) {
    var lr = 1 / (left - right);
    var bt = 1 / (bottom - top);
    var nf = 1 / (near - far);
    out[0] = -2 * lr;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = -2 * bt;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 2 * nf;
    out[11] = 0;
    out[12] = (left + right) * lr;
    out[13] = (top + bottom) * bt;
    out[14] = (far + near) * nf;
    out[15] = 1;
    return out;
  }
  var ortho = orthoNO;
  function orthoZO(out, left, right, bottom, top, near, far) {
    var lr = 1 / (left - right);
    var bt = 1 / (bottom - top);
    var nf = 1 / (near - far);
    out[0] = -2 * lr;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = -2 * bt;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = nf;
    out[11] = 0;
    out[12] = (left + right) * lr;
    out[13] = (top + bottom) * bt;
    out[14] = near * nf;
    out[15] = 1;
    return out;
  }
  function lookAt(out, eye, center, up) {
    var x0, x1, x2, y0, y1, y2, z0, z1, z2, len5;
    var eyex = eye[0];
    var eyey = eye[1];
    var eyez = eye[2];
    var upx = up[0];
    var upy = up[1];
    var upz = up[2];
    var centerx = center[0];
    var centery = center[1];
    var centerz = center[2];
    if (Math.abs(eyex - centerx) < EPSILON && Math.abs(eyey - centery) < EPSILON && Math.abs(eyez - centerz) < EPSILON) {
      return identity(out);
    }
    z0 = eyex - centerx;
    z1 = eyey - centery;
    z2 = eyez - centerz;
    len5 = 1 / Math.hypot(z0, z1, z2);
    z0 *= len5;
    z1 *= len5;
    z2 *= len5;
    x0 = upy * z2 - upz * z1;
    x1 = upz * z0 - upx * z2;
    x2 = upx * z1 - upy * z0;
    len5 = Math.hypot(x0, x1, x2);
    if (!len5) {
      x0 = 0;
      x1 = 0;
      x2 = 0;
    } else {
      len5 = 1 / len5;
      x0 *= len5;
      x1 *= len5;
      x2 *= len5;
    }
    y0 = z1 * x2 - z2 * x1;
    y1 = z2 * x0 - z0 * x2;
    y2 = z0 * x1 - z1 * x0;
    len5 = Math.hypot(y0, y1, y2);
    if (!len5) {
      y0 = 0;
      y1 = 0;
      y2 = 0;
    } else {
      len5 = 1 / len5;
      y0 *= len5;
      y1 *= len5;
      y2 *= len5;
    }
    out[0] = x0;
    out[1] = y0;
    out[2] = z0;
    out[3] = 0;
    out[4] = x1;
    out[5] = y1;
    out[6] = z1;
    out[7] = 0;
    out[8] = x2;
    out[9] = y2;
    out[10] = z2;
    out[11] = 0;
    out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);
    out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);
    out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);
    out[15] = 1;
    return out;
  }
  function targetTo(out, eye, target, up) {
    var eyex = eye[0], eyey = eye[1], eyez = eye[2], upx = up[0], upy = up[1], upz = up[2];
    var z0 = eyex - target[0], z1 = eyey - target[1], z2 = eyez - target[2];
    var len5 = z0 * z0 + z1 * z1 + z2 * z2;
    if (len5 > 0) {
      len5 = 1 / Math.sqrt(len5);
      z0 *= len5;
      z1 *= len5;
      z2 *= len5;
    }
    var x0 = upy * z2 - upz * z1, x1 = upz * z0 - upx * z2, x2 = upx * z1 - upy * z0;
    len5 = x0 * x0 + x1 * x1 + x2 * x2;
    if (len5 > 0) {
      len5 = 1 / Math.sqrt(len5);
      x0 *= len5;
      x1 *= len5;
      x2 *= len5;
    }
    out[0] = x0;
    out[1] = x1;
    out[2] = x2;
    out[3] = 0;
    out[4] = z1 * x2 - z2 * x1;
    out[5] = z2 * x0 - z0 * x2;
    out[6] = z0 * x1 - z1 * x0;
    out[7] = 0;
    out[8] = z0;
    out[9] = z1;
    out[10] = z2;
    out[11] = 0;
    out[12] = eyex;
    out[13] = eyey;
    out[14] = eyez;
    out[15] = 1;
    return out;
  }
  function str(a) {
    return "mat4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ", " + a[8] + ", " + a[9] + ", " + a[10] + ", " + a[11] + ", " + a[12] + ", " + a[13] + ", " + a[14] + ", " + a[15] + ")";
  }
  function frob(a) {
    return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);
  }
  function add(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    out[4] = a[4] + b[4];
    out[5] = a[5] + b[5];
    out[6] = a[6] + b[6];
    out[7] = a[7] + b[7];
    out[8] = a[8] + b[8];
    out[9] = a[9] + b[9];
    out[10] = a[10] + b[10];
    out[11] = a[11] + b[11];
    out[12] = a[12] + b[12];
    out[13] = a[13] + b[13];
    out[14] = a[14] + b[14];
    out[15] = a[15] + b[15];
    return out;
  }
  function subtract(out, a, b) {
    out[0] = a[0] - b[0];
    out[1] = a[1] - b[1];
    out[2] = a[2] - b[2];
    out[3] = a[3] - b[3];
    out[4] = a[4] - b[4];
    out[5] = a[5] - b[5];
    out[6] = a[6] - b[6];
    out[7] = a[7] - b[7];
    out[8] = a[8] - b[8];
    out[9] = a[9] - b[9];
    out[10] = a[10] - b[10];
    out[11] = a[11] - b[11];
    out[12] = a[12] - b[12];
    out[13] = a[13] - b[13];
    out[14] = a[14] - b[14];
    out[15] = a[15] - b[15];
    return out;
  }
  function multiplyScalar(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    out[4] = a[4] * b;
    out[5] = a[5] * b;
    out[6] = a[6] * b;
    out[7] = a[7] * b;
    out[8] = a[8] * b;
    out[9] = a[9] * b;
    out[10] = a[10] * b;
    out[11] = a[11] * b;
    out[12] = a[12] * b;
    out[13] = a[13] * b;
    out[14] = a[14] * b;
    out[15] = a[15] * b;
    return out;
  }
  function multiplyScalarAndAdd(out, a, b, scale7) {
    out[0] = a[0] + b[0] * scale7;
    out[1] = a[1] + b[1] * scale7;
    out[2] = a[2] + b[2] * scale7;
    out[3] = a[3] + b[3] * scale7;
    out[4] = a[4] + b[4] * scale7;
    out[5] = a[5] + b[5] * scale7;
    out[6] = a[6] + b[6] * scale7;
    out[7] = a[7] + b[7] * scale7;
    out[8] = a[8] + b[8] * scale7;
    out[9] = a[9] + b[9] * scale7;
    out[10] = a[10] + b[10] * scale7;
    out[11] = a[11] + b[11] * scale7;
    out[12] = a[12] + b[12] * scale7;
    out[13] = a[13] + b[13] * scale7;
    out[14] = a[14] + b[14] * scale7;
    out[15] = a[15] + b[15] * scale7;
    return out;
  }
  function exactEquals(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];
  }
  function equals(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7];
    var a8 = a[8], a9 = a[9], a10 = a[10], a11 = a[11];
    var a12 = a[12], a13 = a[13], a14 = a[14], a15 = a[15];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    var b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7];
    var b8 = b[8], b9 = b[9], b10 = b[10], b11 = b[11];
    var b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= EPSILON * Math.max(1, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= EPSILON * Math.max(1, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= EPSILON * Math.max(1, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= EPSILON * Math.max(1, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= EPSILON * Math.max(1, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= EPSILON * Math.max(1, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= EPSILON * Math.max(1, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= EPSILON * Math.max(1, Math.abs(a15), Math.abs(b15));
  }
  var mul = multiply;
  var sub = subtract;

  // node_modules/gl-matrix/esm/quat.js
  var quat_exports = {};
  __export(quat_exports, {
    add: () => add4,
    calculateW: () => calculateW,
    clone: () => clone4,
    conjugate: () => conjugate,
    copy: () => copy4,
    create: () => create5,
    dot: () => dot3,
    equals: () => equals4,
    exactEquals: () => exactEquals4,
    exp: () => exp,
    fromEuler: () => fromEuler,
    fromMat3: () => fromMat3,
    fromValues: () => fromValues4,
    getAngle: () => getAngle,
    getAxisAngle: () => getAxisAngle,
    identity: () => identity2,
    invert: () => invert2,
    len: () => len2,
    length: () => length3,
    lerp: () => lerp3,
    ln: () => ln,
    mul: () => mul3,
    multiply: () => multiply3,
    normalize: () => normalize3,
    pow: () => pow,
    random: () => random2,
    rotateX: () => rotateX3,
    rotateY: () => rotateY3,
    rotateZ: () => rotateZ3,
    rotationTo: () => rotationTo,
    scale: () => scale4,
    set: () => set4,
    setAxes: () => setAxes,
    setAxisAngle: () => setAxisAngle,
    slerp: () => slerp,
    sqlerp: () => sqlerp,
    sqrLen: () => sqrLen2,
    squaredLength: () => squaredLength3,
    str: () => str3
  });

  // node_modules/gl-matrix/esm/vec3.js
  var vec3_exports = {};
  __export(vec3_exports, {
    add: () => add2,
    angle: () => angle,
    bezier: () => bezier,
    ceil: () => ceil,
    clone: () => clone2,
    copy: () => copy2,
    create: () => create3,
    cross: () => cross,
    dist: () => dist,
    distance: () => distance,
    div: () => div,
    divide: () => divide,
    dot: () => dot,
    equals: () => equals2,
    exactEquals: () => exactEquals2,
    floor: () => floor,
    forEach: () => forEach,
    fromValues: () => fromValues2,
    hermite: () => hermite,
    inverse: () => inverse,
    len: () => len,
    length: () => length,
    lerp: () => lerp,
    max: () => max,
    min: () => min,
    mul: () => mul2,
    multiply: () => multiply2,
    negate: () => negate,
    normalize: () => normalize,
    random: () => random,
    rotateX: () => rotateX2,
    rotateY: () => rotateY2,
    rotateZ: () => rotateZ2,
    round: () => round,
    scale: () => scale2,
    scaleAndAdd: () => scaleAndAdd,
    set: () => set2,
    sqrDist: () => sqrDist,
    sqrLen: () => sqrLen,
    squaredDistance: () => squaredDistance,
    squaredLength: () => squaredLength,
    str: () => str2,
    sub: () => sub2,
    subtract: () => subtract2,
    transformMat3: () => transformMat3,
    transformMat4: () => transformMat4,
    transformQuat: () => transformQuat,
    zero: () => zero
  });
  function create3() {
    var out = new ARRAY_TYPE(3);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
    }
    return out;
  }
  function clone2(a) {
    var out = new ARRAY_TYPE(3);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    return out;
  }
  function length(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    return Math.hypot(x, y, z);
  }
  function fromValues2(x, y, z) {
    var out = new ARRAY_TYPE(3);
    out[0] = x;
    out[1] = y;
    out[2] = z;
    return out;
  }
  function copy2(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    return out;
  }
  function set2(out, x, y, z) {
    out[0] = x;
    out[1] = y;
    out[2] = z;
    return out;
  }
  function add2(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    return out;
  }
  function subtract2(out, a, b) {
    out[0] = a[0] - b[0];
    out[1] = a[1] - b[1];
    out[2] = a[2] - b[2];
    return out;
  }
  function multiply2(out, a, b) {
    out[0] = a[0] * b[0];
    out[1] = a[1] * b[1];
    out[2] = a[2] * b[2];
    return out;
  }
  function divide(out, a, b) {
    out[0] = a[0] / b[0];
    out[1] = a[1] / b[1];
    out[2] = a[2] / b[2];
    return out;
  }
  function ceil(out, a) {
    out[0] = Math.ceil(a[0]);
    out[1] = Math.ceil(a[1]);
    out[2] = Math.ceil(a[2]);
    return out;
  }
  function floor(out, a) {
    out[0] = Math.floor(a[0]);
    out[1] = Math.floor(a[1]);
    out[2] = Math.floor(a[2]);
    return out;
  }
  function min(out, a, b) {
    out[0] = Math.min(a[0], b[0]);
    out[1] = Math.min(a[1], b[1]);
    out[2] = Math.min(a[2], b[2]);
    return out;
  }
  function max(out, a, b) {
    out[0] = Math.max(a[0], b[0]);
    out[1] = Math.max(a[1], b[1]);
    out[2] = Math.max(a[2], b[2]);
    return out;
  }
  function round(out, a) {
    out[0] = Math.round(a[0]);
    out[1] = Math.round(a[1]);
    out[2] = Math.round(a[2]);
    return out;
  }
  function scale2(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    return out;
  }
  function scaleAndAdd(out, a, b, scale7) {
    out[0] = a[0] + b[0] * scale7;
    out[1] = a[1] + b[1] * scale7;
    out[2] = a[2] + b[2] * scale7;
    return out;
  }
  function distance(a, b) {
    var x = b[0] - a[0];
    var y = b[1] - a[1];
    var z = b[2] - a[2];
    return Math.hypot(x, y, z);
  }
  function squaredDistance(a, b) {
    var x = b[0] - a[0];
    var y = b[1] - a[1];
    var z = b[2] - a[2];
    return x * x + y * y + z * z;
  }
  function squaredLength(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    return x * x + y * y + z * z;
  }
  function negate(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    return out;
  }
  function inverse(out, a) {
    out[0] = 1 / a[0];
    out[1] = 1 / a[1];
    out[2] = 1 / a[2];
    return out;
  }
  function normalize(out, a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var len5 = x * x + y * y + z * z;
    if (len5 > 0) {
      len5 = 1 / Math.sqrt(len5);
    }
    out[0] = a[0] * len5;
    out[1] = a[1] * len5;
    out[2] = a[2] * len5;
    return out;
  }
  function dot(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
  }
  function cross(out, a, b) {
    var ax = a[0], ay = a[1], az = a[2];
    var bx = b[0], by = b[1], bz = b[2];
    out[0] = ay * bz - az * by;
    out[1] = az * bx - ax * bz;
    out[2] = ax * by - ay * bx;
    return out;
  }
  function lerp(out, a, b, t) {
    var ax = a[0];
    var ay = a[1];
    var az = a[2];
    out[0] = ax + t * (b[0] - ax);
    out[1] = ay + t * (b[1] - ay);
    out[2] = az + t * (b[2] - az);
    return out;
  }
  function hermite(out, a, b, c, d, t) {
    var factorTimes2 = t * t;
    var factor1 = factorTimes2 * (2 * t - 3) + 1;
    var factor2 = factorTimes2 * (t - 2) + t;
    var factor3 = factorTimes2 * (t - 1);
    var factor4 = factorTimes2 * (3 - 2 * t);
    out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
    out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
    out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
    return out;
  }
  function bezier(out, a, b, c, d, t) {
    var inverseFactor = 1 - t;
    var inverseFactorTimesTwo = inverseFactor * inverseFactor;
    var factorTimes2 = t * t;
    var factor1 = inverseFactorTimesTwo * inverseFactor;
    var factor2 = 3 * t * inverseFactorTimesTwo;
    var factor3 = 3 * factorTimes2 * inverseFactor;
    var factor4 = factorTimes2 * t;
    out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
    out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
    out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
    return out;
  }
  function random(out, scale7) {
    scale7 = scale7 || 1;
    var r = RANDOM() * 2 * Math.PI;
    var z = RANDOM() * 2 - 1;
    var zScale = Math.sqrt(1 - z * z) * scale7;
    out[0] = Math.cos(r) * zScale;
    out[1] = Math.sin(r) * zScale;
    out[2] = z * scale7;
    return out;
  }
  function transformMat4(out, a, m) {
    var x = a[0], y = a[1], z = a[2];
    var w = m[3] * x + m[7] * y + m[11] * z + m[15];
    w = w || 1;
    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;
    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;
    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;
    return out;
  }
  function transformMat3(out, a, m) {
    var x = a[0], y = a[1], z = a[2];
    out[0] = x * m[0] + y * m[3] + z * m[6];
    out[1] = x * m[1] + y * m[4] + z * m[7];
    out[2] = x * m[2] + y * m[5] + z * m[8];
    return out;
  }
  function transformQuat(out, a, q2) {
    var qx = q2[0], qy = q2[1], qz = q2[2], qw = q2[3];
    var x = a[0], y = a[1], z = a[2];
    var uvx = qy * z - qz * y, uvy = qz * x - qx * z, uvz = qx * y - qy * x;
    var uuvx = qy * uvz - qz * uvy, uuvy = qz * uvx - qx * uvz, uuvz = qx * uvy - qy * uvx;
    var w2 = qw * 2;
    uvx *= w2;
    uvy *= w2;
    uvz *= w2;
    uuvx *= 2;
    uuvy *= 2;
    uuvz *= 2;
    out[0] = x + uvx + uuvx;
    out[1] = y + uvy + uuvy;
    out[2] = z + uvz + uuvz;
    return out;
  }
  function rotateX2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[0];
    r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);
    r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad);
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function rotateY2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);
    r[1] = p[1];
    r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad);
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function rotateZ2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);
    r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);
    r[2] = p[2];
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function angle(a, b) {
    var ax = a[0], ay = a[1], az = a[2], bx = b[0], by = b[1], bz = b[2], mag1 = Math.sqrt(ax * ax + ay * ay + az * az), mag2 = Math.sqrt(bx * bx + by * by + bz * bz), mag = mag1 * mag2, cosine = mag && dot(a, b) / mag;
    return Math.acos(Math.min(Math.max(cosine, -1), 1));
  }
  function zero(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    return out;
  }
  function str2(a) {
    return "vec3(" + a[0] + ", " + a[1] + ", " + a[2] + ")";
  }
  function exactEquals2(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];
  }
  function equals2(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2];
    var b0 = b[0], b1 = b[1], b2 = b[2];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2));
  }
  var sub2 = subtract2;
  var mul2 = multiply2;
  var div = divide;
  var dist = distance;
  var sqrDist = squaredDistance;
  var len = length;
  var sqrLen = squaredLength;
  var forEach = function() {
    var vec = create3();
    return function(a, stride, offset2, count, fn, arg) {
      var i, l2;
      if (!stride) {
        stride = 3;
      }
      if (!offset2) {
        offset2 = 0;
      }
      if (count) {
        l2 = Math.min(count * stride + offset2, a.length);
      } else {
        l2 = a.length;
      }
      for (i = offset2; i < l2; i += stride) {
        vec[0] = a[i];
        vec[1] = a[i + 1];
        vec[2] = a[i + 2];
        fn(vec, vec, arg);
        a[i] = vec[0];
        a[i + 1] = vec[1];
        a[i + 2] = vec[2];
      }
      return a;
    };
  }();

  // node_modules/gl-matrix/esm/vec4.js
  function create4() {
    var out = new ARRAY_TYPE(4);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
    }
    return out;
  }
  function clone3(a) {
    var out = new ARRAY_TYPE(4);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    return out;
  }
  function fromValues3(x, y, z, w) {
    var out = new ARRAY_TYPE(4);
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = w;
    return out;
  }
  function copy3(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    return out;
  }
  function set3(out, x, y, z, w) {
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = w;
    return out;
  }
  function add3(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    return out;
  }
  function scale3(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    return out;
  }
  function length2(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    return Math.hypot(x, y, z, w);
  }
  function squaredLength2(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    return x * x + y * y + z * z + w * w;
  }
  function normalize2(out, a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    var len5 = x * x + y * y + z * z + w * w;
    if (len5 > 0) {
      len5 = 1 / Math.sqrt(len5);
    }
    out[0] = x * len5;
    out[1] = y * len5;
    out[2] = z * len5;
    out[3] = w * len5;
    return out;
  }
  function dot2(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];
  }
  function lerp2(out, a, b, t) {
    var ax = a[0];
    var ay = a[1];
    var az = a[2];
    var aw = a[3];
    out[0] = ax + t * (b[0] - ax);
    out[1] = ay + t * (b[1] - ay);
    out[2] = az + t * (b[2] - az);
    out[3] = aw + t * (b[3] - aw);
    return out;
  }
  function exactEquals3(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];
  }
  function equals3(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3));
  }
  var forEach2 = function() {
    var vec = create4();
    return function(a, stride, offset2, count, fn, arg) {
      var i, l2;
      if (!stride) {
        stride = 4;
      }
      if (!offset2) {
        offset2 = 0;
      }
      if (count) {
        l2 = Math.min(count * stride + offset2, a.length);
      } else {
        l2 = a.length;
      }
      for (i = offset2; i < l2; i += stride) {
        vec[0] = a[i];
        vec[1] = a[i + 1];
        vec[2] = a[i + 2];
        vec[3] = a[i + 3];
        fn(vec, vec, arg);
        a[i] = vec[0];
        a[i + 1] = vec[1];
        a[i + 2] = vec[2];
        a[i + 3] = vec[3];
      }
      return a;
    };
  }();

  // node_modules/gl-matrix/esm/quat.js
  function create5() {
    var out = new ARRAY_TYPE(4);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
    }
    out[3] = 1;
    return out;
  }
  function identity2(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    return out;
  }
  function setAxisAngle(out, axis, rad) {
    rad = rad * 0.5;
    var s = Math.sin(rad);
    out[0] = s * axis[0];
    out[1] = s * axis[1];
    out[2] = s * axis[2];
    out[3] = Math.cos(rad);
    return out;
  }
  function getAxisAngle(out_axis, q2) {
    var rad = Math.acos(q2[3]) * 2;
    var s = Math.sin(rad / 2);
    if (s > EPSILON) {
      out_axis[0] = q2[0] / s;
      out_axis[1] = q2[1] / s;
      out_axis[2] = q2[2] / s;
    } else {
      out_axis[0] = 1;
      out_axis[1] = 0;
      out_axis[2] = 0;
    }
    return rad;
  }
  function getAngle(a, b) {
    var dotproduct = dot3(a, b);
    return Math.acos(2 * dotproduct * dotproduct - 1);
  }
  function multiply3(out, a, b) {
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = b[0], by = b[1], bz = b[2], bw = b[3];
    out[0] = ax * bw + aw * bx + ay * bz - az * by;
    out[1] = ay * bw + aw * by + az * bx - ax * bz;
    out[2] = az * bw + aw * bz + ax * by - ay * bx;
    out[3] = aw * bw - ax * bx - ay * by - az * bz;
    return out;
  }
  function rotateX3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw + aw * bx;
    out[1] = ay * bw + az * bx;
    out[2] = az * bw - ay * bx;
    out[3] = aw * bw - ax * bx;
    return out;
  }
  function rotateY3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var by = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw - az * by;
    out[1] = ay * bw + aw * by;
    out[2] = az * bw + ax * by;
    out[3] = aw * bw - ay * by;
    return out;
  }
  function rotateZ3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bz = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw + ay * bz;
    out[1] = ay * bw - ax * bz;
    out[2] = az * bw + aw * bz;
    out[3] = aw * bw - az * bz;
    return out;
  }
  function calculateW(out, a) {
    var x = a[0], y = a[1], z = a[2];
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = Math.sqrt(Math.abs(1 - x * x - y * y - z * z));
    return out;
  }
  function exp(out, a) {
    var x = a[0], y = a[1], z = a[2], w = a[3];
    var r = Math.sqrt(x * x + y * y + z * z);
    var et = Math.exp(w);
    var s = r > 0 ? et * Math.sin(r) / r : 0;
    out[0] = x * s;
    out[1] = y * s;
    out[2] = z * s;
    out[3] = et * Math.cos(r);
    return out;
  }
  function ln(out, a) {
    var x = a[0], y = a[1], z = a[2], w = a[3];
    var r = Math.sqrt(x * x + y * y + z * z);
    var t = r > 0 ? Math.atan2(r, w) / r : 0;
    out[0] = x * t;
    out[1] = y * t;
    out[2] = z * t;
    out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);
    return out;
  }
  function pow(out, a, b) {
    ln(out, a);
    scale4(out, out, b);
    exp(out, out);
    return out;
  }
  function slerp(out, a, b, t) {
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = b[0], by = b[1], bz = b[2], bw = b[3];
    var omega, cosom, sinom, scale0, scale1;
    cosom = ax * bx + ay * by + az * bz + aw * bw;
    if (cosom < 0) {
      cosom = -cosom;
      bx = -bx;
      by = -by;
      bz = -bz;
      bw = -bw;
    }
    if (1 - cosom > EPSILON) {
      omega = Math.acos(cosom);
      sinom = Math.sin(omega);
      scale0 = Math.sin((1 - t) * omega) / sinom;
      scale1 = Math.sin(t * omega) / sinom;
    } else {
      scale0 = 1 - t;
      scale1 = t;
    }
    out[0] = scale0 * ax + scale1 * bx;
    out[1] = scale0 * ay + scale1 * by;
    out[2] = scale0 * az + scale1 * bz;
    out[3] = scale0 * aw + scale1 * bw;
    return out;
  }
  function random2(out) {
    var u1 = RANDOM();
    var u2 = RANDOM();
    var u3 = RANDOM();
    var sqrt1MinusU1 = Math.sqrt(1 - u1);
    var sqrtU1 = Math.sqrt(u1);
    out[0] = sqrt1MinusU1 * Math.sin(2 * Math.PI * u2);
    out[1] = sqrt1MinusU1 * Math.cos(2 * Math.PI * u2);
    out[2] = sqrtU1 * Math.sin(2 * Math.PI * u3);
    out[3] = sqrtU1 * Math.cos(2 * Math.PI * u3);
    return out;
  }
  function invert2(out, a) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var dot6 = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;
    var invDot = dot6 ? 1 / dot6 : 0;
    out[0] = -a0 * invDot;
    out[1] = -a1 * invDot;
    out[2] = -a2 * invDot;
    out[3] = a3 * invDot;
    return out;
  }
  function conjugate(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    out[3] = a[3];
    return out;
  }
  function fromMat3(out, m) {
    var fTrace = m[0] + m[4] + m[8];
    var fRoot;
    if (fTrace > 0) {
      fRoot = Math.sqrt(fTrace + 1);
      out[3] = 0.5 * fRoot;
      fRoot = 0.5 / fRoot;
      out[0] = (m[5] - m[7]) * fRoot;
      out[1] = (m[6] - m[2]) * fRoot;
      out[2] = (m[1] - m[3]) * fRoot;
    } else {
      var i = 0;
      if (m[4] > m[0])
        i = 1;
      if (m[8] > m[i * 3 + i])
        i = 2;
      var j = (i + 1) % 3;
      var k = (i + 2) % 3;
      fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1);
      out[i] = 0.5 * fRoot;
      fRoot = 0.5 / fRoot;
      out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;
      out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;
      out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;
    }
    return out;
  }
  function fromEuler(out, x, y, z) {
    var halfToRad = 0.5 * Math.PI / 180;
    x *= halfToRad;
    y *= halfToRad;
    z *= halfToRad;
    var sx = Math.sin(x);
    var cx = Math.cos(x);
    var sy = Math.sin(y);
    var cy = Math.cos(y);
    var sz = Math.sin(z);
    var cz = Math.cos(z);
    out[0] = sx * cy * cz - cx * sy * sz;
    out[1] = cx * sy * cz + sx * cy * sz;
    out[2] = cx * cy * sz - sx * sy * cz;
    out[3] = cx * cy * cz + sx * sy * sz;
    return out;
  }
  function str3(a) {
    return "quat(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ")";
  }
  var clone4 = clone3;
  var fromValues4 = fromValues3;
  var copy4 = copy3;
  var set4 = set3;
  var add4 = add3;
  var mul3 = multiply3;
  var scale4 = scale3;
  var dot3 = dot2;
  var lerp3 = lerp2;
  var length3 = length2;
  var len2 = length3;
  var squaredLength3 = squaredLength2;
  var sqrLen2 = squaredLength3;
  var normalize3 = normalize2;
  var exactEquals4 = exactEquals3;
  var equals4 = equals3;
  var rotationTo = function() {
    var tmpvec3 = create3();
    var xUnitVec3 = fromValues2(1, 0, 0);
    var yUnitVec3 = fromValues2(0, 1, 0);
    return function(out, a, b) {
      var dot6 = dot(a, b);
      if (dot6 < -0.999999) {
        cross(tmpvec3, xUnitVec3, a);
        if (len(tmpvec3) < 1e-6)
          cross(tmpvec3, yUnitVec3, a);
        normalize(tmpvec3, tmpvec3);
        setAxisAngle(out, tmpvec3, Math.PI);
        return out;
      } else if (dot6 > 0.999999) {
        out[0] = 0;
        out[1] = 0;
        out[2] = 0;
        out[3] = 1;
        return out;
      } else {
        cross(tmpvec3, a, b);
        out[0] = tmpvec3[0];
        out[1] = tmpvec3[1];
        out[2] = tmpvec3[2];
        out[3] = 1 + dot6;
        return normalize3(out, out);
      }
    };
  }();
  var sqlerp = function() {
    var temp1 = create5();
    var temp2 = create5();
    return function(out, a, b, c, d, t) {
      slerp(temp1, a, d, t);
      slerp(temp2, b, c, t);
      slerp(out, temp1, temp2, 2 * t * (1 - t));
      return out;
    };
  }();
  var setAxes = function() {
    var matr = create();
    return function(out, view, right, up) {
      matr[0] = right[0];
      matr[3] = right[1];
      matr[6] = right[2];
      matr[1] = up[0];
      matr[4] = up[1];
      matr[7] = up[2];
      matr[2] = -view[0];
      matr[5] = -view[1];
      matr[8] = -view[2];
      return normalize3(out, fromMat3(out, matr));
    };
  }();

  // node_modules/gl-matrix/esm/quat2.js
  var quat2_exports = {};
  __export(quat2_exports, {
    add: () => add5,
    clone: () => clone5,
    conjugate: () => conjugate2,
    copy: () => copy5,
    create: () => create6,
    dot: () => dot4,
    equals: () => equals5,
    exactEquals: () => exactEquals5,
    fromMat4: () => fromMat4,
    fromRotation: () => fromRotation2,
    fromRotationTranslation: () => fromRotationTranslation2,
    fromRotationTranslationValues: () => fromRotationTranslationValues,
    fromTranslation: () => fromTranslation2,
    fromValues: () => fromValues5,
    getDual: () => getDual,
    getReal: () => getReal,
    getTranslation: () => getTranslation2,
    identity: () => identity3,
    invert: () => invert3,
    len: () => len3,
    length: () => length4,
    lerp: () => lerp4,
    mul: () => mul4,
    multiply: () => multiply4,
    normalize: () => normalize4,
    rotateAroundAxis: () => rotateAroundAxis,
    rotateByQuatAppend: () => rotateByQuatAppend,
    rotateByQuatPrepend: () => rotateByQuatPrepend,
    rotateX: () => rotateX4,
    rotateY: () => rotateY4,
    rotateZ: () => rotateZ4,
    scale: () => scale5,
    set: () => set5,
    setDual: () => setDual,
    setReal: () => setReal,
    sqrLen: () => sqrLen3,
    squaredLength: () => squaredLength4,
    str: () => str4,
    translate: () => translate2
  });
  function create6() {
    var dq = new ARRAY_TYPE(8);
    if (ARRAY_TYPE != Float32Array) {
      dq[0] = 0;
      dq[1] = 0;
      dq[2] = 0;
      dq[4] = 0;
      dq[5] = 0;
      dq[6] = 0;
      dq[7] = 0;
    }
    dq[3] = 1;
    return dq;
  }
  function clone5(a) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = a[0];
    dq[1] = a[1];
    dq[2] = a[2];
    dq[3] = a[3];
    dq[4] = a[4];
    dq[5] = a[5];
    dq[6] = a[6];
    dq[7] = a[7];
    return dq;
  }
  function fromValues5(x1, y1, z1, w1, x2, y2, z2, w2) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = x1;
    dq[1] = y1;
    dq[2] = z1;
    dq[3] = w1;
    dq[4] = x2;
    dq[5] = y2;
    dq[6] = z2;
    dq[7] = w2;
    return dq;
  }
  function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = x1;
    dq[1] = y1;
    dq[2] = z1;
    dq[3] = w1;
    var ax = x2 * 0.5, ay = y2 * 0.5, az = z2 * 0.5;
    dq[4] = ax * w1 + ay * z1 - az * y1;
    dq[5] = ay * w1 + az * x1 - ax * z1;
    dq[6] = az * w1 + ax * y1 - ay * x1;
    dq[7] = -ax * x1 - ay * y1 - az * z1;
    return dq;
  }
  function fromRotationTranslation2(out, q2, t) {
    var ax = t[0] * 0.5, ay = t[1] * 0.5, az = t[2] * 0.5, bx = q2[0], by = q2[1], bz = q2[2], bw = q2[3];
    out[0] = bx;
    out[1] = by;
    out[2] = bz;
    out[3] = bw;
    out[4] = ax * bw + ay * bz - az * by;
    out[5] = ay * bw + az * bx - ax * bz;
    out[6] = az * bw + ax * by - ay * bx;
    out[7] = -ax * bx - ay * by - az * bz;
    return out;
  }
  function fromTranslation2(out, t) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    out[4] = t[0] * 0.5;
    out[5] = t[1] * 0.5;
    out[6] = t[2] * 0.5;
    out[7] = 0;
    return out;
  }
  function fromRotation2(out, q2) {
    out[0] = q2[0];
    out[1] = q2[1];
    out[2] = q2[2];
    out[3] = q2[3];
    out[4] = 0;
    out[5] = 0;
    out[6] = 0;
    out[7] = 0;
    return out;
  }
  function fromMat4(out, a) {
    var outer = create5();
    getRotation(outer, a);
    var t = new ARRAY_TYPE(3);
    getTranslation(t, a);
    fromRotationTranslation2(out, outer, t);
    return out;
  }
  function copy5(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    return out;
  }
  function identity3(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    out[4] = 0;
    out[5] = 0;
    out[6] = 0;
    out[7] = 0;
    return out;
  }
  function set5(out, x1, y1, z1, w1, x2, y2, z2, w2) {
    out[0] = x1;
    out[1] = y1;
    out[2] = z1;
    out[3] = w1;
    out[4] = x2;
    out[5] = y2;
    out[6] = z2;
    out[7] = w2;
    return out;
  }
  var getReal = copy4;
  function getDual(out, a) {
    out[0] = a[4];
    out[1] = a[5];
    out[2] = a[6];
    out[3] = a[7];
    return out;
  }
  var setReal = copy4;
  function setDual(out, q2) {
    out[4] = q2[0];
    out[5] = q2[1];
    out[6] = q2[2];
    out[7] = q2[3];
    return out;
  }
  function getTranslation2(out, a) {
    var ax = a[4], ay = a[5], az = a[6], aw = a[7], bx = -a[0], by = -a[1], bz = -a[2], bw = a[3];
    out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
    out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
    out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
    return out;
  }
  function translate2(out, a, v) {
    var ax1 = a[0], ay1 = a[1], az1 = a[2], aw1 = a[3], bx1 = v[0] * 0.5, by1 = v[1] * 0.5, bz1 = v[2] * 0.5, ax2 = a[4], ay2 = a[5], az2 = a[6], aw2 = a[7];
    out[0] = ax1;
    out[1] = ay1;
    out[2] = az1;
    out[3] = aw1;
    out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;
    out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;
    out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;
    out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;
    return out;
  }
  function rotateX4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateX3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateY4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateY3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateZ4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateZ3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateByQuatAppend(out, a, q2) {
    var qx = q2[0], qy = q2[1], qz = q2[2], qw = q2[3], ax = a[0], ay = a[1], az = a[2], aw = a[3];
    out[0] = ax * qw + aw * qx + ay * qz - az * qy;
    out[1] = ay * qw + aw * qy + az * qx - ax * qz;
    out[2] = az * qw + aw * qz + ax * qy - ay * qx;
    out[3] = aw * qw - ax * qx - ay * qy - az * qz;
    ax = a[4];
    ay = a[5];
    az = a[6];
    aw = a[7];
    out[4] = ax * qw + aw * qx + ay * qz - az * qy;
    out[5] = ay * qw + aw * qy + az * qx - ax * qz;
    out[6] = az * qw + aw * qz + ax * qy - ay * qx;
    out[7] = aw * qw - ax * qx - ay * qy - az * qz;
    return out;
  }
  function rotateByQuatPrepend(out, q2, a) {
    var qx = q2[0], qy = q2[1], qz = q2[2], qw = q2[3], bx = a[0], by = a[1], bz = a[2], bw = a[3];
    out[0] = qx * bw + qw * bx + qy * bz - qz * by;
    out[1] = qy * bw + qw * by + qz * bx - qx * bz;
    out[2] = qz * bw + qw * bz + qx * by - qy * bx;
    out[3] = qw * bw - qx * bx - qy * by - qz * bz;
    bx = a[4];
    by = a[5];
    bz = a[6];
    bw = a[7];
    out[4] = qx * bw + qw * bx + qy * bz - qz * by;
    out[5] = qy * bw + qw * by + qz * bx - qx * bz;
    out[6] = qz * bw + qw * bz + qx * by - qy * bx;
    out[7] = qw * bw - qx * bx - qy * by - qz * bz;
    return out;
  }
  function rotateAroundAxis(out, a, axis, rad) {
    if (Math.abs(rad) < EPSILON) {
      return copy5(out, a);
    }
    var axisLength = Math.hypot(axis[0], axis[1], axis[2]);
    rad = rad * 0.5;
    var s = Math.sin(rad);
    var bx = s * axis[0] / axisLength;
    var by = s * axis[1] / axisLength;
    var bz = s * axis[2] / axisLength;
    var bw = Math.cos(rad);
    var ax1 = a[0], ay1 = a[1], az1 = a[2], aw1 = a[3];
    out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    var ax = a[4], ay = a[5], az = a[6], aw = a[7];
    out[4] = ax * bw + aw * bx + ay * bz - az * by;
    out[5] = ay * bw + aw * by + az * bx - ax * bz;
    out[6] = az * bw + aw * bz + ax * by - ay * bx;
    out[7] = aw * bw - ax * bx - ay * by - az * bz;
    return out;
  }
  function add5(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    out[4] = a[4] + b[4];
    out[5] = a[5] + b[5];
    out[6] = a[6] + b[6];
    out[7] = a[7] + b[7];
    return out;
  }
  function multiply4(out, a, b) {
    var ax0 = a[0], ay0 = a[1], az0 = a[2], aw0 = a[3], bx1 = b[4], by1 = b[5], bz1 = b[6], bw1 = b[7], ax1 = a[4], ay1 = a[5], az1 = a[6], aw1 = a[7], bx0 = b[0], by0 = b[1], bz0 = b[2], bw0 = b[3];
    out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;
    out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;
    out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;
    out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;
    out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;
    out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;
    out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;
    out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;
    return out;
  }
  var mul4 = multiply4;
  function scale5(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    out[4] = a[4] * b;
    out[5] = a[5] * b;
    out[6] = a[6] * b;
    out[7] = a[7] * b;
    return out;
  }
  var dot4 = dot3;
  function lerp4(out, a, b, t) {
    var mt2 = 1 - t;
    if (dot4(a, b) < 0)
      t = -t;
    out[0] = a[0] * mt2 + b[0] * t;
    out[1] = a[1] * mt2 + b[1] * t;
    out[2] = a[2] * mt2 + b[2] * t;
    out[3] = a[3] * mt2 + b[3] * t;
    out[4] = a[4] * mt2 + b[4] * t;
    out[5] = a[5] * mt2 + b[5] * t;
    out[6] = a[6] * mt2 + b[6] * t;
    out[7] = a[7] * mt2 + b[7] * t;
    return out;
  }
  function invert3(out, a) {
    var sqlen = squaredLength4(a);
    out[0] = -a[0] / sqlen;
    out[1] = -a[1] / sqlen;
    out[2] = -a[2] / sqlen;
    out[3] = a[3] / sqlen;
    out[4] = -a[4] / sqlen;
    out[5] = -a[5] / sqlen;
    out[6] = -a[6] / sqlen;
    out[7] = a[7] / sqlen;
    return out;
  }
  function conjugate2(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    out[3] = a[3];
    out[4] = -a[4];
    out[5] = -a[5];
    out[6] = -a[6];
    out[7] = a[7];
    return out;
  }
  var length4 = length3;
  var len3 = length4;
  var squaredLength4 = squaredLength3;
  var sqrLen3 = squaredLength4;
  function normalize4(out, a) {
    var magnitude = squaredLength4(a);
    if (magnitude > 0) {
      magnitude = Math.sqrt(magnitude);
      var a0 = a[0] / magnitude;
      var a1 = a[1] / magnitude;
      var a2 = a[2] / magnitude;
      var a3 = a[3] / magnitude;
      var b0 = a[4];
      var b1 = a[5];
      var b2 = a[6];
      var b3 = a[7];
      var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;
      out[0] = a0;
      out[1] = a1;
      out[2] = a2;
      out[3] = a3;
      out[4] = (b0 - a0 * a_dot_b) / magnitude;
      out[5] = (b1 - a1 * a_dot_b) / magnitude;
      out[6] = (b2 - a2 * a_dot_b) / magnitude;
      out[7] = (b3 - a3 * a_dot_b) / magnitude;
    }
    return out;
  }
  function str4(a) {
    return "quat2(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ")";
  }
  function exactEquals5(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];
  }
  function equals5(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1, Math.abs(a7), Math.abs(b7));
  }

  // node_modules/gl-matrix/esm/vec2.js
  var vec2_exports = {};
  __export(vec2_exports, {
    add: () => add6,
    angle: () => angle2,
    ceil: () => ceil2,
    clone: () => clone6,
    copy: () => copy6,
    create: () => create7,
    cross: () => cross2,
    dist: () => dist2,
    distance: () => distance2,
    div: () => div2,
    divide: () => divide2,
    dot: () => dot5,
    equals: () => equals6,
    exactEquals: () => exactEquals6,
    floor: () => floor2,
    forEach: () => forEach3,
    fromValues: () => fromValues6,
    inverse: () => inverse2,
    len: () => len4,
    length: () => length5,
    lerp: () => lerp5,
    max: () => max2,
    min: () => min2,
    mul: () => mul5,
    multiply: () => multiply5,
    negate: () => negate2,
    normalize: () => normalize5,
    random: () => random3,
    rotate: () => rotate2,
    round: () => round2,
    scale: () => scale6,
    scaleAndAdd: () => scaleAndAdd2,
    set: () => set6,
    sqrDist: () => sqrDist2,
    sqrLen: () => sqrLen4,
    squaredDistance: () => squaredDistance2,
    squaredLength: () => squaredLength5,
    str: () => str5,
    sub: () => sub3,
    subtract: () => subtract3,
    transformMat2: () => transformMat2,
    transformMat2d: () => transformMat2d,
    transformMat3: () => transformMat32,
    transformMat4: () => transformMat42,
    zero: () => zero2
  });
  function create7() {
    var out = new ARRAY_TYPE(2);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
    }
    return out;
  }
  function clone6(a) {
    var out = new ARRAY_TYPE(2);
    out[0] = a[0];
    out[1] = a[1];
    return out;
  }
  function fromValues6(x, y) {
    var out = new ARRAY_TYPE(2);
    out[0] = x;
    out[1] = y;
    return out;
  }
  function copy6(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    return out;
  }
  function set6(out, x, y) {
    out[0] = x;
    out[1] = y;
    return out;
  }
  function add6(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    return out;
  }
  function subtract3(out, a, b) {
    out[0] = a[0] - b[0];
    out[1] = a[1] - b[1];
    return out;
  }
  function multiply5(out, a, b) {
    out[0] = a[0] * b[0];
    out[1] = a[1] * b[1];
    return out;
  }
  function divide2(out, a, b) {
    out[0] = a[0] / b[0];
    out[1] = a[1] / b[1];
    return out;
  }
  function ceil2(out, a) {
    out[0] = Math.ceil(a[0]);
    out[1] = Math.ceil(a[1]);
    return out;
  }
  function floor2(out, a) {
    out[0] = Math.floor(a[0]);
    out[1] = Math.floor(a[1]);
    return out;
  }
  function min2(out, a, b) {
    out[0] = Math.min(a[0], b[0]);
    out[1] = Math.min(a[1], b[1]);
    return out;
  }
  function max2(out, a, b) {
    out[0] = Math.max(a[0], b[0]);
    out[1] = Math.max(a[1], b[1]);
    return out;
  }
  function round2(out, a) {
    out[0] = Math.round(a[0]);
    out[1] = Math.round(a[1]);
    return out;
  }
  function scale6(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    return out;
  }
  function scaleAndAdd2(out, a, b, scale7) {
    out[0] = a[0] + b[0] * scale7;
    out[1] = a[1] + b[1] * scale7;
    return out;
  }
  function distance2(a, b) {
    var x = b[0] - a[0], y = b[1] - a[1];
    return Math.hypot(x, y);
  }
  function squaredDistance2(a, b) {
    var x = b[0] - a[0], y = b[1] - a[1];
    return x * x + y * y;
  }
  function length5(a) {
    var x = a[0], y = a[1];
    return Math.hypot(x, y);
  }
  function squaredLength5(a) {
    var x = a[0], y = a[1];
    return x * x + y * y;
  }
  function negate2(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    return out;
  }
  function inverse2(out, a) {
    out[0] = 1 / a[0];
    out[1] = 1 / a[1];
    return out;
  }
  function normalize5(out, a) {
    var x = a[0], y = a[1];
    var len5 = x * x + y * y;
    if (len5 > 0) {
      len5 = 1 / Math.sqrt(len5);
    }
    out[0] = a[0] * len5;
    out[1] = a[1] * len5;
    return out;
  }
  function dot5(a, b) {
    return a[0] * b[0] + a[1] * b[1];
  }
  function cross2(out, a, b) {
    var z = a[0] * b[1] - a[1] * b[0];
    out[0] = out[1] = 0;
    out[2] = z;
    return out;
  }
  function lerp5(out, a, b, t) {
    var ax = a[0], ay = a[1];
    out[0] = ax + t * (b[0] - ax);
    out[1] = ay + t * (b[1] - ay);
    return out;
  }
  function random3(out, scale7) {
    scale7 = scale7 || 1;
    var r = RANDOM() * 2 * Math.PI;
    out[0] = Math.cos(r) * scale7;
    out[1] = Math.sin(r) * scale7;
    return out;
  }
  function transformMat2(out, a, m) {
    var x = a[0], y = a[1];
    out[0] = m[0] * x + m[2] * y;
    out[1] = m[1] * x + m[3] * y;
    return out;
  }
  function transformMat2d(out, a, m) {
    var x = a[0], y = a[1];
    out[0] = m[0] * x + m[2] * y + m[4];
    out[1] = m[1] * x + m[3] * y + m[5];
    return out;
  }
  function transformMat32(out, a, m) {
    var x = a[0], y = a[1];
    out[0] = m[0] * x + m[3] * y + m[6];
    out[1] = m[1] * x + m[4] * y + m[7];
    return out;
  }
  function transformMat42(out, a, m) {
    var x = a[0];
    var y = a[1];
    out[0] = m[0] * x + m[4] * y + m[12];
    out[1] = m[1] * x + m[5] * y + m[13];
    return out;
  }
  function rotate2(out, a, b, rad) {
    var p0 = a[0] - b[0], p1 = a[1] - b[1], sinC = Math.sin(rad), cosC = Math.cos(rad);
    out[0] = p0 * cosC - p1 * sinC + b[0];
    out[1] = p0 * sinC + p1 * cosC + b[1];
    return out;
  }
  function angle2(a, b) {
    var x1 = a[0], y1 = a[1], x2 = b[0], y2 = b[1], mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2), cosine = mag && (x1 * x2 + y1 * y2) / mag;
    return Math.acos(Math.min(Math.max(cosine, -1), 1));
  }
  function zero2(out) {
    out[0] = 0;
    out[1] = 0;
    return out;
  }
  function str5(a) {
    return "vec2(" + a[0] + ", " + a[1] + ")";
  }
  function exactEquals6(a, b) {
    return a[0] === b[0] && a[1] === b[1];
  }
  function equals6(a, b) {
    var a0 = a[0], a1 = a[1];
    var b0 = b[0], b1 = b[1];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1));
  }
  var len4 = length5;
  var sub3 = subtract3;
  var mul5 = multiply5;
  var div2 = divide2;
  var dist2 = distance2;
  var sqrDist2 = squaredDistance2;
  var sqrLen4 = squaredLength5;
  var forEach3 = function() {
    var vec = create7();
    return function(a, stride, offset2, count, fn, arg) {
      var i, l2;
      if (!stride) {
        stride = 2;
      }
      if (!offset2) {
        offset2 = 0;
      }
      if (count) {
        l2 = Math.min(count * stride + offset2, a.length);
      } else {
        l2 = a.length;
      }
      for (i = offset2; i < l2; i += stride) {
        vec[0] = a[i];
        vec[1] = a[i + 1];
        fn(vec, vec, arg);
        a[i] = vec[0];
        a[i + 1] = vec[1];
      }
      return a;
    };
  }();

  // node_modules/@sorskoot/wonderland-components/dist/components/snap-rotate.js
  var __decorate5 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var SnapRotate = class extends Component {
    player;
    degrees;
    input = null;
    snapped = false;
    start() {
      this.input = this.object.getComponent(InputComponent);
      this.snapped = false;
    }
    update(dt) {
      if (!this.input || !this.input.xrInputSource || !this.input.xrInputSource.gamepad || !this.input.xrInputSource.gamepad.axes) {
        return;
      }
      const currentAxis = this.input.xrInputSource.gamepad.axes[2];
      if (currentAxis > -0.2 && currentAxis < 0.2) {
        this.snapped = false;
        return;
      }
      if (Math.abs(currentAxis) < 0.8) {
        return;
      }
      let lastHeadPos = vec3_exports.fromValues(0, 0, 0);
      this.player.getPositionWorld(lastHeadPos);
      if (currentAxis < -0.8 && !this.snapped) {
        this.player.rotateAxisAngleDegLocal([0, 1, 0], this.degrees);
        this.snapped = true;
      }
      if (currentAxis > 0.8 && !this.snapped) {
        this.player.rotateAxisAngleDegLocal([0, 1, 0], -this.degrees);
        this.snapped = true;
      }
      let currentHeadPos = vec3_exports.fromValues(0, 0, 0);
      this.player.getPositionWorld(currentHeadPos);
      let newPos = vec3_exports.fromValues(0, 0, 0);
      vec3_exports.sub(newPos, lastHeadPos, currentHeadPos);
      this.player.translateLocal(newPos);
    }
  };
  __publicField(SnapRotate, "TypeName", "snap-rotate");
  __decorate5([
    property.object()
  ], SnapRotate.prototype, "player", void 0);
  __decorate5([
    property.int(30)
  ], SnapRotate.prototype, "degrees", void 0);

  // node_modules/@sorskoot/wonderland-components/dist/components/snow-particles.js
  var __decorate6 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var _objects, _velocities, _speeds, _direction;
  var SnowParticles = class extends Component {
    constructor() {
      super(...arguments);
      __publicField(this, "mesh");
      __publicField(this, "material");
      __publicField(this, "delay");
      __publicField(this, "maxParticles");
      __publicField(this, "initialSpeed");
      __publicField(this, "particleScale");
      __publicField(this, "size");
      __publicField(this, "time", 0);
      __publicField(this, "count", 0);
      /**
       * @type {Object3D[]}
       */
      __privateAdd(this, _objects, []);
      /**
      * @type {number[][]}
      */
      __privateAdd(this, _velocities, []);
      __privateAdd(this, _speeds, []);
      __privateAdd(this, _direction, [0, 0, 0]);
    }
    start() {
      __privateSet(this, _objects, this.engine.scene.addObjects(this.maxParticles, null, this.maxParticles));
      for (let i = 0; i < this.maxParticles; ++i) {
        __privateGet(this, _velocities).push([Math.random() / 4 - 0.125, -Math.random() - 0.2, Math.random() / 4 - 0.125]);
        let obj = __privateGet(this, _objects)[i];
        obj.name = "particle" + this.count.toString();
        let mesh = obj.addComponent(MeshComponent);
        mesh.mesh = this.mesh;
        mesh.material = this.material;
        obj.scaleLocal([0, 0, 0]);
      }
      for (let i = 0; i < this.maxParticles; ++i) {
        this.spawn();
      }
    }
    update(dt) {
      let origin = vec3_exports.fromValues(0, 0, 0);
      let distance3 = vec3_exports.fromValues(0, 0, 0);
      for (let i = 0; i < Math.min(this.count, __privateGet(this, _objects).length); ++i) {
        quat2_exports.getTranslation(origin, __privateGet(this, _objects)[i].getTransformWorld());
        const vel = __privateGet(this, _velocities)[i];
        if (origin[0] + vel[0] * dt > 8)
          origin[0] -= 16;
        else if (origin[0] + vel[0] * dt <= -8)
          origin[0] += 16;
        if (origin[2] + vel[2] * dt > 8)
          origin[2] -= 16;
        else if (origin[2] + vel[2] * dt <= -8)
          origin[2] += 16;
        if (origin[1] + vel[1] * dt <= 0) {
          origin[1] = 5;
          __privateGet(this, _objects)[i].setPositionWorld(origin);
        }
      }
      for (let i = 0; i < Math.min(this.count, __privateGet(this, _objects).length); ++i) {
        vec3_exports.scale(distance3, __privateGet(this, _velocities)[i], dt);
        __privateGet(this, _objects)[i].translateWorld(distance3);
      }
    }
    /** Spawn a particle */
    spawn() {
      let index = this.count % this.maxParticles;
      let obj = __privateGet(this, _objects)[index];
      obj.resetTransform();
      obj.scaleLocal([this.particleScale, this.particleScale, this.particleScale]);
      obj.getComponent(MeshComponent).active = true;
      obj.translateWorld([Math.random() * this.size - this.size / 2, Math.random() * 5, Math.random() * this.size - this.size / 2]);
      this.count += 1;
    }
  };
  _objects = new WeakMap();
  _velocities = new WeakMap();
  _speeds = new WeakMap();
  _direction = new WeakMap();
  __publicField(SnowParticles, "TypeName", "snow-particles");
  __decorate6([
    property.mesh()
  ], SnowParticles.prototype, "mesh", void 0);
  __decorate6([
    property.material()
  ], SnowParticles.prototype, "material", void 0);
  __decorate6([
    property.float(0.1)
  ], SnowParticles.prototype, "delay", void 0);
  __decorate6([
    property.int(1500)
  ], SnowParticles.prototype, "maxParticles", void 0);
  __decorate6([
    property.float(15)
  ], SnowParticles.prototype, "initialSpeed", void 0);
  __decorate6([
    property.float(0.01)
  ], SnowParticles.prototype, "particleScale", void 0);
  __decorate6([
    property.int(16)
  ], SnowParticles.prototype, "size", void 0);

  // node_modules/@sorskoot/wonderland-components/dist/components/tags.js
  var __decorate7 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var Tags = class extends Component {
    tags;
    /**
     * @param {string} tag the tag to test
     */
    hasTag(tag) {
      const tags = this.tags.split(/\W+/g);
      return !!~tags.indexOf(tag);
    }
  };
  __publicField(Tags, "TypeName", "tags");
  __decorate7([
    property.string()
  ], Tags.prototype, "tags", void 0);

  // node_modules/@sorskoot/wonderland-components/dist/utils/rng.js
  var FRAC = 23283064365386963e-26;
  var RNG = class {
    _seed = 0;
    _s0 = 0;
    _s1 = 0;
    _s2 = 0;
    _c = 0;
    getSeed() {
      return this._seed;
    }
    /**
     * Seed the number generator
     * @type {number} seed - Seed value
     */
    setSeed(seed) {
      seed = seed < 1 ? 1 / seed : seed;
      this._seed = seed;
      this._s0 = (seed >>> 0) * FRAC;
      seed = seed * 69069 + 1 >>> 0;
      this._s1 = seed * FRAC;
      seed = seed * 69069 + 1 >>> 0;
      this._s2 = seed * FRAC;
      this._c = 1;
      return this;
    }
    /**
     * @returns Pseudorandom value [0,1), uniformly distributed
     */
    getUniform() {
      let t = 2091639 * this._s0 + this._c * FRAC;
      this._s0 = this._s1;
      this._s1 = this._s2;
      this._c = t | 0;
      this._s2 = t - this._c;
      return this._s2;
    }
    /**
     * @param {number} lowerBound The lower end of the range to return a value from, inclusive
     * @param {number} upperBound The upper end of the range to return a value from, inclusive
     * @returns Pseudorandom value [lowerBound, upperBound], using ROT.RNG.getUniform() to distribute the value
     */
    getUniformInt(lowerBound, upperBound) {
      let max3 = Math.max(lowerBound, upperBound);
      let min3 = Math.min(lowerBound, upperBound);
      return Math.floor(this.getUniform() * (max3 - min3 + 1)) + min3;
    }
    /**
     * @param mean Mean value
     * @param stddev Standard deviation. ~95% of the absolute values will be lower than 2*stddev.
     * @returns A normally distributed pseudorandom value
     */
    getNormal(mean = 0, stddev = 1) {
      let u, v, r;
      do {
        u = 2 * this.getUniform() - 1;
        v = 2 * this.getUniform() - 1;
        r = u * u + v * v;
      } while (r > 1 || r == 0);
      let gauss = u * Math.sqrt(-2 * Math.log(r) / r);
      return mean + gauss * stddev;
    }
    /**
     * @returns Pseudorandom value [1,100] inclusive, uniformly distributed
     */
    getPercentage() {
      return 1 + Math.floor(this.getUniform() * 100);
    }
    /**
     * @param {Array} array Array to pick a random item from
     * @returns Randomly picked item, null when length=0
     */
    getItem(array) {
      if (!array.length) {
        return null;
      }
      return array[Math.floor(this.getUniform() * array.length)];
    }
    /**
     * @param {Array} array Array to randomize
     * @returns New array with randomized items
     */
    shuffle(array) {
      let result = [];
      let clone7 = array.slice();
      while (clone7.length) {
        let index = clone7.indexOf(this.getItem(clone7));
        result.push(clone7.splice(index, 1)[0]);
      }
      return result;
    }
    /**
     * @param {Object} data key = whatever, value=weight (relative probability)
     * @returns whatever
     */
    getWeightedValue(data) {
      let total = 0;
      for (let id2 in data) {
        total += data[id2];
      }
      let random4 = this.getUniform() * total;
      let id, part = 0;
      for (id in data) {
        part += data[id];
        if (random4 < part) {
          return id;
        }
      }
      return id;
    }
    /**
     * Get RNG state. Useful for storing the state and re-setting it via setState.
     * @returns Internal state
     */
    getState() {
      return [this._s0, this._s1, this._s2, this._c];
    }
    /**
     * Set a previously retrieved state.
     */
    setState(state) {
      this._s0 = state[0];
      this._s1 = state[1];
      this._s2 = state[2];
      this._c = state[3];
      return this;
    }
    /**
     * Returns a cloned RNG
     */
    clone() {
      let clone7 = new RNG();
      return clone7.setState(this.getState());
    }
  };
  var rng = new RNG().setSeed(Date.now());

  // node_modules/@sorskoot/wonderland-components/dist/utils/ObjectCache.js
  var ObjectCache = class {
    #objects;
    engine;
    name;
    cacheSize;
    index;
    /**
     *
     * @param {WonderlandEngine} engine
     * @param {string} name
     * @param {number} cacheSize
     * @param {Object3D} parent
     * @param {number} components
     */
    constructor(engine, name, cacheSize, parent, components) {
      this.engine = engine;
      this.name = name;
      console.log(`creating cache: ${name} with ${cacheSize} elements`);
      this.cacheSize = cacheSize;
      this.#objects = this.engine.scene.addObjects(cacheSize, parent, components);
      this.index = 0;
    }
    reset() {
      this.index = 0;
      this.#objects.forEach((obj) => {
        obj.getComponents().forEach((c) => {
          c.active = false;
        });
        obj.parent = null;
        obj.resetPositionRotation();
      });
    }
    getItem() {
      if (this.index >= this.cacheSize) {
        console.warn(`Cache ${this.name} ran out of space`);
        return;
      }
      let obj = this.#objects[this.index];
      this.index++;
      return obj;
    }
  };

  // node_modules/@sorskoot/wonderland-components/dist/utils/wlUtils.js
  function cloneObject(engine, object, cache) {
    if (!object || !object.parent) {
      console.log("can't clone undefined object");
      return;
    }
    let cloned;
    if (cache) {
      cloned = cache.getItem();
    }
    if (!cloned) {
      console.error("no cache available, cloning object");
      cloned = engine.scene.addObject(object.parent);
    }
    let components = object.getComponents();
    const comp = cloned.getComponents();
    for (let i = 0; i < components.length; i++) {
      if (components[i].type == "mesh") {
        const m = comp.find((c) => c.type == "mesh" && c.active == false);
        const original = components[i];
        if (m) {
          m.mesh = original.mesh;
          m.material = original.material;
          m.skin = original.skin;
          m.active = true;
        } else {
          cloned.addComponent("mesh", {
            mesh: original.mesh,
            material: original.material,
            skin: original.skin
          });
        }
      } else if (components[i].type == "collision") {
        const c = comp.find((c2) => c2.type == "collision" && c2.active == false);
        const original = components[i];
        if (c) {
          c.collider = original.collider;
          c.extents = original.extents;
          c.group = original.group;
          c.active = true;
        } else {
          cloned.addComponent("collision", {
            collider: original.collider,
            extents: original.extents,
            group: original.group
          });
        }
      } else if (components[i].type == "animation") {
        const c = comp.find((c2) => c2.type == "animation" && c2.active == false);
        const original = components[i];
        if (c) {
          c.animation = original.animation;
          c.playCount = original.playCount;
          c.active = true;
        } else
          cloned.addComponent("animation", {
            animation: original.animation,
            playCount: original.playCount
          });
      } else if (components[i].type == "tags") {
        const c = comp.find((c2) => c2.type == "tags" && c2.active == false);
        const original = components[i];
        if (c) {
          c.tags = original.tags;
          c.active = true;
        } else
          cloned.addComponent(Tags, {
            tags: original.tags
          });
      } else if (components[i].type == "flipbook") {
        const c = comp.find((c2) => c2.type == "flipbook" && c2.active == false);
        const original = components[i];
        if (c) {
          c.base = original.base;
          c.url = original.url;
          c.urlEmissive = original.urlEmissive;
          c.columns = original.columns;
          c.rows = original.rows;
          c.speed = original.speed;
          c.active = true;
        } else
          cloned.addComponent(Flipbook, {
            base: original.base,
            url: original.url,
            urlEmissive: original.urlEmissive,
            columns: original.columns,
            rows: original.rows,
            speed: original.speed
          });
      } else {
        const c = comp.find((c2) => c2.type == components[i].type && c2.active == false);
        if (c) {
          c.active = true;
        } else {
          cloned.addComponent(components[i].type, components[i]);
        }
      }
    }
    let pos = [];
    let rot = [];
    let scale7 = [];
    object.getPositionLocal(pos);
    object.getRotationLocal(rot);
    object.getScalingLocal(scale7);
    cloned.resetPositionRotation();
    cloned.setPositionLocal(pos);
    cloned.setRotationLocal(rot);
    cloned.setScalingLocal(scale7);
    cloned.name = object.name;
    if (object.children.length > 0) {
      for (let i = 0; i < object.children.length; i++) {
        let childClone = cloneObject(engine, object.children[i], cache);
        childClone.parent = cloned;
      }
    }
    cloned.setDirty();
    return cloned;
  }
  function findChild(object, childName) {
    return object.children.filter((o) => o.name == childName)[0];
  }
  function replaceAt(string, index, replacement) {
    return string.slice(0, index) + replacement + string.slice(index + replacement.length);
  }
  var wlUtils = {
    cloneObject,
    findChild,
    replaceAt
  };

  // node_modules/@sorskoot/wonderland-components/dist/utils/arrayHelpers.js
  function shuffleArray(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
      const j = rng.getUniformInt(0, i + 1);
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
  }

  // node_modules/@sorskoot/wonderland-components/dist/utils/lerp.js
  var Easing = {
    /**
     * Linear easing function.
     * @param t A value between 0 and 1 representing the progress of the animation.
     * @returns The same value as `t`, providing a linear progression.
     */
    Linear: (t) => t,
    /**
     * Quadratic ease-in function.
     * @param t A value between 0 and 1 representing the progress of the animation.
     * @returns A value representing an accelerated (quadratic) progression from 0 to 1.
     */
    InQuad: (t) => t * t,
    /**
     * Quadratic ease-out function.
     * @param t A value between 0 and 1 representing the progress of the animation.
     * @returns A value representing a decelerated (quadratic) progression from 0 to 1.
     */
    OutQuad: (t) => 1 - (1 - t) * (1 - t),
    /**
     * Quadratic ease-in-out function.
     * @param t A value between 0 and 1 representing the progress of the animation.
     * @returns A value that accelerates in, then decelerates out, providing a smooth transition between motion states.
     */
    InOutQuad: (t) => t < 0.5 ? 2 * t * t : 1 - Math.pow(-2 * t + 2, 2) / 2,
    /**
     * Cubic ease-in function.
     * @param t A value between 0 and 1 representing the progress of the animation.
     * @returns A value representing an accelerated (cubic) progression from 0 to 1.
     */
    InCubic: (t) => Math.pow(t, 3),
    /**
     * Cubic ease-out function.
     * @param t A value between 0 and 1 representing the progress of the animation.
     * @returns A value representing an decelerated (cubic) progression from 0 to 1.
     */
    OutCubic: (t) => Math.pow(t - 1, 3) + 1,
    /**
     * Cubic ease-in-out function.
     * @param t A value between 0 and 1 representing the progress of the animation.
     * @returns A value that accelerates in, then decelerates out, providing a smooth transition between motion states.
     */
    InOutCubic: (t) => {
      if (t < 0.5) {
        return Math.pow(2 * t, 3) / 2;
      } else {
        return (Math.pow(2 * t - 2, 3) + 2) / 2;
      }
    }
  };
  function lerp6(start, end, t, easing = Easing.Linear) {
    if (typeof easing === "function") {
      easing = getEasingFunction(easing);
    }
    return start * (1 - easing(t)) + end * easing(t);
  }
  function getEasingFunction(type) {
    return typeof type === "function" ? type : Easing.Linear;
  }
  function clamp(value, min3, max3) {
    return Math.min(Math.max(value, min3), max3);
  }

  // node_modules/@sorskoot/wonderland-components/dist/utils/queue.js
  var Queue = class {
    items = [];
    enqueue(item) {
      this.items.push(item);
    }
    dequeue() {
      return this.items.shift();
    }
    isEmpty() {
      return this.items.length === 0;
    }
  };

  // node_modules/@sorskoot/wonderland-components/dist/utils/rngWithWeight.js
  function rngWithWeight(array, itemsWithWeights) {
    let totalWeight = itemsWithWeights.reduce((total, itemWithWeight) => {
      return total + itemWithWeight;
    }, 0);
    let randomValue = rng.getUniformInt(0, totalWeight);
    for (let i = 0; i < itemsWithWeights.length; i++) {
      randomValue -= itemsWithWeights[i];
      if (randomValue <= 0) {
        return array[i];
      }
    }
    return null;
  }

  // node_modules/@wonderlandengine/components/dist/index.js
  var dist_exports2 = {};
  __export(dist_exports2, {
    ARCamera8thwall: () => ARCamera8thwall,
    Anchor: () => Anchor,
    Cursor: () => Cursor,
    CursorTarget: () => CursorTarget,
    DebugObject: () => DebugObject,
    DeviceOrientationLook: () => DeviceOrientationLook,
    FingerCursor: () => FingerCursor,
    FixedFoveation: () => FixedFoveation,
    HandTracking: () => HandTracking,
    HitTestLocation: () => HitTestLocation,
    HowlerAudioListener: () => HowlerAudioListener,
    HowlerAudioSource: () => HowlerAudioSource,
    ImageTexture: () => ImageTexture,
    MouseLookComponent: () => MouseLookComponent,
    PlaneDetection: () => PlaneDetection,
    PlayerHeight: () => PlayerHeight,
    TargetFramerate: () => TargetFramerate,
    TeleportComponent: () => TeleportComponent,
    Trail: () => Trail,
    TwoJointIkSolver: () => TwoJointIkSolver,
    VideoTexture: () => VideoTexture,
    VrModeActiveSwitch: () => VrModeActiveSwitch,
    Vrm: () => Vrm,
    WasdControlsComponent: () => WasdControlsComponent,
    isPointLocalOnXRPlanePolygon: () => isPointLocalOnXRPlanePolygon,
    isPointWorldOnXRPlanePolygon: () => isPointWorldOnXRPlanePolygon
  });

  // node_modules/@wonderlandengine/components/dist/8thwall-camera.js
  var ARCamera8thwall = class extends Component {
    /* 8thwall camera pipeline module name */
    name = "wonderland-engine-8thwall-camera";
    started = false;
    view = null;
    // cache camera
    position = [0, 0, 0];
    // cache 8thwall cam position
    rotation = [0, 0, 0, -1];
    // cache 8thwall cam rotation
    glTextureRenderer = null;
    // cache XR8.GlTextureRenderer.pipelineModule
    promptForDeviceMotion() {
      return new Promise(async (resolve, reject) => {
        window.dispatchEvent(new Event("8thwall-request-user-interaction"));
        window.addEventListener("8thwall-safe-to-request-permissions", async () => {
          try {
            const motionEvent = await DeviceMotionEvent.requestPermission();
            resolve(motionEvent);
          } catch (exception) {
            reject(exception);
          }
        });
      });
    }
    async getPermissions() {
      if (DeviceMotionEvent && DeviceMotionEvent.requestPermission) {
        try {
          const result = await DeviceMotionEvent.requestPermission();
          if (result !== "granted") {
            throw new Error("MotionEvent");
          }
        } catch (exception) {
          if (exception.name === "NotAllowedError") {
            const motionEvent = await this.promptForDeviceMotion();
            if (motionEvent !== "granted") {
              throw new Error("MotionEvent");
            }
          } else {
            throw new Error("MotionEvent");
          }
        }
      }
      try {
        const stream = await navigator.mediaDevices.getUserMedia({
          video: true,
          audio: true
        });
        stream.getTracks().forEach((track) => {
          track.stop();
        });
      } catch (exception) {
        throw new Error("Camera");
      }
    }
    init() {
      this.view = this.object.getComponent("view");
      this.onUpdate = this.onUpdate.bind(this);
      this.onAttach = this.onAttach.bind(this);
      this.onException = this.onException.bind(this);
      this.onCameraStatusChange = this.onCameraStatusChange.bind(this);
    }
    async start() {
      this.view = this.object.getComponent("view");
      if (!this.useCustomUIOverlays) {
        OverlaysHandler.init();
      }
      try {
        await this.getPermissions();
      } catch (error) {
        window.dispatchEvent(new CustomEvent("8thwall-permission-fail", { detail: error }));
        return;
      }
      await this.waitForXR8();
      XR8.XrController.configure({
        disableWorldTracking: false
      });
      this.glTextureRenderer = XR8.GlTextureRenderer.pipelineModule();
      XR8.addCameraPipelineModules([
        this.glTextureRenderer,
        XR8.XrController.pipelineModule(),
        this
      ]);
      const config2 = {
        cameraConfig: {
          direction: XR8.XrConfig.camera().BACK
        },
        canvas: Module.canvas,
        allowedDevices: XR8.XrConfig.device().ANY,
        ownRunLoop: false
      };
      XR8.run(config2);
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onAttach(params) {
      this.started = true;
      this.engine.scene.colorClearEnabled = false;
      const gl = Module.ctx;
      const rot = this.object.rotationWorld;
      const pos = this.object.getTranslationWorld([]);
      this.position = Array.from(pos);
      this.rotation = Array.from(rot);
      XR8.XrController.updateCameraProjectionMatrix({
        origin: { x: pos[0], y: pos[1], z: pos[2] },
        facing: { x: rot[0], y: rot[1], z: rot[2], w: rot[3] },
        cam: {
          pixelRectWidth: Module.canvas.width,
          pixelRectHeight: Module.canvas.height,
          nearClipPlane: this.view.near,
          farClipPlane: this.view.far
        }
      });
      this.engine.scene.onPreRender.push(() => {
        gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);
        XR8.runPreRender(Date.now());
        XR8.runRender();
      });
      this.engine.scene.onPostRender.push(() => {
        XR8.runPostRender(Date.now());
      });
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onCameraStatusChange(e) {
      if (e && e.status === "failed") {
        this.onException(new Error(`Camera failed with status: ${e.status}`));
      }
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onUpdate(e) {
      if (!e.processCpuResult.reality)
        return;
      const { rotation, position, intrinsics } = e.processCpuResult.reality;
      this.rotation[0] = rotation.x;
      this.rotation[1] = rotation.y;
      this.rotation[2] = rotation.z;
      this.rotation[3] = rotation.w;
      this.position[0] = position.x;
      this.position[1] = position.y;
      this.position[2] = position.z;
      if (intrinsics) {
        const projectionMatrix = this.view.projectionMatrix;
        for (let i = 0; i < 16; i++) {
          if (Number.isFinite(intrinsics[i])) {
            projectionMatrix[i] = intrinsics[i];
          }
        }
      }
      if (position && rotation) {
        this.object.rotationWorld = this.rotation;
        this.object.setTranslationWorld(this.position);
      }
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onException(error) {
      console.error("8thwall exception:", error);
      window.dispatchEvent(new CustomEvent("8thwall-error", { detail: error }));
    }
    waitForXR8() {
      return new Promise((resolve, _rej) => {
        if (window.XR8) {
          resolve();
        } else {
          window.addEventListener("xrloaded", () => resolve());
        }
      });
    }
  };
  __publicField(ARCamera8thwall, "TypeName", "8thwall-camera");
  __publicField(ARCamera8thwall, "Properties", {
    /** Override the WL html overlays for handling camera/motion permissions and error handling */
    useCustomUIOverlays: { type: Type.Bool, default: false }
  });
  var OverlaysHandler = {
    init: function() {
      this.handleRequestUserInteraction = this.handleRequestUserInteraction.bind(this);
      this.handlePermissionFail = this.handlePermissionFail.bind(this);
      this.handleError = this.handleError.bind(this);
      window.addEventListener("8thwall-request-user-interaction", this.handleRequestUserInteraction);
      window.addEventListener("8thwall-permission-fail", this.handlePermissionFail);
      window.addEventListener("8thwall-error", this.handleError);
    },
    handleRequestUserInteraction: function() {
      const overlay = this.showOverlay(requestPermissionOverlay);
      window.addEventListener("8thwall-safe-to-request-permissions", () => {
        overlay.remove();
      });
    },
    handlePermissionFail: function(_reason) {
      this.showOverlay(failedPermissionOverlay);
    },
    handleError: function(_error) {
      this.showOverlay(runtimeErrorOverlay);
    },
    showOverlay: function(htmlContent) {
      const overlay = document.createElement("div");
      overlay.innerHTML = htmlContent;
      document.body.appendChild(overlay);
      return overlay;
    }
  };
  var requestPermissionOverlay = `
<style>
  #request-permission-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .request-permission-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .request-permission-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="request-permission-overlay">
  <div class="request-permission-overlay_title">This app requires to use your camera and motion sensors</div>

  <button class="request-permission-overlay_button" onclick="window.dispatchEvent(new Event('8thwall-safe-to-request-permissions'))">OK</button>
</div>`;
  var failedPermissionOverlay = `
<style>
  #failed-permission-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .failed-permission-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .failed-permission-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="failed-permission-overlay">
  <div class="failed-permission-overlay_title">Failed to grant permissions. Reset the the permissions and refresh the page.</div>

  <button class="failed-permission-overlay_button" onclick="window.location.reload()">Refresh the page</button>
</div>`;
  var runtimeErrorOverlay = `
<style>
  #wall-error-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .wall-error-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .wall-error-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="wall-error-overlay">
  <div class="wall-error-overlay_title">Error has occurred. Please reload the page</div>

  <button class="wall-error-overlay_button" onclick="window.location.reload()">Reload</button>
</div>`;

  // node_modules/@wonderlandengine/components/dist/utils/webxr.js
  var tempVec = new Float32Array(3);
  var tempQuat = new Float32Array(4);
  function setXRRigidTransformLocal(o, transform) {
    const r = transform.orientation;
    tempQuat[0] = r.x;
    tempQuat[1] = r.y;
    tempQuat[2] = r.z;
    tempQuat[3] = r.w;
    const t = transform.position;
    tempVec[0] = t.x;
    tempVec[1] = t.y;
    tempVec[2] = t.z;
    o.resetTranslationRotation();
    o.transformLocal.set(tempQuat);
    o.translate(tempVec);
  }

  // node_modules/@wonderlandengine/components/dist/anchor.js
  var __decorate8 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec3 = new Float32Array(3);
  var tempQuat2 = new Float32Array(4);
  var _anchors, _addAnchor, addAnchor_fn, _removeAnchor, removeAnchor_fn, _getFrame, getFrame_fn, _createAnchor, createAnchor_fn, _onAddAnchor, onAddAnchor_fn, _onRestoreAnchor, onRestoreAnchor_fn, _onCreate, onCreate_fn;
  var _Anchor = class extends Component {
    constructor() {
      super(...arguments);
      __privateAdd(this, _getFrame);
      __privateAdd(this, _createAnchor);
      __privateAdd(this, _onAddAnchor);
      __privateAdd(this, _onRestoreAnchor);
      __privateAdd(this, _onCreate);
      __publicField(this, "persist", false);
      /** Unique identifier to load a persistent anchor from, or empty/null if unknown */
      __publicField(this, "uuid", null);
      /** The xrAnchor, if created */
      __publicField(this, "xrAnchor", null);
      /** Emits events when the anchor is created either by being restored or newly created */
      __publicField(this, "onCreate", new Emitter());
      /** Whether the anchor is currently being tracked */
      __publicField(this, "visible", false);
      /** Emits an event when this anchor starts tracking */
      __publicField(this, "onTrackingFound", new Emitter());
      /** Emits an event when this anchor stops tracking */
      __publicField(this, "onTrackingLost", new Emitter());
      /** XRFrame to use for creating the anchor */
      __publicField(this, "xrFrame", null);
      /** XRHitTestResult to use for creating the anchor */
      __publicField(this, "xrHitResult", null);
    }
    /** Retrieve all anchors of the current scene */
    static getAllAnchors() {
      return __privateGet(_Anchor, _anchors);
    }
    /**
     * Create a new anchor
     *
     * @param o Object to attach the component to
     * @param params Parameters for the anchor component
     * @param frame XRFrame to use for anchor cration, if null, will use the current frame if available
     * @param hitResult Optional hit-test result to create the anchor with
     * @returns Promise for the newly created anchor component
     */
    static create(o, params, frame, hitResult) {
      const a = o.addComponent(_Anchor, { ...params, active: false });
      if (a === null)
        return null;
      a.xrHitResult = hitResult ?? null;
      a.xrFrame = frame ?? null;
      a.onCreate.once(() => (a.xrFrame = null, a.xrHitResult = null));
      a.active = true;
      return a.onCreate.promise();
    }
    start() {
      if (this.uuid && this.engine.xr) {
        this.persist = true;
        if (this.engine.xr.session.restorePersistentAnchor === void 0) {
          console.warn("anchor: Persistent anchors are not supported by your client. Ignoring persist property.");
        }
        this.engine.xr.session.restorePersistentAnchor(this.uuid).then(__privateMethod(this, _onRestoreAnchor, onRestoreAnchor_fn).bind(this));
      } else if (__privateMethod(this, _getFrame, getFrame_fn).call(this)) {
        __privateMethod(this, _createAnchor, createAnchor_fn).call(this).then(__privateMethod(this, _onAddAnchor, onAddAnchor_fn).bind(this));
      } else {
        throw new Error("Anchors can only be created during the XR frame in an active XR session");
      }
    }
    update() {
      if (!this.xrAnchor || !this.engine.xr)
        return;
      const pose = this.engine.xr.frame.getPose(this.xrAnchor.anchorSpace, this.engine.xr.currentReferenceSpace);
      const visible = !!pose;
      if (visible != this.visible) {
        this.visible = visible;
        (visible ? this.onTrackingFound : this.onTrackingLost).notify(this);
      }
      if (pose) {
        setXRRigidTransformLocal(this.object, pose.transform);
      }
    }
    onDestroy() {
      var _a;
      __privateMethod(_a = _Anchor, _removeAnchor, removeAnchor_fn).call(_a, this);
    }
  };
  var Anchor = _Anchor;
  _anchors = new WeakMap();
  _addAnchor = new WeakSet();
  addAnchor_fn = function(anchor) {
    __privateGet(_Anchor, _anchors).push(anchor);
  };
  _removeAnchor = new WeakSet();
  removeAnchor_fn = function(anchor) {
    const index = __privateGet(_Anchor, _anchors).indexOf(anchor);
    if (index < 0)
      return;
    __privateGet(_Anchor, _anchors).splice(index, 1);
  };
  _getFrame = new WeakSet();
  getFrame_fn = function() {
    return this.xrFrame || this.engine.xr.frame;
  };
  _createAnchor = new WeakSet();
  createAnchor_fn = async function() {
    if (!__privateMethod(this, _getFrame, getFrame_fn).call(this).createAnchor) {
      throw new Error("Cannot create anchor - anchors not supported, did you enable the 'anchors' WebXR feature?");
    }
    if (this.xrHitResult) {
      if (this.xrHitResult.createAnchor === void 0) {
        throw new Error("Requested anchor on XRHitTestResult, but WebXR hit-test feature is not available.");
      }
      return this.xrHitResult.createAnchor();
    } else {
      this.object.getTranslationWorld(tempVec3);
      tempQuat2.set(this.object.rotationWorld);
      const rotation = tempQuat2;
      const anchorPose = new XRRigidTransform({ x: tempVec3[0], y: tempVec3[1], z: tempVec3[2] }, { x: rotation[0], y: rotation[1], z: rotation[2], w: rotation[3] });
      return __privateMethod(this, _getFrame, getFrame_fn).call(this)?.createAnchor(anchorPose, this.engine.xr.currentReferenceSpace);
    }
  };
  _onAddAnchor = new WeakSet();
  onAddAnchor_fn = function(anchor) {
    if (!anchor)
      return;
    if (this.persist) {
      if (anchor.requestPersistentHandle !== void 0) {
        anchor.requestPersistentHandle().then((uuid) => {
          var _a;
          this.uuid = uuid;
          __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
          __privateMethod(_a = _Anchor, _addAnchor, addAnchor_fn).call(_a, this);
        });
        return;
      } else {
        console.warn("anchor: Persistent anchors are not supported by your client. Ignoring persist property.");
      }
    }
    __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
  };
  _onRestoreAnchor = new WeakSet();
  onRestoreAnchor_fn = function(anchor) {
    __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
  };
  _onCreate = new WeakSet();
  onCreate_fn = function(anchor) {
    this.xrAnchor = anchor;
    this.onCreate.notify(this);
  };
  __privateAdd(Anchor, _addAnchor);
  __privateAdd(Anchor, _removeAnchor);
  __publicField(Anchor, "TypeName", "anchor");
  /* Static management of all anchors */
  __privateAdd(Anchor, _anchors, []);
  __decorate8([
    property.bool(false)
  ], Anchor.prototype, "persist", void 0);
  __decorate8([
    property.string()
  ], Anchor.prototype, "uuid", void 0);

  // node_modules/@wonderlandengine/components/dist/cursor-target.js
  var CursorTarget = class extends Component {
    /** Emitter for events when the target is hovered */
    onHover = new Emitter();
    /** Emitter for events when the target is unhovered */
    onUnhover = new Emitter();
    /** Emitter for events when the target is clicked */
    onClick = new Emitter();
    /** Emitter for events when the cursor moves on the target */
    onMove = new Emitter();
    /** Emitter for events when the user pressed the select button on the target */
    onDown = new Emitter();
    /** Emitter for events when the user unpressed the select button on the target */
    onUp = new Emitter();
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onHover.add(f);
     */
    addHoverFunction(f2) {
      this.onHover.add(f2);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onHover.remove(f);
     */
    removeHoverFunction(f2) {
      this.onHover.remove(f2);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onUnhover.add(f);
     */
    addUnHoverFunction(f2) {
      this.onUnhover.add(f2);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onUnhover.remove(f);
     */
    removeUnHoverFunction(f2) {
      this.onUnhover.remove(f2);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onClick.add(f);
     */
    addClickFunction(f2) {
      this.onClick.add(f2);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onClick.remove(f);
     */
    removeClickFunction(f2) {
      this.onClick.remove(f2);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onMove.add(f);
     */
    addMoveFunction(f2) {
      this.onMove.add(f2);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onMove.remove(f);
     */
    removeMoveFunction(f2) {
      this.onMove.remove(f2);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onDown.add(f);
     */
    addDownFunction(f2) {
      this.onDown.add(f2);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onDown.remove(f);
     */
    removeDownFunction(f2) {
      this.onDown.remove(f2);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onUp.add(f);
     */
    addUpFunction(f2) {
      this.onUp.add(f2);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onUp.remove(f);
     */
    removeUpFunction(f2) {
      this.onUp.remove(f2);
    }
  };
  __publicField(CursorTarget, "TypeName", "cursor-target");
  __publicField(CursorTarget, "Properties", {});

  // node_modules/@wonderlandengine/components/dist/hit-test-location.js
  var __decorate9 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var HitTestLocation = class extends Component {
    tempScaling = new Float32Array(3);
    visible = false;
    xrHitTestSource = null;
    /** Reference space for creating the hit test when the session starts */
    xrReferenceSpace = null;
    /**
     * For maintaining backwards compatibility: Whether to scale the object to 0 and back.
     * @deprecated Use onHitLost and onHitFound instead.
     */
    scaleObject = true;
    /** Emits an event when the hit test switches from visible to invisible */
    onHitLost = new Emitter();
    /** Emits an event when the hit test switches from invisible to visible */
    onHitFound = new Emitter();
    onSessionStartCallback = null;
    onSessionEndCallback = null;
    start() {
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
      if (this.scaleObject) {
        this.tempScaling.set(this.object.scalingLocal);
        this.object.scale([0, 0, 0]);
        this.onHitLost.add(() => {
          this.tempScaling.set(this.object.scalingLocal);
          this.object.scale([0, 0, 0]);
        });
        this.onHitFound.add(() => {
          this.object.scalingLocal.set(this.tempScaling);
          this.object.setDirty();
        });
      }
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    update() {
      const wasVisible = this.visible;
      if (this.xrHitTestSource) {
        const frame = this.engine.xrFrame;
        if (!frame)
          return;
        let hitTestResults = frame.getHitTestResults(this.xrHitTestSource);
        if (hitTestResults.length > 0) {
          let pose = hitTestResults[0].getPose(this.engine.xr.currentReferenceSpace);
          this.visible = !!pose;
          if (pose) {
            setXRRigidTransformLocal(this.object, pose.transform);
          }
        } else {
          this.visible = false;
        }
      }
      if (this.visible != wasVisible) {
        (this.visible ? this.onHitFound : this.onHitLost).notify(this);
      }
    }
    getHitTestResults(frame = this.engine.xr?.frame ?? null) {
      if (!frame)
        return [];
      if (!this.xrHitTestSource)
        return [];
      return frame.getHitTestResults(this.xrHitTestSource);
    }
    onXRSessionStart(session) {
      if (session.requestHitTestSource === void 0) {
        console.error("hit-test-location: hit test feature not available. Deactivating component.");
        this.active = false;
        return;
      }
      session.requestHitTestSource({
        space: this.xrReferenceSpace ?? this.engine.xr.referenceSpaceForType("viewer")
      }).then((hitTestSource) => {
        this.xrHitTestSource = hitTestSource;
      }).catch(console.error);
    }
    onXRSessionEnd() {
      if (!this.xrHitTestSource)
        return;
      this.xrHitTestSource.cancel();
      this.xrHitTestSource = null;
    }
  };
  __publicField(HitTestLocation, "TypeName", "hit-test-location");
  __decorate9([
    property.bool(true)
  ], HitTestLocation.prototype, "scaleObject", void 0);

  // node_modules/@wonderlandengine/components/dist/cursor.js
  var __decorate10 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec2 = new Float32Array(3);
  var CursorTargetEmitters = class {
    /** Emitter for events when the target is hovered */
    onHover = new Emitter();
    /** Emitter for events when the target is unhovered */
    onUnhover = new Emitter();
    /** Emitter for events when the target is clicked */
    onClick = new Emitter();
    /** Emitter for events when the cursor moves on the target */
    onMove = new Emitter();
    /** Emitter for events when the user pressed the select button on the target */
    onDown = new Emitter();
    /** Emitter for events when the user unpressed the select button on the target */
    onUp = new Emitter();
  };
  var Cursor = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HitTestLocation);
    }
    _collisionMask = 0;
    _onDeactivateCallbacks = [];
    _input = null;
    _origin = new Float32Array(3);
    _cursorObjScale = new Float32Array(3);
    _direction = new Float32Array(3);
    _projectionMatrix = new Float32Array(16);
    _viewComponent = null;
    _isDown = false;
    _lastIsDown = false;
    _arTouchDown = false;
    _lastPointerPos = new Float32Array(2);
    _lastCursorPosOnTarget = new Float32Array(3);
    _cursorRayScale = new Float32Array(3);
    _hitTestLocation = null;
    _hitTestObject = null;
    _onSessionStartCallback = null;
    /**
     * Whether the cursor (and cursorObject) is visible, i.e. pointing at an object
     * that matches the collision group
     */
    visible = true;
    /** Maximum distance for the cursor's ray cast */
    maxDistance = 100;
    /** Currently hovered object */
    hoveringObject = null;
    /** CursorTarget component of the currently hovered object */
    hoveringObjectTarget = null;
    /** Whether the cursor is hovering reality via hit-test */
    hoveringReality = false;
    /**
     * Global target lets you receive global cursor events on any object.
     */
    globalTarget = new CursorTargetEmitters();
    /**
     * Hit test target lets you receive cursor events for "reality", if
     * `useWebXRHitTest` is set to `true`.
     *
     * @example
     * ```js
     * cursor.hitTestTarget.onClick.add((hit, cursor) => {
     *     // User clicked on reality
     * });
     * ```
     */
    hitTestTarget = new CursorTargetEmitters();
    /** World position of the cursor */
    cursorPos = new Float32Array(3);
    /** Collision group for the ray cast. Only objects in this group will be affected by this cursor. */
    collisionGroup = 1;
    /** (optional) Object that visualizes the cursor's ray. */
    cursorRayObject = null;
    /** Axis along which to scale the `cursorRayObject`. */
    cursorRayScalingAxis = 2;
    /** (optional) Object that visualizes the cursor's hit location. */
    cursorObject = null;
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness = 0;
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode = 0;
    /** Whether to set the CSS style of the mouse cursor on desktop */
    styleCursor = true;
    /**
     * Use WebXR hit-test if available.
     *
     * Attaches a hit-test-location component to the cursorObject, which will be used
     * by the cursor to send events to the hitTestTarget with HitTestResult.
     */
    useWebXRHitTest = false;
    _onViewportResize = () => {
      if (!this._viewComponent)
        return;
      mat4_exports.invert(this._projectionMatrix, this._viewComponent.projectionMatrix);
    };
    start() {
      this._collisionMask = 1 << this.collisionGroup;
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("cursor component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness || "none";
          this._input = inputComp;
        }
      } else {
        this.handedness = ["left", "right", "none"][this.handedness - 1];
      }
      this._viewComponent = this.object.getComponent(ViewComponent);
      if (this.useWebXRHitTest) {
        this._hitTestObject = this.engine.scene.addObject(this.object);
        this._hitTestLocation = this._hitTestObject.addComponent(HitTestLocation, {
          scaleObject: false
        }) ?? null;
      }
      this._onSessionStartCallback = this.setupVREvents.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this._onSessionStartCallback);
      this.engine.onResize.add(this._onViewportResize);
      this._setCursorVisibility(true);
      if (this._viewComponent != null) {
        const canvas2 = this.engine.canvas;
        const onClick = this.onClick.bind(this);
        const onPointerMove = this.onPointerMove.bind(this);
        const onPointerDown = this.onPointerDown.bind(this);
        const onPointerUp = this.onPointerUp.bind(this);
        canvas2.addEventListener("click", onClick);
        canvas2.addEventListener("pointermove", onPointerMove);
        canvas2.addEventListener("pointerdown", onPointerDown);
        canvas2.addEventListener("pointerup", onPointerUp);
        this._onDeactivateCallbacks.push(() => {
          canvas2.removeEventListener("click", onClick);
          canvas2.removeEventListener("pointermove", onPointerMove);
          canvas2.removeEventListener("pointerdown", onPointerDown);
          canvas2.removeEventListener("pointerup", onPointerUp);
        });
      }
      this._onViewportResize();
    }
    _setCursorRayTransform(hitPosition) {
      if (!this.cursorRayObject)
        return;
      const dist3 = vec3_exports.dist(this._origin, hitPosition);
      this.cursorRayObject.setTranslationLocal([0, 0, -dist3 / 2]);
      if (this.cursorRayScalingAxis != 4) {
        this.cursorRayObject.resetScaling();
        this._cursorRayScale[this.cursorRayScalingAxis] = dist3 / 2;
        this.cursorRayObject.scale(this._cursorRayScale);
      }
    }
    _setCursorVisibility(visible) {
      if (this.visible == visible)
        return;
      this.visible = visible;
      if (!this.cursorObject)
        return;
      if (visible) {
        this.cursorObject.setScalingWorld(this._cursorObjScale);
      } else {
        this.cursorObject.getScalingLocal(this._cursorObjScale);
        this.cursorObject.scale([0, 0, 0]);
      }
    }
    update() {
      if (this.engine.xr && this._arTouchDown && this._input && this.engine.xr.session.inputSources[0].handedness === "none" && this.engine.xr.session.inputSources[0].gamepad) {
        const p = this.engine.xr.session.inputSources[0].gamepad.axes;
        this._direction[0] = p[0];
        this._direction[1] = -p[1];
        this._direction[2] = -1;
        this.applyTransformAndProjectDirection();
      } else if (this.engine.xr && this._input && this._input.xrInputSource) {
        this._direction[0] = 0;
        this._direction[1] = 0;
        this._direction[2] = -1;
        this.applyTransformToDirection();
      } else if (this._viewComponent) {
        this.updateDirection();
      }
      this.rayCast(null, this.engine.xr?.frame);
      if (this.cursorObject) {
        if (this.hoveringObject && (this.cursorPos[0] != 0 || this.cursorPos[1] != 0 || this.cursorPos[2] != 0)) {
          this._setCursorVisibility(true);
          this.cursorObject.setTranslationWorld(this.cursorPos);
          this._setCursorRayTransform(this.cursorPos);
        } else {
          this._setCursorVisibility(false);
        }
      }
    }
    /* Returns the hovered cursor target, if available */
    notify(event, originalEvent) {
      const target = this.hoveringObject;
      if (target) {
        const cursorTarget = this.hoveringObjectTarget;
        if (cursorTarget)
          cursorTarget[event].notify(target, this, originalEvent ?? void 0);
        this.globalTarget[event].notify(target, this, originalEvent ?? void 0);
      }
    }
    hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent) {
      const hit = !this.hoveringReality && rayHit.hitCount > 0 ? rayHit.objects[0] : null;
      if (hit) {
        if (!this.hoveringObject || !this.hoveringObject.equals(hit)) {
          if (this.hoveringObject) {
            this.notify("onUnhover", originalEvent);
          }
          this.hoveringObject = hit;
          this.hoveringObjectTarget = this.hoveringObject.getComponent(CursorTarget);
          if (this.styleCursor)
            this.engine.canvas.style.cursor = "pointer";
          this.notify("onHover", originalEvent);
        }
      } else if (this.hoveringObject) {
        this.notify("onUnhover", originalEvent);
        this.hoveringObject = null;
        this.hoveringObjectTarget = null;
        if (this.styleCursor)
          this.engine.canvas.style.cursor = "default";
      }
      if (this.hoveringObject) {
        if (this._isDown !== this._lastIsDown) {
          this.notify(this._isDown ? "onDown" : "onUp", originalEvent);
        }
        if (doClick)
          this.notify("onClick", originalEvent);
      } else if (this.hoveringReality) {
        if (this._isDown !== this._lastIsDown) {
          (this._isDown ? this.hitTestTarget.onDown : this.hitTestTarget.onUp).notify(hitTestResult, this, originalEvent ?? void 0);
        }
        if (doClick)
          this.hitTestTarget.onClick.notify(hitTestResult, this, originalEvent ?? void 0);
      }
      if (hit) {
        if (this.hoveringObject) {
          this.hoveringObject.transformPointInverseWorld(tempVec2, this.cursorPos);
        } else {
          tempVec2.set(this.cursorPos);
        }
        if (!vec3_exports.equals(this._lastCursorPosOnTarget, tempVec2)) {
          this.notify("onMove", originalEvent);
          this._lastCursorPosOnTarget.set(tempVec2);
        }
      } else if (this.hoveringReality) {
        if (!vec3_exports.equals(this._lastCursorPosOnTarget, this.cursorPos)) {
          this.hitTestTarget.onMove.notify(hitTestResult, this, originalEvent ?? void 0);
          this._lastCursorPosOnTarget.set(this.cursorPos);
        }
      } else {
        this._lastCursorPosOnTarget.set(this.cursorPos);
      }
      this._lastIsDown = this._isDown;
    }
    /**
     * Setup event listeners on session object
     * @param s WebXR session
     *
     * Sets up 'select' and 'end' events.
     */
    setupVREvents(s) {
      if (!s)
        console.error("setupVREvents called without a valid session");
      const onSelect = this.onSelect.bind(this);
      s.addEventListener("select", onSelect);
      const onSelectStart = this.onSelectStart.bind(this);
      s.addEventListener("selectstart", onSelectStart);
      const onSelectEnd = this.onSelectEnd.bind(this);
      s.addEventListener("selectend", onSelectEnd);
      this._onDeactivateCallbacks.push(() => {
        if (!this.engine.xrSession)
          return;
        s.removeEventListener("select", onSelect);
        s.removeEventListener("selectstart", onSelectStart);
        s.removeEventListener("selectend", onSelectEnd);
      });
      this._onViewportResize();
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this._onSessionStartCallback);
      this.engine.onResize.remove(this._onViewportResize);
      this._setCursorVisibility(false);
      if (this.hoveringObject)
        this.notify("onUnhover", null);
      if (this.cursorRayObject)
        this.cursorRayObject.scale([0, 0, 0]);
      for (const f2 of this._onDeactivateCallbacks)
        f2();
      this._onDeactivateCallbacks.length = 0;
    }
    onDestroy() {
      this._hitTestObject?.destroy();
    }
    /** 'select' event listener */
    onSelect(e) {
      if (e.inputSource.handedness != this.handedness)
        return;
      this.rayCast(e, e.frame, true);
    }
    /** 'selectstart' event listener */
    onSelectStart(e) {
      this._arTouchDown = true;
      if (e.inputSource.handedness == this.handedness) {
        this._isDown = true;
        this.rayCast(e, e.frame);
      }
    }
    /** 'selectend' event listener */
    onSelectEnd(e) {
      this._arTouchDown = false;
      if (e.inputSource.handedness == this.handedness) {
        this._isDown = false;
        this.rayCast(e, e.frame);
      }
    }
    /** 'pointermove' event listener */
    onPointerMove(e) {
      if (!e.isPrimary)
        return;
      this.updateMousePos(e);
      this.rayCast(e, null);
    }
    /** 'click' event listener */
    onClick(e) {
      this.updateMousePos(e);
      this.rayCast(e, null, true);
    }
    /** 'pointerdown' event listener */
    onPointerDown(e) {
      if (!e.isPrimary || e.button !== 0)
        return;
      this.updateMousePos(e);
      this._isDown = true;
      this.rayCast(e);
    }
    /** 'pointerup' event listener */
    onPointerUp(e) {
      if (!e.isPrimary || e.button !== 0)
        return;
      this.updateMousePos(e);
      this._isDown = false;
      this.rayCast(e);
    }
    /**
     * Update mouse position in non-VR mode and raycast for new position
     * @returns @ref WL.RayHit for new position.
     */
    updateMousePos(e) {
      this._lastPointerPos[0] = e.clientX;
      this._lastPointerPos[1] = e.clientY;
      this.updateDirection();
    }
    updateDirection() {
      const bounds = this.engine.canvas.getBoundingClientRect();
      const left = this._lastPointerPos[0] / bounds.width;
      const top = this._lastPointerPos[1] / bounds.height;
      this._direction[0] = left * 2 - 1;
      this._direction[1] = -top * 2 + 1;
      this._direction[2] = -1;
      this.applyTransformAndProjectDirection();
    }
    applyTransformAndProjectDirection() {
      vec3_exports.transformMat4(this._direction, this._direction, this._projectionMatrix);
      vec3_exports.normalize(this._direction, this._direction);
      this.applyTransformToDirection();
    }
    applyTransformToDirection() {
      vec3_exports.transformQuat(this._direction, this._direction, this.object.transformWorld);
      this.object.getTranslationWorld(this._origin);
    }
    rayCast(originalEvent, frame = null, doClick = false) {
      const rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(this._origin, this._direction, this._collisionMask) : this.engine.physics.rayCast(this._origin, this._direction, this._collisionMask, this.maxDistance);
      let hitResultDistance = Infinity;
      let hitTestResult = null;
      if (this._hitTestLocation?.visible) {
        this._hitTestObject.getTranslationWorld(this.cursorPos);
        hitResultDistance = vec3_exports.distance(this.object.getTranslationWorld(tempVec2), this.cursorPos);
        hitTestResult = this._hitTestLocation?.getHitTestResults(frame)[0];
      }
      let hoveringReality = false;
      if (rayHit.hitCount > 0) {
        const d = rayHit.distances[0];
        if (hitResultDistance >= d) {
          this.cursorPos.set(rayHit.locations[0]);
        } else {
          hoveringReality = true;
        }
      } else if (hitResultDistance < Infinity) {
      } else {
        this.cursorPos.fill(0);
      }
      if (hoveringReality && !this.hoveringReality) {
        this.hitTestTarget.onHover.notify(hitTestResult, this);
      } else if (!hoveringReality && this.hoveringReality) {
        this.hitTestTarget.onUnhover.notify(hitTestResult, this);
      }
      this.hoveringReality = hoveringReality;
      this.hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent);
      return rayHit;
    }
  };
  __publicField(Cursor, "TypeName", "cursor");
  /* Dependencies is deprecated, but we keep it here for compatibility
   * with 1.0.0-rc2 until 1.0.0 is released */
  __publicField(Cursor, "Dependencies", [HitTestLocation]);
  __decorate10([
    property.int(1)
  ], Cursor.prototype, "collisionGroup", void 0);
  __decorate10([
    property.object()
  ], Cursor.prototype, "cursorRayObject", void 0);
  __decorate10([
    property.enum(["x", "y", "z", "none"], "z")
  ], Cursor.prototype, "cursorRayScalingAxis", void 0);
  __decorate10([
    property.object()
  ], Cursor.prototype, "cursorObject", void 0);
  __decorate10([
    property.enum(["input component", "left", "right", "none"], "input component")
  ], Cursor.prototype, "handedness", void 0);
  __decorate10([
    property.enum(["collision", "physx"], "collision")
  ], Cursor.prototype, "rayCastMode", void 0);
  __decorate10([
    property.bool(true)
  ], Cursor.prototype, "styleCursor", void 0);
  __decorate10([
    property.bool(false)
  ], Cursor.prototype, "useWebXRHitTest", void 0);

  // node_modules/@wonderlandengine/components/dist/debug-object.js
  var __decorate11 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var DebugObject = class extends Component {
    /** A second object to print the name of */
    obj = null;
    start() {
      let origin = new Float32Array(3);
      quat2_exports.getTranslation(origin, this.object.transformWorld);
      console.log("Debug object:", this.object.name);
      console.log("Other object:", this.obj?.name);
      console.log("	translation", origin);
      console.log("	transformWorld", this.object.transformWorld);
      console.log("	transformLocal", this.object.transformLocal);
    }
  };
  __publicField(DebugObject, "TypeName", "debug-object");
  __decorate11([
    property.object()
  ], DebugObject.prototype, "obj", void 0);

  // node_modules/@wonderlandengine/components/dist/device-orientation-look.js
  function quatFromEulerYXZ(out, x, y, z) {
    const c1 = Math.cos(x / 2);
    const c2 = Math.cos(y / 2);
    const c3 = Math.cos(z / 2);
    const s1 = Math.sin(x / 2);
    const s2 = Math.sin(y / 2);
    const s3 = Math.sin(z / 2);
    out[0] = s1 * c2 * c3 + c1 * s2 * s3;
    out[1] = c1 * s2 * c3 - s1 * c2 * s3;
    out[2] = c1 * c2 * s3 - s1 * s2 * c3;
    out[3] = c1 * c2 * c3 + s1 * s2 * s3;
  }
  var DeviceOrientationLook = class extends Component {
    start() {
      this.rotationX = 0;
      this.rotationY = 0;
      this.lastClientX = -1;
      this.lastClientY = -1;
    }
    init() {
      this.deviceOrientation = [0, 0, 0, 1];
      this.screenOrientation = window.innerHeight > window.innerWidth ? 0 : 90;
      this._origin = [0, 0, 0];
      window.addEventListener("deviceorientation", function(e) {
        let alpha = e.alpha || 0;
        let beta = e.beta || 0;
        let gamma = e.gamma || 0;
        const toRad = Math.PI / 180;
        quatFromEulerYXZ(this.deviceOrientation, beta * toRad, alpha * toRad, -gamma * toRad);
      }.bind(this));
      window.addEventListener("orientationchange", function(e) {
        this.screenOrientation = window.orientation || 0;
      }.bind(this), false);
    }
    update() {
      if (this.engine.xr)
        return;
      this.object.getTranslationLocal(this._origin);
      this.object.resetTransform();
      if (this.screenOrientation != 0) {
        this.object.rotateAxisAngleDeg([0, 0, -1], this.screenOrientation);
      }
      this.object.rotate([-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5)]);
      this.object.rotate(this.deviceOrientation);
      this.object.translate(this._origin);
    }
  };
  __publicField(DeviceOrientationLook, "TypeName", "device-orientation-look");
  __publicField(DeviceOrientationLook, "Properties", {});

  // node_modules/@wonderlandengine/components/dist/finger-cursor.js
  var FingerCursor = class extends Component {
    init() {
      this.lastTarget = null;
    }
    start() {
      this.tip = this.object.getComponent("collision");
    }
    update() {
      const overlaps = this.tip.queryOverlaps();
      let overlapFound = null;
      for (let i = 0; i < overlaps.length; ++i) {
        const o = overlaps[i].object;
        const target = o.getComponent("cursor-target");
        if (target) {
          if (!target.equals(this.lastTarget)) {
            target.onHover(o, this);
            target.onClick(o, this);
          }
          overlapFound = target;
          break;
        }
      }
      if (!overlapFound) {
        if (this.lastTarget)
          this.lastTarget.onUnhover(this.lastTarget.object, this);
        this.lastTarget = null;
        return;
      } else {
        this.lastTarget = overlapFound;
      }
    }
  };
  __publicField(FingerCursor, "TypeName", "finger-cursor");
  __publicField(FingerCursor, "Properties", {});

  // node_modules/@wonderlandengine/components/dist/fixed-foveation.js
  var FixedFoveation = class extends Component {
    start() {
      this.onSessionStartCallback = this.setFixedFoveation.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    setFixedFoveation() {
      this.engine.xr.baseLayer.fixedFoveation = this.fixedFoveation;
    }
  };
  __publicField(FixedFoveation, "TypeName", "fixed-foveation");
  __publicField(FixedFoveation, "Properties", {
    /** Amount to apply from 0 (none) to 1 (full) */
    fixedFoveation: { type: Type.Float, default: 0.5 }
  });

  // node_modules/@wonderlandengine/components/dist/hand-tracking.js
  var ORDERED_JOINTS = [
    "wrist",
    "thumb-metacarpal",
    "thumb-phalanx-proximal",
    "thumb-phalanx-distal",
    "thumb-tip",
    "index-finger-metacarpal",
    "index-finger-phalanx-proximal",
    "index-finger-phalanx-intermediate",
    "index-finger-phalanx-distal",
    "index-finger-tip",
    "middle-finger-metacarpal",
    "middle-finger-phalanx-proximal",
    "middle-finger-phalanx-intermediate",
    "middle-finger-phalanx-distal",
    "middle-finger-tip",
    "ring-finger-metacarpal",
    "ring-finger-phalanx-proximal",
    "ring-finger-phalanx-intermediate",
    "ring-finger-phalanx-distal",
    "ring-finger-tip",
    "pinky-finger-metacarpal",
    "pinky-finger-phalanx-proximal",
    "pinky-finger-phalanx-intermediate",
    "pinky-finger-phalanx-distal",
    "pinky-finger-tip"
  ];
  var invTranslation = new Float32Array(3);
  var invRotation = new Float32Array(4);
  var HandTracking = class extends Component {
    init() {
      this.handedness = ["left", "right"][this.handedness];
    }
    joints = {};
    session = null;
    /* Whether last update had a hand pose */
    hasPose = false;
    _childrenActive = true;
    start() {
      if (!("XRHand" in window)) {
        console.warn("WebXR Hand Tracking not supported by this browser.");
        this.active = false;
        return;
      }
      if (this.handSkin) {
        let skin = this.handSkin;
        let jointIds = skin.jointIds;
        this.joints[ORDERED_JOINTS[0]] = this.engine.wrapObject(jointIds[0]);
        for (let j = 0; j < jointIds.length; ++j) {
          let joint = this.engine.wrapObject(jointIds[j]);
          this.joints[joint.name] = joint;
        }
        return;
      }
      const jointObjects = this.engine.scene.addObjects(ORDERED_JOINTS.length, this.object.parent, ORDERED_JOINTS.length);
      for (let j = 0; j < ORDERED_JOINTS.length; ++j) {
        let joint = jointObjects[j];
        joint.addComponent(MeshComponent, {
          mesh: this.jointMesh,
          material: this.jointMaterial
        });
        this.joints[ORDERED_JOINTS[j]] = joint;
      }
    }
    update(dt) {
      if (!this.session) {
        if (this.engine.xr)
          this.setupVREvents(this.engine.xr.session);
      }
      if (!this.session)
        return;
      this.hasPose = false;
      if (this.session && this.session.inputSources) {
        for (let i = 0; i < this.session.inputSources.length; ++i) {
          const inputSource = this.session.inputSources[i];
          if (!inputSource || !inputSource.hand || inputSource.handedness != this.handedness)
            continue;
          this.hasPose = true;
          const wristSpace = inputSource.hand.get("wrist");
          if (wristSpace !== null) {
            const p = this.engine.xr.frame.getJointPose(wristSpace, this.engine.xr.currentReferenceSpace);
            if (p) {
              setXRRigidTransformLocal(this.object, p.transform);
            }
          }
          this.object.getRotationLocal(invRotation);
          quat_exports.conjugate(invRotation, invRotation);
          this.object.getTranslationLocal(invTranslation);
          for (let j = 0; j < ORDERED_JOINTS.length; ++j) {
            const jointName = ORDERED_JOINTS[j];
            const joint = this.joints[jointName];
            if (joint === null)
              continue;
            let jointPose = null;
            const jointSpace = inputSource.hand.get(jointName);
            if (jointSpace !== null) {
              jointPose = this.engine.xr.frame.getJointPose(jointSpace, this.engine.xr.currentReferenceSpace);
            }
            if (jointPose !== null) {
              if (this.handSkin) {
                joint.resetTranslationRotation();
                joint.translate([
                  jointPose.transform.position.x - invTranslation[0],
                  jointPose.transform.position.y - invTranslation[1],
                  jointPose.transform.position.z - invTranslation[2]
                ]);
                joint.rotate(invRotation);
                joint.rotateObject([
                  jointPose.transform.orientation.x,
                  jointPose.transform.orientation.y,
                  jointPose.transform.orientation.z,
                  jointPose.transform.orientation.w
                ]);
              } else {
                setXRRigidTransformLocal(joint, jointPose.transform);
                const r = jointPose.radius || 7e-3;
                joint.setScalingLocal([r, r, r]);
              }
            }
          }
        }
      }
      if (!this.hasPose && this._childrenActive) {
        this._childrenActive = false;
        if (this.deactivateChildrenWithoutPose) {
          this.setChildrenActive(false);
        }
        if (this.controllerToDeactivate) {
          this.controllerToDeactivate.active = true;
          this.setChildrenActive(true, this.controllerToDeactivate);
        }
      } else if (this.hasPose && !this._childrenActive) {
        this._childrenActive = true;
        if (this.deactivateChildrenWithoutPose) {
          this.setChildrenActive(true);
        }
        if (this.controllerToDeactivate) {
          this.controllerToDeactivate.active = false;
          this.setChildrenActive(false, this.controllerToDeactivate);
        }
      }
    }
    setChildrenActive(active, object) {
      object = object || this.object;
      const children = object.children;
      for (const o of children) {
        o.active = active;
        this.setChildrenActive(active, o);
      }
    }
    isGrabbing() {
      const indexTipPos = [0, 0, 0];
      quat2_exports.getTranslation(indexTipPos, this.joints["index-finger-tip"].transformLocal);
      const thumbTipPos = [0, 0, 0];
      quat2_exports.getTranslation(thumbTipPos, this.joints["thumb-tip"].transformLocal);
      return vec3_exports.sqrDist(thumbTipPos, indexTipPos) < 1e-3;
    }
    setupVREvents(s) {
      this.session = s;
    }
  };
  __publicField(HandTracking, "TypeName", "hand-tracking");
  __publicField(HandTracking, "Properties", {
    /** Handedness determining whether to receive tracking input from right or left hand */
    handedness: { type: Type.Enum, default: "left", values: ["left", "right"] },
    /** (optional) Mesh to use to visualize joints */
    jointMesh: { type: Type.Mesh, default: null },
    /** Material to use for display. Applied to either the spawned skinned mesh or the joint spheres. */
    jointMaterial: { type: Type.Material, default: null },
    /** (optional) Skin to apply tracked joint poses to. If not present, joint spheres will be used for display instead. */
    handSkin: { type: Type.Skin, default: null },
    /** Deactivate children if no pose was tracked */
    deactivateChildrenWithoutPose: { type: Type.Bool, default: true },
    /** Controller objects to activate including children if no pose is available */
    controllerToDeactivate: { type: Type.Object }
  });

  // node_modules/@wonderlandengine/components/dist/howler-audio-listener.js
  var import_howler = __toESM(require_howler(), 1);
  var HowlerAudioListener = class extends Component {
    init() {
      this.origin = new Float32Array(3);
      this.fwd = new Float32Array(3);
      this.up = new Float32Array(3);
    }
    update() {
      if (!this.spatial)
        return;
      this.object.getTranslationWorld(this.origin);
      this.object.getForward(this.fwd);
      this.object.getUp(this.up);
      Howler.pos(this.origin[0], this.origin[1], this.origin[2]);
      Howler.orientation(this.fwd[0], this.fwd[1], this.fwd[2], this.up[0], this.up[1], this.up[2]);
    }
  };
  __publicField(HowlerAudioListener, "TypeName", "howler-audio-listener");
  __publicField(HowlerAudioListener, "Properties", {
    /** Whether audio should be spatialized/positional. */
    spatial: { type: Type.Bool, default: true }
  });

  // node_modules/@wonderlandengine/components/dist/howler-audio-source.js
  var import_howler2 = __toESM(require_howler(), 1);
  var HowlerAudioSource = class extends Component {
    start() {
      this.audio = new Howl({
        src: [this.src],
        loop: this.loop,
        volume: this.volume,
        autoplay: this.autoplay
      });
      this.lastPlayedAudioId = null;
      this.origin = new Float32Array(3);
      this.lastOrigin = new Float32Array(3);
      if (this.spatial && this.autoplay) {
        this.updatePosition();
        this.play();
      }
    }
    update() {
      if (!this.spatial || !this.lastPlayedAudioId)
        return;
      this.object.getTranslationWorld(this.origin);
      if (Math.abs(this.lastOrigin[0] - this.origin[0]) > 5e-3 || Math.abs(this.lastOrigin[1] - this.origin[1]) > 5e-3 || Math.abs(this.lastOrigin[2] - this.origin[2]) > 5e-3) {
        this.updatePosition();
      }
    }
    updatePosition() {
      this.audio.pos(this.origin[0], this.origin[1], this.origin[2], this.lastPlayedAudioId);
      this.lastOrigin.set(this.origin);
    }
    play() {
      if (this.lastPlayedAudioId)
        this.audio.stop(this.lastPlayedAudioId);
      this.lastPlayedAudioId = this.audio.play();
      if (this.spatial)
        this.updatePosition();
    }
    stop() {
      if (!this.lastPlayedAudioId)
        return;
      this.audio.stop(this.lastPlayedAudioId);
      this.lastPlayedAudioId = null;
    }
    onDeactivate() {
      this.stop();
    }
  };
  __publicField(HowlerAudioSource, "TypeName", "howler-audio-source");
  __publicField(HowlerAudioSource, "Properties", {
    /** Volume */
    volume: { type: Type.Float, default: 1 },
    /** Whether audio should be spatialized/positional */
    spatial: { type: Type.Bool, default: true },
    /** Whether to loop the sound */
    loop: { type: Type.Bool, default: false },
    /** Whether to start playing automatically */
    autoplay: { type: Type.Bool, default: false },
    /** URL to a sound file to play */
    src: { type: Type.String, default: "" }
  });

  // node_modules/@wonderlandengine/components/dist/utils/utils.js
  function setFirstMaterialTexture(mat, texture, customTextureProperty) {
    if (customTextureProperty !== "auto") {
      mat[customTextureProperty] = texture;
      return true;
    }
    const shader = mat.shader;
    if (shader === "Flat Opaque Textured") {
      mat.flatTexture = texture;
      return true;
    } else if (shader === "Phong Opaque Textured" || shader === "Foliage" || shader === "Phong Normalmapped" || shader === "Phong Lightmapped") {
      mat.diffuseTexture = texture;
      return true;
    } else if (shader === "Particle") {
      mat.mainTexture = texture;
      return true;
    } else if (shader === "DistanceFieldVector") {
      mat.vectorTexture = texture;
      return true;
    } else if (shader === "Background" || shader === "Sky") {
      mat.texture = texture;
      return true;
    } else if (shader === "Physical Opaque Textured") {
      mat.albedoTexture = texture;
      return true;
    }
    return false;
  }

  // node_modules/@wonderlandengine/components/dist/image-texture.js
  var ImageTexture = class extends Component {
    start() {
      if (!this.material) {
        throw Error("image-texture: material property not set");
      }
      this.engine.textures.load(this.url, "anonymous").then((texture) => {
        const mat = this.material;
        if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {
          console.error("Shader", mat.shader, "not supported by image-texture");
        }
      }).catch(console.err);
    }
  };
  __publicField(ImageTexture, "TypeName", "image-texture");
  __publicField(ImageTexture, "Properties", {
    /** URL to download the image from */
    url: Property.string(),
    /** Material to apply the video texture to */
    material: Property.material(),
    /** Name of the texture property to set */
    textureProperty: Property.string("auto")
  });

  // node_modules/@wonderlandengine/components/dist/mouse-look.js
  var MouseLookComponent = class extends Component {
    init() {
      this.currentRotationY = 0;
      this.currentRotationX = 0;
      this.origin = new Float32Array(3);
      this.parentOrigin = new Float32Array(3);
      this.rotationX = 0;
      this.rotationY = 0;
    }
    start() {
      document.addEventListener("mousemove", (e) => {
        if (this.active && (this.mouseDown || !this.requireMouseDown)) {
          this.rotationY = -this.sensitity * e.movementX / 100;
          this.rotationX = -this.sensitity * e.movementY / 100;
          this.currentRotationX += this.rotationX;
          this.currentRotationY += this.rotationY;
          this.currentRotationX = Math.min(1.507, this.currentRotationX);
          this.currentRotationX = Math.max(-1.507, this.currentRotationX);
          this.object.getTranslationWorld(this.origin);
          const parent = this.object.parent;
          if (parent !== null) {
            parent.getTranslationWorld(this.parentOrigin);
            vec3_exports.sub(this.origin, this.origin, this.parentOrigin);
          }
          this.object.resetTranslationRotation();
          this.object.rotateAxisAngleRad([1, 0, 0], this.currentRotationX);
          this.object.rotateAxisAngleRad([0, 1, 0], this.currentRotationY);
          this.object.translate(this.origin);
        }
      });
      const canvas2 = this.engine.canvas;
      if (this.pointerLockOnClick) {
        canvas2.addEventListener("mousedown", () => {
          canvas2.requestPointerLock = canvas2.requestPointerLock || canvas2.mozRequestPointerLock || canvas2.webkitRequestPointerLock;
          canvas2.requestPointerLock();
        });
      }
      if (this.requireMouseDown) {
        if (this.mouseButtonIndex == 2) {
          canvas2.addEventListener("contextmenu", (e) => {
            e.preventDefault();
          }, false);
        }
        canvas2.addEventListener("mousedown", (e) => {
          if (e.button == this.mouseButtonIndex) {
            this.mouseDown = true;
            document.body.style.cursor = "grabbing";
            if (e.button == 1) {
              e.preventDefault();
              return false;
            }
          }
        });
        canvas2.addEventListener("mouseup", (e) => {
          if (e.button == this.mouseButtonIndex) {
            this.mouseDown = false;
            document.body.style.cursor = "initial";
          }
        });
      }
    }
  };
  __publicField(MouseLookComponent, "TypeName", "mouse-look");
  __publicField(MouseLookComponent, "Properties", {
    /** Mouse look sensitivity */
    sensitity: { type: Type.Float, default: 0.25 },
    /** Require a mouse button to be pressed to control view.
     * Otherwise view will allways follow mouse movement */
    requireMouseDown: { type: Type.Bool, default: true },
    /** If "moveOnClick" is enabled, mouse button which should
     * be held down to control view */
    mouseButtonIndex: { type: Type.Int },
    /** Enables pointer lock on "mousedown" event on canvas */
    pointerLockOnClick: { type: Type.Bool, default: false }
  });

  // node_modules/@wonderlandengine/components/dist/player-height.js
  var __decorate12 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var PlayerHeight = class extends Component {
    height = 1.75;
    onSessionStartCallback;
    onSessionEndCallback;
    start() {
      this.object.resetPositionRotation();
      this.object.translateLocal([0, this.height, 0]);
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    onXRSessionStart() {
      const type = this.engine.xr?.currentReferenceSpaceType;
      if (type !== "local" && type !== "viewer") {
        this.object.resetPositionRotation();
      }
    }
    onXRSessionEnd() {
      const type = this.engine.xr?.currentReferenceSpaceType;
      if (type !== "local" && type !== "viewer") {
        this.object.resetPositionRotation();
        this.object.translateLocal([0, this.height, 0]);
      }
    }
  };
  __publicField(PlayerHeight, "TypeName", "player-height");
  __decorate12([
    property.float(0)
  ], PlayerHeight.prototype, "height", void 0);

  // node_modules/@wonderlandengine/components/dist/target-framerate.js
  var TargetFramerate = class extends Component {
    start() {
      this.onSessionStartCallback = this.setTargetFramerate.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    setTargetFramerate(s) {
      if (s.supportedFrameRates && s.updateTargetFrameRate) {
        const a = this.engine.xr.session.supportedFrameRates;
        a.sort((a2, b) => Math.abs(a2 - this.framerate) - Math.abs(b - this.framerate));
        this.engine.xr.session.updateTargetFrameRate(a[0]);
      }
    }
  };
  __publicField(TargetFramerate, "TypeName", "target-framerate");
  __publicField(TargetFramerate, "Properties", {
    framerate: { type: Type.Float, default: 90 }
  });

  // node_modules/@wonderlandengine/components/dist/teleport.js
  var TeleportComponent = class extends Component {
    init() {
      this._prevThumbstickAxis = new Float32Array(2);
      this._tempVec = new Float32Array(3);
      this._tempVec0 = new Float32Array(3);
      this._currentIndicatorRotation = 0;
      this.input = this.object.getComponent("input");
      if (!this.input) {
        console.error(this.object.name, "generic-teleport-component.js: input component is required on the object");
        return;
      }
      if (!this.teleportIndicatorMeshObject) {
        console.error(this.object.name, "generic-teleport-component.js: Teleport indicator mesh is missing");
        return;
      }
      if (!this.camRoot) {
        console.error(this.object.name, "generic-teleport-component.js: camRoot not set");
        return;
      }
      this.isIndicating = false;
      this.indicatorHidden = true;
      this.hitSpot = new Float32Array(3);
      this._hasHit = false;
      this._extraRotation = 0;
      this._currentStickAxes = new Float32Array(2);
    }
    start() {
      if (this.cam) {
        this.isMouseIndicating = false;
        canvas.addEventListener("mousedown", this.onMouseDown.bind(this));
        canvas.addEventListener("mouseup", this.onMouseUp.bind(this));
      }
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("teleport component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness;
          this.input = inputComp;
        }
      } else {
        this.handedness = ["left", "right"][this.handedness - 1];
      }
      this.onSessionStartCallback = this.setupVREvents.bind(this);
      this.teleportIndicatorMeshObject.active = false;
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    /* Get current camera Y rotation */
    _getCamRotation() {
      this.eyeLeft.getForward(this._tempVec);
      this._tempVec[1] = 0;
      vec3_exports.normalize(this._tempVec, this._tempVec);
      return Math.atan2(this._tempVec[0], this._tempVec[2]);
    }
    update() {
      let inputLength = 0;
      if (this.gamepad && this.gamepad.axes) {
        this._currentStickAxes[0] = this.gamepad.axes[2];
        this._currentStickAxes[1] = this.gamepad.axes[3];
        inputLength = Math.abs(this._currentStickAxes[0]) + Math.abs(this._currentStickAxes[1]);
      }
      if (!this.isIndicating && this._prevThumbstickAxis[1] >= this.thumbstickActivationThreshhold && this._currentStickAxes[1] < this.thumbstickActivationThreshhold) {
        this.isIndicating = true;
      } else if (this.isIndicating && inputLength < this.thumbstickDeactivationThreshhold) {
        this.isIndicating = false;
        this.teleportIndicatorMeshObject.active = false;
        if (this._hasHit) {
          this._teleportPlayer(this.hitSpot, this._extraRotation);
        }
      }
      if (this.isIndicating && this.teleportIndicatorMeshObject && this.input) {
        const origin = this._tempVec0;
        this.object.getPositionWorld(origin);
        const direction2 = this.object.getForwardWorld(this._tempVec);
        let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
        if (rayHit.hitCount > 0) {
          this.indicatorHidden = false;
          this._extraRotation = Math.PI + Math.atan2(this._currentStickAxes[0], this._currentStickAxes[1]);
          this._currentIndicatorRotation = this._getCamRotation() + (this._extraRotation - Math.PI);
          this.teleportIndicatorMeshObject.resetPositionRotation();
          this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
          this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
          this.teleportIndicatorMeshObject.translate([
            0,
            this.indicatorYOffset,
            0
          ]);
          this.teleportIndicatorMeshObject.active = true;
          this.hitSpot.set(rayHit.locations[0]);
          this._hasHit = true;
        } else {
          if (!this.indicatorHidden) {
            this.teleportIndicatorMeshObject.active = false;
            this.indicatorHidden = true;
          }
          this._hasHit = false;
        }
      } else if (this.teleportIndicatorMeshObject && this.isMouseIndicating) {
        this.onMousePressed();
      }
      this._prevThumbstickAxis.set(this._currentStickAxes);
    }
    setupVREvents(s) {
      this.session = s;
      s.addEventListener("end", function() {
        this.gamepad = null;
        this.session = null;
      }.bind(this));
      if (s.inputSources && s.inputSources.length) {
        for (let i = 0; i < s.inputSources.length; i++) {
          let inputSource = s.inputSources[i];
          if (inputSource.handedness == this.handedness) {
            this.gamepad = inputSource.gamepad;
          }
        }
      }
      s.addEventListener("inputsourceschange", function(e) {
        if (e.added && e.added.length) {
          for (let i = 0; i < e.added.length; i++) {
            let inputSource = e.added[i];
            if (inputSource.handedness == this.handedness) {
              this.gamepad = inputSource.gamepad;
            }
          }
        }
      }.bind(this));
    }
    onMouseDown() {
      this.isMouseIndicating = true;
    }
    onMouseUp() {
      this.isMouseIndicating = false;
      this.teleportIndicatorMeshObject.active = false;
      if (this._hasHit) {
        this._teleportPlayer(this.hitSpot, 0);
      }
    }
    onMousePressed() {
      let origin = [0, 0, 0];
      this.cam.getPositionWorld(origin);
      const direction2 = this.cam.getForward(this._tempVec);
      let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
      if (rayHit.hitCount > 0) {
        this.indicatorHidden = false;
        direction2[1] = 0;
        vec3_exports.normalize(direction2, direction2);
        this._currentIndicatorRotation = -Math.sign(direction2[2]) * Math.acos(direction2[0]) - Math.PI * 0.5;
        this.teleportIndicatorMeshObject.resetPositionRotation();
        this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
        this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
        this.teleportIndicatorMeshObject.active = true;
        this.hitSpot = rayHit.locations[0];
        this._hasHit = true;
      } else {
        if (!this.indicatorHidden) {
          this.teleportIndicatorMeshObject.active = false;
          this.indicatorHidden = true;
        }
        this._hasHit = false;
      }
    }
    _teleportPlayer(newPosition, rotationToAdd) {
      this.camRoot.rotateAxisAngleRad([0, 1, 0], rotationToAdd);
      const p = this._tempVec;
      const p1 = this._tempVec0;
      if (this.session) {
        this.eyeLeft.getPositionWorld(p);
        this.eyeRight.getPositionWorld(p1);
        vec3_exports.add(p, p, p1);
        vec3_exports.scale(p, p, 0.5);
      } else {
        this.cam.getPositionWorld(p);
      }
      this.camRoot.getPositionWorld(p1);
      vec3_exports.sub(p, p1, p);
      p[0] += newPosition[0];
      p[1] = newPosition[1];
      p[2] += newPosition[2];
      this.camRoot.setPositionWorld(p);
    }
  };
  __publicField(TeleportComponent, "TypeName", "teleport");
  __publicField(TeleportComponent, "Properties", {
    /** Object that will be placed as indiciation forwhere the player will teleport to. */
    teleportIndicatorMeshObject: { type: Type.Object },
    /** Root of the player, the object that will be positioned on teleportation. */
    camRoot: { type: Type.Object },
    /** Non-vr camera for use outside of VR */
    cam: { type: Type.Object },
    /** Left eye for use in VR*/
    eyeLeft: { type: Type.Object },
    /** Right eye for use in VR*/
    eyeRight: { type: Type.Object },
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness: {
      type: Type.Enum,
      values: ["input component", "left", "right", "none"],
      default: "input component"
    },
    /** Collision group of valid "floor" objects that can be teleported on */
    floorGroup: { type: Type.Int, default: 1 },
    /** How far the thumbstick needs to be pushed to have the teleport target indicator show up */
    thumbstickActivationThreshhold: { type: Type.Float, default: -0.7 },
    /** How far the thumbstick needs to be released to execute the teleport */
    thumbstickDeactivationThreshhold: { type: Type.Float, default: 0.3 },
    /** Offset to apply to the indicator object, e.g. to avoid it from Z-fighting with the floor */
    indicatorYOffset: { type: Type.Float, default: 0.01 },
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode: {
      type: Type.Enum,
      values: ["collision", "physx"],
      default: "collision"
    },
    /** Max distance for PhysX raycast */
    maxDistance: { type: Type.Float, default: 100 }
  });

  // node_modules/@wonderlandengine/components/dist/trail.js
  var direction = vec3_exports.create();
  var offset = vec3_exports.create();
  var normal = vec3_exports.create();
  var Trail = class extends Component {
    init() {
      this.points = new Array(this.segments + 1);
      for (let i = 0; i < this.points.length; ++i) {
        this.points[i] = vec3_exports.create();
      }
      this.currentPointOffset = 0;
      this.up = [0, 1, 0];
      this.timeTillNext = this.interval;
    }
    start() {
      this.trailContainer = this.engine.scene.addObject();
      this.meshComp = this.trailContainer.addComponent("mesh");
      this.meshComp.material = this.material;
      const vertexCount = 2 * this.points.length;
      this.indexData = new Uint32Array(6 * this.segments);
      for (let i = 0, v = 0; i < vertexCount - 2; i += 2, v += 6) {
        this.indexData.subarray(v, v + 6).set([i + 1, i + 0, i + 2, i + 2, i + 3, i + 1]);
      }
      this.mesh = new Mesh(this.engine, {
        vertexCount,
        indexData: this.indexData,
        indexType: MeshIndexType.UnsignedInt
      });
      this.meshComp.mesh = this.mesh;
    }
    updateVertices() {
      const positions = this.mesh.attribute(MeshAttribute.Position);
      const texCoords = this.mesh.attribute(MeshAttribute.TextureCoordinate);
      const normals = this.mesh.attribute(MeshAttribute.Normal);
      vec3_exports.set(direction, 0, 0, 0);
      for (let i = 0; i < this.points.length; ++i) {
        const curr = this.points[(this.currentPointIndex + i + 1) % this.points.length];
        const next = this.points[(this.currentPointIndex + i + 2) % this.points.length];
        if (i !== this.points.length - 1) {
          vec3_exports.sub(direction, next, curr);
        }
        vec3_exports.cross(offset, this.up, direction);
        vec3_exports.normalize(offset, offset);
        const timeFraction = 1 - this.timeTillNext / this.interval;
        const fraction = (i - timeFraction) / this.segments;
        vec3_exports.scale(offset, offset, (this.taper ? fraction : 1) * this.width / 2);
        positions.set(i * 2, [
          curr[0] - offset[0],
          curr[1] - offset[1],
          curr[2] - offset[2]
        ]);
        positions.set(i * 2 + 1, [
          curr[0] + offset[0],
          curr[1] + offset[1],
          curr[2] + offset[2]
        ]);
        if (normals) {
          vec3_exports.cross(normal, direction, offset);
          vec3_exports.normalize(normal, normal);
          normals.set(i * 2, normal);
          normals.set(i * 2 + 1, normal);
        }
        if (texCoords) {
          texCoords.set(i * 2, [0, fraction]);
          texCoords.set(i * 2 + 1, [1, fraction]);
        }
      }
      this.mesh.update();
    }
    resetTrail() {
      this.object.getTranslationWorld(this.points[0]);
      for (let i = 1; i < this.points.length; ++i) {
        vec3_exports.copy(this.points[i], this.points[0]);
      }
      this.currentPointIndex = 0;
      this.timeTillNext = this.interval;
    }
    update(dt) {
      this.timeTillNext -= dt;
      if (dt > this.resetThreshold) {
        this.resetTrail();
      }
      if (this.timeTillNext < 0) {
        this.currentPointIndex = (this.currentPointIndex + 1) % this.points.length;
        this.timeTillNext = this.timeTillNext % this.interval + this.interval;
      }
      this.object.getTranslationWorld(this.points[this.currentPointIndex]);
      this.updateVertices();
    }
    onActivate() {
      this.resetTrail();
    }
    onDestroy() {
      this.trailContainer.destroy();
      this.mesh.destroy();
    }
  };
  __publicField(Trail, "TypeName", "trail");
  __publicField(Trail, "Properties", {
    /** The material to apply to the trail mesh */
    material: { type: Type.Material },
    /** The number of segments in the trail mesh */
    segments: { type: Type.Int, default: 50 },
    /** The time interval before recording a new point */
    interval: { type: Type.Float, default: 0.1 },
    /** The width of the trail (in world space) */
    width: { type: Type.Float, default: 1 },
    /** Whether or not the trail should taper off */
    taper: { type: Type.Bool, default: true },
    /**
     * The maximum delta time in seconds, above which the trail resets.
     * This prevents the trail from jumping around when updates happen
     * infrequently (e.g. when the tab doesn't have focus).
     */
    resetThreshold: { type: Type.Float, default: 0.5 }
  });

  // node_modules/@wonderlandengine/components/dist/two-joint-ik-solver.js
  function clamp2(v, a, b) {
    return Math.max(a, Math.min(v, b));
  }
  var rootScaling = new Float32Array(3);
  var tempQuat3 = new Float32Array(4);
  var middlePos = new Float32Array(3);
  var endPos = new Float32Array(3);
  var targetPos = new Float32Array(3);
  var helperPos = new Float32Array(3);
  var rootTransform = new Float32Array(8);
  var middleTransform = new Float32Array(8);
  var endTransform = new Float32Array(8);
  var twoJointIK = function() {
    const ta = new Float32Array(3);
    const ca = new Float32Array(3);
    const ba = new Float32Array(3);
    const ab = new Float32Array(3);
    const cb = new Float32Array(3);
    const axis0 = new Float32Array(3);
    const axis1 = new Float32Array(3);
    const temp = new Float32Array(3);
    return function(root, middle, b, c, targetPos2, eps, helper) {
      ba.set(b);
      const lab = vec3_exports.length(ba);
      vec3_exports.sub(ta, b, c);
      const lcb = vec3_exports.length(ta);
      ta.set(targetPos2);
      const lat = clamp2(vec3_exports.length(ta), eps, lab + lcb - eps);
      ca.set(c);
      vec3_exports.scale(ab, b, -1);
      vec3_exports.sub(cb, c, b);
      vec3_exports.normalize(ca, ca);
      vec3_exports.normalize(ba, ba);
      vec3_exports.normalize(ab, ab);
      vec3_exports.normalize(cb, cb);
      vec3_exports.normalize(ta, ta);
      const ac_ab_0 = Math.acos(clamp2(vec3_exports.dot(ca, ba), -1, 1));
      const ba_bc_0 = Math.acos(clamp2(vec3_exports.dot(ab, cb), -1, 1));
      const ac_at_0 = Math.acos(clamp2(vec3_exports.dot(ca, ta), -1, 1));
      const ac_ab_1 = Math.acos(clamp2((lcb * lcb - lab * lab - lat * lat) / (-2 * lab * lat), -1, 1));
      const ba_bc_1 = Math.acos(clamp2((lat * lat - lab * lab - lcb * lcb) / (-2 * lab * lcb), -1, 1));
      if (helper) {
        vec3_exports.sub(ba, helper, b);
        vec3_exports.normalize(ba, ba);
      }
      vec3_exports.cross(axis0, ca, ba);
      vec3_exports.normalize(axis0, axis0);
      vec3_exports.cross(axis1, c, targetPos2);
      vec3_exports.normalize(axis1, axis1);
      middle.transformVectorInverseLocal(temp, axis0);
      root.rotateAxisAngleRadObject(axis1, ac_at_0);
      root.rotateAxisAngleRadObject(axis0, ac_ab_1 - ac_ab_0);
      middle.rotateAxisAngleRadObject(axis0, ba_bc_1 - ba_bc_0);
    };
  }();
  var TwoJointIkSolver = class extends Component {
    time = 0;
    start() {
      this.root.getTransformLocal(rootTransform);
      this.middle.getTransformLocal(middleTransform);
      this.end.getTransformLocal(endTransform);
    }
    update(dt) {
      this.time += dt;
      this.root.setTransformLocal(rootTransform);
      this.middle.setTransformLocal(middleTransform);
      this.end.setTransformLocal(endTransform);
      this.root.getScalingWorld(rootScaling);
      this.middle.getPositionLocal(middlePos);
      this.end.getPositionLocal(endPos);
      this.middle.transformPointLocal(endPos, endPos);
      if (this.helper) {
        this.helper.getPositionWorld(helperPos);
        this.root.transformPointInverseWorld(helperPos, helperPos);
        vec3_exports.div(helperPos, helperPos, rootScaling);
      }
      this.target.getPositionWorld(targetPos);
      this.root.transformPointInverseWorld(targetPos, targetPos);
      vec3_exports.div(targetPos, targetPos, rootScaling);
      twoJointIK(this.root, this.middle, middlePos, endPos, targetPos, 0.01, this.helper ? helperPos : null, this.time);
      if (this.copyTargetRotation) {
        this.end.setRotationWorld(this.target.getRotationWorld(tempQuat3));
      }
    }
  };
  __publicField(TwoJointIkSolver, "TypeName", "two-joint-ik-solver");
  __publicField(TwoJointIkSolver, "Properties", {
    /** Root bone, never moves */
    root: Property.object(),
    /** Bone attached to the root */
    middle: Property.object(),
    /** Bone attached to the middle */
    end: Property.object(),
    /** Target the joins should reach for */
    target: Property.object(),
    /** Flag for copying rotation from target to end */
    copyTargetRotation: Property.bool(true),
    /** Helper object to use to determine joint rotation axis */
    helper: Property.object()
  });

  // node_modules/@wonderlandengine/components/dist/video-texture.js
  var VideoTexture = class extends Component {
    init() {
      if (!this.material) {
        throw Error("video-texture: material property not set");
      }
      this.loaded = false;
      this.frameUpdateRequested = true;
    }
    start() {
      this.video = document.createElement("video");
      this.video.src = this.url;
      this.video.crossOrigin = "anonymous";
      this.video.playsInline = true;
      this.video.loop = this.loop;
      this.video.muted = this.muted;
      this.video.addEventListener("playing", () => {
        this.loaded = true;
      });
      if (this.autoplay) {
        const playAfterUserGesture = () => {
          this.video.play();
          window.removeEventListener("click", playAfterUserGesture);
          window.removeEventListener("touchstart", playAfterUserGesture);
        };
        window.addEventListener("click", playAfterUserGesture);
        window.addEventListener("touchstart", playAfterUserGesture);
      }
    }
    applyTexture() {
      const mat = this.material;
      const shader = mat.shader;
      const texture = this.texture = new Texture(this.engine, this.video);
      if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {
        console.error("Shader", shader, "not supported by video-texture");
      }
      if ("requestVideoFrameCallback" in this.video) {
        this.video.requestVideoFrameCallback(this.updateVideo.bind(this));
      } else {
        this.video.addEventListener("timeupdate", () => {
          this.frameUpdateRequested = true;
        });
      }
    }
    update(dt) {
      if (this.loaded && this.frameUpdateRequested) {
        if (this.texture) {
          this.texture.update();
        } else {
          this.applyTexture();
        }
        this.frameUpdateRequested = false;
      }
    }
    updateVideo() {
      this.frameUpdateRequested = true;
      this.video.requestVideoFrameCallback(this.updateVideo.bind(this));
    }
  };
  __publicField(VideoTexture, "TypeName", "video-texture");
  __publicField(VideoTexture, "Properties", {
    /** URL to download video from */
    url: Property.string(),
    /** Material to apply the video texture to */
    material: Property.material(),
    /** Whether to loop the video */
    loop: Property.bool(true),
    /** Whether to automatically start playing the video */
    autoplay: Property.bool(true),
    /** Whether to mute sound */
    muted: Property.bool(true),
    /** Name of the texture property to set */
    textureProperty: Property.string("auto")
  });

  // node_modules/@wonderlandengine/components/dist/vr-mode-active-switch.js
  var VrModeActiveSwitch = class extends Component {
    start() {
      this.components = [];
      this.getComponents(this.object);
      this.onXRSessionEnd();
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    getComponents(obj) {
      const comps = obj.getComponents().filter((c) => c.type !== "vr-mode-active-switch");
      this.components = this.components.concat(comps);
      if (this.affectChildren) {
        let children = obj.children;
        for (let i = 0; i < children.length; ++i) {
          this.getComponents(children[i]);
        }
      }
    }
    setComponentsActive(active) {
      const comps = this.components;
      for (let i = 0; i < comps.length; ++i) {
        comps[i].active = active;
      }
    }
    onXRSessionStart() {
      this.setComponentsActive(this.activateComponents == 0);
    }
    onXRSessionEnd() {
      this.setComponentsActive(this.activateComponents != 0);
    }
  };
  __publicField(VrModeActiveSwitch, "TypeName", "vr-mode-active-switch");
  __publicField(VrModeActiveSwitch, "Properties", {
    /** When components should be active: In VR or when not in VR */
    activateComponents: {
      type: Type.Enum,
      values: ["in VR", "in non-VR"],
      default: "in VR"
    },
    /** Whether child object's components should be affected */
    affectChildren: { type: Type.Bool, default: true }
  });

  // node_modules/@wonderlandengine/components/dist/plane-detection.js
  var import_earcut = __toESM(require_earcut(), 1);
  var __decorate13 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec32 = new Float32Array(3);
  function extentsFromContour(out, points) {
    if (points.length == 0)
      return out;
    let absMaxX = Math.abs(points[0].x);
    let absMaxZ = Math.abs(points[0].z);
    for (let i = 1; i < points.length; ++i) {
      absMaxX = Math.max(absMaxX, Math.abs(points[i].x));
      absMaxZ = Math.max(absMaxZ, Math.abs(points[i].z));
    }
    out[0] = absMaxX;
    out[1] = 0;
    out[2] = absMaxZ;
  }
  function within(x, a, b) {
    if (a > b)
      return x < a && x > b;
    return x > a && x < b;
  }
  function isPointLocalOnXRPlanePolygon(p, plane) {
    const points = plane.polygon;
    if (points.length < 3)
      return false;
    const pX = p[0];
    const pZ = p[2];
    let intersections = 0;
    for (let n = 0, l2 = points.length - 1; n < points.length; ++n) {
      const aX = points[l2].x;
      const aZ = points[l2].z;
      const s = (points[n].z - aZ) / (points[n].x - aX);
      const x = Math.abs((pZ - aZ) / s);
      if (x >= 0 && x <= 1 && within(x + pX, aX, points[n].x))
        ++intersections;
      l2 = n;
    }
    return (intersections & 1) == 0;
  }
  function isPointWorldOnXRPlanePolygon(object, p, plane) {
    if (plane.polygon.length < 3)
      return false;
    isPointLocalOnXRPlanePolygon(object.transformPointInverseWorld(tempVec32, p), plane);
  }
  function planeMeshFromContour(engine, points, meshToUpdate = null) {
    const vertexCount = points.length;
    const vertices = new Float32Array(vertexCount * 2);
    for (let i = 0, d = 0; i < vertexCount; ++i, d += 2) {
      vertices[d] = points[i].x;
      vertices[d + 1] = points[i].z;
    }
    const triangles = (0, import_earcut.default)(vertices);
    const mesh = meshToUpdate || new Mesh(engine, {
      vertexCount,
      /* Assumption here that we will never have more than 256 points
       * in the detected plane meshes! */
      indexType: MeshIndexType.UnsignedByte,
      indexData: triangles
    });
    if (mesh.vertexCount !== vertexCount) {
      console.warn("vertexCount of meshToUpdate did not match required vertexCount");
      return mesh;
    }
    const positions = mesh.attribute(MeshAttribute.Position);
    const textureCoords = mesh.attribute(MeshAttribute.TextureCoordinate);
    const normals = mesh.attribute(MeshAttribute.Normal);
    tempVec32[1] = 0;
    for (let i = 0, s = 0; i < vertexCount; ++i, s += 2) {
      tempVec32[0] = vertices[s];
      tempVec32[2] = vertices[s + 1];
      positions.set(i, tempVec32);
    }
    textureCoords?.set(0, vertices);
    if (normals) {
      tempVec32[0] = 0;
      tempVec32[1] = 1;
      tempVec32[2] = 0;
      for (let i = 0; i < vertexCount; ++i) {
        normals.set(i, tempVec32);
      }
    }
    if (meshToUpdate)
      mesh.update();
    return mesh;
  }
  var _planeLost, planeLost_fn, _planeFound, planeFound_fn, _planeUpdate, planeUpdate_fn, _planeUpdatePose, planeUpdatePose_fn;
  var PlaneDetection = class extends Component {
    constructor() {
      super(...arguments);
      __privateAdd(this, _planeLost);
      __privateAdd(this, _planeFound);
      __privateAdd(this, _planeUpdate);
      __privateAdd(this, _planeUpdatePose);
      /**
       * Material to assign to created plane meshes or `null` if meshes should not be created.
       */
      __publicField(this, "planeMaterial", null);
      /**
       * Collision mask to assign to newly created collision components or a negative value if
       * collision components should not be created.
       */
      __publicField(this, "collisionMask", -1);
      /** Map of all planes and their last updated timestamps */
      __publicField(this, "planes", /* @__PURE__ */ new Map());
      /** Objects generated for each XRPlane */
      __publicField(this, "planeObjects", /* @__PURE__ */ new Map());
      /** Called when a plane starts tracking */
      __publicField(this, "onPlaneFound", new Emitter());
      /** Called when a plane stops tracking */
      __publicField(this, "onPlaneLost", new Emitter());
    }
    update() {
      if (!this.engine.xr?.frame)
        return;
      if (this.engine.xr.frame.detectedPlanes === void 0) {
        console.error("plane-detection: WebXR feature not available.");
        this.active = false;
        return;
      }
      const detectedPlanes = this.engine.xr.frame.detectedPlanes;
      for (const [plane, _] of this.planes) {
        if (!detectedPlanes.has(plane)) {
          __privateMethod(this, _planeLost, planeLost_fn).call(this, plane);
        }
      }
      detectedPlanes.forEach((plane) => {
        if (this.planes.has(plane)) {
          if (plane.lastChangedTime > this.planes.get(plane)) {
            __privateMethod(this, _planeUpdate, planeUpdate_fn).call(this, plane);
          }
        } else {
          __privateMethod(this, _planeFound, planeFound_fn).call(this, plane);
        }
        __privateMethod(this, _planeUpdatePose, planeUpdatePose_fn).call(this, plane);
      });
    }
  };
  _planeLost = new WeakSet();
  planeLost_fn = function(plane) {
    this.planes.delete(plane);
    const o = this.planeObjects.get(plane);
    this.onPlaneLost.notify(plane, o);
    if (o.objectId > 0)
      o.destroy();
  };
  _planeFound = new WeakSet();
  planeFound_fn = function(plane) {
    this.planes.set(plane, plane.lastChangedTime);
    const o = this.engine.scene.addObject(this.object);
    this.planeObjects.set(plane, o);
    if (this.planeMaterial) {
      o.addComponent(MeshComponent, {
        mesh: planeMeshFromContour(this.engine, plane.polygon),
        material: this.planeMaterial
      });
    }
    if (this.collisionMask >= 0) {
      extentsFromContour(tempVec32, plane.polygon);
      tempVec32[1] = 0.025;
      o.addComponent(CollisionComponent, {
        group: this.collisionMask,
        collider: Collider.Box,
        extents: tempVec32
      });
    }
    this.onPlaneFound.notify(plane, o);
  };
  _planeUpdate = new WeakSet();
  planeUpdate_fn = function(plane) {
    this.planes.set(plane, plane.lastChangedTime);
    const planeMesh = this.planeObjects.get(plane).getComponent(MeshComponent);
    if (!planeMesh)
      return;
    planeMeshFromContour(this.engine, plane.polygon, planeMesh.mesh);
  };
  _planeUpdatePose = new WeakSet();
  planeUpdatePose_fn = function(plane) {
    const o = this.planeObjects.get(plane);
    const pose = this.engine.xr.frame.getPose(plane.planeSpace, this.engine.xr.currentReferenceSpace);
    if (!pose) {
      o.active = false;
      return;
    }
    setXRRigidTransformLocal(o, pose.transform);
  };
  __publicField(PlaneDetection, "TypeName", "plane-detection");
  __decorate13([
    property.material()
  ], PlaneDetection.prototype, "planeMaterial", void 0);
  __decorate13([
    property.int()
  ], PlaneDetection.prototype, "collisionMask", void 0);

  // node_modules/@wonderlandengine/components/dist/vrm.js
  var VRM_ROLL_AXES = {
    X: [1, 0, 0],
    Y: [0, 1, 0],
    Z: [0, 0, 1]
  };
  var VRM_AIM_AXES = {
    PositiveX: [1, 0, 0],
    NegativeX: [-1, 0, 0],
    PositiveY: [0, 1, 0],
    NegativeY: [0, -1, 0],
    PositiveZ: [0, 0, 1],
    NegativeZ: [0, 0, -1]
  };
  var Vrm = class extends Component {
    /** Meta information about the VRM model */
    meta = null;
    /** The humanoid bones of the VRM model */
    bones = {
      /* Torso */
      hips: null,
      spine: null,
      chest: null,
      upperChest: null,
      neck: null,
      /* Head */
      head: null,
      leftEye: null,
      rightEye: null,
      jaw: null,
      /* Legs */
      leftUpperLeg: null,
      leftLowerLeg: null,
      leftFoot: null,
      leftToes: null,
      rightUpperLeg: null,
      rightLowerLeg: null,
      rightFoot: null,
      rightToes: null,
      /* Arms */
      leftShoulder: null,
      leftUpperArm: null,
      leftLowerArm: null,
      leftHand: null,
      rightShoulder: null,
      rightUpperArm: null,
      rightLowerArm: null,
      rightHand: null,
      /* Fingers */
      leftThumbMetacarpal: null,
      leftThumbProximal: null,
      leftThumbDistal: null,
      leftIndexProximal: null,
      leftIndexIntermediate: null,
      leftIndexDistal: null,
      leftMiddleProximal: null,
      leftMiddleIntermediate: null,
      leftMiddleDistal: null,
      leftRingProximal: null,
      leftRingIntermediate: null,
      leftRingDistal: null,
      leftLittleProximal: null,
      leftLittleIntermediate: null,
      leftLittleDistal: null,
      rightThumbMetacarpal: null,
      rightThumbProximal: null,
      rightThumbDistal: null,
      rightIndexProximal: null,
      rightIndexIntermediate: null,
      rightIndexDistal: null,
      rightMiddleProximal: null,
      rightMiddleIntermediate: null,
      rightMiddleDistal: null,
      rightRingProximal: null,
      rightRingIntermediate: null,
      rightRingDistal: null,
      rightLittleProximal: null,
      rightLittleIntermediate: null,
      rightLittleDistal: null
    };
    /** Rotations of the bones in the rest pose (T-pose) */
    restPose = {};
    /* All node constraints, ordered to deal with dependencies */
    _nodeConstraints = [];
    /* VRMC_springBone chains */
    _springChains = [];
    /* Spherical colliders for spring bones */
    _sphereColliders = [];
    /* Capsule shaped colliders for spring bones */
    _capsuleColliders = [];
    /* Indicates which meshes are rendered in first/third person views */
    _firstPersonAnnotations = [];
    /* Contains details for (bone type) lookAt behaviour */
    _lookAt = null;
    /* Whether or not the VRM component has been initialized with `initializeVrm` */
    _initialized = false;
    init() {
      this._tempV3 = vec3_exports.create();
      this._tempV3A = vec3_exports.create();
      this._tempV3B = vec3_exports.create();
      this._tempQuat = quat_exports.create();
      this._tempQuatA = quat_exports.create();
      this._tempQuatB = quat_exports.create();
      this._tempMat4A = mat4_exports.create();
      this._tempQuat2 = quat2_exports.create();
      this._tailToShape = vec3_exports.create();
      this._headToTail = vec3_exports.create();
      this._inertia = vec3_exports.create();
      this._stiffness = vec3_exports.create();
      this._external = vec3_exports.create();
      this._rightVector = vec3_exports.set(vec3_exports.create(), 1, 0, 0);
      this._upVector = vec3_exports.set(vec3_exports.create(), 0, 1, 0);
      this._forwardVector = vec3_exports.set(vec3_exports.create(), 0, 0, 1);
      this._identityQuat = quat_exports.identity(quat_exports.create());
      this._rad2deg = 180 / Math.PI;
    }
    start() {
      if (!this.src) {
        console.error("vrm: src property not set");
        return;
      }
      this.engine.scene.append(this.src, { loadGltfExtensions: true }).then(({ root, extensions }) => {
        root.children.forEach((child) => child.parent = this.object);
        this._initializeVrm(extensions);
        root.destroy();
      });
    }
    /**
     * Parses the VRM glTF extensions and initializes the vrm component.
     * @param {GLTFExtensions} extensions The glTF extensions for the VRM model
     */
    _initializeVrm(extensions) {
      if (this._initialized) {
        throw Error("VRM component has already been initialized");
      }
      const VRMC_vrm = extensions.root["VRMC_vrm"];
      if (!VRMC_vrm) {
        throw Error("Missing VRM extensions");
      }
      if (VRMC_vrm.specVersion !== "1.0") {
        throw Error(`Unsupported VRM version, only 1.0 is supported, but encountered '${VRMC_vrm.specVersion}'`);
      }
      this.meta = VRMC_vrm.meta;
      this._parseHumanoid(VRMC_vrm.humanoid, extensions);
      if (VRMC_vrm.firstPerson) {
        this._parseFirstPerson(VRMC_vrm.firstPerson, extensions);
      }
      if (VRMC_vrm.lookAt) {
        this._parseLookAt(VRMC_vrm.lookAt);
      }
      this._findAndParseNodeConstraints(extensions);
      const springBone = extensions.root["VRMC_springBone"];
      if (springBone) {
        this._parseAndInitializeSpringBones(springBone, extensions);
      }
      this._initialized = true;
    }
    _parseHumanoid(humanoid, extensions) {
      for (const boneName in humanoid.humanBones) {
        if (!(boneName in this.bones)) {
          console.warn(`Unrecognized bone '${boneName}'`);
          continue;
        }
        const node = humanoid.humanBones[boneName].node;
        const objectId = extensions.idMapping[node];
        this.bones[boneName] = this.engine.wrapObject(objectId);
        this.restPose[boneName] = quat_exports.copy(quat_exports.create(), this.bones[boneName].rotationLocal);
      }
    }
    _parseFirstPerson(firstPerson, extensions) {
      for (const meshAnnotation of firstPerson.meshAnnotations) {
        const annotation = {
          node: this.engine.wrapObject(extensions.idMapping[meshAnnotation.node]),
          firstPerson: true,
          thirdPerson: true
        };
        switch (meshAnnotation.type) {
          case "firstPersonOnly":
            annotation.thirdPerson = false;
            break;
          case "thirdPersonOnly":
            annotation.firstPerson = false;
            break;
          case "both":
            break;
          case "auto":
            console.warn("First person mesh annotation type 'auto' is not supported, treating as 'both'!");
            break;
          default:
            console.error(`Invalid mesh annotation type '${meshAnnotation.type}'`);
            break;
        }
        this._firstPersonAnnotations.push(annotation);
      }
    }
    _parseLookAt(lookAt2) {
      if (lookAt2.type !== "bone") {
        console.warn(`Unsupported lookAt type '${lookAt2.type}', only 'bone' is supported`);
        return;
      }
      const parseRangeMap = (rangeMap) => {
        return {
          inputMaxValue: rangeMap.inputMaxValue,
          outputScale: rangeMap.outputScale
        };
      };
      this._lookAt = {
        offsetFromHeadBone: lookAt2.offsetFromHeadBone || [0, 0, 0],
        horizontalInner: parseRangeMap(lookAt2.rangeMapHorizontalInner),
        horizontalOuter: parseRangeMap(lookAt2.rangeMapHorizontalOuter),
        verticalDown: parseRangeMap(lookAt2.rangeMapVerticalDown),
        verticalUp: parseRangeMap(lookAt2.rangeMapVerticalUp)
      };
    }
    _findAndParseNodeConstraints(extensions) {
      const traverse = (object) => {
        const nodeExtensions = extensions.node[object.objectId];
        if (nodeExtensions && "VRMC_node_constraint" in nodeExtensions) {
          const nodeConstraintExtension = nodeExtensions["VRMC_node_constraint"];
          const constraint = nodeConstraintExtension.constraint;
          let type, axis;
          if ("roll" in constraint) {
            type = "roll";
            axis = VRM_ROLL_AXES[constraint.roll.rollAxis];
          } else if ("aim" in constraint) {
            type = "aim";
            axis = VRM_AIM_AXES[constraint.aim.aimAxis];
          } else if ("rotation" in constraint) {
            type = "rotation";
          }
          if (type) {
            const source = this.engine.wrapObject(extensions.idMapping[constraint[type].source]);
            this._nodeConstraints.push({
              type,
              source,
              destination: object,
              axis,
              weight: constraint[type].weight,
              /* Rest pose */
              destinationRestLocalRotation: quat_exports.copy(quat_exports.create(), object.rotationLocal),
              sourceRestLocalRotation: quat_exports.copy(quat_exports.create(), source.rotationLocal),
              sourceRestLocalRotationInv: quat_exports.invert(quat_exports.create(), source.rotationLocal)
            });
          } else {
            console.warn("Unrecognized or invalid VRMC_node_constraint, ignoring it");
          }
        }
        for (const child of object.children) {
          traverse(child);
        }
      };
      traverse(this.object);
    }
    _parseAndInitializeSpringBones(springBone, extensions) {
      const colliders = (springBone.colliders || []).map((collider, i) => {
        const shapeType = "capsule" in collider.shape ? "capsule" : "sphere";
        return {
          id: i,
          object: this.engine.wrapObject(extensions.idMapping[collider.node]),
          shape: {
            isCapsule: shapeType === "capsule",
            radius: collider.shape[shapeType].radius,
            offset: collider.shape[shapeType].offset,
            tail: collider.shape[shapeType].tail
          },
          cache: {
            head: vec3_exports.create(),
            tail: vec3_exports.create()
          }
        };
      });
      this._sphereColliders = colliders.filter((c) => !c.shape.isCapsule);
      this._capsuleColliders = colliders.filter((c) => c.shape.isCapsule);
      const colliderGroups = (springBone.colliderGroups || []).map((group) => ({
        name: group.name,
        colliders: group.colliders.map((c) => colliders[c])
      }));
      for (const spring of springBone.springs) {
        const joints = [];
        for (const joint of spring.joints) {
          const springJoint = {
            hitRadius: 0,
            stiffness: 1,
            gravityPower: 0,
            gravityDir: [0, -1, 0],
            dragForce: 0.5,
            node: null,
            state: null
          };
          Object.assign(springJoint, joint);
          springJoint.node = this.engine.wrapObject(extensions.idMapping[springJoint.node]);
          joints.push(springJoint);
        }
        const springChainColliders = (spring.colliderGroups || []).flatMap((cg) => colliderGroups[cg].colliders);
        this._springChains.push({
          name: spring.name,
          center: spring.center ? this.engine.wrapObject(extensions.idMapping[spring.center]) : null,
          joints,
          sphereColliders: springChainColliders.filter((c) => !c.shape.isCapsule),
          capsuleColliders: springChainColliders.filter((c) => c.shape.isCapsule)
        });
      }
      for (const springChain of this._springChains) {
        for (let i = 0; i < springChain.joints.length - 1; ++i) {
          const springBoneJoint = springChain.joints[i];
          const childSpringBoneJoint = springChain.joints[i + 1];
          const springBonePosition = springBoneJoint.node.getTranslationWorld(vec3_exports.create());
          const childSpringBonePosition = childSpringBoneJoint.node.getTranslationWorld(vec3_exports.create());
          const boneDirection = vec3_exports.subtract(this._tempV3A, springBonePosition, childSpringBonePosition);
          const state = {
            prevTail: childSpringBonePosition,
            currentTail: vec3_exports.copy(vec3_exports.create(), childSpringBonePosition),
            initialLocalRotation: quat_exports.copy(quat_exports.create(), springBoneJoint.node.rotationLocal),
            initialLocalTransformInvert: quat2_exports.invert(quat2_exports.create(), springBoneJoint.node.transformLocal),
            boneAxis: vec3_exports.normalize(vec3_exports.create(), childSpringBoneJoint.node.getTranslationLocal(this._tempV3)),
            /* Ensure bone length is at least 1cm to avoid jittery behaviour from zero-length bones */
            boneLength: Math.max(0.01, vec3_exports.length(boneDirection)),
            /* Tail positions in center space, if needed */
            prevTailCenter: null,
            currentTailCenter: null
          };
          if (springChain.center) {
            state.prevTailCenter = springChain.center.transformPointInverseWorld(vec3_exports.create(), childSpringBonePosition);
            state.currentTailCenter = vec3_exports.copy(vec3_exports.create(), childSpringBonePosition);
          }
          springBoneJoint.state = state;
        }
      }
    }
    update(dt) {
      if (!this._initialized) {
        return;
      }
      this._resolveLookAt();
      this._resolveConstraints();
      this._updateSpringBones(dt);
    }
    _rangeMap(rangeMap, input) {
      const maxValue = rangeMap.inputMaxValue;
      const outputScale = rangeMap.outputScale;
      return Math.min(input, maxValue) / maxValue * outputScale;
    }
    _resolveLookAt() {
      if (!this._lookAt || !this.lookAtTarget) {
        return;
      }
      const lookAtSource = this.bones.head.transformPointWorld(this._tempV3A, this._lookAt.offsetFromHeadBone);
      const lookAtTarget = this.lookAtTarget.getTranslationWorld(this._tempV3B);
      const lookAtDirection = vec3_exports.sub(this._tempV3A, lookAtTarget, lookAtSource);
      vec3_exports.normalize(lookAtDirection, lookAtDirection);
      this.bones.head.parent.transformVectorInverseWorld(lookAtDirection);
      const z = vec3_exports.dot(lookAtDirection, this._forwardVector);
      const x = vec3_exports.dot(lookAtDirection, this._rightVector);
      const yaw = Math.atan2(x, z) * this._rad2deg;
      const xz = Math.sqrt(x * x + z * z);
      const y = vec3_exports.dot(lookAtDirection, this._upVector);
      let pitch = Math.atan2(-y, xz) * this._rad2deg;
      if (pitch > 0) {
        pitch = this._rangeMap(this._lookAt.verticalDown, pitch);
      } else {
        pitch = -this._rangeMap(this._lookAt.verticalUp, -pitch);
      }
      if (this.bones.leftEye) {
        let yawLeft = yaw;
        if (yawLeft > 0) {
          yawLeft = this._rangeMap(this._lookAt.horizontalInner, yawLeft);
        } else {
          yawLeft = -this._rangeMap(this._lookAt.horizontalOuter, -yawLeft);
        }
        const eyeRotation = quat_exports.fromEuler(this._tempQuatA, pitch, yawLeft, 0);
        this.bones.leftEye.rotationLocal = quat_exports.multiply(eyeRotation, this.restPose.leftEye, eyeRotation);
      }
      if (this.bones.rightEye) {
        let yawRight = yaw;
        if (yawRight > 0) {
          yawRight = this._rangeMap(this._lookAt.horizontalOuter, yawRight);
        } else {
          yawRight = -this._rangeMap(this._lookAt.horizontalInner, -yawRight);
        }
        const eyeRotation = quat_exports.fromEuler(this._tempQuatA, pitch, yawRight, 0);
        this.bones.rightEye.rotationLocal = quat_exports.multiply(eyeRotation, this.restPose.rightEye, eyeRotation);
      }
    }
    _resolveConstraints() {
      for (const nodeConstraint of this._nodeConstraints) {
        this._resolveConstraint(nodeConstraint);
      }
    }
    _resolveConstraint(nodeConstraint) {
      const dstRestQuat = nodeConstraint.destinationRestLocalRotation;
      const srcRestQuatInv = nodeConstraint.sourceRestLocalRotationInv;
      const targetQuat = quat_exports.identity(this._tempQuatA);
      switch (nodeConstraint.type) {
        case "roll":
          {
            const deltaSrcQuat = quat_exports.multiply(this._tempQuatA, srcRestQuatInv, nodeConstraint.source.rotationLocal);
            const deltaSrcQuatInParent = quat_exports.multiply(this._tempQuatA, nodeConstraint.sourceRestLocalRotation, deltaSrcQuat);
            quat_exports.mul(deltaSrcQuatInParent, deltaSrcQuatInParent, srcRestQuatInv);
            const dstRestQuatInv = quat_exports.invert(this._tempQuatB, dstRestQuat);
            const deltaSrcQuatInDst = quat_exports.multiply(this._tempQuatB, dstRestQuatInv, deltaSrcQuatInParent);
            quat_exports.multiply(deltaSrcQuatInDst, deltaSrcQuatInDst, dstRestQuat);
            const toVec = vec3_exports.transformQuat(this._tempV3A, nodeConstraint.axis, deltaSrcQuatInDst);
            const fromToQuat = quat_exports.rotationTo(this._tempQuatA, nodeConstraint.axis, toVec);
            quat_exports.mul(targetQuat, dstRestQuat, quat_exports.invert(this._tempQuat, fromToQuat));
            quat_exports.mul(targetQuat, targetQuat, deltaSrcQuatInDst);
          }
          break;
        case "aim":
          {
            const dstParentWorldQuat = nodeConstraint.destination.parent.rotationWorld;
            const fromVec = vec3_exports.transformQuat(this._tempV3A, nodeConstraint.axis, dstRestQuat);
            vec3_exports.transformQuat(fromVec, fromVec, dstParentWorldQuat);
            const toVec = nodeConstraint.source.getTranslationWorld(this._tempV3B);
            vec3_exports.sub(toVec, toVec, nodeConstraint.destination.getTranslationWorld(this._tempV3));
            vec3_exports.normalize(toVec, toVec);
            const fromToQuat = quat_exports.rotationTo(this._tempQuatA, fromVec, toVec);
            quat_exports.mul(targetQuat, quat_exports.invert(this._tempQuat, dstParentWorldQuat), fromToQuat);
            quat_exports.mul(targetQuat, targetQuat, dstParentWorldQuat);
            quat_exports.mul(targetQuat, targetQuat, dstRestQuat);
          }
          break;
        case "rotation":
          {
            const srcDeltaQuat = quat_exports.mul(targetQuat, srcRestQuatInv, nodeConstraint.source.rotationLocal);
            quat_exports.mul(targetQuat, dstRestQuat, srcDeltaQuat);
          }
          break;
      }
      quat_exports.slerp(targetQuat, dstRestQuat, targetQuat, nodeConstraint.weight);
      nodeConstraint.destination.rotationLocal = targetQuat;
    }
    _updateSpringBones(dt) {
      this._sphereColliders.forEach(({ object, shape, cache }) => {
        const offset2 = vec3_exports.copy(cache.head, shape.offset);
        object.transformVectorWorld(offset2);
        vec3_exports.add(cache.head, object.getTranslationWorld(this._tempV3), offset2);
      });
      this._capsuleColliders.forEach(({ object, shape, cache }) => {
        const shapeCenter = object.getTranslationWorld(this._tempV3A);
        const headOffset = vec3_exports.copy(cache.head, shape.offset);
        object.transformVectorWorld(headOffset);
        vec3_exports.add(cache.head, shapeCenter, headOffset);
        const tailOffset = vec3_exports.copy(cache.tail, shape.tail);
        object.transformVectorWorld(tailOffset);
        vec3_exports.add(cache.tail, shapeCenter, tailOffset);
      });
      this._springChains.forEach((springChain) => {
        for (let i = 0; i < springChain.joints.length - 1; ++i) {
          const joint = springChain.joints[i];
          const parentWorldRotation = joint.node.parent ? joint.node.parent.rotationWorld : this._identityQuat;
          const inertia = this._inertia;
          if (springChain.center) {
            vec3_exports.sub(inertia, joint.state.currentTailCenter, joint.state.prevTailCenter);
            springChain.center.transformVectorWorld(inertia);
          } else {
            vec3_exports.sub(inertia, joint.state.currentTail, joint.state.prevTail);
          }
          vec3_exports.scale(inertia, inertia, 1 - joint.dragForce);
          const stiffness = vec3_exports.copy(this._stiffness, joint.state.boneAxis);
          vec3_exports.transformQuat(stiffness, stiffness, joint.state.initialLocalRotation);
          vec3_exports.transformQuat(stiffness, stiffness, parentWorldRotation);
          vec3_exports.scale(stiffness, stiffness, dt * joint.stiffness);
          const external = vec3_exports.scale(this._external, joint.gravityDir, dt * joint.gravityPower);
          const nextTail = vec3_exports.copy(this._tempV3A, joint.state.currentTail);
          vec3_exports.add(nextTail, nextTail, inertia);
          vec3_exports.add(nextTail, nextTail, stiffness);
          vec3_exports.add(nextTail, nextTail, external);
          const worldPosition = joint.node.getTranslationWorld(this._tempV3B);
          vec3_exports.sub(nextTail, nextTail, worldPosition);
          vec3_exports.normalize(nextTail, nextTail);
          vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
          for (const { shape, cache } of springChain.sphereColliders) {
            let tailToShape = this._tailToShape;
            const sphereCenter = cache.head;
            tailToShape = vec3_exports.sub(tailToShape, nextTail, sphereCenter);
            const radius = shape.radius + joint.hitRadius;
            const dist3 = vec3_exports.length(tailToShape) - radius;
            if (dist3 < 0) {
              vec3_exports.normalize(tailToShape, tailToShape);
              vec3_exports.scaleAndAdd(nextTail, nextTail, tailToShape, -dist3);
              vec3_exports.sub(nextTail, nextTail, worldPosition);
              vec3_exports.normalize(nextTail, nextTail);
              vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
            }
          }
          for (const { shape, cache } of springChain.capsuleColliders) {
            let tailToShape = this._tailToShape;
            const head = cache.head;
            const tail = cache.tail;
            tailToShape = vec3_exports.sub(tailToShape, nextTail, head);
            const headToTail = vec3_exports.sub(this._headToTail, tail, head);
            const dot6 = vec3_exports.dot(headToTail, tailToShape);
            if (vec3_exports.squaredLength(headToTail) <= dot6) {
              vec3_exports.sub(tailToShape, nextTail, tail);
            } else if (dot6 > 0) {
              vec3_exports.scale(headToTail, headToTail, dot6 / vec3_exports.squaredLength(headToTail));
              vec3_exports.sub(tailToShape, tailToShape, headToTail);
            }
            const radius = shape.radius + joint.hitRadius;
            const dist3 = vec3_exports.length(tailToShape) - radius;
            if (dist3 < 0) {
              vec3_exports.normalize(tailToShape, tailToShape);
              vec3_exports.scaleAndAdd(nextTail, nextTail, tailToShape, -dist3);
              vec3_exports.sub(nextTail, nextTail, worldPosition);
              vec3_exports.normalize(nextTail, nextTail);
              vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
            }
          }
          vec3_exports.copy(joint.state.prevTail, joint.state.currentTail);
          vec3_exports.copy(joint.state.currentTail, nextTail);
          if (springChain.center) {
            vec3_exports.copy(joint.state.prevTailCenter, joint.state.currentTailCenter);
            vec3_exports.copy(joint.state.currentTailCenter, nextTail);
            springChain.center.transformPointInverseWorld(joint.state.currentTailCenter);
          }
          joint.node.parent.transformPointInverseWorld(nextTail);
          const nextTailDualQuat = quat2_exports.fromTranslation(this._tempQuat2, nextTail);
          quat2_exports.multiply(nextTailDualQuat, joint.state.initialLocalTransformInvert, nextTailDualQuat);
          quat2_exports.getTranslation(nextTail, nextTailDualQuat);
          vec3_exports.normalize(nextTail, nextTail);
          const jointRotation = quat_exports.rotationTo(this._tempQuatA, joint.state.boneAxis, nextTail);
          joint.node.rotationLocal = quat_exports.mul(this._tempQuatA, joint.state.initialLocalRotation, jointRotation);
        }
      });
    }
    /**
     * @param {boolean} firstPerson Whether the model should render for first person or third person views
     */
    set firstPerson(firstPerson) {
      this._firstPersonAnnotations.forEach((annotation) => {
        const visible = firstPerson == annotation.firstPerson || firstPerson != annotation.thirdPerson;
        annotation.node.getComponents("mesh").forEach((mesh) => {
          mesh.active = visible;
        });
      });
    }
  };
  __publicField(Vrm, "TypeName", "vrm");
  __publicField(Vrm, "Properties", {
    /** URL to a VRM file to load */
    src: { type: Type.String },
    /** Object the VRM is looking at */
    lookAtTarget: { type: Type.Object }
  });

  // node_modules/@wonderlandengine/components/dist/wasd-controls.js
  var _direction2 = new Float32Array(3);
  var WasdControlsComponent = class extends Component {
    init() {
      this.up = false;
      this.right = false;
      this.down = false;
      this.left = false;
      window.addEventListener("keydown", this.press.bind(this));
      window.addEventListener("keyup", this.release.bind(this));
    }
    start() {
      this.headObject = this.headObject || this.object;
    }
    update() {
      vec3_exports.zero(_direction2);
      if (this.up)
        _direction2[2] -= 1;
      if (this.down)
        _direction2[2] += 1;
      if (this.left)
        _direction2[0] -= 1;
      if (this.right)
        _direction2[0] += 1;
      vec3_exports.normalize(_direction2, _direction2);
      _direction2[0] *= this.speed;
      _direction2[2] *= this.speed;
      vec3_exports.transformQuat(_direction2, _direction2, this.headObject.transformWorld);
      if (this.lockY) {
        _direction2[1] = 0;
        vec3_exports.normalize(_direction2, _direction2);
        vec3_exports.scale(_direction2, _direction2, this.speed);
      }
      this.object.translateLocal(_direction2);
    }
    press(e) {
      if (e.keyCode === 38 || e.keyCode === 87 || e.keyCode === 90) {
        this.up = true;
      } else if (e.keyCode === 39 || e.keyCode === 68) {
        this.right = true;
      } else if (e.keyCode === 40 || e.keyCode === 83) {
        this.down = true;
      } else if (e.keyCode === 37 || e.keyCode === 65 || e.keyCode === 81) {
        this.left = true;
      }
    }
    release(e) {
      if (e.keyCode === 38 || e.keyCode === 87 || e.keyCode === 90) {
        this.up = false;
      } else if (e.keyCode === 39 || e.keyCode === 68) {
        this.right = false;
      } else if (e.keyCode === 40 || e.keyCode === 83) {
        this.down = false;
      } else if (e.keyCode === 37 || e.keyCode === 65 || e.keyCode === 81) {
        this.left = false;
      }
    }
  };
  __publicField(WasdControlsComponent, "TypeName", "wasd-controls");
  __publicField(WasdControlsComponent, "Properties", {
    /** Movement speed in m/s. */
    speed: { type: Type.Float, default: 0.1 },
    /** Flag for only moving the object on the global x & z planes */
    lockY: { type: Type.Bool, default: false },
    /** Object of which the orientation is used to determine forward direction */
    headObject: { type: Type.Object }
  });

  // node_modules/@zestymarket/wonderland-sdk/dist/zesty-wonderland-sdk.js
  var zesty_wonderland_sdk_exports = {};
  __export(zesty_wonderland_sdk_exports, {
    ZestyBanner: () => J
  });
  var Yt = Object.create;
  var X = Object.defineProperty;
  var Zt = Object.getOwnPropertyDescriptor;
  var er = Object.getOwnPropertyNames;
  var tr = Object.getPrototypeOf;
  var rr = Object.prototype.hasOwnProperty;
  var nr = (t, e, r) => e in t ? X(t, e, { enumerable: true, configurable: true, writable: true, value: r }) : t[e] = r;
  var l = (t, e) => () => (e || t((e = { exports: {} }).exports, e), e.exports);
  var ir = (t, e, r, i) => {
    if (e && typeof e == "object" || typeof e == "function")
      for (let n of er(e))
        !rr.call(t, n) && n !== r && X(t, n, { get: () => e[n], enumerable: !(i = Zt(e, n)) || i.enumerable });
    return t;
  };
  var Ae = (t, e, r) => (r = t != null ? Yt(tr(t)) : {}, ir(e || !t || !t.__esModule ? X(r, "default", { value: t, enumerable: true }) : r, t));
  var G = (t, e, r) => (nr(t, typeof e != "symbol" ? e + "" : e, r), r);
  var Q = l((vn, qe) => {
    "use strict";
    qe.exports = function(e, r) {
      return function() {
        for (var n = new Array(arguments.length), s = 0; s < n.length; s++)
          n[s] = arguments[s];
        return e.apply(r, n);
      };
    };
  });
  var f = l((wn, ke) => {
    "use strict";
    var sr = Q(), Z = Object.prototype.toString, ee = function(t) {
      return function(e) {
        var r = Z.call(e);
        return t[r] || (t[r] = r.slice(8, -1).toLowerCase());
      };
    }(/* @__PURE__ */ Object.create(null));
    function A(t) {
      return t = t.toLowerCase(), function(r) {
        return ee(r) === t;
      };
    }
    function te(t) {
      return Array.isArray(t);
    }
    function F(t) {
      return typeof t > "u";
    }
    function ar(t) {
      return t !== null && !F(t) && t.constructor !== null && !F(t.constructor) && typeof t.constructor.isBuffer == "function" && t.constructor.isBuffer(t);
    }
    var Te = A("ArrayBuffer");
    function or(t) {
      var e;
      return typeof ArrayBuffer < "u" && ArrayBuffer.isView ? e = ArrayBuffer.isView(t) : e = t && t.buffer && Te(t.buffer), e;
    }
    function ur(t) {
      return typeof t == "string";
    }
    function cr(t) {
      return typeof t == "number";
    }
    function Se(t) {
      return t !== null && typeof t == "object";
    }
    function j(t) {
      if (ee(t) !== "object")
        return false;
      var e = Object.getPrototypeOf(t);
      return e === null || e === Object.prototype;
    }
    var lr = A("Date"), dr = A("File"), fr = A("Blob"), pr = A("FileList");
    function re(t) {
      return Z.call(t) === "[object Function]";
    }
    function hr(t) {
      return Se(t) && re(t.pipe);
    }
    function mr(t) {
      var e = "[object FormData]";
      return t && (typeof FormData == "function" && t instanceof FormData || Z.call(t) === e || re(t.toString) && t.toString() === e);
    }
    var yr = A("URLSearchParams");
    function vr(t) {
      return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "");
    }
    function wr() {
      return typeof navigator < "u" && (navigator.product === "ReactNative" || navigator.product === "NativeScript" || navigator.product === "NS") ? false : typeof window < "u" && typeof document < "u";
    }
    function ne(t, e) {
      if (!(t === null || typeof t > "u"))
        if (typeof t != "object" && (t = [t]), te(t))
          for (var r = 0, i = t.length; r < i; r++)
            e.call(null, t[r], r, t);
        else
          for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && e.call(null, t[n], n, t);
    }
    function Y() {
      var t = {};
      function e(n, s) {
        j(t[s]) && j(n) ? t[s] = Y(t[s], n) : j(n) ? t[s] = Y({}, n) : te(n) ? t[s] = n.slice() : t[s] = n;
      }
      for (var r = 0, i = arguments.length; r < i; r++)
        ne(arguments[r], e);
      return t;
    }
    function gr(t, e, r) {
      return ne(e, function(n, s) {
        r && typeof n == "function" ? t[s] = sr(n, r) : t[s] = n;
      }), t;
    }
    function br(t) {
      return t.charCodeAt(0) === 65279 && (t = t.slice(1)), t;
    }
    function Er(t, e, r, i) {
      t.prototype = Object.create(e.prototype, i), t.prototype.constructor = t, r && Object.assign(t.prototype, r);
    }
    function xr(t, e, r) {
      var i, n, s, a = {};
      e = e || {};
      do {
        for (i = Object.getOwnPropertyNames(t), n = i.length; n-- > 0; )
          s = i[n], a[s] || (e[s] = t[s], a[s] = true);
        t = Object.getPrototypeOf(t);
      } while (t && (!r || r(t, e)) && t !== Object.prototype);
      return e;
    }
    function Cr(t, e, r) {
      t = String(t), (r === void 0 || r > t.length) && (r = t.length), r -= e.length;
      var i = t.indexOf(e, r);
      return i !== -1 && i === r;
    }
    function Rr(t) {
      if (!t)
        return null;
      var e = t.length;
      if (F(e))
        return null;
      for (var r = new Array(e); e-- > 0; )
        r[e] = t[e];
      return r;
    }
    var Or = function(t) {
      return function(e) {
        return t && e instanceof t;
      };
    }(typeof Uint8Array < "u" && Object.getPrototypeOf(Uint8Array));
    ke.exports = { isArray: te, isArrayBuffer: Te, isBuffer: ar, isFormData: mr, isArrayBufferView: or, isString: ur, isNumber: cr, isObject: Se, isPlainObject: j, isUndefined: F, isDate: lr, isFile: dr, isBlob: fr, isFunction: re, isStream: hr, isURLSearchParams: yr, isStandardBrowserEnv: wr, forEach: ne, merge: Y, extend: gr, trim: vr, stripBOM: br, inherits: Er, toFlatObject: xr, kindOf: ee, kindOfTest: A, endsWith: Cr, toArray: Rr, isTypedArray: Or, isFileList: pr };
  });
  var ie = l((gn, Pe) => {
    "use strict";
    var S = f();
    function Ne(t) {
      return encodeURIComponent(t).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]");
    }
    Pe.exports = function(e, r, i) {
      if (!r)
        return e;
      var n;
      if (i)
        n = i(r);
      else if (S.isURLSearchParams(r))
        n = r.toString();
      else {
        var s = [];
        S.forEach(r, function(c, h) {
          c === null || typeof c > "u" || (S.isArray(c) ? h = h + "[]" : c = [c], S.forEach(c, function(d) {
            S.isDate(d) ? d = d.toISOString() : S.isObject(d) && (d = JSON.stringify(d)), s.push(Ne(h) + "=" + Ne(d));
          }));
        }), n = s.join("&");
      }
      if (n) {
        var a = e.indexOf("#");
        a !== -1 && (e = e.slice(0, a)), e += (e.indexOf("?") === -1 ? "?" : "&") + n;
      }
      return e;
    };
  });
  var De = l((bn, _e) => {
    "use strict";
    var Ar = f();
    function I() {
      this.handlers = [];
    }
    I.prototype.use = function(e, r, i) {
      return this.handlers.push({ fulfilled: e, rejected: r, synchronous: i ? i.synchronous : false, runWhen: i ? i.runWhen : null }), this.handlers.length - 1;
    };
    I.prototype.eject = function(e) {
      this.handlers[e] && (this.handlers[e] = null);
    };
    I.prototype.forEach = function(e) {
      Ar.forEach(this.handlers, function(i) {
        i !== null && e(i);
      });
    };
    _e.exports = I;
  });
  var Be = l((En, Ue) => {
    "use strict";
    var qr = f();
    Ue.exports = function(e, r) {
      qr.forEach(e, function(n, s) {
        s !== r && s.toUpperCase() === r.toUpperCase() && (e[r] = n, delete e[s]);
      });
    };
  });
  var q = l((xn, Ie) => {
    "use strict";
    var Le = f();
    function k(t, e, r, i, n) {
      Error.call(this), this.message = t, this.name = "AxiosError", e && (this.code = e), r && (this.config = r), i && (this.request = i), n && (this.response = n);
    }
    Le.inherits(k, Error, { toJSON: function() {
      return { message: this.message, name: this.name, description: this.description, number: this.number, fileName: this.fileName, lineNumber: this.lineNumber, columnNumber: this.columnNumber, stack: this.stack, config: this.config, code: this.code, status: this.response && this.response.status ? this.response.status : null };
    } });
    var je = k.prototype, Fe = {};
    ["ERR_BAD_OPTION_VALUE", "ERR_BAD_OPTION", "ECONNABORTED", "ETIMEDOUT", "ERR_NETWORK", "ERR_FR_TOO_MANY_REDIRECTS", "ERR_DEPRECATED", "ERR_BAD_RESPONSE", "ERR_BAD_REQUEST", "ERR_CANCELED"].forEach(function(t) {
      Fe[t] = { value: t };
    });
    Object.defineProperties(k, Fe);
    Object.defineProperty(je, "isAxiosError", { value: true });
    k.from = function(t, e, r, i, n, s) {
      var a = Object.create(je);
      return Le.toFlatObject(t, a, function(c) {
        return c !== Error.prototype;
      }), k.call(a, t.message, e, r, i, n), a.name = t.name, s && Object.assign(a, s), a;
    };
    Ie.exports = k;
  });
  var se = l((Cn, ze) => {
    "use strict";
    ze.exports = { silentJSONParsing: true, forcedJSONParsing: true, clarifyTimeoutError: false };
  });
  var ae = l((Rn, Me) => {
    "use strict";
    var b = f();
    function Tr(t, e) {
      e = e || new FormData();
      var r = [];
      function i(s) {
        return s === null ? "" : b.isDate(s) ? s.toISOString() : b.isArrayBuffer(s) || b.isTypedArray(s) ? typeof Blob == "function" ? new Blob([s]) : Buffer.from(s) : s;
      }
      function n(s, a) {
        if (b.isPlainObject(s) || b.isArray(s)) {
          if (r.indexOf(s) !== -1)
            throw Error("Circular reference detected in " + a);
          r.push(s), b.forEach(s, function(c, h) {
            if (!b.isUndefined(c)) {
              var o = a ? a + "." + h : h, d;
              if (c && !a && typeof c == "object") {
                if (b.endsWith(h, "{}"))
                  c = JSON.stringify(c);
                else if (b.endsWith(h, "[]") && (d = b.toArray(c))) {
                  d.forEach(function(v) {
                    !b.isUndefined(v) && e.append(o, i(v));
                  });
                  return;
                }
              }
              n(c, o);
            }
          }), r.pop();
        } else
          e.append(a, i(s));
      }
      return n(t), e;
    }
    Me.exports = Tr;
  });
  var He = l((On, $e) => {
    "use strict";
    var oe = q();
    $e.exports = function(e, r, i) {
      var n = i.config.validateStatus;
      !i.status || !n || n(i.status) ? e(i) : r(new oe("Request failed with status code " + i.status, [oe.ERR_BAD_REQUEST, oe.ERR_BAD_RESPONSE][Math.floor(i.status / 100) - 4], i.config, i.request, i));
    };
  });
  var Je = l((An, We) => {
    "use strict";
    var z = f();
    We.exports = z.isStandardBrowserEnv() ? function() {
      return { write: function(r, i, n, s, a, u) {
        var c = [];
        c.push(r + "=" + encodeURIComponent(i)), z.isNumber(n) && c.push("expires=" + new Date(n).toGMTString()), z.isString(s) && c.push("path=" + s), z.isString(a) && c.push("domain=" + a), u === true && c.push("secure"), document.cookie = c.join("; ");
      }, read: function(r) {
        var i = document.cookie.match(new RegExp("(^|;\\s*)(" + r + ")=([^;]*)"));
        return i ? decodeURIComponent(i[3]) : null;
      }, remove: function(r) {
        this.write(r, "", Date.now() - 864e5);
      } };
    }() : function() {
      return { write: function() {
      }, read: function() {
        return null;
      }, remove: function() {
      } };
    }();
  });
  var Ke = l((qn, Ve) => {
    "use strict";
    Ve.exports = function(e) {
      return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);
    };
  });
  var Ge = l((Tn, Xe) => {
    "use strict";
    Xe.exports = function(e, r) {
      return r ? e.replace(/\/+$/, "") + "/" + r.replace(/^\/+/, "") : e;
    };
  });
  var ue = l((Sn, Qe) => {
    "use strict";
    var Sr = Ke(), kr = Ge();
    Qe.exports = function(e, r) {
      return e && !Sr(r) ? kr(e, r) : r;
    };
  });
  var Ze = l((kn, Ye) => {
    "use strict";
    var ce = f(), Nr = ["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"];
    Ye.exports = function(e) {
      var r = {}, i, n, s;
      return e && ce.forEach(e.split(`
`), function(u) {
        if (s = u.indexOf(":"), i = ce.trim(u.substr(0, s)).toLowerCase(), n = ce.trim(u.substr(s + 1)), i) {
          if (r[i] && Nr.indexOf(i) >= 0)
            return;
          i === "set-cookie" ? r[i] = (r[i] ? r[i] : []).concat([n]) : r[i] = r[i] ? r[i] + ", " + n : n;
        }
      }), r;
    };
  });
  var rt = l((Nn, tt) => {
    "use strict";
    var et = f();
    tt.exports = et.isStandardBrowserEnv() ? function() {
      var e = /(msie|trident)/i.test(navigator.userAgent), r = document.createElement("a"), i;
      function n(s) {
        var a = s;
        return e && (r.setAttribute("href", a), a = r.href), r.setAttribute("href", a), { href: r.href, protocol: r.protocol ? r.protocol.replace(/:$/, "") : "", host: r.host, search: r.search ? r.search.replace(/^\?/, "") : "", hash: r.hash ? r.hash.replace(/^#/, "") : "", hostname: r.hostname, port: r.port, pathname: r.pathname.charAt(0) === "/" ? r.pathname : "/" + r.pathname };
      }
      return i = n(window.location.href), function(a) {
        var u = et.isString(a) ? n(a) : a;
        return u.protocol === i.protocol && u.host === i.host;
      };
    }() : function() {
      return function() {
        return true;
      };
    }();
  });
  var U = l((Pn, it) => {
    "use strict";
    var le = q(), Pr = f();
    function nt(t) {
      le.call(this, t ?? "canceled", le.ERR_CANCELED), this.name = "CanceledError";
    }
    Pr.inherits(nt, le, { __CANCEL__: true });
    it.exports = nt;
  });
  var at = l((_n, st) => {
    "use strict";
    st.exports = function(e) {
      var r = /^([-+\w]{1,25})(:?\/\/|:)/.exec(e);
      return r && r[1] || "";
    };
  });
  var de = l((Dn, ot) => {
    "use strict";
    var B = f(), _r = He(), Dr = Je(), Ur = ie(), Br = ue(), Lr = Ze(), jr = rt(), Fr = se(), x = q(), Ir = U(), zr = at();
    ot.exports = function(e) {
      return new Promise(function(i, n) {
        var s = e.data, a = e.headers, u = e.responseType, c;
        function h() {
          e.cancelToken && e.cancelToken.unsubscribe(c), e.signal && e.signal.removeEventListener("abort", c);
        }
        B.isFormData(s) && B.isStandardBrowserEnv() && delete a["Content-Type"];
        var o = new XMLHttpRequest();
        if (e.auth) {
          var d = e.auth.username || "", v = e.auth.password ? unescape(encodeURIComponent(e.auth.password)) : "";
          a.Authorization = "Basic " + btoa(d + ":" + v);
        }
        var m = Br(e.baseURL, e.url);
        o.open(e.method.toUpperCase(), Ur(m, e.params, e.paramsSerializer), true), o.timeout = e.timeout;
        function Re() {
          if (o) {
            var g = "getAllResponseHeaders" in o ? Lr(o.getAllResponseHeaders()) : null, T = !u || u === "text" || u === "json" ? o.responseText : o.response, O = { data: T, status: o.status, statusText: o.statusText, headers: g, config: e, request: o };
            _r(function(K) {
              i(K), h();
            }, function(K) {
              n(K), h();
            }, O), o = null;
          }
        }
        if ("onloadend" in o ? o.onloadend = Re : o.onreadystatechange = function() {
          !o || o.readyState !== 4 || o.status === 0 && !(o.responseURL && o.responseURL.indexOf("file:") === 0) || setTimeout(Re);
        }, o.onabort = function() {
          o && (n(new x("Request aborted", x.ECONNABORTED, e, o)), o = null);
        }, o.onerror = function() {
          n(new x("Network Error", x.ERR_NETWORK, e, o, o)), o = null;
        }, o.ontimeout = function() {
          var T = e.timeout ? "timeout of " + e.timeout + "ms exceeded" : "timeout exceeded", O = e.transitional || Fr;
          e.timeoutErrorMessage && (T = e.timeoutErrorMessage), n(new x(T, O.clarifyTimeoutError ? x.ETIMEDOUT : x.ECONNABORTED, e, o)), o = null;
        }, B.isStandardBrowserEnv()) {
          var Oe = (e.withCredentials || jr(m)) && e.xsrfCookieName ? Dr.read(e.xsrfCookieName) : void 0;
          Oe && (a[e.xsrfHeaderName] = Oe);
        }
        "setRequestHeader" in o && B.forEach(a, function(T, O) {
          typeof s > "u" && O.toLowerCase() === "content-type" ? delete a[O] : o.setRequestHeader(O, T);
        }), B.isUndefined(e.withCredentials) || (o.withCredentials = !!e.withCredentials), u && u !== "json" && (o.responseType = e.responseType), typeof e.onDownloadProgress == "function" && o.addEventListener("progress", e.onDownloadProgress), typeof e.onUploadProgress == "function" && o.upload && o.upload.addEventListener("progress", e.onUploadProgress), (e.cancelToken || e.signal) && (c = function(g) {
          o && (n(!g || g && g.type ? new Ir() : g), o.abort(), o = null);
        }, e.cancelToken && e.cancelToken.subscribe(c), e.signal && (e.signal.aborted ? c() : e.signal.addEventListener("abort", c))), s || (s = null);
        var V = zr(m);
        if (V && ["http", "https", "file"].indexOf(V) === -1) {
          n(new x("Unsupported protocol " + V + ":", x.ERR_BAD_REQUEST, e));
          return;
        }
        o.send(s);
      });
    };
  });
  var ct = l((Un, ut) => {
    ut.exports = null;
  });
  var $ = l((Bn, pt) => {
    "use strict";
    var p = f(), lt = Be(), dt = q(), Mr = se(), $r = ae(), Hr = { "Content-Type": "application/x-www-form-urlencoded" };
    function ft(t, e) {
      !p.isUndefined(t) && p.isUndefined(t["Content-Type"]) && (t["Content-Type"] = e);
    }
    function Wr() {
      var t;
      return typeof XMLHttpRequest < "u" ? t = de() : typeof process < "u" && Object.prototype.toString.call(process) === "[object process]" && (t = de()), t;
    }
    function Jr(t, e, r) {
      if (p.isString(t))
        try {
          return (e || JSON.parse)(t), p.trim(t);
        } catch (i) {
          if (i.name !== "SyntaxError")
            throw i;
        }
      return (r || JSON.stringify)(t);
    }
    var M = { transitional: Mr, adapter: Wr(), transformRequest: [function(e, r) {
      if (lt(r, "Accept"), lt(r, "Content-Type"), p.isFormData(e) || p.isArrayBuffer(e) || p.isBuffer(e) || p.isStream(e) || p.isFile(e) || p.isBlob(e))
        return e;
      if (p.isArrayBufferView(e))
        return e.buffer;
      if (p.isURLSearchParams(e))
        return ft(r, "application/x-www-form-urlencoded;charset=utf-8"), e.toString();
      var i = p.isObject(e), n = r && r["Content-Type"], s;
      if ((s = p.isFileList(e)) || i && n === "multipart/form-data") {
        var a = this.env && this.env.FormData;
        return $r(s ? { "files[]": e } : e, a && new a());
      } else if (i || n === "application/json")
        return ft(r, "application/json"), Jr(e);
      return e;
    }], transformResponse: [function(e) {
      var r = this.transitional || M.transitional, i = r && r.silentJSONParsing, n = r && r.forcedJSONParsing, s = !i && this.responseType === "json";
      if (s || n && p.isString(e) && e.length)
        try {
          return JSON.parse(e);
        } catch (a) {
          if (s)
            throw a.name === "SyntaxError" ? dt.from(a, dt.ERR_BAD_RESPONSE, this, null, this.response) : a;
        }
      return e;
    }], timeout: 0, xsrfCookieName: "XSRF-TOKEN", xsrfHeaderName: "X-XSRF-TOKEN", maxContentLength: -1, maxBodyLength: -1, env: { FormData: ct() }, validateStatus: function(e) {
      return e >= 200 && e < 300;
    }, headers: { common: { Accept: "application/json, text/plain, */*" } } };
    p.forEach(["delete", "get", "head"], function(e) {
      M.headers[e] = {};
    });
    p.forEach(["post", "put", "patch"], function(e) {
      M.headers[e] = p.merge(Hr);
    });
    pt.exports = M;
  });
  var mt = l((Ln, ht) => {
    "use strict";
    var Vr = f(), Kr = $();
    ht.exports = function(e, r, i) {
      var n = this || Kr;
      return Vr.forEach(i, function(a) {
        e = a.call(n, e, r);
      }), e;
    };
  });
  var fe = l((jn, yt) => {
    "use strict";
    yt.exports = function(e) {
      return !!(e && e.__CANCEL__);
    };
  });
  var gt = l((Fn, wt) => {
    "use strict";
    var vt = f(), pe = mt(), Xr = fe(), Gr = $(), Qr = U();
    function he(t) {
      if (t.cancelToken && t.cancelToken.throwIfRequested(), t.signal && t.signal.aborted)
        throw new Qr();
    }
    wt.exports = function(e) {
      he(e), e.headers = e.headers || {}, e.data = pe.call(e, e.data, e.headers, e.transformRequest), e.headers = vt.merge(e.headers.common || {}, e.headers[e.method] || {}, e.headers), vt.forEach(["delete", "get", "head", "post", "put", "patch", "common"], function(n) {
        delete e.headers[n];
      });
      var r = e.adapter || Gr.adapter;
      return r(e).then(function(n) {
        return he(e), n.data = pe.call(e, n.data, n.headers, e.transformResponse), n;
      }, function(n) {
        return Xr(n) || (he(e), n && n.response && (n.response.data = pe.call(e, n.response.data, n.response.headers, e.transformResponse))), Promise.reject(n);
      });
    };
  });
  var me = l((In, bt) => {
    "use strict";
    var w = f();
    bt.exports = function(e, r) {
      r = r || {};
      var i = {};
      function n(o, d) {
        return w.isPlainObject(o) && w.isPlainObject(d) ? w.merge(o, d) : w.isPlainObject(d) ? w.merge({}, d) : w.isArray(d) ? d.slice() : d;
      }
      function s(o) {
        if (w.isUndefined(r[o])) {
          if (!w.isUndefined(e[o]))
            return n(void 0, e[o]);
        } else
          return n(e[o], r[o]);
      }
      function a(o) {
        if (!w.isUndefined(r[o]))
          return n(void 0, r[o]);
      }
      function u(o) {
        if (w.isUndefined(r[o])) {
          if (!w.isUndefined(e[o]))
            return n(void 0, e[o]);
        } else
          return n(void 0, r[o]);
      }
      function c(o) {
        if (o in r)
          return n(e[o], r[o]);
        if (o in e)
          return n(void 0, e[o]);
      }
      var h = { url: a, method: a, data: a, baseURL: u, transformRequest: u, transformResponse: u, paramsSerializer: u, timeout: u, timeoutMessage: u, withCredentials: u, adapter: u, responseType: u, xsrfCookieName: u, xsrfHeaderName: u, onUploadProgress: u, onDownloadProgress: u, decompress: u, maxContentLength: u, maxBodyLength: u, beforeRedirect: u, transport: u, httpAgent: u, httpsAgent: u, cancelToken: u, socketPath: u, responseEncoding: u, validateStatus: c };
      return w.forEach(Object.keys(e).concat(Object.keys(r)), function(d) {
        var v = h[d] || s, m = v(d);
        w.isUndefined(m) && v !== c || (i[d] = m);
      }), i;
    };
  });
  var ye = l((zn, Et) => {
    Et.exports = { version: "0.27.2" };
  });
  var Rt = l((Mn, Ct) => {
    "use strict";
    var Yr = ye().version, R = q(), ve = {};
    ["object", "boolean", "number", "function", "string", "symbol"].forEach(function(t, e) {
      ve[t] = function(i) {
        return typeof i === t || "a" + (e < 1 ? "n " : " ") + t;
      };
    });
    var xt = {};
    ve.transitional = function(e, r, i) {
      function n(s, a) {
        return "[Axios v" + Yr + "] Transitional option '" + s + "'" + a + (i ? ". " + i : "");
      }
      return function(s, a, u) {
        if (e === false)
          throw new R(n(a, " has been removed" + (r ? " in " + r : "")), R.ERR_DEPRECATED);
        return r && !xt[a] && (xt[a] = true, console.warn(n(a, " has been deprecated since v" + r + " and will be removed in the near future"))), e ? e(s, a, u) : true;
      };
    };
    function Zr(t, e, r) {
      if (typeof t != "object")
        throw new R("options must be an object", R.ERR_BAD_OPTION_VALUE);
      for (var i = Object.keys(t), n = i.length; n-- > 0; ) {
        var s = i[n], a = e[s];
        if (a) {
          var u = t[s], c = u === void 0 || a(u, s, t);
          if (c !== true)
            throw new R("option " + s + " must be " + c, R.ERR_BAD_OPTION_VALUE);
          continue;
        }
        if (r !== true)
          throw new R("Unknown option " + s, R.ERR_BAD_OPTION);
      }
    }
    Ct.exports = { assertOptions: Zr, validators: ve };
  });
  var kt = l(($n, St) => {
    "use strict";
    var qt = f(), en = ie(), Ot = De(), At = gt(), H = me(), tn = ue(), Tt = Rt(), N = Tt.validators;
    function P(t) {
      this.defaults = t, this.interceptors = { request: new Ot(), response: new Ot() };
    }
    P.prototype.request = function(e, r) {
      typeof e == "string" ? (r = r || {}, r.url = e) : r = e || {}, r = H(this.defaults, r), r.method ? r.method = r.method.toLowerCase() : this.defaults.method ? r.method = this.defaults.method.toLowerCase() : r.method = "get";
      var i = r.transitional;
      i !== void 0 && Tt.assertOptions(i, { silentJSONParsing: N.transitional(N.boolean), forcedJSONParsing: N.transitional(N.boolean), clarifyTimeoutError: N.transitional(N.boolean) }, false);
      var n = [], s = true;
      this.interceptors.request.forEach(function(m) {
        typeof m.runWhen == "function" && m.runWhen(r) === false || (s = s && m.synchronous, n.unshift(m.fulfilled, m.rejected));
      });
      var a = [];
      this.interceptors.response.forEach(function(m) {
        a.push(m.fulfilled, m.rejected);
      });
      var u;
      if (!s) {
        var c = [At, void 0];
        for (Array.prototype.unshift.apply(c, n), c = c.concat(a), u = Promise.resolve(r); c.length; )
          u = u.then(c.shift(), c.shift());
        return u;
      }
      for (var h = r; n.length; ) {
        var o = n.shift(), d = n.shift();
        try {
          h = o(h);
        } catch (v) {
          d(v);
          break;
        }
      }
      try {
        u = At(h);
      } catch (v) {
        return Promise.reject(v);
      }
      for (; a.length; )
        u = u.then(a.shift(), a.shift());
      return u;
    };
    P.prototype.getUri = function(e) {
      e = H(this.defaults, e);
      var r = tn(e.baseURL, e.url);
      return en(r, e.params, e.paramsSerializer);
    };
    qt.forEach(["delete", "get", "head", "options"], function(e) {
      P.prototype[e] = function(r, i) {
        return this.request(H(i || {}, { method: e, url: r, data: (i || {}).data }));
      };
    });
    qt.forEach(["post", "put", "patch"], function(e) {
      function r(i) {
        return function(s, a, u) {
          return this.request(H(u || {}, { method: e, headers: i ? { "Content-Type": "multipart/form-data" } : {}, url: s, data: a }));
        };
      }
      P.prototype[e] = r(), P.prototype[e + "Form"] = r(true);
    });
    St.exports = P;
  });
  var Pt = l((Hn, Nt) => {
    "use strict";
    var rn = U();
    function _(t) {
      if (typeof t != "function")
        throw new TypeError("executor must be a function.");
      var e;
      this.promise = new Promise(function(n) {
        e = n;
      });
      var r = this;
      this.promise.then(function(i) {
        if (r._listeners) {
          var n, s = r._listeners.length;
          for (n = 0; n < s; n++)
            r._listeners[n](i);
          r._listeners = null;
        }
      }), this.promise.then = function(i) {
        var n, s = new Promise(function(a) {
          r.subscribe(a), n = a;
        }).then(i);
        return s.cancel = function() {
          r.unsubscribe(n);
        }, s;
      }, t(function(n) {
        r.reason || (r.reason = new rn(n), e(r.reason));
      });
    }
    _.prototype.throwIfRequested = function() {
      if (this.reason)
        throw this.reason;
    };
    _.prototype.subscribe = function(e) {
      if (this.reason) {
        e(this.reason);
        return;
      }
      this._listeners ? this._listeners.push(e) : this._listeners = [e];
    };
    _.prototype.unsubscribe = function(e) {
      if (this._listeners) {
        var r = this._listeners.indexOf(e);
        r !== -1 && this._listeners.splice(r, 1);
      }
    };
    _.source = function() {
      var e, r = new _(function(n) {
        e = n;
      });
      return { token: r, cancel: e };
    };
    Nt.exports = _;
  });
  var Dt = l((Wn, _t) => {
    "use strict";
    _t.exports = function(e) {
      return function(i) {
        return e.apply(null, i);
      };
    };
  });
  var Bt = l((Jn, Ut) => {
    "use strict";
    var nn = f();
    Ut.exports = function(e) {
      return nn.isObject(e) && e.isAxiosError === true;
    };
  });
  var Ft = l((Vn, we) => {
    "use strict";
    var Lt = f(), sn = Q(), W = kt(), an = me(), on = $();
    function jt(t) {
      var e = new W(t), r = sn(W.prototype.request, e);
      return Lt.extend(r, W.prototype, e), Lt.extend(r, e), r.create = function(n) {
        return jt(an(t, n));
      }, r;
    }
    var y = jt(on);
    y.Axios = W;
    y.CanceledError = U();
    y.CancelToken = Pt();
    y.isCancel = fe();
    y.VERSION = ye().version;
    y.toFormData = ae();
    y.AxiosError = q();
    y.Cancel = y.CanceledError;
    y.all = function(e) {
      return Promise.all(e);
    };
    y.spread = Dt();
    y.isAxiosError = Bt();
    we.exports = y;
    we.exports.default = y;
  });
  var ge = l((Kn, It) => {
    It.exports = Ft();
  });
  var D = Ae(ge(), 1);
  var C = "https://zesty-storage-prod.s3.amazonaws.com/images/zesty";
  var L = { tall: { width: 0.75, height: 1, style: { standard: `${C}/zesty-banner-tall.png`, minimal: `${C}/zesty-banner-tall-minimal.png`, transparent: `${C}/zesty-banner-tall-transparent.png` } }, wide: { width: 4, height: 1, style: { standard: `${C}/zesty-banner-wide.png`, minimal: `${C}/zesty-banner-wide-minimal.png`, transparent: `${C}/zesty-banner-wide-transparent.png` } }, square: { width: 1, height: 1, style: { standard: `${C}/zesty-banner-square.png`, minimal: `${C}/zesty-banner-square-minimal.png`, transparent: `${C}/zesty-banner-square-transparent.png` } } };
  var un = Ae(ge(), 1);
  var be = () => {
    let t = window.XRHand != null && window.XRMediaBinding != null, e = navigator.userAgent.includes("OculusBrowser"), r = t && e ? "Full" : t || e ? "Partial" : "None";
    return { match: r !== "None", confidence: r };
  };
  var Ee = () => {
    let t = window.mozInnerScreenX != null && window.speechSynthesis == null, e = navigator.userAgent.includes("Mobile VR") && !navigator.userAgent.includes("OculusBrowser"), r = t && e ? "Full" : t || e ? "Partial" : "None";
    return { match: r !== "None", confidence: r };
  };
  var zt = async () => {
    let t = navigator.xr && await navigator.xr.isSessionSupported("immersive-vr") && await navigator.xr.isSessionSupported("immersive-ar"), e = navigator.userAgent.includes("Pico Neo 3 Link"), r = t && e ? "Full" : t || e ? "Partial" : "None";
    return { match: r !== "None", confidence: r };
  };
  var Mt = () => {
    let t = navigator.maxTouchPoints === 0 || navigator.msMaxTouchPoints === 0, e = !navigator.userAgent.includes("Android") && !navigator.userAgent.includes("Mobile"), r = t && e ? "Full" : t || e ? "Partial" : "None";
    return { match: r !== "None", confidence: r };
  };
  var xe = async () => {
    let t = { platform: "", confidence: "" };
    return be().match ? t = { platform: "Oculus", confidence: be().confidence } : Ee().match ? t = { platform: "Wolvic", confidence: Ee().confidence } : await zt().match ? t = { platform: "Pico", confidence: await zt().confidence } : Mt().match ? t = { platform: "Desktop", confidence: Mt().confidence } : t = { platform: "Unknown", confidence: "None" }, t;
  };
  var $t = (t) => {
    if (t) {
      if (be().match) {
        if (t.includes("https://www.oculus.com/experiences/quest/")) {
          setTimeout(() => {
            window.open(t, "_blank");
          }, 1e3);
          return;
        }
      } else if (Ee().match) {
        let e = document.createElement("div"), r = document.createElement("div"), i = document.createElement("p"), n = document.createElement("button"), s = document.createElement("button");
        e.style.backgroundColor = "rgb(0, 0, 0, 0.75)", e.style.color = "white", e.style.textAlign = "center", e.style.position = "fixed", e.style.top = "50%", e.style.left = "50%", e.style.padding = "5%", e.style.borderRadius = "5%", e.style.transform = "translate(-50%, -50%)", i.innerHTML = `<b>This billboard leads to ${t}. Continue?</b>`, n.innerText = "Move cursor back into window.", n.style.width = "100vw", n.style.height = "100vh", n.onmouseenter = () => {
          n.style.width = "auto", n.style.height = "auto", n.innerText = "Yes";
        }, n.onclick = () => {
          window.open(t, "_blank"), e.remove();
        }, s.innerText = "No", s.onclick = () => {
          e.remove();
        }, e.append(r), r.append(i), r.append(n), r.append(s), document.body.append(e);
        return;
      }
      window.open(t, "_blank");
    }
  };
  var Ht = "https://beacon.zesty.market";
  var Wt = "https://beacon2.zesty.market/zgraphql";
  var cn = "https://api.zesty.market/api";
  var Jt = async (t, e = "tall", r = "standard") => {
    try {
      let i = encodeURI(window.top.location.href).replace(/\/$/, "");
      return (await D.default.get(`${cn}/ad?ad_unit_id=${t}&url=${i}`)).data;
    } catch {
      return console.warn("No active campaign banner could be located. Displaying default banner."), { Ads: [{ asset_url: L[e].style[r], cta_url: "https://www.zesty.market" }], CampaignId: "TestCampaign" };
    }
  };
  var Vt = async (t, e = null) => {
    let { platform: r, confidence: i } = await xe();
    try {
      let n = Ht + `/api/v1/space/${t}`;
      await D.default.put(n), await D.default.post(Wt, { query: `mutation { increment(eventType: visits, spaceId: "${t}", campaignId: "${e}", platform: { name: ${r}, confidence: ${i} }) { message } }` }, { headers: { "Content-Type": "application/json" } });
    } catch (n) {
      console.log("Failed to emit onload event", n.message);
    }
  };
  var Kt = async (t, e = null) => {
    let { platform: r, confidence: i } = await xe();
    try {
      let n = Ht + `/api/v1/space/click/${t}`;
      await D.default.put(n), await D.default.post(Wt, { query: `mutation { increment(eventType: clicks, spaceId: "${t}", campaignId: "${e}", platform: { name: ${r}, confidence: ${i} }) { message } }` }, { headers: { "Content-Type": "application/json" } });
    } catch (n) {
      console.log("Failed to emit onclick event", n.message);
    }
  };
  var Xt = "2.0.6";
  console.log("Zesty SDK Version: ", Xt);
  var hn = "https://cdn.zesty.xyz/sdk/zesty-formats.js";
  var mn = "https://cdn.zesty.xyz/sdk/zesty-networking.js";
  var J = class extends Component {
    static onRegister(e) {
      e.registerComponent(CursorTarget);
    }
    init() {
      this.formats = Object.values(L), this.formatKeys = Object.keys(L), this.styleKeys = ["standard", "minimal", "transparent"];
    }
    start() {
      if (this.mesh = this.object.getComponent(MeshComponent), !this.mesh)
        throw new Error("'zesty-banner ' missing mesh component");
      if (this.createAutomaticCollision && (this.collision = this.object.getComponent(CollisionComponent) || this.object.addComponent(CollisionComponent, { collider: Collider.Box, group: 2 }), this.cursorTarget = this.object.getComponent(CursorTarget) || this.object.addComponent(CursorTarget), this.cursorTarget.onClick.add(this.onClick.bind(this))), this.dynamicFormats) {
        let e = document.createElement("script");
        e.onload = () => {
          this.formatsOverride = zestyFormats.formats;
        }, e.setAttribute("src", hn), e.setAttribute("crossorigin", "anonymous"), document.body.appendChild(e);
      }
      this.dynamicNetworking ? import(mn).then((e) => {
        this.zestyNetworking = Object.assign({}, e), this.startLoading();
      }).catch(() => {
        console.error("Failed to dynamically retrieve networking code, falling back to bundled version."), this.dynamicNetworking = false, this.startLoading();
      }) : this.startLoading();
    }
    startLoading() {
      this.loadBanner(this.adUnit, this.formatKeys[this.format], this.styleKeys[this.style]).then((e) => {
        this.banner = e, this.scaleToRatio && (this.height = this.object.scalingLocal[1], this.object.resetScaling(), this.createAutomaticCollision && (this.collision.extents = [this.formats[this.format].width * this.height, this.height, 0.1]), this.object.scale([this.formats[this.format].width * this.height, this.height, 1]));
        let r = this.mesh.material.clone();
        if (this.textureProperty === "auto") {
          let i = r.shader;
          if (i === "Phong Opaque Textured")
            r.diffuseTexture = e.texture, r.alphaMaskThreshold = 0.3;
          else if (i === "Flat Opaque Textured")
            r.flatTexture = e.texture, r.alphaMaskThreshold = 0.8;
          else
            throw Error("'zesty-banner' unable to apply banner texture: unsupported pipeline " + i);
          this.mesh.material = r, this.mesh.material.alphaMaskTexture = e.texture;
        } else
          this.mesh.material[this.textureProperty] = e.texture, this.mesh.material.alphaMaskTexture = e.texture;
        this.beacon && (this.dynamicNetworking ? this.zestyNetworking.sendOnLoadMetric(this.adUnit, this.banner.campaignId) : Vt(this.adUnit, this.banner.campaignId));
      });
    }
    onClick() {
      this.banner?.url && (this.engine.xr ? this.engine.xr.session.end().then(this.executeClick.bind(this)) : this.engine.xrSession ? this.engine.xrSession.end().then(this.executeClick.bind(this)) : this.executeClick());
    }
    executeClick() {
      $t(this.banner.url), this.beacon && (this.dynamicNetworking ? this.zestyNetworking.sendOnClickMetric(this.adUnit, this.banner.campaignId) : Kt(this.adUnit, this.banner.campaignId));
    }
    async loadBanner(e, r, i) {
      let n = this.dynamicNetworking ? await this.zestyNetworking.fetchCampaignAd(e, r, i) : await Jt(e, r, i), { asset_url: s, cta_url: a } = n.Ads[0];
      return this.campaignId = n.CampaignId, this.engine.textures.load(s, "").then((u) => ({ texture: u, imageSrc: s, url: a, campaignId: n.CampaignId }));
    }
  };
  G(J, "TypeName", "zesty-banner"), G(J, "Properties", { adUnit: Property.string(""), format: Property.enum(["tall", "wide", "square"], "square"), style: Property.enum(["standard", "minimal", "transparent"], "transparent"), scaleToRatio: Property.bool(true), textureProperty: Property.string("auto"), assignAlphaMaskTexture: Property.bool(true), beacon: Property.bool(true), dynamicFormats: Property.bool(true), createAutomaticCollision: Property.bool(true), dynamicNetworking: Property.bool(false) });

  // js/components/door-handler.ts
  var door_handler_exports = {};
  __export(door_handler_exports, {
    DoorHandler: () => DoorHandler
  });
  var DoorHandler = class extends Component {
    direction = "N";
    targetRoomX = 0;
    targetRoomY = 0;
    start() {
      let child = wlUtils.findChild(this.object, "collisionObject");
      if (!child) {
        console.warn("DoorHandler needs a child object with the name 'collisionObject'");
        return;
      }
      const target = child.getComponent(CursorTarget);
      if (!target) {
        console.warn("DoorHandler needs a CursorTarget component on the same object");
        return;
      }
      target.onClick.add(() => {
        return;
      });
    }
  };
  __publicField(DoorHandler, "TypeName", "door-handler");
  __decorateClass([
    property.string("N")
  ], DoorHandler.prototype, "direction", 2);
  __decorateClass([
    property.int(0)
  ], DoorHandler.prototype, "targetRoomX", 2);
  __decorateClass([
    property.int(0)
  ], DoorHandler.prototype, "targetRoomY", 2);

  // js/components/fadeScreen.ts
  var fadeScreen_exports = {};
  __export(fadeScreen_exports, {
    FadeScreen: () => FadeScreen
  });
  var _isRunning, _deltaTime, _isFadingIn, _isFadingOut;
  var FadeScreen = class extends Component {
    constructor() {
      super(...arguments);
      __publicField(this, "fadeInTime", 1);
      __publicField(this, "continuous", true);
      /**
       * Called when the fade in process is completed.
       * @type {Emitter}
       */
      __publicField(this, "FadeInCompleted");
      /**
       * Called when the fade out process is completed.
       * @type {Emitter}
       */
      __publicField(this, "FadeOutCompleted");
      /**
       * The mesh component of the object. This should be a black sphere around the head
       * of the player that fades in and out.
       * @type {MeshComponent}
       */
      __publicField(this, "mesh");
      __privateAdd(this, _isRunning, false);
      __privateAdd(this, _deltaTime, 0);
      __privateAdd(this, _isFadingIn, false);
      __privateAdd(this, _isFadingOut, false);
    }
    init() {
      this.FadeInCompleted = new Emitter();
      this.FadeOutCompleted = new Emitter();
    }
    start() {
      const mc = this.object.getComponent(MeshComponent);
      if (!mc)
        throw new Error("No mesh component found on object");
      this.mesh = mc;
      this.mesh.active = false;
    }
    fadeIn() {
      this.mesh.active = true;
      __privateSet(this, _isFadingIn, true);
      __privateSet(this, _isRunning, true);
    }
    fadeOut() {
      this.mesh.active = true;
      __privateSet(this, _isFadingOut, true);
      __privateSet(this, _isRunning, true);
    }
    update(delta) {
      if (__privateGet(this, _isRunning)) {
        let alpha = 0;
        if (__privateGet(this, _isFadingIn)) {
          __privateSet(this, _deltaTime, __privateGet(this, _deltaTime) - delta / this.fadeInTime);
          alpha = clamp(lerp6(0, 1, __privateGet(this, _deltaTime), Easing.InQuad), 0, 1);
        }
        if (__privateGet(this, _isFadingOut)) {
          __privateSet(this, _deltaTime, __privateGet(this, _deltaTime) + delta / this.fadeInTime);
          alpha = clamp(lerp6(0, 1, __privateGet(this, _deltaTime), Easing.OutQuad), 0, 1);
        }
        if (__privateGet(this, _deltaTime) >= 1 || __privateGet(this, _deltaTime) <= 0) {
          __privateSet(this, _isRunning, false);
          __privateSet(this, _isFadingIn, false);
          __privateSet(this, _isFadingOut, false);
          if (__privateGet(this, _deltaTime) >= 1) {
            __privateSet(this, _deltaTime, 1);
            this.FadeOutCompleted.notify();
            if (this.continuous) {
              this.fadeIn();
            }
          } else {
            const flatMaterial2 = this.mesh.material;
            if (flatMaterial2) {
              flatMaterial2.color = [0, 0, 0, 0];
            }
            __privateSet(this, _deltaTime, 0);
            this.FadeInCompleted.notify();
          }
        }
        const flatMaterial = this.mesh.material;
        if (flatMaterial) {
          flatMaterial.color = [0, 0, 0, alpha];
        }
      }
    }
  };
  _isRunning = new WeakMap();
  _deltaTime = new WeakMap();
  _isFadingIn = new WeakMap();
  _isFadingOut = new WeakMap();
  __publicField(FadeScreen, "TypeName", "fade-screen");
  __decorateClass([
    property.float(1)
  ], FadeScreen.prototype, "fadeInTime", 2);
  __decorateClass([
    property.bool(true)
  ], FadeScreen.prototype, "continuous", 2);

  // js/components/game.ts
  var game_exports = {};
  __export(game_exports, {
    Game: () => Game
  });

  // node_modules/reflect-metadata/Reflect.js
  var Reflect2;
  (function(Reflect3) {
    (function(factory) {
      var root = typeof global === "object" ? global : typeof self === "object" ? self : typeof this === "object" ? this : Function("return this;")();
      var exporter = makeExporter(Reflect3);
      if (typeof root.Reflect === "undefined") {
        root.Reflect = Reflect3;
      } else {
        exporter = makeExporter(root.Reflect, exporter);
      }
      factory(exporter);
      function makeExporter(target, previous) {
        return function(key, value) {
          if (typeof target[key] !== "function") {
            Object.defineProperty(target, key, { configurable: true, writable: true, value });
          }
          if (previous)
            previous(key, value);
        };
      }
    })(function(exporter) {
      var hasOwn = Object.prototype.hasOwnProperty;
      var supportsSymbol = typeof Symbol === "function";
      var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== "undefined" ? Symbol.toPrimitive : "@@toPrimitive";
      var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== "undefined" ? Symbol.iterator : "@@iterator";
      var supportsCreate = typeof Object.create === "function";
      var supportsProto = { __proto__: [] } instanceof Array;
      var downLevel = !supportsCreate && !supportsProto;
      var HashMap = {
        // create an object in dictionary mode (a.k.a. "slow" mode in v8)
        create: supportsCreate ? function() {
          return MakeDictionary(/* @__PURE__ */ Object.create(null));
        } : supportsProto ? function() {
          return MakeDictionary({ __proto__: null });
        } : function() {
          return MakeDictionary({});
        },
        has: downLevel ? function(map, key) {
          return hasOwn.call(map, key);
        } : function(map, key) {
          return key in map;
        },
        get: downLevel ? function(map, key) {
          return hasOwn.call(map, key) ? map[key] : void 0;
        } : function(map, key) {
          return map[key];
        }
      };
      var functionPrototype = Object.getPrototypeOf(Function);
      var usePolyfill = typeof process === "object" && process.env && process.env["REFLECT_METADATA_USE_MAP_POLYFILL"] === "true";
      var _Map = !usePolyfill && typeof Map === "function" && typeof Map.prototype.entries === "function" ? Map : CreateMapPolyfill();
      var _Set = !usePolyfill && typeof Set === "function" && typeof Set.prototype.entries === "function" ? Set : CreateSetPolyfill();
      var _WeakMap = !usePolyfill && typeof WeakMap === "function" ? WeakMap : CreateWeakMapPolyfill();
      var Metadata = new _WeakMap();
      function decorate(decorators, target, propertyKey, attributes) {
        if (!IsUndefined(propertyKey)) {
          if (!IsArray(decorators))
            throw new TypeError();
          if (!IsObject(target))
            throw new TypeError();
          if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))
            throw new TypeError();
          if (IsNull(attributes))
            attributes = void 0;
          propertyKey = ToPropertyKey(propertyKey);
          return DecorateProperty(decorators, target, propertyKey, attributes);
        } else {
          if (!IsArray(decorators))
            throw new TypeError();
          if (!IsConstructor(target))
            throw new TypeError();
          return DecorateConstructor(decorators, target);
        }
      }
      exporter("decorate", decorate);
      function metadata(metadataKey, metadataValue) {
        function decorator(target, propertyKey) {
          if (!IsObject(target))
            throw new TypeError();
          if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))
            throw new TypeError();
          OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);
        }
        return decorator;
      }
      exporter("metadata", metadata);
      function defineMetadata(metadataKey, metadataValue, target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);
      }
      exporter("defineMetadata", defineMetadata);
      function hasMetadata(metadataKey, target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        return OrdinaryHasMetadata(metadataKey, target, propertyKey);
      }
      exporter("hasMetadata", hasMetadata);
      function hasOwnMetadata(metadataKey, target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);
      }
      exporter("hasOwnMetadata", hasOwnMetadata);
      function getMetadata(metadataKey, target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        return OrdinaryGetMetadata(metadataKey, target, propertyKey);
      }
      exporter("getMetadata", getMetadata);
      function getOwnMetadata(metadataKey, target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);
      }
      exporter("getOwnMetadata", getOwnMetadata);
      function getMetadataKeys(target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        return OrdinaryMetadataKeys(target, propertyKey);
      }
      exporter("getMetadataKeys", getMetadataKeys);
      function getOwnMetadataKeys(target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        return OrdinaryOwnMetadataKeys(target, propertyKey);
      }
      exporter("getOwnMetadataKeys", getOwnMetadataKeys);
      function deleteMetadata(metadataKey, target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        var metadataMap = GetOrCreateMetadataMap(
          target,
          propertyKey,
          /*Create*/
          false
        );
        if (IsUndefined(metadataMap))
          return false;
        if (!metadataMap.delete(metadataKey))
          return false;
        if (metadataMap.size > 0)
          return true;
        var targetMetadata = Metadata.get(target);
        targetMetadata.delete(propertyKey);
        if (targetMetadata.size > 0)
          return true;
        Metadata.delete(target);
        return true;
      }
      exporter("deleteMetadata", deleteMetadata);
      function DecorateConstructor(decorators, target) {
        for (var i = decorators.length - 1; i >= 0; --i) {
          var decorator = decorators[i];
          var decorated = decorator(target);
          if (!IsUndefined(decorated) && !IsNull(decorated)) {
            if (!IsConstructor(decorated))
              throw new TypeError();
            target = decorated;
          }
        }
        return target;
      }
      function DecorateProperty(decorators, target, propertyKey, descriptor) {
        for (var i = decorators.length - 1; i >= 0; --i) {
          var decorator = decorators[i];
          var decorated = decorator(target, propertyKey, descriptor);
          if (!IsUndefined(decorated) && !IsNull(decorated)) {
            if (!IsObject(decorated))
              throw new TypeError();
            descriptor = decorated;
          }
        }
        return descriptor;
      }
      function GetOrCreateMetadataMap(O, P, Create) {
        var targetMetadata = Metadata.get(O);
        if (IsUndefined(targetMetadata)) {
          if (!Create)
            return void 0;
          targetMetadata = new _Map();
          Metadata.set(O, targetMetadata);
        }
        var metadataMap = targetMetadata.get(P);
        if (IsUndefined(metadataMap)) {
          if (!Create)
            return void 0;
          metadataMap = new _Map();
          targetMetadata.set(P, metadataMap);
        }
        return metadataMap;
      }
      function OrdinaryHasMetadata(MetadataKey, O, P) {
        var hasOwn2 = OrdinaryHasOwnMetadata(MetadataKey, O, P);
        if (hasOwn2)
          return true;
        var parent = OrdinaryGetPrototypeOf(O);
        if (!IsNull(parent))
          return OrdinaryHasMetadata(MetadataKey, parent, P);
        return false;
      }
      function OrdinaryHasOwnMetadata(MetadataKey, O, P) {
        var metadataMap = GetOrCreateMetadataMap(
          O,
          P,
          /*Create*/
          false
        );
        if (IsUndefined(metadataMap))
          return false;
        return ToBoolean(metadataMap.has(MetadataKey));
      }
      function OrdinaryGetMetadata(MetadataKey, O, P) {
        var hasOwn2 = OrdinaryHasOwnMetadata(MetadataKey, O, P);
        if (hasOwn2)
          return OrdinaryGetOwnMetadata(MetadataKey, O, P);
        var parent = OrdinaryGetPrototypeOf(O);
        if (!IsNull(parent))
          return OrdinaryGetMetadata(MetadataKey, parent, P);
        return void 0;
      }
      function OrdinaryGetOwnMetadata(MetadataKey, O, P) {
        var metadataMap = GetOrCreateMetadataMap(
          O,
          P,
          /*Create*/
          false
        );
        if (IsUndefined(metadataMap))
          return void 0;
        return metadataMap.get(MetadataKey);
      }
      function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {
        var metadataMap = GetOrCreateMetadataMap(
          O,
          P,
          /*Create*/
          true
        );
        metadataMap.set(MetadataKey, MetadataValue);
      }
      function OrdinaryMetadataKeys(O, P) {
        var ownKeys = OrdinaryOwnMetadataKeys(O, P);
        var parent = OrdinaryGetPrototypeOf(O);
        if (parent === null)
          return ownKeys;
        var parentKeys = OrdinaryMetadataKeys(parent, P);
        if (parentKeys.length <= 0)
          return ownKeys;
        if (ownKeys.length <= 0)
          return parentKeys;
        var set7 = new _Set();
        var keys = [];
        for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {
          var key = ownKeys_1[_i];
          var hasKey = set7.has(key);
          if (!hasKey) {
            set7.add(key);
            keys.push(key);
          }
        }
        for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {
          var key = parentKeys_1[_a];
          var hasKey = set7.has(key);
          if (!hasKey) {
            set7.add(key);
            keys.push(key);
          }
        }
        return keys;
      }
      function OrdinaryOwnMetadataKeys(O, P) {
        var keys = [];
        var metadataMap = GetOrCreateMetadataMap(
          O,
          P,
          /*Create*/
          false
        );
        if (IsUndefined(metadataMap))
          return keys;
        var keysObj = metadataMap.keys();
        var iterator = GetIterator(keysObj);
        var k = 0;
        while (true) {
          var next = IteratorStep(iterator);
          if (!next) {
            keys.length = k;
            return keys;
          }
          var nextValue = IteratorValue(next);
          try {
            keys[k] = nextValue;
          } catch (e) {
            try {
              IteratorClose(iterator);
            } finally {
              throw e;
            }
          }
          k++;
        }
      }
      function Type2(x) {
        if (x === null)
          return 1;
        switch (typeof x) {
          case "undefined":
            return 0;
          case "boolean":
            return 2;
          case "string":
            return 3;
          case "symbol":
            return 4;
          case "number":
            return 5;
          case "object":
            return x === null ? 1 : 6;
          default:
            return 6;
        }
      }
      function IsUndefined(x) {
        return x === void 0;
      }
      function IsNull(x) {
        return x === null;
      }
      function IsSymbol(x) {
        return typeof x === "symbol";
      }
      function IsObject(x) {
        return typeof x === "object" ? x !== null : typeof x === "function";
      }
      function ToPrimitive(input, PreferredType) {
        switch (Type2(input)) {
          case 0:
            return input;
          case 1:
            return input;
          case 2:
            return input;
          case 3:
            return input;
          case 4:
            return input;
          case 5:
            return input;
        }
        var hint = PreferredType === 3 ? "string" : PreferredType === 5 ? "number" : "default";
        var exoticToPrim = GetMethod(input, toPrimitiveSymbol);
        if (exoticToPrim !== void 0) {
          var result = exoticToPrim.call(input, hint);
          if (IsObject(result))
            throw new TypeError();
          return result;
        }
        return OrdinaryToPrimitive(input, hint === "default" ? "number" : hint);
      }
      function OrdinaryToPrimitive(O, hint) {
        if (hint === "string") {
          var toString_1 = O.toString;
          if (IsCallable(toString_1)) {
            var result = toString_1.call(O);
            if (!IsObject(result))
              return result;
          }
          var valueOf = O.valueOf;
          if (IsCallable(valueOf)) {
            var result = valueOf.call(O);
            if (!IsObject(result))
              return result;
          }
        } else {
          var valueOf = O.valueOf;
          if (IsCallable(valueOf)) {
            var result = valueOf.call(O);
            if (!IsObject(result))
              return result;
          }
          var toString_2 = O.toString;
          if (IsCallable(toString_2)) {
            var result = toString_2.call(O);
            if (!IsObject(result))
              return result;
          }
        }
        throw new TypeError();
      }
      function ToBoolean(argument) {
        return !!argument;
      }
      function ToString(argument) {
        return "" + argument;
      }
      function ToPropertyKey(argument) {
        var key = ToPrimitive(
          argument,
          3
          /* String */
        );
        if (IsSymbol(key))
          return key;
        return ToString(key);
      }
      function IsArray(argument) {
        return Array.isArray ? Array.isArray(argument) : argument instanceof Object ? argument instanceof Array : Object.prototype.toString.call(argument) === "[object Array]";
      }
      function IsCallable(argument) {
        return typeof argument === "function";
      }
      function IsConstructor(argument) {
        return typeof argument === "function";
      }
      function IsPropertyKey(argument) {
        switch (Type2(argument)) {
          case 3:
            return true;
          case 4:
            return true;
          default:
            return false;
        }
      }
      function GetMethod(V, P) {
        var func = V[P];
        if (func === void 0 || func === null)
          return void 0;
        if (!IsCallable(func))
          throw new TypeError();
        return func;
      }
      function GetIterator(obj) {
        var method = GetMethod(obj, iteratorSymbol);
        if (!IsCallable(method))
          throw new TypeError();
        var iterator = method.call(obj);
        if (!IsObject(iterator))
          throw new TypeError();
        return iterator;
      }
      function IteratorValue(iterResult) {
        return iterResult.value;
      }
      function IteratorStep(iterator) {
        var result = iterator.next();
        return result.done ? false : result;
      }
      function IteratorClose(iterator) {
        var f2 = iterator["return"];
        if (f2)
          f2.call(iterator);
      }
      function OrdinaryGetPrototypeOf(O) {
        var proto = Object.getPrototypeOf(O);
        if (typeof O !== "function" || O === functionPrototype)
          return proto;
        if (proto !== functionPrototype)
          return proto;
        var prototype = O.prototype;
        var prototypeProto = prototype && Object.getPrototypeOf(prototype);
        if (prototypeProto == null || prototypeProto === Object.prototype)
          return proto;
        var constructor = prototypeProto.constructor;
        if (typeof constructor !== "function")
          return proto;
        if (constructor === O)
          return proto;
        return constructor;
      }
      function CreateMapPolyfill() {
        var cacheSentinel = {};
        var arraySentinel = [];
        var MapIterator = (
          /** @class */
          function() {
            function MapIterator2(keys, values, selector) {
              this._index = 0;
              this._keys = keys;
              this._values = values;
              this._selector = selector;
            }
            MapIterator2.prototype["@@iterator"] = function() {
              return this;
            };
            MapIterator2.prototype[iteratorSymbol] = function() {
              return this;
            };
            MapIterator2.prototype.next = function() {
              var index = this._index;
              if (index >= 0 && index < this._keys.length) {
                var result = this._selector(this._keys[index], this._values[index]);
                if (index + 1 >= this._keys.length) {
                  this._index = -1;
                  this._keys = arraySentinel;
                  this._values = arraySentinel;
                } else {
                  this._index++;
                }
                return { value: result, done: false };
              }
              return { value: void 0, done: true };
            };
            MapIterator2.prototype.throw = function(error) {
              if (this._index >= 0) {
                this._index = -1;
                this._keys = arraySentinel;
                this._values = arraySentinel;
              }
              throw error;
            };
            MapIterator2.prototype.return = function(value) {
              if (this._index >= 0) {
                this._index = -1;
                this._keys = arraySentinel;
                this._values = arraySentinel;
              }
              return { value, done: true };
            };
            return MapIterator2;
          }()
        );
        return (
          /** @class */
          function() {
            function Map2() {
              this._keys = [];
              this._values = [];
              this._cacheKey = cacheSentinel;
              this._cacheIndex = -2;
            }
            Object.defineProperty(Map2.prototype, "size", {
              get: function() {
                return this._keys.length;
              },
              enumerable: true,
              configurable: true
            });
            Map2.prototype.has = function(key) {
              return this._find(
                key,
                /*insert*/
                false
              ) >= 0;
            };
            Map2.prototype.get = function(key) {
              var index = this._find(
                key,
                /*insert*/
                false
              );
              return index >= 0 ? this._values[index] : void 0;
            };
            Map2.prototype.set = function(key, value) {
              var index = this._find(
                key,
                /*insert*/
                true
              );
              this._values[index] = value;
              return this;
            };
            Map2.prototype.delete = function(key) {
              var index = this._find(
                key,
                /*insert*/
                false
              );
              if (index >= 0) {
                var size2 = this._keys.length;
                for (var i = index + 1; i < size2; i++) {
                  this._keys[i - 1] = this._keys[i];
                  this._values[i - 1] = this._values[i];
                }
                this._keys.length--;
                this._values.length--;
                if (key === this._cacheKey) {
                  this._cacheKey = cacheSentinel;
                  this._cacheIndex = -2;
                }
                return true;
              }
              return false;
            };
            Map2.prototype.clear = function() {
              this._keys.length = 0;
              this._values.length = 0;
              this._cacheKey = cacheSentinel;
              this._cacheIndex = -2;
            };
            Map2.prototype.keys = function() {
              return new MapIterator(this._keys, this._values, getKey);
            };
            Map2.prototype.values = function() {
              return new MapIterator(this._keys, this._values, getValue);
            };
            Map2.prototype.entries = function() {
              return new MapIterator(this._keys, this._values, getEntry);
            };
            Map2.prototype["@@iterator"] = function() {
              return this.entries();
            };
            Map2.prototype[iteratorSymbol] = function() {
              return this.entries();
            };
            Map2.prototype._find = function(key, insert) {
              if (this._cacheKey !== key) {
                this._cacheIndex = this._keys.indexOf(this._cacheKey = key);
              }
              if (this._cacheIndex < 0 && insert) {
                this._cacheIndex = this._keys.length;
                this._keys.push(key);
                this._values.push(void 0);
              }
              return this._cacheIndex;
            };
            return Map2;
          }()
        );
        function getKey(key, _) {
          return key;
        }
        function getValue(_, value) {
          return value;
        }
        function getEntry(key, value) {
          return [key, value];
        }
      }
      function CreateSetPolyfill() {
        return (
          /** @class */
          function() {
            function Set2() {
              this._map = new _Map();
            }
            Object.defineProperty(Set2.prototype, "size", {
              get: function() {
                return this._map.size;
              },
              enumerable: true,
              configurable: true
            });
            Set2.prototype.has = function(value) {
              return this._map.has(value);
            };
            Set2.prototype.add = function(value) {
              return this._map.set(value, value), this;
            };
            Set2.prototype.delete = function(value) {
              return this._map.delete(value);
            };
            Set2.prototype.clear = function() {
              this._map.clear();
            };
            Set2.prototype.keys = function() {
              return this._map.keys();
            };
            Set2.prototype.values = function() {
              return this._map.values();
            };
            Set2.prototype.entries = function() {
              return this._map.entries();
            };
            Set2.prototype["@@iterator"] = function() {
              return this.keys();
            };
            Set2.prototype[iteratorSymbol] = function() {
              return this.keys();
            };
            return Set2;
          }()
        );
      }
      function CreateWeakMapPolyfill() {
        var UUID_SIZE = 16;
        var keys = HashMap.create();
        var rootKey = CreateUniqueKey();
        return (
          /** @class */
          function() {
            function WeakMap2() {
              this._key = CreateUniqueKey();
            }
            WeakMap2.prototype.has = function(target) {
              var table = GetOrCreateWeakMapTable(
                target,
                /*create*/
                false
              );
              return table !== void 0 ? HashMap.has(table, this._key) : false;
            };
            WeakMap2.prototype.get = function(target) {
              var table = GetOrCreateWeakMapTable(
                target,
                /*create*/
                false
              );
              return table !== void 0 ? HashMap.get(table, this._key) : void 0;
            };
            WeakMap2.prototype.set = function(target, value) {
              var table = GetOrCreateWeakMapTable(
                target,
                /*create*/
                true
              );
              table[this._key] = value;
              return this;
            };
            WeakMap2.prototype.delete = function(target) {
              var table = GetOrCreateWeakMapTable(
                target,
                /*create*/
                false
              );
              return table !== void 0 ? delete table[this._key] : false;
            };
            WeakMap2.prototype.clear = function() {
              this._key = CreateUniqueKey();
            };
            return WeakMap2;
          }()
        );
        function CreateUniqueKey() {
          var key;
          do
            key = "@@WeakMap@@" + CreateUUID();
          while (HashMap.has(keys, key));
          keys[key] = true;
          return key;
        }
        function GetOrCreateWeakMapTable(target, create8) {
          if (!hasOwn.call(target, rootKey)) {
            if (!create8)
              return void 0;
            Object.defineProperty(target, rootKey, { value: HashMap.create() });
          }
          return target[rootKey];
        }
        function FillRandomBytes(buffer, size2) {
          for (var i = 0; i < size2; ++i)
            buffer[i] = Math.random() * 255 | 0;
          return buffer;
        }
        function GenRandomBytes(size2) {
          if (typeof Uint8Array === "function") {
            if (typeof crypto !== "undefined")
              return crypto.getRandomValues(new Uint8Array(size2));
            if (typeof msCrypto !== "undefined")
              return msCrypto.getRandomValues(new Uint8Array(size2));
            return FillRandomBytes(new Uint8Array(size2), size2);
          }
          return FillRandomBytes(new Array(size2), size2);
        }
        function CreateUUID() {
          var data = GenRandomBytes(UUID_SIZE);
          data[6] = data[6] & 79 | 64;
          data[8] = data[8] & 191 | 128;
          var result = "";
          for (var offset2 = 0; offset2 < UUID_SIZE; ++offset2) {
            var byte = data[offset2];
            if (offset2 === 4 || offset2 === 6 || offset2 === 8)
              result += "-";
            if (byte < 16)
              result += "0";
            result += byte.toString(16).toLowerCase();
          }
          return result;
        }
      }
      function MakeDictionary(obj) {
        obj.__ = void 0;
        delete obj.__;
        return obj;
      }
    });
  })(Reflect2 || (Reflect2 = {}));

  // js/components/level-generator.ts
  var level_generator_exports = {};
  __export(level_generator_exports, {
    LevelGenerator: () => LevelGenerator
  });

  // node_modules/tsyringe/dist/esm5/types/lifecycle.js
  var Lifecycle;
  (function(Lifecycle2) {
    Lifecycle2[Lifecycle2["Transient"] = 0] = "Transient";
    Lifecycle2[Lifecycle2["Singleton"] = 1] = "Singleton";
    Lifecycle2[Lifecycle2["ResolutionScoped"] = 2] = "ResolutionScoped";
    Lifecycle2[Lifecycle2["ContainerScoped"] = 3] = "ContainerScoped";
  })(Lifecycle || (Lifecycle = {}));
  var lifecycle_default = Lifecycle;

  // node_modules/tsyringe/node_modules/tslib/tslib.es6.js
  var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
      d2.__proto__ = b2;
    } || function(d2, b2) {
      for (var p in b2)
        if (b2.hasOwnProperty(p))
          d2[p] = b2[p];
    };
    return extendStatics(d, b);
  };
  function __extends(d, b) {
    extendStatics(d, b);
    function __() {
      this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  }
  function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function(resolve) {
        resolve(value);
      });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  }
  function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() {
      if (t[0] & 1)
        throw t[1];
      return t[1];
    }, trys: [], ops: [] }, f2, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
      return this;
    }), g;
    function verb(n) {
      return function(v) {
        return step([n, v]);
      };
    }
    function step(op) {
      if (f2)
        throw new TypeError("Generator is already executing.");
      while (_)
        try {
          if (f2 = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)
            return t;
          if (y = 0, t)
            op = [op[0] & 2, t.value];
          switch (op[0]) {
            case 0:
            case 1:
              t = op;
              break;
            case 4:
              _.label++;
              return { value: op[1], done: false };
            case 5:
              _.label++;
              y = op[1];
              op = [0];
              continue;
            case 7:
              op = _.ops.pop();
              _.trys.pop();
              continue;
            default:
              if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                _ = 0;
                continue;
              }
              if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
                _.label = op[1];
                break;
              }
              if (op[0] === 6 && _.label < t[1]) {
                _.label = t[1];
                t = op;
                break;
              }
              if (t && _.label < t[2]) {
                _.label = t[2];
                _.ops.push(op);
                break;
              }
              if (t[2])
                _.ops.pop();
              _.trys.pop();
              continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [6, e];
          y = 0;
        } finally {
          f2 = t = 0;
        }
      if (op[0] & 5)
        throw op[1];
      return { value: op[0] ? op[1] : void 0, done: true };
    }
  }
  function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m)
      return m.call(o);
    if (o && typeof o.length === "number")
      return {
        next: function() {
          if (o && i >= o.length)
            o = void 0;
          return { value: o && o[i++], done: !o };
        }
      };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
  }
  function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m)
      return o;
    var i = m.call(o), r, ar = [], e;
    try {
      while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
        ar.push(r.value);
    } catch (error) {
      e = { error };
    } finally {
      try {
        if (r && !r.done && (m = i["return"]))
          m.call(i);
      } finally {
        if (e)
          throw e.error;
      }
    }
    return ar;
  }
  function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
      ar = ar.concat(__read(arguments[i]));
    return ar;
  }

  // node_modules/tsyringe/dist/esm5/reflection-helpers.js
  var INJECTION_TOKEN_METADATA_KEY = "injectionTokens";
  function getParamInfo(target) {
    var params = Reflect.getMetadata("design:paramtypes", target) || [];
    var injectionTokens = Reflect.getOwnMetadata(INJECTION_TOKEN_METADATA_KEY, target) || {};
    Object.keys(injectionTokens).forEach(function(key) {
      params[+key] = injectionTokens[key];
    });
    return params;
  }
  function defineInjectionTokenMetadata(data, transform) {
    return function(target, _propertyKey, parameterIndex) {
      var descriptors = Reflect.getOwnMetadata(INJECTION_TOKEN_METADATA_KEY, target) || {};
      descriptors[parameterIndex] = transform ? {
        token: data,
        transform: transform.transformToken,
        transformArgs: transform.args || []
      } : data;
      Reflect.defineMetadata(INJECTION_TOKEN_METADATA_KEY, descriptors, target);
    };
  }

  // node_modules/tsyringe/dist/esm5/providers/class-provider.js
  function isClassProvider(provider) {
    return !!provider.useClass;
  }

  // node_modules/tsyringe/dist/esm5/providers/factory-provider.js
  function isFactoryProvider(provider) {
    return !!provider.useFactory;
  }

  // node_modules/tsyringe/dist/esm5/lazy-helpers.js
  var DelayedConstructor = function() {
    function DelayedConstructor2(wrap) {
      this.wrap = wrap;
      this.reflectMethods = [
        "get",
        "getPrototypeOf",
        "setPrototypeOf",
        "getOwnPropertyDescriptor",
        "defineProperty",
        "has",
        "set",
        "deleteProperty",
        "apply",
        "construct",
        "ownKeys"
      ];
    }
    DelayedConstructor2.prototype.createProxy = function(createObject) {
      var _this = this;
      var target = {};
      var init = false;
      var value;
      var delayedObject = function() {
        if (!init) {
          value = createObject(_this.wrap());
          init = true;
        }
        return value;
      };
      return new Proxy(target, this.createHandler(delayedObject));
    };
    DelayedConstructor2.prototype.createHandler = function(delayedObject) {
      var handler = {};
      var install = function(name) {
        handler[name] = function() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
          }
          args[0] = delayedObject();
          var method = Reflect[name];
          return method.apply(void 0, __spread(args));
        };
      };
      this.reflectMethods.forEach(install);
      return handler;
    };
    return DelayedConstructor2;
  }();

  // node_modules/tsyringe/dist/esm5/providers/injection-token.js
  function isNormalToken(token) {
    return typeof token === "string" || typeof token === "symbol";
  }
  function isTokenDescriptor(descriptor) {
    return typeof descriptor === "object" && "token" in descriptor && "multiple" in descriptor;
  }
  function isTransformDescriptor(descriptor) {
    return typeof descriptor === "object" && "token" in descriptor && "transform" in descriptor;
  }
  function isConstructorToken(token) {
    return typeof token === "function" || token instanceof DelayedConstructor;
  }

  // node_modules/tsyringe/dist/esm5/providers/token-provider.js
  function isTokenProvider(provider) {
    return !!provider.useToken;
  }

  // node_modules/tsyringe/dist/esm5/providers/value-provider.js
  function isValueProvider(provider) {
    return provider.useValue != void 0;
  }

  // node_modules/tsyringe/dist/esm5/providers/provider.js
  function isProvider(provider) {
    return isClassProvider(provider) || isValueProvider(provider) || isTokenProvider(provider) || isFactoryProvider(provider);
  }

  // node_modules/tsyringe/dist/esm5/registry-base.js
  var RegistryBase = function() {
    function RegistryBase2() {
      this._registryMap = /* @__PURE__ */ new Map();
    }
    RegistryBase2.prototype.entries = function() {
      return this._registryMap.entries();
    };
    RegistryBase2.prototype.getAll = function(key) {
      this.ensure(key);
      return this._registryMap.get(key);
    };
    RegistryBase2.prototype.get = function(key) {
      this.ensure(key);
      var value = this._registryMap.get(key);
      return value[value.length - 1] || null;
    };
    RegistryBase2.prototype.set = function(key, value) {
      this.ensure(key);
      this._registryMap.get(key).push(value);
    };
    RegistryBase2.prototype.setAll = function(key, value) {
      this._registryMap.set(key, value);
    };
    RegistryBase2.prototype.has = function(key) {
      this.ensure(key);
      return this._registryMap.get(key).length > 0;
    };
    RegistryBase2.prototype.clear = function() {
      this._registryMap.clear();
    };
    RegistryBase2.prototype.ensure = function(key) {
      if (!this._registryMap.has(key)) {
        this._registryMap.set(key, []);
      }
    };
    return RegistryBase2;
  }();
  var registry_base_default = RegistryBase;

  // node_modules/tsyringe/dist/esm5/registry.js
  var Registry = function(_super) {
    __extends(Registry2, _super);
    function Registry2() {
      return _super !== null && _super.apply(this, arguments) || this;
    }
    return Registry2;
  }(registry_base_default);
  var registry_default = Registry;

  // node_modules/tsyringe/dist/esm5/resolution-context.js
  var ResolutionContext = function() {
    function ResolutionContext2() {
      this.scopedResolutions = /* @__PURE__ */ new Map();
    }
    return ResolutionContext2;
  }();
  var resolution_context_default = ResolutionContext;

  // node_modules/tsyringe/dist/esm5/error-helpers.js
  function formatDependency(params, idx) {
    if (params === null) {
      return "at position #" + idx;
    }
    var argName = params.split(",")[idx].trim();
    return '"' + argName + '" at position #' + idx;
  }
  function composeErrorMessage(msg, e, indent) {
    if (indent === void 0) {
      indent = "    ";
    }
    return __spread([msg], e.message.split("\n").map(function(l2) {
      return indent + l2;
    })).join("\n");
  }
  function formatErrorCtor(ctor, paramIdx, error) {
    var _a = __read(ctor.toString().match(/constructor\(([\w, ]+)\)/) || [], 2), _b = _a[1], params = _b === void 0 ? null : _b;
    var dep = formatDependency(params, paramIdx);
    return composeErrorMessage("Cannot inject the dependency " + dep + ' of "' + ctor.name + '" constructor. Reason:', error);
  }

  // node_modules/tsyringe/dist/esm5/types/disposable.js
  function isDisposable(value) {
    if (typeof value.dispose !== "function")
      return false;
    var disposeFun = value.dispose;
    if (disposeFun.length > 0) {
      return false;
    }
    return true;
  }

  // node_modules/tsyringe/dist/esm5/interceptors.js
  var PreResolutionInterceptors = function(_super) {
    __extends(PreResolutionInterceptors2, _super);
    function PreResolutionInterceptors2() {
      return _super !== null && _super.apply(this, arguments) || this;
    }
    return PreResolutionInterceptors2;
  }(registry_base_default);
  var PostResolutionInterceptors = function(_super) {
    __extends(PostResolutionInterceptors2, _super);
    function PostResolutionInterceptors2() {
      return _super !== null && _super.apply(this, arguments) || this;
    }
    return PostResolutionInterceptors2;
  }(registry_base_default);
  var Interceptors = function() {
    function Interceptors2() {
      this.preResolution = new PreResolutionInterceptors();
      this.postResolution = new PostResolutionInterceptors();
    }
    return Interceptors2;
  }();
  var interceptors_default = Interceptors;

  // node_modules/tsyringe/dist/esm5/dependency-container.js
  var typeInfo = /* @__PURE__ */ new Map();
  var InternalDependencyContainer = function() {
    function InternalDependencyContainer2(parent) {
      this.parent = parent;
      this._registry = new registry_default();
      this.interceptors = new interceptors_default();
      this.disposed = false;
      this.disposables = /* @__PURE__ */ new Set();
    }
    InternalDependencyContainer2.prototype.register = function(token, providerOrConstructor, options) {
      if (options === void 0) {
        options = { lifecycle: lifecycle_default.Transient };
      }
      this.ensureNotDisposed();
      var provider;
      if (!isProvider(providerOrConstructor)) {
        provider = { useClass: providerOrConstructor };
      } else {
        provider = providerOrConstructor;
      }
      if (isTokenProvider(provider)) {
        var path = [token];
        var tokenProvider = provider;
        while (tokenProvider != null) {
          var currentToken = tokenProvider.useToken;
          if (path.includes(currentToken)) {
            throw new Error("Token registration cycle detected! " + __spread(path, [currentToken]).join(" -> "));
          }
          path.push(currentToken);
          var registration = this._registry.get(currentToken);
          if (registration && isTokenProvider(registration.provider)) {
            tokenProvider = registration.provider;
          } else {
            tokenProvider = null;
          }
        }
      }
      if (options.lifecycle === lifecycle_default.Singleton || options.lifecycle == lifecycle_default.ContainerScoped || options.lifecycle == lifecycle_default.ResolutionScoped) {
        if (isValueProvider(provider) || isFactoryProvider(provider)) {
          throw new Error('Cannot use lifecycle "' + lifecycle_default[options.lifecycle] + '" with ValueProviders or FactoryProviders');
        }
      }
      this._registry.set(token, { provider, options });
      return this;
    };
    InternalDependencyContainer2.prototype.registerType = function(from, to) {
      this.ensureNotDisposed();
      if (isNormalToken(to)) {
        return this.register(from, {
          useToken: to
        });
      }
      return this.register(from, {
        useClass: to
      });
    };
    InternalDependencyContainer2.prototype.registerInstance = function(token, instance2) {
      this.ensureNotDisposed();
      return this.register(token, {
        useValue: instance2
      });
    };
    InternalDependencyContainer2.prototype.registerSingleton = function(from, to) {
      this.ensureNotDisposed();
      if (isNormalToken(from)) {
        if (isNormalToken(to)) {
          return this.register(from, {
            useToken: to
          }, { lifecycle: lifecycle_default.Singleton });
        } else if (to) {
          return this.register(from, {
            useClass: to
          }, { lifecycle: lifecycle_default.Singleton });
        }
        throw new Error('Cannot register a type name as a singleton without a "to" token');
      }
      var useClass = from;
      if (to && !isNormalToken(to)) {
        useClass = to;
      }
      return this.register(from, {
        useClass
      }, { lifecycle: lifecycle_default.Singleton });
    };
    InternalDependencyContainer2.prototype.resolve = function(token, context2) {
      if (context2 === void 0) {
        context2 = new resolution_context_default();
      }
      this.ensureNotDisposed();
      var registration = this.getRegistration(token);
      if (!registration && isNormalToken(token)) {
        throw new Error('Attempted to resolve unregistered dependency token: "' + token.toString() + '"');
      }
      this.executePreResolutionInterceptor(token, "Single");
      if (registration) {
        var result = this.resolveRegistration(registration, context2);
        this.executePostResolutionInterceptor(token, result, "Single");
        return result;
      }
      if (isConstructorToken(token)) {
        var result = this.construct(token, context2);
        this.executePostResolutionInterceptor(token, result, "Single");
        return result;
      }
      throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.");
    };
    InternalDependencyContainer2.prototype.executePreResolutionInterceptor = function(token, resolutionType) {
      var e_1, _a;
      if (this.interceptors.preResolution.has(token)) {
        var remainingInterceptors = [];
        try {
          for (var _b = __values(this.interceptors.preResolution.getAll(token)), _c = _b.next(); !_c.done; _c = _b.next()) {
            var interceptor = _c.value;
            if (interceptor.options.frequency != "Once") {
              remainingInterceptors.push(interceptor);
            }
            interceptor.callback(token, resolutionType);
          }
        } catch (e_1_1) {
          e_1 = { error: e_1_1 };
        } finally {
          try {
            if (_c && !_c.done && (_a = _b.return))
              _a.call(_b);
          } finally {
            if (e_1)
              throw e_1.error;
          }
        }
        this.interceptors.preResolution.setAll(token, remainingInterceptors);
      }
    };
    InternalDependencyContainer2.prototype.executePostResolutionInterceptor = function(token, result, resolutionType) {
      var e_2, _a;
      if (this.interceptors.postResolution.has(token)) {
        var remainingInterceptors = [];
        try {
          for (var _b = __values(this.interceptors.postResolution.getAll(token)), _c = _b.next(); !_c.done; _c = _b.next()) {
            var interceptor = _c.value;
            if (interceptor.options.frequency != "Once") {
              remainingInterceptors.push(interceptor);
            }
            interceptor.callback(token, result, resolutionType);
          }
        } catch (e_2_1) {
          e_2 = { error: e_2_1 };
        } finally {
          try {
            if (_c && !_c.done && (_a = _b.return))
              _a.call(_b);
          } finally {
            if (e_2)
              throw e_2.error;
          }
        }
        this.interceptors.postResolution.setAll(token, remainingInterceptors);
      }
    };
    InternalDependencyContainer2.prototype.resolveRegistration = function(registration, context2) {
      this.ensureNotDisposed();
      if (registration.options.lifecycle === lifecycle_default.ResolutionScoped && context2.scopedResolutions.has(registration)) {
        return context2.scopedResolutions.get(registration);
      }
      var isSingleton = registration.options.lifecycle === lifecycle_default.Singleton;
      var isContainerScoped = registration.options.lifecycle === lifecycle_default.ContainerScoped;
      var returnInstance = isSingleton || isContainerScoped;
      var resolved;
      if (isValueProvider(registration.provider)) {
        resolved = registration.provider.useValue;
      } else if (isTokenProvider(registration.provider)) {
        resolved = returnInstance ? registration.instance || (registration.instance = this.resolve(registration.provider.useToken, context2)) : this.resolve(registration.provider.useToken, context2);
      } else if (isClassProvider(registration.provider)) {
        resolved = returnInstance ? registration.instance || (registration.instance = this.construct(registration.provider.useClass, context2)) : this.construct(registration.provider.useClass, context2);
      } else if (isFactoryProvider(registration.provider)) {
        resolved = registration.provider.useFactory(this);
      } else {
        resolved = this.construct(registration.provider, context2);
      }
      if (registration.options.lifecycle === lifecycle_default.ResolutionScoped) {
        context2.scopedResolutions.set(registration, resolved);
      }
      return resolved;
    };
    InternalDependencyContainer2.prototype.resolveAll = function(token, context2) {
      var _this = this;
      if (context2 === void 0) {
        context2 = new resolution_context_default();
      }
      this.ensureNotDisposed();
      var registrations = this.getAllRegistrations(token);
      if (!registrations && isNormalToken(token)) {
        throw new Error('Attempted to resolve unregistered dependency token: "' + token.toString() + '"');
      }
      this.executePreResolutionInterceptor(token, "All");
      if (registrations) {
        var result_1 = registrations.map(function(item) {
          return _this.resolveRegistration(item, context2);
        });
        this.executePostResolutionInterceptor(token, result_1, "All");
        return result_1;
      }
      var result = [this.construct(token, context2)];
      this.executePostResolutionInterceptor(token, result, "All");
      return result;
    };
    InternalDependencyContainer2.prototype.isRegistered = function(token, recursive) {
      if (recursive === void 0) {
        recursive = false;
      }
      this.ensureNotDisposed();
      return this._registry.has(token) || recursive && (this.parent || false) && this.parent.isRegistered(token, true);
    };
    InternalDependencyContainer2.prototype.reset = function() {
      this.ensureNotDisposed();
      this._registry.clear();
      this.interceptors.preResolution.clear();
      this.interceptors.postResolution.clear();
    };
    InternalDependencyContainer2.prototype.clearInstances = function() {
      var e_3, _a;
      this.ensureNotDisposed();
      try {
        for (var _b = __values(this._registry.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {
          var _d = __read(_c.value, 2), token = _d[0], registrations = _d[1];
          this._registry.setAll(token, registrations.filter(function(registration) {
            return !isValueProvider(registration.provider);
          }).map(function(registration) {
            registration.instance = void 0;
            return registration;
          }));
        }
      } catch (e_3_1) {
        e_3 = { error: e_3_1 };
      } finally {
        try {
          if (_c && !_c.done && (_a = _b.return))
            _a.call(_b);
        } finally {
          if (e_3)
            throw e_3.error;
        }
      }
    };
    InternalDependencyContainer2.prototype.createChildContainer = function() {
      var e_4, _a;
      this.ensureNotDisposed();
      var childContainer = new InternalDependencyContainer2(this);
      try {
        for (var _b = __values(this._registry.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {
          var _d = __read(_c.value, 2), token = _d[0], registrations = _d[1];
          if (registrations.some(function(_a2) {
            var options = _a2.options;
            return options.lifecycle === lifecycle_default.ContainerScoped;
          })) {
            childContainer._registry.setAll(token, registrations.map(function(registration) {
              if (registration.options.lifecycle === lifecycle_default.ContainerScoped) {
                return {
                  provider: registration.provider,
                  options: registration.options
                };
              }
              return registration;
            }));
          }
        }
      } catch (e_4_1) {
        e_4 = { error: e_4_1 };
      } finally {
        try {
          if (_c && !_c.done && (_a = _b.return))
            _a.call(_b);
        } finally {
          if (e_4)
            throw e_4.error;
        }
      }
      return childContainer;
    };
    InternalDependencyContainer2.prototype.beforeResolution = function(token, callback, options) {
      if (options === void 0) {
        options = { frequency: "Always" };
      }
      this.interceptors.preResolution.set(token, {
        callback,
        options
      });
    };
    InternalDependencyContainer2.prototype.afterResolution = function(token, callback, options) {
      if (options === void 0) {
        options = { frequency: "Always" };
      }
      this.interceptors.postResolution.set(token, {
        callback,
        options
      });
    };
    InternalDependencyContainer2.prototype.dispose = function() {
      return __awaiter(this, void 0, void 0, function() {
        var promises;
        return __generator(this, function(_a) {
          switch (_a.label) {
            case 0:
              this.disposed = true;
              promises = [];
              this.disposables.forEach(function(disposable) {
                var maybePromise = disposable.dispose();
                if (maybePromise) {
                  promises.push(maybePromise);
                }
              });
              return [4, Promise.all(promises)];
            case 1:
              _a.sent();
              return [2];
          }
        });
      });
    };
    InternalDependencyContainer2.prototype.getRegistration = function(token) {
      if (this.isRegistered(token)) {
        return this._registry.get(token);
      }
      if (this.parent) {
        return this.parent.getRegistration(token);
      }
      return null;
    };
    InternalDependencyContainer2.prototype.getAllRegistrations = function(token) {
      if (this.isRegistered(token)) {
        return this._registry.getAll(token);
      }
      if (this.parent) {
        return this.parent.getAllRegistrations(token);
      }
      return null;
    };
    InternalDependencyContainer2.prototype.construct = function(ctor, context2) {
      var _this = this;
      if (ctor instanceof DelayedConstructor) {
        return ctor.createProxy(function(target) {
          return _this.resolve(target, context2);
        });
      }
      var instance2 = function() {
        var paramInfo = typeInfo.get(ctor);
        if (!paramInfo || paramInfo.length === 0) {
          if (ctor.length === 0) {
            return new ctor();
          } else {
            throw new Error('TypeInfo not known for "' + ctor.name + '"');
          }
        }
        var params = paramInfo.map(_this.resolveParams(context2, ctor));
        return new (ctor.bind.apply(ctor, __spread([void 0], params)))();
      }();
      if (isDisposable(instance2)) {
        this.disposables.add(instance2);
      }
      return instance2;
    };
    InternalDependencyContainer2.prototype.resolveParams = function(context2, ctor) {
      var _this = this;
      return function(param, idx) {
        var _a, _b, _c;
        try {
          if (isTokenDescriptor(param)) {
            if (isTransformDescriptor(param)) {
              return param.multiple ? (_a = _this.resolve(param.transform)).transform.apply(_a, __spread([_this.resolveAll(param.token)], param.transformArgs)) : (_b = _this.resolve(param.transform)).transform.apply(_b, __spread([_this.resolve(param.token, context2)], param.transformArgs));
            } else {
              return param.multiple ? _this.resolveAll(param.token) : _this.resolve(param.token, context2);
            }
          } else if (isTransformDescriptor(param)) {
            return (_c = _this.resolve(param.transform, context2)).transform.apply(_c, __spread([_this.resolve(param.token, context2)], param.transformArgs));
          }
          return _this.resolve(param, context2);
        } catch (e) {
          throw new Error(formatErrorCtor(ctor, idx, e));
        }
      };
    };
    InternalDependencyContainer2.prototype.ensureNotDisposed = function() {
      if (this.disposed) {
        throw new Error("This container has been disposed, you cannot interact with a disposed container");
      }
    };
    return InternalDependencyContainer2;
  }();
  var instance = new InternalDependencyContainer();

  // node_modules/tsyringe/dist/esm5/decorators/inject.js
  function inject(token) {
    return defineInjectionTokenMetadata(token);
  }
  var inject_default = inject;

  // node_modules/tsyringe/dist/esm5/decorators/injectable.js
  function injectable() {
    return function(target) {
      typeInfo.set(target, getParamInfo(target));
    };
  }
  var injectable_default = injectable;

  // node_modules/tsyringe/dist/esm5/decorators/singleton.js
  function singleton() {
    return function(target) {
      injectable_default()(target);
      instance.registerSingleton(target);
    };
  }
  var singleton_default = singleton;

  // node_modules/tsyringe/dist/esm5/index.js
  if (typeof Reflect === "undefined" || !Reflect.getMetadata) {
    throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`);
  }

  // js/dungeongen/MazeGenerator.ts
  var MazeGenerator_exports = {};
  __export(MazeGenerator_exports, {
    MazeGenerator: () => MazeGenerator
  });

  // js/dungeongen/room.ts
  var room_exports = {};
  __export(room_exports, {
    Room: () => Room
  });

  // js/forFramework/findCharInStringArray.ts
  function findCharInStringArray(grid, targetChar) {
    for (let y = 0; y < grid.length; y++) {
      for (let x = 0; x < grid[y].length; x++) {
        if (grid[y][x] === targetChar) {
          return { x, y };
        }
      }
    }
    return null;
  }
  function findCharInStringArrayByPos(grid, x, y) {
    if (y < 0 || y >= grid.length) {
      return null;
    }
    if (x < 0 || x >= grid[y].length) {
      return null;
    }
    return grid[y][x];
  }

  // js/dungeongen/roomTemplates.ts
  var roomTemplates_exports = {};
  __export(roomTemplates_exports, {
    RoomTemplatePatternDefinitions: () => RoomTemplatePatternDefinitions,
    RoomTypes: () => RoomTypes,
    roomTemplates: () => roomTemplates
  });
  var RoomTypes = {
    Entrance: "entrance",
    Exit: "exit",
    Treasure: "treasure",
    Normal: "normal"
  };
  var roomTemplates = [
    {
      name: "entrance",
      type: RoomTypes.Entrance,
      ceilingHeight: [4],
      canBeRotated: false,
      pattern: [
        " #####N##### ",
        "#PP.......PP#",
        "#P..%.....%P#",
        "#P.1.C.....# ",
        "#.....%....##",
        "W...........E",
        "#P..........#",
        "#P.......2.P#",
        "##P....%!.PP#",
        "  ##....PPPP#",
        "    #S###### "
      ],
      characters: [
        "LittleDude",
        "MagicDude"
      ],
      props: [
        { name: "Barrel" },
        { name: "BarrelBroken", chance: 0.4 },
        { name: "Bench", faceWall: true, chance: 0.1 },
        { name: "Banner", faceWall: true, chance: 0.3, mustBeAgainstWall: true }
      ],
      chests: [
        { loottable: "entry", material: "Iron", size: "Large", rotation: 270 }
      ]
    },
    {
      name: "normal",
      type: RoomTypes.Normal,
      ceilingHeight: [3, 4],
      canBeRotated: true,
      pattern: [
        " #N#   ",
        " #..## ",
        "#X...X#",
        "W..%...E",
        "#....X#",
        " #S### "
      ]
    },
    {
      name: "normal",
      type: RoomTypes.Normal,
      ceilingHeight: [5, 8],
      canBeRotated: true,
      pattern: [
        "    #N#",
        "   #...#",
        "  #.....#",
        " #.......#",
        "#.........#",
        "W....%....E",
        "#.........#",
        " #.......#",
        "  #.....#",
        "   #...#",
        "    #S#"
      ]
    },
    {
      name: "normal",
      type: RoomTypes.Normal,
      ceilingHeight: [5],
      canBeRotated: true,
      pattern: [
        " ####N####",
        "#.........#",
        "#.........#",
        "#..P...P..#",
        "#.........#",
        "W....%....E",
        "#.........#",
        "#..P...P..#",
        "#.........#",
        "#.........#",
        " ####S####"
      ],
      props: [
        { name: "Pillar" }
      ]
    },
    {
      name: "normal",
      type: RoomTypes.Normal,
      ceilingHeight: [3, 4],
      canBeRotated: true,
      pattern: [
        "#####    ",
        "#.X.#N###",
        "#.%.....E",
        "#.......#",
        "#.......#",
        "W.....%.#",
        "#.......#",
        "#S#######"
      ]
    },
    {
      name: "normal",
      type: RoomTypes.Normal,
      ceilingHeight: [3, 4],
      canBeRotated: true,
      pattern: [
        "##N###    ",
        "#..%.#####",
        "#X.......E",
        "#........#",
        " #...#####",
        " W.%.# ",
        " #...# ",
        " ##S## "
      ]
    },
    {
      name: "Final room",
      type: RoomTypes.Exit,
      ceilingHeight: [4],
      canBeRotated: false,
      pattern: [
        "#N#########",
        "W..%......#",
        "#.........#",
        "#.........#",
        "#..%...%..#",
        "#.........#",
        "#.........#",
        "#......%..E",
        "#########S#"
      ]
    },
    {
      name: "Treasure Room",
      type: RoomTypes.Treasure,
      ceilingHeight: [3],
      canBeRotated: false,
      pattern: [
        "#N#########",
        "W..%..#...#",
        "#.....#...#",
        "#.....#...#",
        "#..%...%..#",
        "#...#.....#",
        "#...#.....#",
        "#...#..%..E",
        "#########S#"
      ]
    }
  ];
  var RoomTemplatePatternDefinitions = {
    N: {
      canTeleportToTile: false,
      canInteractWithTile: true,
      behavior: "Door"
      // Door to the north
    },
    E: {
      canTeleportToTile: false,
      canInteractWithTile: true,
      behavior: "Door"
      // Door to the east
    },
    S: {
      canTeleportToTile: false,
      canInteractWithTile: true,
      behavior: "Door"
      // Door to the south
    },
    W: {
      canTeleportToTile: false,
      canInteractWithTile: true,
      behavior: "Door"
      // Door to the west
    },
    C: {
      canTeleportToTile: false,
      canInteractWithTile: false
      // Campfire( max 1 per room)
    },
    ".": {
      // Empty space
      canTeleportToTile: true,
      canInteractWithTile: false
    },
    "#": {
      canTeleportToTile: false,
      canInteractWithTile: false
      // Wall
    },
    "%": {
      canTeleportToTile: true,
      canInteractWithTile: false
      // Torch (light)
    },
    X: {
      // Enemy spawn point
      canTeleportToTile: true,
      canInteractWithTile: false
    },
    "!": {
      // A chest, details defined in the room definition
      canTeleportToTile: false,
      canInteractWithTile: true,
      behavior: "Chest"
    },
    P: {
      // Prop
      canTeleportToTile: false,
      canInteractWithTile: false
    },
    O: {
      // Ore
      canTeleportToTile: false,
      canInteractWithTile: true,
      behavior: "Ore"
    },
    G: {
      canTeleportToTile: false,
      canInteractWithTile: true
      // Gem
    }
  };

  // js/dungeongen/room.ts
  var Room = class {
    /**
     * The rooms a door will take you to
     * @type {RoomDirections}
     */
    targetRooms;
    /**
     * The template used to generate this room
     */
    #roomTemplate = null;
    /**
     * Does this room have a door in each direction?
     */
    doors;
    /**
     * Is this room the exit, the final room of the game?
     */
    isExit;
    /**
     * Is this room the entrance, the first room of the game?
     */
    isEntrance;
    /**
     * Is this room a treasure room?
     */
    isTreasure;
    /**
     * The seed used to generate this room
     */
    seed;
    /**
     * When a room is visited for the first time, it is initialized
     * This means that the room is populated with items, enemies, etc, based on the chosen template
     * This is done to avoid having to generate the entire dungeon at once, while making
     * sure the room stays the same when revisited
     */
    isInitialized = false;
    /**
     * The distance from the entrance
     */
    distanceFromEntrance;
    chests;
    items;
    constructor() {
      this.doors = { north: false, west: false, south: false, east: false };
      this.targetRooms = { north: null, west: null, south: null, east: null };
      this.isExit = false;
      this.isEntrance = false;
      this.isTreasure = false;
      this.seed = 0;
      this.distanceFromEntrance = 0;
    }
    toKey() {
      let key = "";
      if (this.doors.north)
        key += "N";
      if (this.doors.east)
        key += "E";
      if (this.doors.south)
        key += "S";
      if (this.doors.west)
        key += "W";
      return key;
    }
    /**
     * Gets the room in a specific direction
     * @param {DirectionSymbol|string} direction
     * @returns {{x:number, y:number}|null|undefined} the room in that direction; null if there is no room in that direction
     */
    getTargetRoom(direction2) {
      switch (direction2) {
        case "N":
          return this.targetRooms.north;
        case "E":
          return this.targetRooms.east;
        case "S":
          return this.targetRooms.south;
        case "W":
          return this.targetRooms.west;
      }
    }
    /**
     *
     * @returns {RoomType} the type of the room
     */
    getRoomType() {
      if (this.isEntrance) {
        return RoomTypes.Entrance;
      }
      if (this.isExit) {
        return RoomTypes.Exit;
      }
      if (this.isTreasure) {
        return RoomTypes.Treasure;
      }
      return RoomTypes.Normal;
    }
    /**
     *
     * @param {RoomTemplate} roomTemplate
     */
    setRoomTemplate(roomTemplate) {
      if (this.#roomTemplate === null) {
        this.#roomTemplate = roomTemplate;
      } else {
        console.warn("RoomTemplate already set");
      }
    }
    getRoomTemplate() {
      return this.#roomTemplate;
    }
    /**
     * Gets the door in a specific direction from the template
     * @param {DirectionSymbol} direction
     * @returns {{x:number, y:number}}|null} the X/Y coordinates of the door; or null if there is no door in that direction
     */
    getDoor(direction2) {
      if (this.#roomTemplate !== null) {
        let result = findCharInStringArray(this.#roomTemplate.pattern, direction2);
        return result;
      }
      return null;
    }
    initialize(template) {
      if (this.isInitialized) {
        return;
      }
      this.setRoomTemplate(template);
      this.isInitialized = true;
    }
    getItemsAtPosition(position) {
      if (!this.isInitialized) {
        console.warn("Room is not initialized, but should since we are trying to get items from it");
        return;
      }
      let items = this.items?.filter((item) => {
        return item.position.x === position.x && item.position.y === position.y;
      });
      return items;
    }
  };

  // js/dungeongen/MazeGenerator.ts
  var MazeGenerator = class {
    mazeWidth;
    mazeHeight;
    /**
     * The grid of rooms that make up the level.
     * @type {Room[][]}
     */
    maze = [[]];
    patterns;
    constraints;
    farthestRoom;
    constructor(sizeX, sizeY, tileSet = null, extractedPatterns = [], constraintMappingForAllKeySets = null) {
      this.mazeWidth = sizeX;
      this.mazeHeight = sizeY;
      this.patterns = extractedPatterns;
      this.constraints = constraintMappingForAllKeySets;
      this.#createGrid();
      this.farthestRoom = { x: 0, y: 0, distance: 0 };
    }
    #createGrid() {
      this.maze = new Array(this.mazeWidth);
      for (let x = 0; x < this.mazeWidth; x++) {
        this.maze[x] = new Array(this.mazeHeight);
        for (let y = 0; y < this.mazeHeight; y++) {
          this.maze[x][y] = new Room();
        }
      }
      return this.maze;
    }
    /**
     * Gets a room from the grid at the given indices.
     * @param {number} x X-index of the room
     * @param {number} y Y-index of the room
     * @returns {Room} The room at the given indices
     */
    getRoom(x, y) {
      return this.maze[x][y];
    }
    /**
     * Gets the pattern at the given index from the list of patterns.
     * @param {number} index The index of the pattern to get.
     * @returns {Tile} The pattern at the given index.
     */
    getPattern(index) {
      return this.patterns[index];
    }
    enableDoors(x1, y1, x2, y2, direction2) {
      switch (direction2) {
        case "north":
          this.maze[x1][y1].doors.north = true;
          this.maze[x1][y1].targetRooms.north = { x: x2, y: y2 };
          this.maze[x2][y2].doors.south = true;
          this.maze[x2][y2].targetRooms.south = { x: x1, y: y1 };
          break;
        case "east":
          this.maze[x1][y1].doors.east = true;
          this.maze[x1][y1].targetRooms.east = { x: x2, y: y2 };
          this.maze[x2][y2].doors.west = true;
          this.maze[x2][y2].targetRooms.west = { x: x1, y: y1 };
          break;
        case "south":
          this.maze[x1][y1].doors.south = true;
          this.maze[x1][y1].targetRooms.south = { x: x2, y: y2 };
          this.maze[x2][y2].doors.north = true;
          this.maze[x2][y2].targetRooms.north = { x: x1, y: y1 };
          break;
        case "west":
          this.maze[x1][y1].doors.west = true;
          this.maze[x1][y1].targetRooms.west = { x: x2, y: y2 };
          this.maze[x2][y2].doors.east = true;
          this.maze[x2][y2].targetRooms.east = { x: x1, y: y1 };
          break;
      }
    }
    isValidCoordinates(x, y) {
      return x >= 0 && x < this.mazeWidth && y >= 0 && y < this.mazeHeight;
    }
    generate() {
      this.#generateMazeRecursively(0, 0);
      this.getRoom(this.farthestRoom.x, this.farthestRoom.y).isExit = true;
      this.getRoom(0, 0).isEntrance = true;
      console.log(`distance:${this.farthestRoom.distance}`);
    }
    /**
     * Generates a maze using the recursive backtracking algorithm.
     * @param {number} x Start X coordinate
     * @param {number} y Start Y coordinate
     * @param {string[]} visitedList The list of visited rooms, omit to start a new list.
     */
    #generateMazeRecursively(x, y, visitedList = [], distance3 = 0) {
      if (!visitedList) {
        visitedList = [];
      }
      visitedList.push(`${x},${y}`);
      const directions = [
        { dx: -1, dy: 0, direction: "north" },
        { dx: 1, dy: 0, direction: "south" },
        { dx: 0, dy: -1, direction: "west" },
        { dx: 0, dy: 1, direction: "east" }
      ];
      shuffleArray(directions);
      const currentRoom = this.getRoom(x, y);
      currentRoom.distanceFromEntrance = distance3;
      if (distance3 % 10 == 0) {
        currentRoom.isTreasure = true;
      }
      for (const dir of directions) {
        if (!dir)
          continue;
        const newX = x + dir.dx;
        const newY = y + dir.dy;
        if (this.isValidCoordinates(newX, newY) && !visitedList.includes(`${newX},${newY}`)) {
          this.enableDoors(x, y, newX, newY, dir.direction);
          if (distance3 > this.farthestRoom.distance) {
            this.farthestRoom.x = newX;
            this.farthestRoom.y = newY;
            this.farthestRoom.distance = distance3;
          }
          this.#generateMazeRecursively(newX, newY, visitedList, distance3 + 1);
        }
      }
    }
  };

  // js/dungeongen/tileset.ts
  var tileset_exports = {};
  __export(tileset_exports, {
    TileSet: () => TileSet
  });

  // js/dungeongen/tile.ts
  var tile_exports = {};
  __export(tile_exports, {
    Tile: () => Tile
  });
  var Tile = class {
    /**
     * name of the 3d object
     * @type {string}
     */
    name;
    /**
     * reference to the 3D object
     * @type {Object3D}
     */
    object;
    /**
     * Index in the tileset
     * @type {number}
     */
    index;
    constructor(name, object, index) {
      if (!object) {
        throw new Error("object is undefined");
      }
      if (!name || name.length == 0) {
        throw new Error("name should not be empty");
      }
      this.name = name;
      this.object = object;
      this.index = index;
    }
  };

  // js/dungeongen/tileset.ts
  var TileSet = class {
    /**
     * The set of tiles.
     * @type {Set<Tile>}
     */
    #tiles;
    #enemyObjects;
    #characterObjects;
    /**
     * Initializes a new instance of the TileSet class.
     * @param {Object3D[]} tileObjects The list of Wonderland objects that represent the tiles.
     */
    constructor(tileObjects, enemyObjects, characterObjects) {
      this.#enemyObjects = enemyObjects;
      this.#characterObjects = characterObjects;
      this.#tiles = /* @__PURE__ */ new Set();
      for (let i = 0; i < tileObjects.length; i++) {
        this.#tiles.add(
          new Tile(tileObjects[i].name, tileObjects[i], this.#tiles.size)
        );
      }
    }
    /**
     * Gets the tile at the given index.
     * @param {number} index The index of the tile to get.
     * @returns {Tile} The tile at the given index.
     */
    getTile(index) {
      return [...this.#tiles][index];
    }
    /**
     * Get a tile by its name.
     * @param {string} name
     * @returns {Tile|undefined} The tile with the given name.
     */
    getTileByName(name) {
      return [...this.#tiles].find((x) => x.name == name);
    }
    getCharacter(characterName) {
      return this.#characterObjects.find((x) => x.name === characterName);
    }
    resetAllCharacters() {
      for (let i = 0; i < this.#characterObjects.length; i++) {
        this.#characterObjects[i].resetPositionRotation();
      }
    }
    /**
     * Finds an object in the given list of objects with the given name.
     * @param {Object3D[]} objects list of objects to seach through
     * @param {string} name name of the object to find
     * @returns {Object3D|undefined} the object with the given name
     */
    #findObject(objects, name) {
      return objects.find((x) => x.name === name);
    }
  };

  // js/dungeongen/PatternSet.ts
  var PatternSet_exports = {};
  __export(PatternSet_exports, {
    PatternSet: () => PatternSet
  });

  // js/dungeongen/utils/extractor.ts
  var extractor_exports = {};
  __export(extractor_exports, {
    checkConstraints: () => checkConstraints,
    extractPatterns2D: () => extractPatterns2D,
    extractPatterns3D: () => extractPatterns3D,
    extractPatternsWrap: () => extractPatternsWrap,
    rotatePattern: () => rotatePattern
  });
  function rotatePattern(pattern, patternSize) {
    let rotatedPattern = [];
    for (let i = 0; i < patternSize; i++) {
      rotatedPattern.push([]);
      for (let j = patternSize - 1; j >= 0; j--) {
        rotatedPattern[i].push(pattern[j][i]);
      }
    }
    return rotatedPattern;
  }
  function extractPatterns2D(input, patternSize) {
    const width = input[0].length;
    const height = input.length;
    let patterns = /* @__PURE__ */ new Map();
    for (let y = 0; y <= height - patternSize; y++) {
      for (let x = 0; x <= width - patternSize; x++) {
        let basePattern = [];
        for (let i = 0; i < patternSize; i++) {
          let row = [];
          for (let j = 0; j < patternSize; j++) {
            row.push(input[y + i][x + j]);
          }
          basePattern.push(row);
        }
        let currentPattern = basePattern;
        let key = JSON.stringify(currentPattern);
        if (!patterns.has(key)) {
          patterns.set(key, { pattern: currentPattern, weight: 1 });
        } else {
          let value = patterns.get(key);
          value.weight += 1;
          patterns.set(key, value);
        }
      }
    }
    return Array.from(patterns.values());
  }
  function extractPatternsWrap(input, patternSize) {
    const width = input[0].length;
    const height = input.length;
    let patterns = /* @__PURE__ */ new Map();
    for (let y = 0; y < height; y++) {
      for (let x = 0; x < width; x++) {
        let basePattern = [];
        for (let i = 0; i < patternSize; i++) {
          let row = [];
          for (let j = 0; j < patternSize; j++) {
            row.push(input[(x + i) % height][(y + j) % width]);
          }
          basePattern.push(row);
        }
        let currentPattern = basePattern;
        let key = JSON.stringify(currentPattern);
        if (!patterns.has(key)) {
          patterns.set(key, { pattern: currentPattern, weight: 1 });
        } else {
          let value = patterns.get(key);
          value.weight += 1;
          patterns.set(key, value);
        }
      }
    }
    return Array.from(patterns.values());
  }
  function extractPatterns3D(input, patternSize) {
    const width = input[0][0].length;
    const height = input[0].length;
    const depth = input.length;
    let patterns = /* @__PURE__ */ new Map();
    for (let z = 0; z <= depth - patternSize; z++) {
      for (let y = 0; y <= height - patternSize; y++) {
        for (let x = 0; x <= width - patternSize; x++) {
          let pattern = [];
          for (let i = 0; i < patternSize; i++) {
            let layer = [];
            for (let j = 0; j < patternSize; j++) {
              let row = [];
              for (let k = 0; k < patternSize; k++) {
                row.push(input[z + i][y + j][x + k]);
              }
              layer.push(row);
            }
            pattern.push(layer);
          }
          let key = JSON.stringify(pattern);
          if (!patterns.has(key)) {
            patterns.set(key, { pattern, count: 1 });
          } else {
            let value = patterns.get(key);
            value.count += 1;
            patterns.set(key, value);
          }
        }
      }
    }
  }
  function checkConstraints(patternA, patternB) {
    const size2 = patternA.length;
    let topMatch = true;
    for (let i = 0; i < size2; i++) {
      if (patternA[i][0] !== patternB[i][size2 - 1]) {
        topMatch = false;
        break;
      }
    }
    let bottomMatch = true;
    for (let i = 0; i < size2; i++) {
      if (patternA[i][size2 - 1] !== patternB[i][0]) {
        bottomMatch = false;
        break;
      }
    }
    let leftMatch = true;
    for (let j = 0; j < size2; j++) {
      if (patternA[0][j] !== patternB[size2 - 1][j]) {
        leftMatch = false;
        break;
      }
    }
    let rightMatch = true;
    for (let j = 0; j < size2; j++) {
      if (patternA[size2 - 1][j] !== patternB[0][j]) {
        rightMatch = false;
        break;
      }
    }
    return { north: topMatch, south: bottomMatch, west: leftMatch, east: rightMatch };
  }

  // js/dungeongen/PatternSet.ts
  var PatternSet = class {
    #patterns = /* @__PURE__ */ new Map();
    constructor() {
      this.#patterns.set("N", [
        [6, 6, 1, 6, 6],
        [6, 1, 1, 1, 6],
        [6, 1, 1, 1, 6],
        [6, 1, 1, 1, 6],
        [6, 6, 6, 6, 6]
      ]);
      this.#patterns.set("E", rotatePattern(this.#patterns.get("N"), 5));
      this.#patterns.set("S", rotatePattern(this.#patterns.get("E"), 5));
      this.#patterns.set("W", rotatePattern(this.#patterns.get("S"), 5));
      this.#patterns.set("NE", [
        [6, 6, 1, 6, 6],
        [6, 1, 1, 1, 6],
        [6, 1, 1, 1, 1],
        [6, 1, 1, 1, 6],
        [6, 6, 6, 6, 6]
      ]);
      this.#patterns.set("ES", rotatePattern(this.#patterns.get("NE"), 5));
      this.#patterns.set("SW", rotatePattern(this.#patterns.get("ES"), 5));
      this.#patterns.set("NW", rotatePattern(this.#patterns.get("SW"), 5));
      this.#patterns.set("NS", [
        [6, 6, 1, 6, 6],
        [6, 1, 1, 1, 6],
        [6, 1, 1, 1, 6],
        [6, 1, 1, 1, 6],
        [6, 6, 1, 6, 6]
      ]);
      this.#patterns.set("EW", rotatePattern(this.#patterns.get("NS"), 5));
      this.#patterns.set("NES", [
        [6, 6, 1, 6, 6],
        [6, 1, 1, 1, 6],
        [6, 1, 1, 1, 1],
        [6, 1, 1, 1, 6],
        [6, 6, 1, 6, 6]
      ]);
      this.#patterns.set("ESW", rotatePattern(this.#patterns.get("NES"), 5));
      this.#patterns.set("NSW", rotatePattern(this.#patterns.get("ESW"), 5));
      this.#patterns.set("NEW", rotatePattern(this.#patterns.get("NSW"), 5));
      this.#patterns.set("NESW", [
        [6, 6, 1, 6, 6],
        [6, 1, 1, 1, 6],
        [1, 1, 1, 1, 1],
        [6, 1, 1, 1, 6],
        [6, 6, 1, 6, 6]
      ]);
    }
    /**
     * get the pattern for the given key
     * @param {string} key 
     * @returns {number[][]} the pattern for the given key
     */
    get(key) {
      if (this.#patterns.has(key)) {
        return this.#patterns.get(key);
      } else {
        throw new Error(`PatternSet: No pattern for key ${key}`);
      }
    }
  };

  // js/dungeongen/RoomRenderer.ts
  var RoomRenderer_exports = {};
  __export(RoomRenderer_exports, {
    RoomRenderer: () => RoomRenderer
  });

  // js/dungeongen/RoomCreator.ts
  var RoomCreator_exports = {};
  __export(RoomCreator_exports, {
    RoomCreator: () => RoomCreator
  });

  // js/dungeongen/roomItemCreator.ts
  var roomItemCreator_exports = {};
  __export(roomItemCreator_exports, {
    RoomItemCreator: () => RoomItemCreator
  });

  // js/dungeongen/objects/behaviorBase.ts
  var BehaviorBase = class {
    _behaviorHandlers = {};
    _behaviors = [];
    addBehaviorHandler(handlerName, handler) {
      if (!this._behaviorHandlers[handlerName]) {
        this._behaviorHandlers[handlerName] = [];
      }
      this._behaviorHandlers[handlerName].push(handler);
    }
    executeBehavior(handlerName, ret, ...args) {
      if (this._behaviorHandlers && this._behaviorHandlers[handlerName]) {
        this._behaviorHandlers[handlerName].forEach((handler) => {
          args = [ret, ...args];
          ret = handler.apply(this, args);
        });
      }
      return ret;
    }
    wrapFunction(handlerName) {
      if (!this._behaviorHandlers || !this._behaviorHandlers[handlerName]) {
        const originalFunction = this[handlerName];
        this[handlerName] = (...args) => {
          const ret = originalFunction.apply(this, args);
          return this.executeBehavior(handlerName, ret, ...args);
        };
      }
    }
    addBehavior(template) {
      const behaviorClone = { ...template };
      const name = behaviorClone.name;
      delete behaviorClone.name;
      behaviorClone.initialize.apply(this);
      delete behaviorClone.initialize;
      Object.keys(behaviorClone).forEach((key) => {
        this.wrapFunction(key);
        this.addBehaviorHandler(key, behaviorClone[key]);
      });
      this._behaviors.push(name);
      return this;
    }
  };

  // js/dungeongen/objects/GenericItem.ts
  var GenericItem = class extends BehaviorBase {
    id;
    name;
    active;
    type;
    description;
    rarity;
    position = { x: 0, y: 0 };
    texture;
    constructor(texture = null, rarity = "common", position = { x: 0, y: 0 }) {
      super();
      this.id = +/* @__PURE__ */ new Date();
      if (texture) {
        this.texture = texture;
      }
      this.active = false;
      this.type = "item";
      this.name = "Nameless Item";
      this.description = "it is nothing special";
      this.rarity = rarity;
      this.position = position;
    }
    damage(hit) {
      return hit;
    }
    protection() {
      return 0;
    }
    range() {
      return 0;
    }
    interact(obj, x, y, z) {
    }
    attack() {
    }
    turn() {
    }
    equip() {
    }
    unequip() {
    }
    refresh() {
    }
    over() {
      return true;
    }
    createUI() {
      return 0;
    }
  };

  // node_modules/tslib/tslib.es6.mjs
  var extendStatics2 = function(d, b) {
    extendStatics2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
      d2.__proto__ = b2;
    } || function(d2, b2) {
      for (var p in b2)
        if (Object.prototype.hasOwnProperty.call(b2, p))
          d2[p] = b2[p];
    };
    return extendStatics2(d, b);
  };
  function __extends2(d, b) {
    if (typeof b !== "function" && b !== null)
      throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics2(d, b);
    function __() {
      this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  }
  function __values2(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m)
      return m.call(o);
    if (o && typeof o.length === "number")
      return {
        next: function() {
          if (o && i >= o.length)
            o = void 0;
          return { value: o && o[i++], done: !o };
        }
      };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
  }
  function __read2(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m)
      return o;
    var i = m.call(o), r, ar = [], e;
    try {
      while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
        ar.push(r.value);
    } catch (error) {
      e = { error };
    } finally {
      try {
        if (r && !r.done && (m = i["return"]))
          m.call(i);
      } finally {
        if (e)
          throw e.error;
      }
    }
    return ar;
  }
  function __spreadArray(to, from, pack) {
    if (pack || arguments.length === 2)
      for (var i = 0, l2 = from.length, ar; i < l2; i++) {
        if (ar || !(i in from)) {
          if (!ar)
            ar = Array.prototype.slice.call(from, 0, i);
          ar[i] = from[i];
        }
      }
    return to.concat(ar || Array.prototype.slice.call(from));
  }

  // node_modules/rxjs/dist/esm5/internal/util/isFunction.js
  function isFunction(value) {
    return typeof value === "function";
  }

  // node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js
  function createErrorClass(createImpl) {
    var _super = function(instance2) {
      Error.call(instance2);
      instance2.stack = new Error().stack;
    };
    var ctorFunc = createImpl(_super);
    ctorFunc.prototype = Object.create(Error.prototype);
    ctorFunc.prototype.constructor = ctorFunc;
    return ctorFunc;
  }

  // node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js
  var UnsubscriptionError = createErrorClass(function(_super) {
    return function UnsubscriptionErrorImpl(errors) {
      _super(this);
      this.message = errors ? errors.length + " errors occurred during unsubscription:\n" + errors.map(function(err, i) {
        return i + 1 + ") " + err.toString();
      }).join("\n  ") : "";
      this.name = "UnsubscriptionError";
      this.errors = errors;
    };
  });

  // node_modules/rxjs/dist/esm5/internal/util/arrRemove.js
  function arrRemove(arr, item) {
    if (arr) {
      var index = arr.indexOf(item);
      0 <= index && arr.splice(index, 1);
    }
  }

  // node_modules/rxjs/dist/esm5/internal/Subscription.js
  var Subscription = function() {
    function Subscription2(initialTeardown) {
      this.initialTeardown = initialTeardown;
      this.closed = false;
      this._parentage = null;
      this._finalizers = null;
    }
    Subscription2.prototype.unsubscribe = function() {
      var e_1, _a, e_2, _b;
      var errors;
      if (!this.closed) {
        this.closed = true;
        var _parentage = this._parentage;
        if (_parentage) {
          this._parentage = null;
          if (Array.isArray(_parentage)) {
            try {
              for (var _parentage_1 = __values2(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {
                var parent_1 = _parentage_1_1.value;
                parent_1.remove(this);
              }
            } catch (e_1_1) {
              e_1 = { error: e_1_1 };
            } finally {
              try {
                if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return))
                  _a.call(_parentage_1);
              } finally {
                if (e_1)
                  throw e_1.error;
              }
            }
          } else {
            _parentage.remove(this);
          }
        }
        var initialFinalizer = this.initialTeardown;
        if (isFunction(initialFinalizer)) {
          try {
            initialFinalizer();
          } catch (e) {
            errors = e instanceof UnsubscriptionError ? e.errors : [e];
          }
        }
        var _finalizers = this._finalizers;
        if (_finalizers) {
          this._finalizers = null;
          try {
            for (var _finalizers_1 = __values2(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {
              var finalizer = _finalizers_1_1.value;
              try {
                execFinalizer(finalizer);
              } catch (err) {
                errors = errors !== null && errors !== void 0 ? errors : [];
                if (err instanceof UnsubscriptionError) {
                  errors = __spreadArray(__spreadArray([], __read2(errors)), __read2(err.errors));
                } else {
                  errors.push(err);
                }
              }
            }
          } catch (e_2_1) {
            e_2 = { error: e_2_1 };
          } finally {
            try {
              if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return))
                _b.call(_finalizers_1);
            } finally {
              if (e_2)
                throw e_2.error;
            }
          }
        }
        if (errors) {
          throw new UnsubscriptionError(errors);
        }
      }
    };
    Subscription2.prototype.add = function(teardown) {
      var _a;
      if (teardown && teardown !== this) {
        if (this.closed) {
          execFinalizer(teardown);
        } else {
          if (teardown instanceof Subscription2) {
            if (teardown.closed || teardown._hasParent(this)) {
              return;
            }
            teardown._addParent(this);
          }
          (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);
        }
      }
    };
    Subscription2.prototype._hasParent = function(parent) {
      var _parentage = this._parentage;
      return _parentage === parent || Array.isArray(_parentage) && _parentage.includes(parent);
    };
    Subscription2.prototype._addParent = function(parent) {
      var _parentage = this._parentage;
      this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;
    };
    Subscription2.prototype._removeParent = function(parent) {
      var _parentage = this._parentage;
      if (_parentage === parent) {
        this._parentage = null;
      } else if (Array.isArray(_parentage)) {
        arrRemove(_parentage, parent);
      }
    };
    Subscription2.prototype.remove = function(teardown) {
      var _finalizers = this._finalizers;
      _finalizers && arrRemove(_finalizers, teardown);
      if (teardown instanceof Subscription2) {
        teardown._removeParent(this);
      }
    };
    Subscription2.EMPTY = function() {
      var empty = new Subscription2();
      empty.closed = true;
      return empty;
    }();
    return Subscription2;
  }();
  var EMPTY_SUBSCRIPTION = Subscription.EMPTY;
  function isSubscription(value) {
    return value instanceof Subscription || value && "closed" in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe);
  }
  function execFinalizer(finalizer) {
    if (isFunction(finalizer)) {
      finalizer();
    } else {
      finalizer.unsubscribe();
    }
  }

  // node_modules/rxjs/dist/esm5/internal/config.js
  var config = {
    onUnhandledError: null,
    onStoppedNotification: null,
    Promise: void 0,
    useDeprecatedSynchronousErrorHandling: false,
    useDeprecatedNextContext: false
  };

  // node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js
  var timeoutProvider = {
    setTimeout: function(handler, timeout) {
      var args = [];
      for (var _i = 2; _i < arguments.length; _i++) {
        args[_i - 2] = arguments[_i];
      }
      var delegate = timeoutProvider.delegate;
      if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {
        return delegate.setTimeout.apply(delegate, __spreadArray([handler, timeout], __read2(args)));
      }
      return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read2(args)));
    },
    clearTimeout: function(handle) {
      var delegate = timeoutProvider.delegate;
      return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);
    },
    delegate: void 0
  };

  // node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js
  function reportUnhandledError(err) {
    timeoutProvider.setTimeout(function() {
      var onUnhandledError = config.onUnhandledError;
      if (onUnhandledError) {
        onUnhandledError(err);
      } else {
        throw err;
      }
    });
  }

  // node_modules/rxjs/dist/esm5/internal/util/noop.js
  function noop() {
  }

  // node_modules/rxjs/dist/esm5/internal/NotificationFactories.js
  var COMPLETE_NOTIFICATION = function() {
    return createNotification("C", void 0, void 0);
  }();
  function errorNotification(error) {
    return createNotification("E", void 0, error);
  }
  function nextNotification(value) {
    return createNotification("N", value, void 0);
  }
  function createNotification(kind, value, error) {
    return {
      kind,
      value,
      error
    };
  }

  // node_modules/rxjs/dist/esm5/internal/util/errorContext.js
  var context = null;
  function errorContext(cb) {
    if (config.useDeprecatedSynchronousErrorHandling) {
      var isRoot = !context;
      if (isRoot) {
        context = { errorThrown: false, error: null };
      }
      cb();
      if (isRoot) {
        var _a = context, errorThrown = _a.errorThrown, error = _a.error;
        context = null;
        if (errorThrown) {
          throw error;
        }
      }
    } else {
      cb();
    }
  }
  function captureError(err) {
    if (config.useDeprecatedSynchronousErrorHandling && context) {
      context.errorThrown = true;
      context.error = err;
    }
  }

  // node_modules/rxjs/dist/esm5/internal/Subscriber.js
  var Subscriber = function(_super) {
    __extends2(Subscriber2, _super);
    function Subscriber2(destination) {
      var _this = _super.call(this) || this;
      _this.isStopped = false;
      if (destination) {
        _this.destination = destination;
        if (isSubscription(destination)) {
          destination.add(_this);
        }
      } else {
        _this.destination = EMPTY_OBSERVER;
      }
      return _this;
    }
    Subscriber2.create = function(next, error, complete) {
      return new SafeSubscriber(next, error, complete);
    };
    Subscriber2.prototype.next = function(value) {
      if (this.isStopped) {
        handleStoppedNotification(nextNotification(value), this);
      } else {
        this._next(value);
      }
    };
    Subscriber2.prototype.error = function(err) {
      if (this.isStopped) {
        handleStoppedNotification(errorNotification(err), this);
      } else {
        this.isStopped = true;
        this._error(err);
      }
    };
    Subscriber2.prototype.complete = function() {
      if (this.isStopped) {
        handleStoppedNotification(COMPLETE_NOTIFICATION, this);
      } else {
        this.isStopped = true;
        this._complete();
      }
    };
    Subscriber2.prototype.unsubscribe = function() {
      if (!this.closed) {
        this.isStopped = true;
        _super.prototype.unsubscribe.call(this);
        this.destination = null;
      }
    };
    Subscriber2.prototype._next = function(value) {
      this.destination.next(value);
    };
    Subscriber2.prototype._error = function(err) {
      try {
        this.destination.error(err);
      } finally {
        this.unsubscribe();
      }
    };
    Subscriber2.prototype._complete = function() {
      try {
        this.destination.complete();
      } finally {
        this.unsubscribe();
      }
    };
    return Subscriber2;
  }(Subscription);
  var _bind = Function.prototype.bind;
  function bind(fn, thisArg) {
    return _bind.call(fn, thisArg);
  }
  var ConsumerObserver = function() {
    function ConsumerObserver2(partialObserver) {
      this.partialObserver = partialObserver;
    }
    ConsumerObserver2.prototype.next = function(value) {
      var partialObserver = this.partialObserver;
      if (partialObserver.next) {
        try {
          partialObserver.next(value);
        } catch (error) {
          handleUnhandledError(error);
        }
      }
    };
    ConsumerObserver2.prototype.error = function(err) {
      var partialObserver = this.partialObserver;
      if (partialObserver.error) {
        try {
          partialObserver.error(err);
        } catch (error) {
          handleUnhandledError(error);
        }
      } else {
        handleUnhandledError(err);
      }
    };
    ConsumerObserver2.prototype.complete = function() {
      var partialObserver = this.partialObserver;
      if (partialObserver.complete) {
        try {
          partialObserver.complete();
        } catch (error) {
          handleUnhandledError(error);
        }
      }
    };
    return ConsumerObserver2;
  }();
  var SafeSubscriber = function(_super) {
    __extends2(SafeSubscriber2, _super);
    function SafeSubscriber2(observerOrNext, error, complete) {
      var _this = _super.call(this) || this;
      var partialObserver;
      if (isFunction(observerOrNext) || !observerOrNext) {
        partialObserver = {
          next: observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : void 0,
          error: error !== null && error !== void 0 ? error : void 0,
          complete: complete !== null && complete !== void 0 ? complete : void 0
        };
      } else {
        var context_1;
        if (_this && config.useDeprecatedNextContext) {
          context_1 = Object.create(observerOrNext);
          context_1.unsubscribe = function() {
            return _this.unsubscribe();
          };
          partialObserver = {
            next: observerOrNext.next && bind(observerOrNext.next, context_1),
            error: observerOrNext.error && bind(observerOrNext.error, context_1),
            complete: observerOrNext.complete && bind(observerOrNext.complete, context_1)
          };
        } else {
          partialObserver = observerOrNext;
        }
      }
      _this.destination = new ConsumerObserver(partialObserver);
      return _this;
    }
    return SafeSubscriber2;
  }(Subscriber);
  function handleUnhandledError(error) {
    if (config.useDeprecatedSynchronousErrorHandling) {
      captureError(error);
    } else {
      reportUnhandledError(error);
    }
  }
  function defaultErrorHandler(err) {
    throw err;
  }
  function handleStoppedNotification(notification, subscriber) {
    var onStoppedNotification = config.onStoppedNotification;
    onStoppedNotification && timeoutProvider.setTimeout(function() {
      return onStoppedNotification(notification, subscriber);
    });
  }
  var EMPTY_OBSERVER = {
    closed: true,
    next: noop,
    error: defaultErrorHandler,
    complete: noop
  };

  // node_modules/rxjs/dist/esm5/internal/symbol/observable.js
  var observable = function() {
    return typeof Symbol === "function" && Symbol.observable || "@@observable";
  }();

  // node_modules/rxjs/dist/esm5/internal/util/identity.js
  function identity4(x) {
    return x;
  }

  // node_modules/rxjs/dist/esm5/internal/util/pipe.js
  function pipeFromArray(fns) {
    if (fns.length === 0) {
      return identity4;
    }
    if (fns.length === 1) {
      return fns[0];
    }
    return function piped(input) {
      return fns.reduce(function(prev, fn) {
        return fn(prev);
      }, input);
    };
  }

  // node_modules/rxjs/dist/esm5/internal/Observable.js
  var Observable = function() {
    function Observable2(subscribe) {
      if (subscribe) {
        this._subscribe = subscribe;
      }
    }
    Observable2.prototype.lift = function(operator) {
      var observable2 = new Observable2();
      observable2.source = this;
      observable2.operator = operator;
      return observable2;
    };
    Observable2.prototype.subscribe = function(observerOrNext, error, complete) {
      var _this = this;
      var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);
      errorContext(function() {
        var _a = _this, operator = _a.operator, source = _a.source;
        subscriber.add(operator ? operator.call(subscriber, source) : source ? _this._subscribe(subscriber) : _this._trySubscribe(subscriber));
      });
      return subscriber;
    };
    Observable2.prototype._trySubscribe = function(sink) {
      try {
        return this._subscribe(sink);
      } catch (err) {
        sink.error(err);
      }
    };
    Observable2.prototype.forEach = function(next, promiseCtor) {
      var _this = this;
      promiseCtor = getPromiseCtor(promiseCtor);
      return new promiseCtor(function(resolve, reject) {
        var subscriber = new SafeSubscriber({
          next: function(value) {
            try {
              next(value);
            } catch (err) {
              reject(err);
              subscriber.unsubscribe();
            }
          },
          error: reject,
          complete: resolve
        });
        _this.subscribe(subscriber);
      });
    };
    Observable2.prototype._subscribe = function(subscriber) {
      var _a;
      return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);
    };
    Observable2.prototype[observable] = function() {
      return this;
    };
    Observable2.prototype.pipe = function() {
      var operations = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        operations[_i] = arguments[_i];
      }
      return pipeFromArray(operations)(this);
    };
    Observable2.prototype.toPromise = function(promiseCtor) {
      var _this = this;
      promiseCtor = getPromiseCtor(promiseCtor);
      return new promiseCtor(function(resolve, reject) {
        var value;
        _this.subscribe(function(x) {
          return value = x;
        }, function(err) {
          return reject(err);
        }, function() {
          return resolve(value);
        });
      });
    };
    Observable2.create = function(subscribe) {
      return new Observable2(subscribe);
    };
    return Observable2;
  }();
  function getPromiseCtor(promiseCtor) {
    var _a;
    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;
  }
  function isObserver(value) {
    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);
  }
  function isSubscriber(value) {
    return value && value instanceof Subscriber || isObserver(value) && isSubscription(value);
  }

  // node_modules/rxjs/dist/esm5/internal/util/ObjectUnsubscribedError.js
  var ObjectUnsubscribedError = createErrorClass(function(_super) {
    return function ObjectUnsubscribedErrorImpl() {
      _super(this);
      this.name = "ObjectUnsubscribedError";
      this.message = "object unsubscribed";
    };
  });

  // node_modules/rxjs/dist/esm5/internal/Subject.js
  var Subject = function(_super) {
    __extends2(Subject2, _super);
    function Subject2() {
      var _this = _super.call(this) || this;
      _this.closed = false;
      _this.currentObservers = null;
      _this.observers = [];
      _this.isStopped = false;
      _this.hasError = false;
      _this.thrownError = null;
      return _this;
    }
    Subject2.prototype.lift = function(operator) {
      var subject = new AnonymousSubject(this, this);
      subject.operator = operator;
      return subject;
    };
    Subject2.prototype._throwIfClosed = function() {
      if (this.closed) {
        throw new ObjectUnsubscribedError();
      }
    };
    Subject2.prototype.next = function(value) {
      var _this = this;
      errorContext(function() {
        var e_1, _a;
        _this._throwIfClosed();
        if (!_this.isStopped) {
          if (!_this.currentObservers) {
            _this.currentObservers = Array.from(_this.observers);
          }
          try {
            for (var _b = __values2(_this.currentObservers), _c = _b.next(); !_c.done; _c = _b.next()) {
              var observer = _c.value;
              observer.next(value);
            }
          } catch (e_1_1) {
            e_1 = { error: e_1_1 };
          } finally {
            try {
              if (_c && !_c.done && (_a = _b.return))
                _a.call(_b);
            } finally {
              if (e_1)
                throw e_1.error;
            }
          }
        }
      });
    };
    Subject2.prototype.error = function(err) {
      var _this = this;
      errorContext(function() {
        _this._throwIfClosed();
        if (!_this.isStopped) {
          _this.hasError = _this.isStopped = true;
          _this.thrownError = err;
          var observers = _this.observers;
          while (observers.length) {
            observers.shift().error(err);
          }
        }
      });
    };
    Subject2.prototype.complete = function() {
      var _this = this;
      errorContext(function() {
        _this._throwIfClosed();
        if (!_this.isStopped) {
          _this.isStopped = true;
          var observers = _this.observers;
          while (observers.length) {
            observers.shift().complete();
          }
        }
      });
    };
    Subject2.prototype.unsubscribe = function() {
      this.isStopped = this.closed = true;
      this.observers = this.currentObservers = null;
    };
    Object.defineProperty(Subject2.prototype, "observed", {
      get: function() {
        var _a;
        return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;
      },
      enumerable: false,
      configurable: true
    });
    Subject2.prototype._trySubscribe = function(subscriber) {
      this._throwIfClosed();
      return _super.prototype._trySubscribe.call(this, subscriber);
    };
    Subject2.prototype._subscribe = function(subscriber) {
      this._throwIfClosed();
      this._checkFinalizedStatuses(subscriber);
      return this._innerSubscribe(subscriber);
    };
    Subject2.prototype._innerSubscribe = function(subscriber) {
      var _this = this;
      var _a = this, hasError = _a.hasError, isStopped = _a.isStopped, observers = _a.observers;
      if (hasError || isStopped) {
        return EMPTY_SUBSCRIPTION;
      }
      this.currentObservers = null;
      observers.push(subscriber);
      return new Subscription(function() {
        _this.currentObservers = null;
        arrRemove(observers, subscriber);
      });
    };
    Subject2.prototype._checkFinalizedStatuses = function(subscriber) {
      var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, isStopped = _a.isStopped;
      if (hasError) {
        subscriber.error(thrownError);
      } else if (isStopped) {
        subscriber.complete();
      }
    };
    Subject2.prototype.asObservable = function() {
      var observable2 = new Observable();
      observable2.source = this;
      return observable2;
    };
    Subject2.create = function(destination, source) {
      return new AnonymousSubject(destination, source);
    };
    return Subject2;
  }(Observable);
  var AnonymousSubject = function(_super) {
    __extends2(AnonymousSubject2, _super);
    function AnonymousSubject2(destination, source) {
      var _this = _super.call(this) || this;
      _this.destination = destination;
      _this.source = source;
      return _this;
    }
    AnonymousSubject2.prototype.next = function(value) {
      var _a, _b;
      (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);
    };
    AnonymousSubject2.prototype.error = function(err) {
      var _a, _b;
      (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);
    };
    AnonymousSubject2.prototype.complete = function() {
      var _a, _b;
      (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);
    };
    AnonymousSubject2.prototype._subscribe = function(subscriber) {
      var _a, _b;
      return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;
    };
    return AnonymousSubject2;
  }(Subject);

  // js/classes/levelState.ts
  var LevelState = class {
    // constructor() {
    // }
    // #level = 0;
    // initLevelState(level) {
    //     this.#level = level;
    //     console.log('initLevelState');
    //     //this.currentLevelData = clone(LevelData[level]);
    //    // GameGlobals.particlePool.reset();
    // }
  };

  // js/ui/classes/InternalUIManager.ts
  var InternalUIManager = class {
    uiManager;
    registerComponent(uiManager) {
      this.uiManager = uiManager;
    }
    isUiOpen() {
      if (this.uiManager) {
        return this.uiManager.isUiOpen();
      } else {
        return false;
      }
    }
    open(name, position) {
      if (!this.uiManager) {
        throw new Error("No ui manager registered");
      }
      return this.uiManager.open(name, position);
    }
    closeAll() {
      if (this.uiManager) {
        this.uiManager.closeAll();
      }
    }
  };
  InternalUIManager = __decorateClass([
    singleton_default()
  ], InternalUIManager);

  // js/classes/gameState.ts
  var State = {
    Init: -1,
    Title: 0,
    Pause: 1,
    Playing: 2,
    End: 3,
    Complete: 4
  };
  var GameState = class {
    constructor(uiManager) {
      this.uiManager = uiManager;
      this.playerPositionSubject = new Subject();
      this.playerRotationSubject = new Subject();
      this.isInVRSubject = new Subject();
      this.levelSubject = new Subject();
      this.availableTargetsSubject = new Subject();
      this.levelState = new LevelState();
      this.currentRoomSubject = new Subject();
      this.currentRoomSubject.subscribe((room) => {
        console.log("currentRoomSubject", room);
      });
      this.stateSubject = new Subject();
      console.log("new Game State created");
    }
    room = null;
    levelState;
    stateSubject;
    _state = State.Init;
    set state(value) {
      this._state = value;
      this.stateSubject.next(value);
    }
    get state() {
      return this._state;
    }
    availableTargetsSubject;
    _availableTargets = 0;
    set availableTargets(value) {
      this._availableTargets = value;
      this.availableTargetsSubject.next(value);
    }
    get availableTargets() {
      return this._availableTargets;
    }
    levelSubject;
    _level = 0;
    set level(value) {
      this._level = value;
      this.levelSubject.next(value);
    }
    get level() {
      return this._level;
    }
    playerPositionSubject;
    _playerPosition = [0, 0, 0];
    set playerPosition(value) {
      this._previousPlayerPosition = this._playerPosition;
      this._playerPosition = value;
      this.playerPositionSubject.next(value);
    }
    get playerPosition() {
      return this._playerPosition;
    }
    _previousPlayerPosition = [0, 0, 0];
    get previousPlayerPosition() {
      return this._previousPlayerPosition;
    }
    playerRotationSubject;
    _playerRotation = 0;
    set playerRotation(value) {
      this._previousPlayerRotation = this._playerRotation;
      this._playerRotation = value;
      this.playerRotationSubject.next(value);
    }
    get playerRotation() {
      return this._playerRotation;
    }
    _previousPlayerRotation = 0;
    get previousPlayerRotation() {
      return this._previousPlayerRotation;
    }
    isInVRSubject;
    _isInVR = false;
    set isInVR(value) {
      this._isInVR = value;
      this.isInVRSubject.next(value);
    }
    get isInVR() {
      return this._isInVR;
    }
    currentRoomSubject;
    _currentRoom = [0, 0];
    set currentRoom(value) {
      this._currentRoom = value;
      this.currentRoomSubject.next(value);
    }
    get currentRoom() {
      return this._currentRoom;
    }
    offTarget() {
    }
    /**
     * Whether or not the player is currently navigating to a room
     */
    navigating = false;
    /**
     * The direction the player entered the room from
     */
    roomPreviousExitDirection = null;
    /**
     * Navigate to a room
     * @param {number} roomx the x position on the map of the room to navigate to
     * @param {number} roomy the y position on the map of the room to navigate to
     * @param {DirectionSymbol|null} direction the direction the player exited the room from, if null the player will be teleported to the center of the room (this should only happen at the start)
     */
    navigateToRoom(roomx, roomy, direction2 = null) {
      if (this.navigating) {
        return;
      }
      this.navigating = true;
      this.uiManager.closeAll();
      if (direction2) {
        this.roomPreviousExitDirection = direction2;
      } else {
        this.playerPosition = [3, 0, 7];
        this.playerRotation = 270;
      }
      this.currentRoom = [roomx, roomy];
      this.navigating = false;
    }
    /**
     * Is it possible to teleport to the given position?
     * @param x
     * @param y
     * @param z
     * @returns true if it is possible to teleport to the given position
     */
    canPick(x, y, z) {
      if (!this.room) {
        return false;
      }
      const template = this.room.getRoomTemplate();
      if (!template) {
        console.error(`no template found for current room. Odd... We're in it.`);
        return false;
      }
      const char = findCharInStringArrayByPos(template.pattern, Math.floor(x), Math.floor(z));
      if (!char) {
        console.warn(`no char found at position ${x},${z} in template ${template.name}`);
        return false;
      }
      const definition = RoomTemplatePatternDefinitions[char];
      if (definition.behavior === "Door") {
        return char === "N" && this.room.doors.north || char === "E" && this.room.doors.east || char === "S" && this.room.doors.south || char === "W" && this.room.doors.west;
      } else {
        return definition.canTeleportToTile || definition.canInteractWithTile;
      }
    }
    pick(obj, x, y, z) {
      if (!this.room) {
        return false;
      }
      const template = this.room.getRoomTemplate();
      if (!template) {
        console.error(`no template found for current room. Odd... We're in it.`);
        return false;
      }
      const char = findCharInStringArrayByPos(template.pattern, Math.floor(x), Math.floor(z));
      if (!char) {
        console.warn(`no char found at position ${x},${z} in template ${template.name}`);
        return;
      }
      const items = this.room.getItemsAtPosition({ x: Math.floor(x), y: Math.floor(z) });
      if (!items || items.length === 0) {
        if (RoomTemplatePatternDefinitions[char].canTeleportToTile) {
          this.uiManager.closeAll();
          this.setPlayerPosition(x, z);
        }
        ;
        return;
      }
      for (let i = 0; i < items.length; i++) {
        const item = items[i];
        item.interact(obj, x, y, z);
      }
      return;
    }
    setCurrentRoom(currentRoom) {
      this.room = currentRoom;
    }
    setPlayerPosition(x, y) {
      this.playerPosition = [x, this.playerPosition[1], y];
    }
  };
  GameState = __decorateClass([
    singleton_default(),
    __decorateParam(0, inject_default(InternalUIManager))
  ], GameState);

  // js/dungeongen/objects/door.ts
  var Door = class extends GenericItem {
    direction;
    targetRoom;
    constructor(direction2, targetRoom, currentPosition) {
      super();
      super.name = "Door";
      super.type = "item";
      this.direction = direction2;
      this.targetRoom = targetRoom;
      this.position = currentPosition;
    }
    interact(obj, x, y, z) {
      const gameState = instance.resolve(GameState);
      gameState.navigateToRoom(this.targetRoom.x, this.targetRoom.y, this.direction);
    }
  };

  // js/dungeongen/ChestCreator.ts
  var ChestCreator_exports = {};
  __export(ChestCreator_exports, {
    ChestCreator: () => ChestCreator
  });

  // js/classes/items/shield.ts
  var Shield = class extends GenericItem {
    baseBlockChance = 0.1;
    damageReduction = 1;
    constructor() {
      super();
      super.name = "Shield";
      super.type = "shield";
    }
    isBlocked() {
      return Math.random() <= this.baseBlockChance / 100;
    }
    applyDamageReduction(damage) {
      return Math.max(0, damage - this.damageReduction);
    }
    damage(hit) {
      return this.applyDamageReduction(hit);
    }
  };

  // js/classes/items/sword.ts
  var Sword = class extends GenericItem {
    baseMinDamage = 1;
    baseMaxDamage = 3;
    criticalHitChance = 0.05;
    // 5%
    criticalDamageMultiplier = 2;
    constructor() {
      const engine = instance.resolve(WonderlandEngine);
      const cs = new Image();
      cs.src = `/Weapons/Iron/iron-weapons_00.png`;
      const t = new Texture(engine, cs);
      super(t);
      super.name = "Sword";
      super.type = "weapon";
    }
    isCriticalHit() {
      return Math.random() <= this.criticalHitChance / 100;
    }
    calculateRawBaseDamage() {
      return Math.floor(Math.random() * (this.baseMaxDamage - this.baseMinDamage + 1)) + this.baseMinDamage;
    }
    attack() {
      const rawBaseDmg = this.calculateRawBaseDamage();
      if (this.isCriticalHit()) {
        return rawBaseDmg * this.criticalDamageMultiplier;
      } else {
        return rawBaseDmg;
      }
    }
  };

  // js/dungeongen/loot/lootTableBase.ts
  var LootTable = class {
    lootEntries;
    constructor() {
      this.lootEntries = /* @__PURE__ */ new Map([
        ["entry", [
          { item: new Sword(), weight: 1 },
          { item: new Shield(), weight: 1 }
        ]],
        ["rare", [
          { item: new Sword(), weight: 1 },
          { item: new Sword(), weight: 1 }
        ]]
      ]);
    }
    getItems(type) {
      return this.lootEntries.get(type).map((e) => e.item);
    }
  };
  LootTable = __decorateClass([
    injectable_default()
  ], LootTable);

  // js/dungeongen/objects/chest.ts
  var Chest = class extends GenericItem {
    chestType;
    chestValue;
    maxItems;
    items;
    hasBeenOpened;
    constructor(chestType, chestValue, maxItems, lootTable) {
      super();
      this.chestType = chestType;
      this.chestValue = chestValue;
      this.maxItems = maxItems;
      this.lootTable = lootTable;
      this.hasBeenOpened = false;
    }
    interact(obj, x, y, z) {
      if (!this.hasBeenOpened || this.items == null) {
        this.hasBeenOpened = true;
        this.initializeChest();
      }
      this.items = this.lootTable.getItems("entry");
      console.log(this.items);
    }
    initializeChest() {
    }
  };

  // js/dungeongen/ChestCreator.ts
  var ChestCreator = class {
    constructor(lootTable) {
      this.lootTable = lootTable;
    }
    createChest(position, chestDefinition3) {
      const lt = this.lootTable.lootEntries.get(chestDefinition3.loottable ?? "common");
      ;
      const chestItem = new Chest(
        chestDefinition3.size,
        chestDefinition3.material,
        4,
        this.lootTable
      );
      chestItem.position = position;
      chestItem.name = "Chest";
      return chestItem;
    }
  };
  ChestCreator = __decorateClass([
    singleton_default(),
    __decorateParam(0, inject_default(LootTable))
  ], ChestCreator);

  // js/ui/components/ui-inventory.ts
  var ui_inventory_exports = {};
  __export(ui_inventory_exports, {
    UiInventory: () => UiInventory
  });

  // js/ui/components/ui-component.ts
  var ui_component_exports = {};
  __export(ui_component_exports, {
    UiComponent: () => UiComponent
  });

  // js/forFramework/throwError.ts
  function throwError(message) {
    throw new Error(message);
  }

  // js/ui/components/ui-component.ts
  var UiComponent = class extends Component {
    titleObject;
    titleText;
    start() {
      if (!this.titleObject) {
        throw new Error("No title object set on ui component");
      }
      this.titleText = this.titleObject.getComponent(TextComponent) ?? throwError("No text component found on title object");
    }
  };
  __decorateClass([
    property.object()
  ], UiComponent.prototype, "titleObject", 2);

  // js/ui/components/ui-inventory.ts
  var UiInventory = class extends UiComponent {
    slot1Object;
    setInventory(chestType) {
      this.titleText.text = chestType;
    }
  };
  __publicField(UiInventory, "TypeName", "ui-inventory");
  __decorateClass([
    property.object()
  ], UiInventory.prototype, "slot1Object", 2);

  // js/dungeongen/objects/behaviors/showInventory.ts
  var showInventory = {
    name: "Show Inventory",
    initialize: function() {
    },
    interact: function(ret, obj, x, y, z) {
      const internalUIManager = instance.resolve(InternalUIManager);
      const uiObject = internalUIManager.open("Inventory", [x, y, z]);
      const uiInventory = uiObject.getComponent(UiInventory);
      if (!uiInventory) {
        throw new Error("No UiInventory component found on Inventory UI object");
      }
      uiInventory.setInventory(`${this.chestType} ${this.chestValue} Chest`);
    }
  };

  // js/dungeongen/roomItemCreator.ts
  var RoomItemCreator = class {
    constructor(chestCreator) {
      this.chestCreator = chestCreator;
    }
    createItems(template, room) {
      let items = [];
      const currentRng = rng.clone().setSeed(room.seed);
      for (let y = 0; y < template.pattern.length; y++) {
        for (let x = 0; x < template.pattern[y].length; x++) {
          if (RoomTemplatePatternDefinitions[template.pattern[y][x]]?.behavior) {
            switch (template.pattern[y][x]) {
              case "N":
              case "S":
              case "E":
              case "W":
                let direction2 = template.pattern[y][x];
                let target = room.getTargetRoom(direction2);
                if (target) {
                  const newLocal = new Door(direction2, target, { x, y });
                  items.push(newLocal);
                }
                break;
              case "!":
                if (!template.chests) {
                  console.error("No chest definition found for room template, but a chest was found in the pattern");
                  break;
                }
                let chest = currentRng.getItem(template.chests);
                let chestItem = this.chestCreator.createChest({ x, y }, chest);
                chestItem.addBehavior(showInventory);
                items.push(chestItem);
                break;
            }
          }
        }
      }
      return items;
    }
  };
  RoomItemCreator = __decorateClass([
    singleton_default(),
    __decorateParam(0, inject_default(ChestCreator))
  ], RoomItemCreator);

  // js/dungeongen/RoomCreator.ts
  var RoomCreator = class {
    constructor(roomItemCreator) {
      this.roomItemCreator = roomItemCreator;
    }
    setUpRoom(room, template) {
      room.initialize(template);
      room.items = this.roomItemCreator.createItems(template, room);
      return true;
    }
  };
  RoomCreator = __decorateClass([
    singleton_default(),
    __decorateParam(0, inject_default(RoomItemCreator))
  ], RoomCreator);

  // js/dungeongen/RoomRenderer.ts
  var RoomRenderer = class {
    /**
     * A reference to the Wonderland Engine
     * @type {WonderlandEngine}
     */
    #engine;
    /**
     * A reference to the parent of all objects in the room.
     * Generated objects will be a child of this object.
     * @type {Object3D}
     */
    #parent;
    /**
     * A reference to the tileset
     * @type {TileSet}
     */
    #tileset;
    /**
     * A reference to the lights objects that can be used in the room
     * @type {Object3D[]}
     */
    #lights;
    /**
     * A reference to the block cache
     * @type {ObjectCache}
     */
    #blockCache;
    roomCreator;
    /**
     * Instantiates a new RoomRenderer
     * @param {WonderlandEngine} engine
     * @param {Object3D} parent
     * @param {Object3D[]} lights
     * @param {TileSet} tileset
     * @param {ObjectCache} blockCache
     */
    constructor(engine, parent, tileset, lights, blockCache) {
      this.roomCreator = instance.resolve(RoomCreator), this.#engine = engine;
      this.#parent = parent;
      this.#tileset = tileset;
      this.#lights = lights;
      this.#blockCache = blockCache;
    }
    /**
     * Renders a room
     * @param {Room} room The room to render
     */
    render(room) {
      if (!room.isInitialized) {
        const possitbleTemplate = roomTemplates.filter((t) => t.type == room.getRoomType());
        let newTemplate = rng.getItem(possitbleTemplate);
        if (!newTemplate) {
          throw new Error(`No template found for room type ${room.getRoomType()}`);
        }
        this.roomCreator.setUpRoom(room, newTemplate);
        room.initialize(newTemplate);
      }
      let template = room.getRoomTemplate();
      let roomLights = [];
      if (!template) {
        throw new Error(`No template found for room type ${room.getRoomType()}`);
      }
      const roomdesign = template.pattern;
      if (!roomdesign) {
        throw new Error(`No room design found for room type ${room.getRoomType()}`);
      }
      for (let y = 0; y < roomdesign.length; y++) {
        for (let x = 0; x < roomdesign[y].length; x++) {
          for (let h = 0; h < template.ceilingHeight[0]; h++) {
            let tile;
            switch (roomdesign[y][x]) {
              case "#":
                tile = this.#tileset.getTileByName("Wall01");
                break;
              case "%":
                if (h == 0) {
                  roomLights.push([x, h, y]);
                }
              case "1":
              case "2":
              case "3":
              case "C":
              case "X":
              case "P":
              case "!":
              case ".":
                if (h == 0) {
                  tile = this.#tileset.getTileByName("Floor01");
                } else if (h == template.ceilingHeight[0] - 1) {
                  tile = this.#tileset.getTileByName("Ceiling01");
                } else {
                  continue;
                }
                break;
              case "N":
                tile = this.#renderFloorOrWall(h, room.doors.north);
                break;
              case "E":
                tile = this.#renderFloorOrWall(h, room.doors.east);
                break;
              case "S":
                tile = this.#renderFloorOrWall(h, room.doors.south);
                break;
              case "W":
                tile = this.#renderFloorOrWall(h, room.doors.west);
                break;
              default:
                continue;
            }
            if (tile) {
              let newObj = this.createTile(x, h, y, tile.object);
              if (!newObj) {
                console.warn(`No object found for tile ${tile.name}`);
                continue;
              }
            }
          }
        }
      }
      this.#addDoors(room, roomdesign);
      this.#setupLights(roomLights, room);
      this.#createInterior(room, roomdesign);
      this.#addCharacters(room, roomdesign);
    }
    #addDoors(room, roomdesign) {
      if (room.doors.north) {
        let door = findCharInStringArray(roomdesign, "N");
        let tile = this.#tileset.getTileByName("Door");
        let newObj = this.createTile(door.x, 0, door.y, tile.object);
        newObj.rotateAxisAngleDegObject([0, 1, 0], 180);
        this.setupDoor(newObj, room.getTargetRoom("N"), "N");
      }
      if (room.doors.south) {
        let door = findCharInStringArray(roomdesign, "S");
        let tile = this.#tileset.getTileByName("Door");
        let newObj = this.createTile(door.x, 0, door.y, tile.object);
        this.setupDoor(newObj, room.getTargetRoom("S"), "S");
      }
      if (room.doors.east) {
        let door = findCharInStringArray(roomdesign, "E");
        let tile = this.#tileset.getTileByName("Door");
        let newObj = this.createTile(door.x, 0, door.y, tile.object);
        newObj.rotateAxisAngleDegObject([0, 1, 0], 90);
        this.setupDoor(newObj, room.getTargetRoom("E"), "E");
      }
      if (room.doors.west) {
        let door = findCharInStringArray(roomdesign, "W");
        let tile = this.#tileset.getTileByName("Door");
        let newObj = this.createTile(door.x, 0, door.y, tile.object);
        newObj.rotateAxisAngleDegObject([0, 1, 0], 270);
        this.setupDoor(newObj, room.getTargetRoom("W"), "W");
      }
    }
    #addCharacters(room, roomdesign) {
      this.#tileset.resetAllCharacters();
      const roomTemplate = room.getRoomTemplate();
      if (!roomTemplate) {
        console.warn("`No room template found for current room");
        return;
      }
      if (!roomTemplate.characters || roomTemplate.characters.length == 0) {
        return;
      }
      let character1Pos = findCharInStringArray(roomdesign, "1");
      if (character1Pos) {
        const characterName = roomTemplate.characters[0];
        const character = this.#tileset.getCharacter(characterName);
        character?.setPositionWorld([character1Pos.x, 0.5, character1Pos.y]);
      }
      let character2Pos = findCharInStringArray(roomdesign, "2");
      if (character2Pos) {
        const characterName = roomTemplate.characters[1];
        const character = this.#tileset.getCharacter(characterName);
        character?.setPositionWorld([character2Pos.x, 0.5, character2Pos.y]);
      }
      let character3Pos = findCharInStringArray(roomdesign, "3");
      if (character3Pos) {
        const characterName = roomTemplate.characters[1];
        const character = this.#tileset.getCharacter(characterName);
        character?.setPositionWorld([character3Pos.x, 0.5, character3Pos.y]);
      }
    }
    /**
     * Setup the scripts for the door, adding a new one if needed.
     * @param {Object3D} newObj the newly created object (the door)
     * @param {*} room
     * @param {DirectionSymbol} direction
     */
    setupDoor(newObj, room, direction2) {
      let oldComp = newObj.getComponent(DoorHandler);
      if (oldComp) {
        oldComp.direction = direction2;
        oldComp.targetRoomX = room.x;
        oldComp.targetRoomY = room.y;
        oldComp.active = true;
      } else
        newObj.addComponent(DoorHandler, {
          direction: direction2,
          targetRoomX: room.x,
          targetRoomY: room.y
        });
    }
    /**
     * Renders a floor tile when there's a doorway or wall depending on the height and if it there's a door or not
     * @param {number} h
     * @param {boolean} hasDoor
     * @returns {Tile}
     */
    #renderFloorOrWall(h, hasDoor) {
      if (h === 0) {
        if (hasDoor) {
          const floorTile = this.#tileset.getTileByName("Floor01");
          if (!floorTile) {
            throw new Error("No floor tile found");
          }
          return floorTile;
        } else {
          const wallTile = this.#tileset.getTileByName("Wall01");
          if (!wallTile) {
            throw new Error("No wall tile found");
          }
          return wallTile;
        }
      } else if (h === 1) {
        if (!hasDoor) {
          const wallTile = this.#tileset.getTileByName("Wall01");
          if (!wallTile) {
            throw new Error("No wall tile found");
          }
          return wallTile;
        } else {
          return;
        }
      } else {
        const wallTile = this.#tileset.getTileByName("Wall01");
        if (!wallTile) {
          throw new Error("No wall tile found");
        }
        return wallTile;
      }
    }
    /**
     * Sets up the lights in a room
     * @param {number[][]} roomLights
     * @param {*} room
     */
    #setupLights(roomLights, room) {
      for (let index = 0; index < this.#lights.length; index++) {
        const light = this.#lights[index];
        light.resetPositionRotation();
        if (roomLights[index]) {
          light.getComponent(LightComponent).active = true;
          light.setPositionWorld([roomLights[index][0], 2, roomLights[index][2]]);
        } else {
          light.getComponent(LightComponent).active = false;
        }
      }
      this.#lights;
    }
    /**
     * Creates the interior of a room
     * @param {Room} room
     * @param {*} roomdesign
     */
    #createInterior(room, roomdesign) {
      const roomRNG = rng.clone().setSeed(1);
      let hasFirepit = false;
      for (let y = 0; y < roomdesign.length; y++) {
        for (let x = 0; x < roomdesign[y].length; x++) {
          let tile;
          let rotation = 0;
          switch (roomdesign[y][x]) {
            case "P":
              const props = room.getRoomTemplate().props;
              if (!props) {
                break;
              }
              const propChances = props.reduce((acc, p) => {
                acc[p.name] = p.chance ?? 1;
                return acc;
              }, {});
              let propname = roomRNG.getWeightedValue(propChances);
              const prop = props.find((p) => p.name === propname);
              tile = this.#tileset.getTileByName(prop.name);
              if (prop.mustBeAgainstWall) {
                if (roomdesign[y - 1][x] !== "#" && roomdesign[y + 1][x] !== "#" && roomdesign[y][x - 1] !== "#" && roomdesign[y][x + 1] !== "#") {
                  continue;
                }
              }
              if (prop.faceWall) {
                const directions = [
                  { x: 0, y: -1, rotation: 180 },
                  { x: 1, y: 0, rotation: 90 },
                  { x: -1, y: 0, rotation: 270 },
                  { x: 0, y: 1, rotation: 0 }
                ];
                let possibleRotations = [];
                for (const dir of directions) {
                  if (roomdesign[y + dir.y][x + dir.x] === "#") {
                    possibleRotations.push(dir);
                  }
                }
                if (possibleRotations.length > 0) {
                  rotation = roomRNG.getItem(possibleRotations).rotation;
                }
              }
              break;
            case "C":
              if (!hasFirepit) {
                tile = this.#tileset.getTileByName("Firepit");
                hasFirepit = true;
              }
              break;
            case "!":
              const chests = room.getRoomTemplate().chests;
              if (!chests) {
                console.warn("No chests in room template, but there's a chest in the room design.");
                break;
              }
              const chestChances = chests.reduce((acc, p) => {
                acc[`Chest_${p.material}_${p.size}`] = p.chance ?? 1;
                return acc;
              }, {});
              let chestname = roomRNG.getWeightedValue(chestChances);
              const chest = chests.find(
                (c) => c.material === chestname.split("_")[1] && c.size === chestname.split("_")[2]
              );
              tile = this.#tileset.getTileByName(chestname);
              rotation = chest.rotation;
              break;
            default:
              continue;
          }
          if (tile) {
            let newObj = this.createTile(x, 0, y, tile.object);
            newObj.rotateAxisAngleDegObject([0, 1, 0], rotation);
          }
        }
      }
    }
    /**
     *
     * @param {*} x
     * @param {*} y
     * @param {*} z
     * @param {*} tile
     * @returns Object3D
     */
    createTile(x, y, z, tile) {
      let blockObj = tile;
      let obj = cloneObject(this.#engine, blockObj, this.#blockCache);
      if (!obj) {
        throw new Error("Cloning object failed");
      }
      obj.resetPositionRotation();
      obj.setPositionWorld([x, y, z]);
      return obj;
    }
  };

  // js/dungeongen/utils/directionHelpers.ts
  var directionHelpers_exports = {};
  __export(directionHelpers_exports, {
    getInvertedDirection: () => getInvertedDirection
  });
  function getInvertedDirection(direction2) {
    switch (direction2) {
      case "N":
        return "S";
      case "S":
        return "N";
      case "E":
        return "W";
      case "W":
        return "E";
    }
  }

  // js/components/level-generator.ts
  var size = 9;
  var LevelGenerator = class extends Component {
    fadeScreenObject;
    levelRoot;
    lights;
    levelBlocks;
    enemies;
    characters;
    /**
     * The component that is used to fade the screen to black and back.
     */
    fadeScreenComponent;
    generator;
    levelParent;
    tileset;
    patternSet;
    roomRenderer;
    blockCache;
    gameState;
    globalObjectCache;
    /**
     * overrides the init method of the component
     */
    init() {
      this.gameState = instance.resolve(GameState);
      this.generator = new MazeGenerator(size, size);
    }
    /**
     * overrides the start method of the component
     */
    start() {
      const fsc = this.fadeScreenObject.getComponent(FadeScreen);
      if (!fsc) {
        throw new Error("No FadeScreen component found on fadeScreenObject");
      }
      this.fadeScreenComponent = fsc;
    }
    /**
     * Generates a level
     * @param {Number} level The level to generate
     * @returns {any}
     */
    generate(level = 0, parent = null) {
      this.levelParent = parent || this.levelRoot;
      this.tileset = new TileSet(
        this.levelBlocks.children,
        this.enemies.children,
        this.characters.children
      );
      this.patternSet = new PatternSet();
      this.generator.generate();
      this.levelParent.children.length = 0;
      if (!this.globalObjectCache) {
        this.globalObjectCache = new ObjectCache(
          this.engine,
          "blocks",
          2400,
          this.levelParent,
          24e3
        );
      } else {
        this.globalObjectCache.reset();
      }
      this.roomRenderer = new RoomRenderer(
        this.engine,
        this.levelParent,
        this.tileset,
        this.lights.children,
        this.globalObjectCache
      );
      this.blockCache = this.globalObjectCache;
      this.gameState.currentRoomSubject.subscribe((r) => {
        const currentRoom = this.generator.getRoom(r[0], r[1]);
        this.fadeScreenComponent.FadeOutCompleted.once(() => {
          this.blockCache.reset();
          this.roomRenderer.render(currentRoom);
          if (this.gameState.roomPreviousExitDirection) {
            let enterDirection = getInvertedDirection(
              this.gameState.roomPreviousExitDirection
            );
            let exit = currentRoom.getDoor(enterDirection);
            if (exit) {
              let rotation = 0;
              switch (enterDirection) {
                case "N":
                  exit.y += 1;
                  rotation = 180;
                  break;
                case "S":
                  exit.y -= 1;
                  rotation = 0;
                  break;
                case "E":
                  exit.x -= 1;
                  rotation = 90;
                  break;
                case "W":
                  exit.x += 1;
                  rotation = 270;
                  break;
              }
              this.gameState.playerPosition = [exit.x, 0, exit.y];
              this.gameState.playerRotation = rotation;
            }
          }
        });
        this.fadeScreenComponent.fadeOut();
        this.gameState.setCurrentRoom(currentRoom);
      });
      this.renderDebug(this.generator);
    }
    /**
     * Renders a debug view of the map
     * @param {MazeGenerator} generator
     */
    renderDebug(generator) {
      const canvas2 = document.createElement("canvas");
      canvas2.style.position = "absolute";
      canvas2.style.top = "0px";
      canvas2.style.left = "0px";
      canvas2.style.zIndex = "100";
      canvas2.style.width = "256px";
      canvas2.style.imageRendering = "pixelated";
      canvas2.width = 100;
      canvas2.height = 100;
      const ctx = canvas2.getContext("2d");
      ctx.fillStyle = "black";
      ctx.fillRect(0, 0, canvas2.width, canvas2.height);
      for (let row = 0; row < size; row++) {
        for (let col = 0; col < size; col++) {
          const currentRoom = generator.getRoom(row, col);
          let ps = 5;
          const pattern = this.patternSet.get(currentRoom.toKey());
          for (let gridRow = 0; gridRow < ps; gridRow++) {
            for (let gridColumn = 0; gridColumn < ps; gridColumn++) {
              const newRowPos = row * ps + gridRow - size * ps / 2;
              const newColPos = col * ps + gridColumn - size * ps / 2;
              let tileIndex = pattern[gridRow][gridColumn];
              if (currentRoom.isEntrance) {
                tileIndex = 5;
              }
              if (currentRoom.isExit) {
                tileIndex = 4;
              }
              if (currentRoom.isTreasure && tileIndex == 6) {
                tileIndex = 7;
              }
              let tile = this.tileset.getTile(tileIndex);
              switch (tileIndex) {
                case 5:
                  ctx.fillStyle = "green";
                  break;
                case 4:
                  ctx.fillStyle = "red";
                  break;
                case 6:
                  ctx.fillStyle = "blue";
                  break;
                case 7:
                  ctx.fillStyle = "yellow";
                  break;
                default:
                  ctx.fillStyle = "gray";
                  break;
              }
              if (tileIndex >= 4)
                ctx.fillRect(
                  (newColPos + size * ps / 2) * 2,
                  (newRowPos + size * ps / 2) * 2,
                  2,
                  2
                );
            }
          }
        }
      }
      document.body.appendChild(canvas2);
    }
    createTile(x, y, z, tile) {
      let blockObj = tile;
      let obj = cloneObject(this.engine, blockObj, this.blockCache);
      if (!obj) {
        throw new Error("Could not clone object: " + blockObj.name);
      }
      obj.resetPositionRotation();
      obj.setPositionWorld([x, y, z]);
    }
  };
  __publicField(LevelGenerator, "TypeName", "level-generator");
  __decorateClass([
    property.object()
  ], LevelGenerator.prototype, "fadeScreenObject", 2);
  __decorateClass([
    property.object()
  ], LevelGenerator.prototype, "levelRoot", 2);
  __decorateClass([
    property.object()
  ], LevelGenerator.prototype, "lights", 2);
  __decorateClass([
    property.object()
  ], LevelGenerator.prototype, "levelBlocks", 2);
  __decorateClass([
    property.object()
  ], LevelGenerator.prototype, "enemies", 2);
  __decorateClass([
    property.object()
  ], LevelGenerator.prototype, "characters", 2);

  // js/classes/behaviors/iron.ts
  var iron = {
    name: "Iron",
    initialize: function() {
      this.name = `Iron ${this.name}`;
    },
    attack(acc = 0) {
      if (acc > 0) {
        acc += 1;
      }
      return acc;
    },
    protection(acc = 0) {
      if (acc > 0) {
        acc += 1;
      }
      return acc;
    }
  };
  var iron_default = iron;

  // js/components/game.ts
  var _levelGen;
  var Game = class extends Component {
    constructor() {
      super(...arguments);
      __publicField(this, "levelGenObject");
      __publicField(this, "playerObject");
      __privateAdd(this, _levelGen, void 0);
      __publicField(this, "gameState");
    }
    init() {
      this.gameState = instance.resolve(GameState);
      const lg = this.levelGenObject.getComponent(LevelGenerator);
      if (!lg) {
        throw new Error("LevelGenerator not found on levelGenObject");
      }
      __privateSet(this, _levelGen, lg);
      this.engine.onXRSessionStart.add(() => this.gameState.isInVR = true);
      this.engine.onXRSessionEnd.add(() => this.gameState.isInVR = false);
      this.engine.onXRSessionStart.add(() => {
      });
      this.gameState.state = State.Playing;
    }
    start() {
      this.gameState.levelSubject.subscribe(
        (level) => {
          let result = __privateGet(this, _levelGen).generate(level);
          this.gameState.navigateToRoom(0, 0);
        }
      );
      const testSword = new Sword();
      testSword.addBehavior(iron_default);
      console.log(`${testSword.name}:${testSword.attack()}`);
      setTimeout(() => {
        this.gameState.level = 0;
      }, 1e3);
      window.addEventListener("keyup", (e) => {
        let p = this.gameState.currentRoom;
        if (e.code == "Digit1") {
          p[0] += 1;
          this.gameState.roomPreviousExitDirection = "S";
          this.gameState.currentRoom = p;
        }
        if (e.code == "Digit2") {
          p[0] -= 1;
          this.gameState.roomPreviousExitDirection = "N";
          this.gameState.currentRoom = p;
        }
        if (e.code == "Digit3") {
          p[1] += 1;
          this.gameState.roomPreviousExitDirection = "E";
          this.gameState.currentRoom = p;
        }
        if (e.code == "Digit4") {
          p[1] -= 1;
          this.gameState.roomPreviousExitDirection = "W";
          this.gameState.currentRoom = p;
        }
        if (e.code == "Digit5") {
          this.gameState.room?.items?.find((i) => i.name == "Chest")?.interact(this.playerObject, 8, 0, 8);
        }
        ;
      });
    }
  };
  _levelGen = new WeakMap();
  __publicField(Game, "TypeName", "game");
  __publicField(Game, "Properties", {
    levelGenObject: Property.object(),
    playerObject: Property.object()
  });
  __decorateClass([
    property.object()
  ], Game.prototype, "levelGenObject", 2);
  __decorateClass([
    property.object()
  ], Game.prototype, "playerObject", 2);

  // js/components/look-at.ts
  var look_at_exports = {};
  __export(look_at_exports, {
    LookAt: () => LookAt
  });
  var LookAt = class extends Component {
    target;
    update(dt) {
      if (this.target) {
        let pos = this.target.getPositionWorld();
        this.object.lookAt([pos[0], 0, pos[2]]);
        this.object.rotateAxisAngleDegObject([0, 1, 0], 180);
      }
    }
  };
  __publicField(LookAt, "TypeName", "look-at");
  __decorateClass([
    property.object()
  ], LookAt.prototype, "target", 2);

  // js/components/pick-target.ts
  var pick_target_exports = {};
  __export(pick_target_exports, {
    PickTarget: () => PickTarget
  });
  var _canTrigger, canTrigger_fn, _pickingAllowed, pickingAllowed_fn, _picked, picked_fn, _hideIndicators, hideIndicators_fn, _showIndicator, showIndicator_fn;
  var PickTarget = class extends Component {
    constructor() {
      super(...arguments);
      /**
       * Whether the picking is active or not
       * @returns {boolean}
       */
      __privateAdd(this, _canTrigger);
      /**
       * Validates whether the object can be picked or not
       * @param {Object3D} obj 
       * @param {Number} x 
       * @param {Number} y 
       * @param {Number} z 
       * @returns {boolean} Boolean indicating whether the object can be picked or not
       */
      __privateAdd(this, _pickingAllowed);
      /**
       * Handles the picking of an object
       * @param {Object3D} obj The object that is picked
       * @param {Number} x 
       * @param {Number} y 
       * @param {Number} z 
       */
      __privateAdd(this, _picked);
      /**
       * Hides the indicators
       */
      __privateAdd(this, _hideIndicators);
      /**
       * Shows the indicator for the object
       * @param {Object3D} obj the targeted object
       * @param {Number} x 
       * @param {Number} y 
       * @param {Number} z 
       */
      __privateAdd(this, _showIndicator);
      __publicField(this, "allowedPickerMeshObject");
      __publicField(this, "notAllowedPickerMeshObject");
      __publicField(this, "floorGroup", 1 << 2);
      __publicField(this, "player");
      __publicField(this, "navControllerObject");
      __publicField(this, "pickingActive", false);
      __publicField(this, "input");
      __publicField(this, "initialized", false);
      __publicField(this, "hitSpot");
      __publicField(this, "hitObject");
      __publicField(this, "indicatorHidden");
      __publicField(this, "gameState");
      __publicField(this, "forceNotAllowed", false);
    }
    init() {
      this.gameState = instance.resolve(GameState);
    }
    start() {
      this.pickingActive = false;
      this.input = this.object.getComponent("input");
      if (!this.input) {
        console.error("No input component found on object with pick-target component");
      }
      __privateMethod(this, _hideIndicators, hideIndicators_fn).call(this);
      this.initialized = true;
    }
    update(dt) {
      let xrInputSource = this.input.xrInputSource;
      if (!this.initialized || !xrInputSource || !xrInputSource.gamepad || !xrInputSource.gamepad.buttons) {
        return;
      }
      const buttonPressed = xrInputSource.gamepad.buttons[0].pressed;
      if (buttonPressed && this.pickingActive === false && __privateMethod(this, _canTrigger, canTrigger_fn).call(this)) {
        this.pickingActive = true;
      }
      if (!buttonPressed && this.pickingActive === true) {
        this.pickingActive = false;
        if (this.hitSpot) {
          const hitPos = this.hitObject.getPositionWorld();
          const x = hitPos[0];
          const y = hitPos[2];
          if (__privateMethod(this, _pickingAllowed, pickingAllowed_fn).call(this, this.hitObject, x, 0, y) && !this.forceNotAllowed) {
            __privateMethod(this, _picked, picked_fn).call(this, this.hitObject, x, 0, y);
          }
          if (!this.indicatorHidden) {
            __privateMethod(this, _hideIndicators, hideIndicators_fn).call(this);
          }
          this.hitSpot = void 0;
        }
      }
      if (this.pickingActive) {
        const objectPosition = this.object.getPositionWorld();
        const objectRotation = this.object.getRotationWorld();
        let origin = vec3_exports.clone(objectPosition);
        let defaultForward = vec3_exports.fromValues(0, 0, -1);
        let forwardDirection = vec3_exports.create();
        vec3_exports.transformQuat(forwardDirection, defaultForward, objectRotation);
        let rayHit = this.engine.scene.rayCast(
          origin,
          forwardDirection,
          1 << this.floorGroup
        );
        if (rayHit.hitCount > 0) {
          if (this.indicatorHidden) {
            this.indicatorHidden = false;
          }
          this.hitSpot = rayHit.locations[0];
          this.hitObject = rayHit.objects[0];
          const hitPos = this.hitObject.getPositionWorld();
          const x = hitPos[0];
          const y = hitPos[2];
          let pos = this.player.getPositionWorld();
          let ppos = vec2_exports.fromValues(Math.round(pos[0]), Math.round(pos[2]));
          if (vec2_exports.distance(ppos, [x, y]) > 1.6) {
            this.forceNotAllowed = true;
          } else {
            this.forceNotAllowed = false;
          }
          __privateMethod(this, _showIndicator, showIndicator_fn).call(this, this.hitObject, x, 0, y, this.forceNotAllowed);
        } else {
          if (!this.indicatorHidden) {
            __privateMethod(this, _hideIndicators, hideIndicators_fn).call(this);
          }
          this.hitSpot = void 0;
          this.hitObject = void 0;
        }
      }
    }
  };
  _canTrigger = new WeakSet();
  canTrigger_fn = function() {
    return true;
  };
  _pickingAllowed = new WeakSet();
  pickingAllowed_fn = function(obj, x, y, z) {
    let tags = obj.getComponent(Tags);
    if (!tags) {
      return false;
    }
    if (this.gameState.state !== State.Playing) {
      if (tags.hasTag("button")) {
        return true;
      }
      return false;
    }
    return this.gameState.canPick(x, y, z);
  };
  _picked = new WeakSet();
  picked_fn = function(obj, x, y, z) {
    return this.gameState.pick(obj, x, y, z);
  };
  _hideIndicators = new WeakSet();
  hideIndicators_fn = function() {
    this.allowedPickerMeshObject.setPositionWorld([1e3, -1e3, 1e3]);
    this.notAllowedPickerMeshObject.setPositionWorld([1e3, -1e3, 1e3]);
    this.indicatorHidden = true;
  };
  _showIndicator = new WeakSet();
  showIndicator_fn = function(obj, x, y, z, forceNotAllowed = false) {
    if (forceNotAllowed) {
      this.allowedPickerMeshObject.setPositionWorld([1e3, -1e3, 1e3]);
      this.notAllowedPickerMeshObject.resetPositionRotation();
      this.notAllowedPickerMeshObject.setPositionWorld([x, 0.01, z]);
      return;
    }
    let tags = obj.getComponent(Tags);
    if (!tags)
      return;
    switch (true) {
      case tags.hasTag("floor"):
        if (__privateMethod(this, _pickingAllowed, pickingAllowed_fn).call(this, obj, x, y, z)) {
          this.notAllowedPickerMeshObject.setPositionWorld([
            1e3,
            -1e3,
            1e3
          ]);
          this.allowedPickerMeshObject.resetPositionRotation();
          this.allowedPickerMeshObject.setPositionWorld([x, 0.01, z]);
        } else {
          this.allowedPickerMeshObject.setPositionWorld([1e3, -1e3, 1e3]);
          this.notAllowedPickerMeshObject.resetPositionRotation();
          this.notAllowedPickerMeshObject.setPositionWorld([x, 0.01, z]);
        }
        break;
      case tags.hasTag("button"):
        break;
      case tags.hasTag("door"):
        break;
    }
  };
  __publicField(PickTarget, "TypeName", "pick-target");
  __decorateClass([
    property.object()
  ], PickTarget.prototype, "allowedPickerMeshObject", 2);
  __decorateClass([
    property.object()
  ], PickTarget.prototype, "notAllowedPickerMeshObject", 2);
  __decorateClass([
    property.int(1 << 2)
  ], PickTarget.prototype, "floorGroup", 2);
  __decorateClass([
    property.object()
  ], PickTarget.prototype, "player", 2);
  __decorateClass([
    property.object()
  ], PickTarget.prototype, "navControllerObject", 2);

  // js/components/player-height2.ts
  var player_height2_exports = {};
  __export(player_height2_exports, {
    PlayerHeight2: () => PlayerHeight2
  });
  var PlayerHeight2 = class extends Component {
    height = 1.75;
    onSessionStartCallback;
    onSessionEndCallback;
    start() {
      this.object.resetPositionRotation();
      this.object.translateLocal([0, this.height, 0]);
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    onXRSessionStart() {
      if (!["local", "viewer"].includes(this.engine.xr?.currentReferenceSpaceType)) {
        this.object.resetPositionRotation();
      }
    }
    onXRSessionEnd() {
      if (!["local", "viewer"].includes(this.engine.xr?.currentReferenceSpaceType)) {
        this.object.resetPositionRotation();
        this.object.translateLocal([0, this.height, 0]);
      }
    }
  };
  __publicField(PlayerHeight2, "TypeName", "player-height2");
  __decorateClass([
    property.float()
  ], PlayerHeight2.prototype, "height", 2);

  // js/components/teleport.ts
  var teleport_exports = {};
  __export(teleport_exports, {
    SorskootTeleport: () => SorskootTeleport
  });
  var _teleportPlayer, teleportPlayer_fn, _rotatePlayer, rotatePlayer_fn;
  var SorskootTeleport = class extends Component {
    constructor() {
      super(...arguments);
      __privateAdd(this, _teleportPlayer);
      __privateAdd(this, _rotatePlayer);
      __publicField(this, "eyeLeft");
      __publicField(this, "eyeRight");
      __publicField(this, "cam");
      __publicField(this, "camRoot");
      __publicField(this, "_tempVec", new Float32Array(3));
      __publicField(this, "_tempVec0", new Float32Array(3));
      __publicField(this, "gameState");
    }
    init() {
      this.gameState = instance.resolve(GameState);
      this.gameState.playerPositionSubject.subscribe((pos) => {
        __privateMethod(this, _teleportPlayer, teleportPlayer_fn).call(this, pos);
      });
      this.gameState.playerRotationSubject.subscribe((rotation) => {
        __privateMethod(this, _rotatePlayer, rotatePlayer_fn).call(this, rotation);
      });
    }
  };
  _teleportPlayer = new WeakSet();
  teleportPlayer_fn = function(newPosition) {
    const p = this._tempVec;
    const p1 = this._tempVec0;
    if (this.gameState.isInVR) {
      this.eyeLeft.getPositionWorld(p);
      this.eyeRight.getPositionWorld(p1);
      vec3_exports.add(p, p, p1);
      vec3_exports.scale(p, p, 0.5);
    } else {
      this.cam.getPositionWorld(p);
    }
    this.camRoot.getPositionWorld(p1);
    vec3_exports.sub(p, p1, p);
    p[0] += newPosition[0];
    p[1] = newPosition[1];
    p[2] += newPosition[2];
    this.camRoot.setPositionWorld(p);
  };
  _rotatePlayer = new WeakSet();
  rotatePlayer_fn = function(rotationToAdd) {
    this.camRoot.resetRotation();
    this.camRoot.rotateAxisAngleDegObject([0, 1, 0], rotationToAdd);
  };
  __publicField(SorskootTeleport, "TypeName", "sorskoot-teleport");
  __publicField(SorskootTeleport, "Properties", {
    /** Root of the player, the object that will be positioned on teleportation. */
    camRoot: Property.object(),
    /** Non-vr camera for use outside of VR */
    cam: Property.object(),
    /** Left eye for use in VR*/
    eyeLeft: Property.object(),
    /** Right eye for use in VR*/
    eyeRight: Property.object()
  });
  __decorateClass([
    property.object()
  ], SorskootTeleport.prototype, "eyeLeft", 2);
  __decorateClass([
    property.object()
  ], SorskootTeleport.prototype, "eyeRight", 2);
  __decorateClass([
    property.object()
  ], SorskootTeleport.prototype, "cam", 2);
  __decorateClass([
    property.object()
  ], SorskootTeleport.prototype, "camRoot", 2);

  // js/components/turnManager.ts
  var turnManager_exports = {};
  __export(turnManager_exports, {
    TurnManager: () => TurnManager
  });
  var TurnManager = class extends Component {
    turnDuration = 5;
    stepsPerTurn = 5;
    // Number of steps per turn
    timeSinceLastStep = 0;
    stepsTaken = 0;
    isTurnInProgress = false;
    turnCounter = 0;
    update(dt) {
      if (!this.isTurnInProgress) {
        this.isTurnInProgress = true;
        this.stepsTaken = 0;
        this.timeSinceLastStep = 0;
        this.turnCounter++;
        this.newTurn();
      }
      if (this.isTurnInProgress) {
        this.timeSinceLastStep += dt;
        const stepInterval = this.turnDuration / this.stepsPerTurn;
        while (this.timeSinceLastStep >= stepInterval && this.stepsTaken < this.stepsPerTurn) {
          this.stepFunction();
          this.stepsTaken++;
          this.timeSinceLastStep -= stepInterval;
        }
        if (this.stepsTaken == this.stepsPerTurn) {
          this.isTurnInProgress = false;
          this.endTurn();
        }
      }
    }
    stepFunction() {
    }
    newTurn() {
    }
    endTurn() {
    }
  };
  __publicField(TurnManager, "TypeName", "turnManager");
  __decorateClass([
    property.float(5)
  ], TurnManager.prototype, "turnDuration", 2);
  __decorateClass([
    property.int(5)
  ], TurnManager.prototype, "stepsPerTurn", 2);

  // js/dungeongen/components/tileComponent.ts
  var tileComponent_exports = {};
  __export(tileComponent_exports, {
    TileDescriptor: () => TileDescriptor
  });
  var TileDescriptor = class extends Component {
    init() {
    }
    start() {
    }
    update(dt) {
    }
  };
  __publicField(TileDescriptor, "TypeName", "tile-descriptor");
  __publicField(TileDescriptor, "Properties", {
    canRotate: { type: Type.Bool, default: true },
    canMirror: { type: Type.Bool, default: true }
  });

  // js/globals.ts
  var globals_exports = {};
  __export(globals_exports, {
    default: () => globals_default
  });

  // js/utils/soundfx-player.ts
  var SoundfxPlayer = class {
    initialized;
    currentSfxIndex;
    audiopool;
    pannerNodes;
    audioContext;
    sounds;
    constructor() {
      this.initialized = false;
      this.currentSfxIndex = 0;
      this.audiopool = [];
      this.pannerNodes = [];
    }
    initAudio() {
      if (this.audioContext)
        return;
      this.initialized = true;
      this.sounds = [
        new Audio("sfx/click.mp3"),
        new Audio("sfx/movebox.mp3"),
        new Audio("sfx/teleport.mp3"),
        new Audio("sfx/boxstop.mp3")
      ];
      this.audioContext = new AudioContext();
      this.audioContext.listener.upY.value = 1;
      let gain = this.audioContext.createGain();
      gain.connect(this.audioContext.destination);
      for (let i = 0; i < 25; i++) {
        const audio = new Audio();
        this.audiopool.push(audio);
        const element = this.audioContext.createMediaElementSource(audio);
        const pn = new PannerNode(this.audioContext, {
          panningModel: "HRTF",
          distanceModel: "exponential"
        });
        element.connect(pn);
        pn.connect(gain);
        this.pannerNodes.push(pn);
      }
    }
    playSound(audioIndex, pos) {
      if (!this.audioContext)
        return;
      if (!pos || !pos[0] || isNaN(pos[0])) {
        pos = [0, 0, 0];
      }
      this.pannerNodes[this.currentSfxIndex].positionX.value = pos[0];
      this.pannerNodes[this.currentSfxIndex].positionY.value = pos[1];
      this.pannerNodes[this.currentSfxIndex].positionZ.value = pos[2];
      this.audiopool[this.currentSfxIndex].src = this.sounds[audioIndex].src;
      this.audiopool[this.currentSfxIndex].play();
      this.currentSfxIndex = (this.currentSfxIndex + 1) % 25;
    }
  };

  // js/globals.ts
  var GameGlobals = class {
    //gameState: GameState;
    soundFxPlayer;
    //musicPlayer: MusicPlayer;
    // particlePool: null;
    globalObjectCache;
    constructor() {
      this.soundFxPlayer = new SoundfxPlayer();
      this.globalObjectCache = null;
    }
    static get instance() {
      if (GameGlobals._instance === null) {
        GameGlobals._instance = new GameGlobals();
      }
      return GameGlobals._instance;
    }
  };
  __publicField(GameGlobals, "_instance", null);
  GameGlobals = __decorateClass([
    singleton_default()
  ], GameGlobals);
  var globals_default = GameGlobals.instance;

  // js/ui/components/ui-action-close.ts
  var ui_action_close_exports = {};
  __export(ui_action_close_exports, {
    UiActionClose: () => UiActionClose
  });

  // js/ui/components/ui-button.ts
  var ui_button_exports = {};
  __export(ui_button_exports, {
    UiButton: () => UiButton
  });
  var UiButton = class extends Component {
    hoverMaterial;
    buttonMeshObject;
    buttonTargetObject;
    pressed;
    returnPos;
    mesh;
    defaultMaterial;
    target;
    init() {
      this.pressed = new Emitter();
    }
    start() {
      const m = this.buttonMeshObject.getComponent(MeshComponent);
      if (!m) {
        throw new Error("No mesh component found on button mesh object");
      }
      this.mesh = m;
      const material = this.mesh.material;
      if (!material) {
        throw new Error("No material found on button mesh object");
      }
      this.defaultMaterial = material;
      this.buttonMeshObject.getPositionLocal(this.returnPos);
      const target = this.buttonTargetObject.getComponent(CursorTarget);
      if (!target) {
        throw new Error("No cursor target found on button and could not add one");
      }
      this.target = target;
      this.returnPos = this.buttonMeshObject.getPositionLocal();
    }
    onActivate() {
      this.target.onHover.add(this.onHover.bind(this));
      this.target.onUnhover.add(this.onUnhover.bind(this));
      this.target.onDown.add(this.onDown.bind(this));
      this.target.onUp.add(this.onUp.bind(this));
    }
    onDeactivate() {
      this.target.onHover.remove(this.onHover);
      this.target.onUnhover.remove(this.onUnhover);
      this.target.onDown.remove(this.onDown);
      this.target.onUp.remove(this.onUp);
    }
    update(dt) {
    }
    onHover(obj3D_, cursor, eventTypes) {
      this.mesh.material = this.hoverMaterial;
    }
    onUnhover(obj3D_, cursor, eventTypes) {
      this.mesh.material = this.defaultMaterial;
    }
    onDown(obj3D_, cursor, eventTypes) {
      this.buttonMeshObject.translateLocal([0, -0.1, 0]);
    }
    onUp(obj3D_, cursor, eventTypes) {
      this.buttonMeshObject.setPositionLocal(this.returnPos);
      this.pressed.notify();
    }
  };
  __publicField(UiButton, "TypeName", "ui-button");
  __decorateClass([
    property.material()
  ], UiButton.prototype, "hoverMaterial", 2);
  __decorateClass([
    property.object()
  ], UiButton.prototype, "buttonMeshObject", 2);
  __decorateClass([
    property.object()
  ], UiButton.prototype, "buttonTargetObject", 2);

  // js/ui/components/ui-manager.ts
  var ui_manager_exports = {};
  __export(ui_manager_exports, {
    UiManager: () => UiManager
  });
  var UiManager = class extends Component {
    uiCollection;
    uiElements = [];
    currentVisibleUI = null;
    start() {
      if (!this.uiCollection) {
        throw new Error("No ui collection set");
      }
      for (const child of this.uiCollection.children) {
        child.setPositionWorld([0, -1e4, 0]);
        this.uiElements.push(child);
      }
      const internalUIManager = instance.resolve(InternalUIManager);
      internalUIManager.registerComponent(this);
    }
    open(name, position) {
      const element = this.uiElements.find((element2) => element2.name === name);
      if (!element) {
        throw new Error(`No ui element found with name ${name}`);
      }
      this.closeAll();
      this.currentVisibleUI = name;
      element.setPositionWorld(position);
      return element;
    }
    /**
     * Closes all UI elements, by moving them far away.
     * If no UI is open, nothing happens.
     */
    closeAll() {
      if (this.currentVisibleUI !== null) {
        for (const uiRootObject of this.uiElements) {
          uiRootObject.setPositionWorld([0, -1e4, 0]);
        }
        this.currentVisibleUI = null;
      }
    }
    /**
     * lets you know if any UI is open
     * @returns true if any UI is open, false otherwise
     */
    isUiOpen() {
      return this.currentVisibleUI !== null;
    }
  };
  __publicField(UiManager, "TypeName", "ui-manager");
  __decorateClass([
    property.object()
  ], UiManager.prototype, "uiCollection", 2);

  // js/ui/components/ui-action-close.ts
  var UiActionClose = class extends Component {
    uiButtonObject;
    uiRootObject;
    uiManagerObject;
    uiButton;
    uiManager;
    start() {
      const but = this.uiButtonObject.getComponent(UiButton);
      if (!but) {
        throw new Error("No button component found on button mesh object");
      }
      this.uiButton = but;
      const uiman = this.uiManagerObject.getComponent(UiManager);
      if (!uiman) {
        throw new Error("No ui manager component found on ui manager object");
      }
      this.uiManager = uiman;
      if (!this.uiRootObject) {
        throw new Error("No ui root object set");
      }
      this.uiButton.pressed.add(() => {
        this.uiManager.closeAll();
      });
    }
  };
  __publicField(UiActionClose, "TypeName", "ui-action-close");
  __decorateClass([
    property.object()
  ], UiActionClose.prototype, "uiButtonObject", 2);
  __decorateClass([
    property.object()
  ], UiActionClose.prototype, "uiRootObject", 2);
  __decorateClass([
    property.object()
  ], UiActionClose.prototype, "uiManagerObject", 2);

  // js/ui/components/ui-panel.ts
  var ui_panel_exports = {};
  __export(ui_panel_exports, {
    UiPanel: () => UiPanel
  });
  var UiPanel = class extends Component {
  };
  __publicField(UiPanel, "TypeName", "ui-panel");

  // cache/js/_editor_index.js
  _registerEditor(dist_exports);
  _registerEditor(dist_exports2);
  _registerEditor(zesty_wonderland_sdk_exports);
  _registerEditor(door_handler_exports);
  _registerEditor(fadeScreen_exports);
  _registerEditor(game_exports);
  _registerEditor(level_generator_exports);
  _registerEditor(look_at_exports);
  _registerEditor(pick_target_exports);
  _registerEditor(player_height2_exports);
  _registerEditor(teleport_exports);
  _registerEditor(turnManager_exports);
  _registerEditor(ChestCreator_exports);
  _registerEditor(MazeGenerator_exports);
  _registerEditor(PatternSet_exports);
  _registerEditor(RoomCreator_exports);
  _registerEditor(RoomRenderer_exports);
  _registerEditor(tileComponent_exports);
  _registerEditor(room_exports);
  _registerEditor(roomItemCreator_exports);
  _registerEditor(roomTemplates_exports);
  _registerEditor(tile_exports);
  _registerEditor(tileset_exports);
  _registerEditor(directionHelpers_exports);
  _registerEditor(extractor_exports);
  _registerEditor(globals_exports);
  _registerEditor(ui_action_close_exports);
  _registerEditor(ui_button_exports);
  _registerEditor(ui_component_exports);
  _registerEditor(ui_inventory_exports);
  _registerEditor(ui_manager_exports);
  _registerEditor(ui_panel_exports);
})();
/*! Bundled license information:

howler/dist/howler.js:
  (*!
   *  howler.js v2.2.3
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
  (*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.2.3
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2hvd2xlci9kaXN0L2hvd2xlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0Bzb3Jza29vdC93b25kZXJsYW5kLWNvbXBvbmVudHMvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvcHJvcGVydHkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L2RlY29yYXRvcnMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3V0aWxzL29iamVjdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvdXRpbHMvZXZlbnQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3dvbmRlcmxhbmQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3V0aWxzL2ZldGNoLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9hcGkvZGlzdC9zY2VuZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvdGV4dHVyZS1tYW5hZ2VyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9hcGkvZGlzdC9lbmdpbmUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3dhc20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0Bzb3Jza29vdC93b25kZXJsYW5kLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2ZsaXBib29rLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ac29yc2tvb3Qvd29uZGVybGFuZC1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9wcmVmYWIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0Bzb3Jza29vdC93b25kZXJsYW5kLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL3ByZWZhYi1zdG9yYWdlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ac29yc2tvb3Qvd29uZGVybGFuZC1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9zaG9vdEJhc2UuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vY29tbW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0NC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9xdWF0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3ZlYzMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vdmVjNC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9xdWF0Mi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWMyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ac29yc2tvb3Qvd29uZGVybGFuZC1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9zbmFwLXJvdGF0ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHNvcnNrb290L3dvbmRlcmxhbmQtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvc25vdy1wYXJ0aWNsZXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0Bzb3Jza29vdC93b25kZXJsYW5kLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL3RhZ3MuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0Bzb3Jza29vdC93b25kZXJsYW5kLWNvbXBvbmVudHMvZGlzdC91dGlscy9ybmcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0Bzb3Jza29vdC93b25kZXJsYW5kLWNvbXBvbmVudHMvZGlzdC91dGlscy9PYmplY3RDYWNoZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHNvcnNrb290L3dvbmRlcmxhbmQtY29tcG9uZW50cy9kaXN0L3V0aWxzL3dsVXRpbHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0Bzb3Jza29vdC93b25kZXJsYW5kLWNvbXBvbmVudHMvZGlzdC91dGlscy9hcnJheUhlbHBlcnMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0Bzb3Jza29vdC93b25kZXJsYW5kLWNvbXBvbmVudHMvZGlzdC91dGlscy9sZXJwLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ac29yc2tvb3Qvd29uZGVybGFuZC1jb21wb25lbnRzL2Rpc3QvdXRpbHMvcXVldWUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0Bzb3Jza29vdC93b25kZXJsYW5kLWNvbXBvbmVudHMvZGlzdC91dGlscy9ybmdXaXRoV2VpZ2h0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC84dGh3YWxsLWNhbWVyYS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3V0aWxzL3dlYnhyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvYW5jaG9yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvY3Vyc29yLXRhcmdldC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2hpdC10ZXN0LWxvY2F0aW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvY3Vyc29yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvZGVidWctb2JqZWN0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvZGV2aWNlLW9yaWVudGF0aW9uLWxvb2suanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9maW5nZXItY3Vyc29yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvZml4ZWQtZm92ZWF0aW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaGFuZC10cmFja2luZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2hvd2xlci1hdWRpby1saXN0ZW5lci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2hvd2xlci1hdWRpby1zb3VyY2UuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC91dGlscy91dGlscy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2ltYWdlLXRleHR1cmUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9tb3VzZS1sb29rLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvcGxheWVyLWhlaWdodC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3RhcmdldC1mcmFtZXJhdGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC90ZWxlcG9ydC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3RyYWlsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvdHdvLWpvaW50LWlrLXNvbHZlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3ZpZGVvLXRleHR1cmUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC92ci1tb2RlLWFjdGl2ZS1zd2l0Y2guanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9wbGFuZS1kZXRlY3Rpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC92cm0uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC93YXNkLWNvbnRyb2xzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AemVzdHltYXJrZXQvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2JpbmQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B6ZXN0eW1hcmtldC9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AemVzdHltYXJrZXQvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AemVzdHltYXJrZXQvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHplc3R5bWFya2V0L25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AemVzdHltYXJrZXQvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zRXJyb3IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B6ZXN0eW1hcmtldC9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2RlZmF1bHRzL3RyYW5zaXRpb25hbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHplc3R5bWFya2V0L25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy90b0Zvcm1EYXRhLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AemVzdHltYXJrZXQvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHplc3R5bWFya2V0L25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AemVzdHltYXJrZXQvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B6ZXN0eW1hcmtldC9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B6ZXN0eW1hcmtldC9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvYnVpbGRGdWxsUGF0aC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHplc3R5bWFya2V0L25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B6ZXN0eW1hcmtldC9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AemVzdHltYXJrZXQvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHplc3R5bWFya2V0L25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZVByb3RvY29sLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AemVzdHltYXJrZXQvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B6ZXN0eW1hcmtldC9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvbnVsbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHplc3R5bWFya2V0L25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B6ZXN0eW1hcmtldC9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvdHJhbnNmb3JtRGF0YS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHplc3R5bWFya2V0L25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL2lzQ2FuY2VsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AemVzdHltYXJrZXQvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHplc3R5bWFya2V0L25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9tZXJnZUNvbmZpZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHplc3R5bWFya2V0L25vZGVfbW9kdWxlcy9heGlvcy9saWIvZW52L2RhdGEuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B6ZXN0eW1hcmtldC9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdmFsaWRhdG9yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AemVzdHltYXJrZXQvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AemVzdHltYXJrZXQvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B6ZXN0eW1hcmtldC9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AemVzdHltYXJrZXQvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQXhpb3NFcnJvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHplc3R5bWFya2V0L25vZGVfbW9kdWxlcy9heGlvcy9saWIvYXhpb3MuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B6ZXN0eW1hcmtldC9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B6ZXN0eW1hcmtldC91dGlscy9uZXR3b3JraW5nLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AemVzdHltYXJrZXQvdXRpbHMvZm9ybWF0cy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHplc3R5bWFya2V0L3V0aWxzL2hlbHBlcnMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B6ZXN0eW1hcmtldC93b25kZXJsYW5kLXNkay9wYWNrYWdlLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B6ZXN0eW1hcmtldC93b25kZXJsYW5kLXNkay9zcmMvaW5kZXguanMiLCAiLi4vLi4vanMvY29tcG9uZW50cy9kb29yLWhhbmRsZXIudHMiLCAiLi4vLi4vanMvY29tcG9uZW50cy9mYWRlU2NyZWVuLnRzIiwgIi4uLy4uL2pzL2NvbXBvbmVudHMvZ2FtZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcmVmbGVjdC1tZXRhZGF0YS9SZWZsZWN0LmpzIiwgIi4uLy4uL2pzL2NvbXBvbmVudHMvbGV2ZWwtZ2VuZXJhdG9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy90c3lyaW5nZS9kaXN0L2VzbTUvdHlwZXMvbGlmZWN5Y2xlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy90c3lyaW5nZS9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy90c3lyaW5nZS9kaXN0L2VzbTUvcmVmbGVjdGlvbi1oZWxwZXJzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy90c3lyaW5nZS9kaXN0L2VzbTUvcHJvdmlkZXJzL2NsYXNzLXByb3ZpZGVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy90c3lyaW5nZS9kaXN0L2VzbTUvcHJvdmlkZXJzL2ZhY3RvcnktcHJvdmlkZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3RzeXJpbmdlL2Rpc3QvZXNtNS9sYXp5LWhlbHBlcnMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3RzeXJpbmdlL2Rpc3QvZXNtNS9wcm92aWRlcnMvaW5qZWN0aW9uLXRva2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy90c3lyaW5nZS9kaXN0L2VzbTUvcHJvdmlkZXJzL3Rva2VuLXByb3ZpZGVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy90c3lyaW5nZS9kaXN0L2VzbTUvcHJvdmlkZXJzL3ZhbHVlLXByb3ZpZGVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy90c3lyaW5nZS9kaXN0L2VzbTUvcHJvdmlkZXJzL3Byb3ZpZGVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy90c3lyaW5nZS9kaXN0L2VzbTUvcmVnaXN0cnktYmFzZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvdHN5cmluZ2UvZGlzdC9lc201L3JlZ2lzdHJ5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy90c3lyaW5nZS9kaXN0L2VzbTUvcmVzb2x1dGlvbi1jb250ZXh0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy90c3lyaW5nZS9kaXN0L2VzbTUvZXJyb3ItaGVscGVycy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvdHN5cmluZ2UvZGlzdC9lc201L3R5cGVzL2Rpc3Bvc2FibGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3RzeXJpbmdlL2Rpc3QvZXNtNS9pbnRlcmNlcHRvcnMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3RzeXJpbmdlL2Rpc3QvZXNtNS9kZXBlbmRlbmN5LWNvbnRhaW5lci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvdHN5cmluZ2UvZGlzdC9lc201L2RlY29yYXRvcnMvaW5qZWN0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy90c3lyaW5nZS9kaXN0L2VzbTUvZGVjb3JhdG9ycy9pbmplY3RhYmxlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy90c3lyaW5nZS9kaXN0L2VzbTUvZGVjb3JhdG9ycy9zaW5nbGV0b24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3RzeXJpbmdlL2Rpc3QvZXNtNS9pbmRleC5qcyIsICIuLi8uLi9qcy9kdW5nZW9uZ2VuL01hemVHZW5lcmF0b3IudHMiLCAiLi4vLi4vanMvZHVuZ2Vvbmdlbi9yb29tLnRzIiwgIi4uLy4uL2pzL2ZvckZyYW1ld29yay9maW5kQ2hhckluU3RyaW5nQXJyYXkudHMiLCAiLi4vLi4vanMvZHVuZ2Vvbmdlbi9yb29tVGVtcGxhdGVzLnRzIiwgIi4uLy4uL2pzL2R1bmdlb25nZW4vdGlsZXNldC50cyIsICIuLi8uLi9qcy9kdW5nZW9uZ2VuL3RpbGUudHMiLCAiLi4vLi4vanMvZHVuZ2Vvbmdlbi9QYXR0ZXJuU2V0LnRzIiwgIi4uLy4uL2pzL2R1bmdlb25nZW4vdXRpbHMvZXh0cmFjdG9yLnRzIiwgIi4uLy4uL2pzL2R1bmdlb25nZW4vUm9vbVJlbmRlcmVyLnRzIiwgIi4uLy4uL2pzL2R1bmdlb25nZW4vUm9vbUNyZWF0b3IudHMiLCAiLi4vLi4vanMvZHVuZ2Vvbmdlbi9yb29tSXRlbUNyZWF0b3IudHMiLCAiLi4vLi4vanMvZHVuZ2Vvbmdlbi9vYmplY3RzL2JlaGF2aW9yQmFzZS50cyIsICIuLi8uLi9qcy9kdW5nZW9uZ2VuL29iamVjdHMvR2VuZXJpY0l0ZW0udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvaXNGdW5jdGlvbi50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9jcmVhdGVFcnJvckNsYXNzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvYXJyUmVtb3ZlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9TdWJzY3JpcHRpb24udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL2NvbmZpZy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9ub29wLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9Ob3RpZmljYXRpb25GYWN0b3JpZXMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvZXJyb3JDb250ZXh0LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9TdWJzY3JpYmVyLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zeW1ib2wvb2JzZXJ2YWJsZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9pZGVudGl0eS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9waXBlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9PYnNlcnZhYmxlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9TdWJqZWN0LnRzIiwgIi4uLy4uL2pzL2NsYXNzZXMvbGV2ZWxTdGF0ZS50cyIsICIuLi8uLi9qcy91aS9jbGFzc2VzL0ludGVybmFsVUlNYW5hZ2VyLnRzIiwgIi4uLy4uL2pzL2NsYXNzZXMvZ2FtZVN0YXRlLnRzIiwgIi4uLy4uL2pzL2R1bmdlb25nZW4vb2JqZWN0cy9kb29yLnRzIiwgIi4uLy4uL2pzL2R1bmdlb25nZW4vQ2hlc3RDcmVhdG9yLnRzIiwgIi4uLy4uL2pzL2NsYXNzZXMvaXRlbXMvc2hpZWxkLnRzIiwgIi4uLy4uL2pzL2NsYXNzZXMvaXRlbXMvc3dvcmQudHMiLCAiLi4vLi4vanMvZHVuZ2Vvbmdlbi9sb290L2xvb3RUYWJsZUJhc2UudHMiLCAiLi4vLi4vanMvZHVuZ2Vvbmdlbi9vYmplY3RzL2NoZXN0LnRzIiwgIi4uLy4uL2pzL3VpL2NvbXBvbmVudHMvdWktaW52ZW50b3J5LnRzIiwgIi4uLy4uL2pzL3VpL2NvbXBvbmVudHMvdWktY29tcG9uZW50LnRzIiwgIi4uLy4uL2pzL2ZvckZyYW1ld29yay90aHJvd0Vycm9yLnRzIiwgIi4uLy4uL2pzL2R1bmdlb25nZW4vb2JqZWN0cy9iZWhhdmlvcnMvc2hvd0ludmVudG9yeS50cyIsICIuLi8uLi9qcy9kdW5nZW9uZ2VuL3V0aWxzL2RpcmVjdGlvbkhlbHBlcnMudHMiLCAiLi4vLi4vanMvY2xhc3Nlcy9iZWhhdmlvcnMvaXJvbi50cyIsICIuLi8uLi9qcy9jb21wb25lbnRzL2xvb2stYXQudHMiLCAiLi4vLi4vanMvY29tcG9uZW50cy9waWNrLXRhcmdldC50cyIsICIuLi8uLi9qcy9jb21wb25lbnRzL3BsYXllci1oZWlnaHQyLnRzIiwgIi4uLy4uL2pzL2NvbXBvbmVudHMvdGVsZXBvcnQudHMiLCAiLi4vLi4vanMvY29tcG9uZW50cy90dXJuTWFuYWdlci50cyIsICIuLi8uLi9qcy9kdW5nZW9uZ2VuL2NvbXBvbmVudHMvdGlsZUNvbXBvbmVudC50cyIsICIuLi8uLi9qcy9nbG9iYWxzLnRzIiwgIi4uLy4uL2pzL3V0aWxzL3NvdW5kZngtcGxheWVyLnRzIiwgIi4uLy4uL2pzL3VpL2NvbXBvbmVudHMvdWktYWN0aW9uLWNsb3NlLnRzIiwgIi4uLy4uL2pzL3VpL2NvbXBvbmVudHMvdWktYnV0dG9uLnRzIiwgIi4uLy4uL2pzL3VpL2NvbXBvbmVudHMvdWktbWFuYWdlci50cyIsICIuLi8uLi9qcy91aS9jb21wb25lbnRzL3VpLXBhbmVsLnRzIiwgIl9lZGl0b3JfaW5kZXguanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qIVxuICogIGhvd2xlci5qcyB2Mi4yLjNcbiAqICBob3dsZXJqcy5jb21cbiAqXG4gKiAgKGMpIDIwMTMtMjAyMCwgSmFtZXMgU2ltcHNvbiBvZiBHb2xkRmlyZSBTdHVkaW9zXG4gKiAgZ29sZGZpcmVzdHVkaW9zLmNvbVxuICpcbiAqICBNSVQgTGljZW5zZVxuICovXG5cbihmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqIEdsb2JhbCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGdsb2JhbCBjb250cm9sbGVyLiBBbGwgY29udGFpbmVkIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgYXBwbHlcbiAgICogdG8gYWxsIHNvdW5kcyB0aGF0IGFyZSBjdXJyZW50bHkgcGxheWluZyBvciB3aWxsIGJlIGluIHRoZSBmdXR1cmUuXG4gICAqL1xuICB2YXIgSG93bGVyR2xvYmFsID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbml0KCk7XG4gIH07XG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgZ2xvYmFsIEhvd2xlciBvYmplY3QuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgLy8gQ3JlYXRlIGEgZ2xvYmFsIElEIGNvdW50ZXIuXG4gICAgICBzZWxmLl9jb3VudGVyID0gMTAwMDtcblxuICAgICAgLy8gUG9vbCBvZiB1bmxvY2tlZCBIVE1MNSBBdWRpbyBvYmplY3RzLlxuICAgICAgc2VsZi5faHRtbDVBdWRpb1Bvb2wgPSBbXTtcbiAgICAgIHNlbGYuaHRtbDVQb29sU2l6ZSA9IDEwO1xuXG4gICAgICAvLyBJbnRlcm5hbCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fY29kZWNzID0ge307XG4gICAgICBzZWxmLl9ob3dscyA9IFtdO1xuICAgICAgc2VsZi5fbXV0ZWQgPSBmYWxzZTtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IDE7XG4gICAgICBzZWxmLl9jYW5QbGF5RXZlbnQgPSAnY2FucGxheXRocm91Z2gnO1xuICAgICAgc2VsZi5fbmF2aWdhdG9yID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5uYXZpZ2F0b3IpID8gd2luZG93Lm5hdmlnYXRvciA6IG51bGw7XG5cbiAgICAgIC8vIFB1YmxpYyBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5tYXN0ZXJHYWluID0gbnVsbDtcbiAgICAgIHNlbGYubm9BdWRpbyA9IGZhbHNlO1xuICAgICAgc2VsZi51c2luZ1dlYkF1ZGlvID0gdHJ1ZTtcbiAgICAgIHNlbGYuYXV0b1N1c3BlbmQgPSB0cnVlO1xuICAgICAgc2VsZi5jdHggPSBudWxsO1xuXG4gICAgICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB0aGUgYXV0byBhdWRpbyB1bmxvY2tlci5cbiAgICAgIHNlbGYuYXV0b1VubG9jayA9IHRydWU7XG5cbiAgICAgIC8vIFNldHVwIHRoZSB2YXJpb3VzIHN0YXRlIHZhbHVlcyBmb3IgZ2xvYmFsIHRyYWNraW5nLlxuICAgICAgc2VsZi5fc2V0dXAoKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIGdsb2JhbCB2b2x1bWUgZm9yIGFsbCBzb3VuZHMuXG4gICAgICogQHBhcmFtICB7RmxvYXR9IHZvbCBWb2x1bWUgZnJvbSAwLjAgdG8gMS4wLlxuICAgICAqIEByZXR1cm4ge0hvd2xlci9GbG9hdH0gICAgIFJldHVybnMgc2VsZiBvciBjdXJyZW50IHZvbHVtZS5cbiAgICAgKi9cbiAgICB2b2x1bWU6IGZ1bmN0aW9uKHZvbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcbiAgICAgIHZvbCA9IHBhcnNlRmxvYXQodm9sKTtcblxuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbiBBdWRpb0NvbnRleHQgY3JlYXRlZCB5ZXQsIHJ1biB0aGUgc2V0dXAuXG4gICAgICBpZiAoIXNlbGYuY3R4KSB7XG4gICAgICAgIHNldHVwQXVkaW9Db250ZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygdm9sICE9PSAndW5kZWZpbmVkJyAmJiB2b2wgPj0gMCAmJiB2b2wgPD0gMSkge1xuICAgICAgICBzZWxmLl92b2x1bWUgPSB2b2w7XG5cbiAgICAgICAgLy8gRG9uJ3QgdXBkYXRlIGFueSBvZiB0aGUgbm9kZXMgaWYgd2UgYXJlIG11dGVkLlxuICAgICAgICBpZiAoc2VsZi5fbXV0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gdXNpbmcgV2ViIEF1ZGlvLCB3ZSBqdXN0IG5lZWQgdG8gYWRqdXN0IHRoZSBtYXN0ZXIgZ2Fpbi5cbiAgICAgICAgaWYgKHNlbGYudXNpbmdXZWJBdWRpbykge1xuICAgICAgICAgIHNlbGYubWFzdGVyR2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKHZvbCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMb29wIHRocm91Z2ggYW5kIGNoYW5nZSB2b2x1bWUgZm9yIGFsbCBIVE1MNSBhdWRpbyBub2Rlcy5cbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAgIC8vIEdldCBhbGwgb2YgdGhlIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XG5cbiAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBjaGFuZ2UgdGhlIHZvbHVtZXMuXG4gICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcblxuICAgICAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS52b2x1bWUgPSBzb3VuZC5fdm9sdW1lICogdm9sO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmLl92b2x1bWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBtdXRpbmcgYW5kIHVubXV0aW5nIGdsb2JhbGx5LlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IG11dGVkIElzIG11dGVkIG9yIG5vdC5cbiAgICAgKi9cbiAgICBtdXRlOiBmdW5jdGlvbihtdXRlZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbiBBdWRpb0NvbnRleHQgY3JlYXRlZCB5ZXQsIHJ1biB0aGUgc2V0dXAuXG4gICAgICBpZiAoIXNlbGYuY3R4KSB7XG4gICAgICAgIHNldHVwQXVkaW9Db250ZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX211dGVkID0gbXV0ZWQ7XG5cbiAgICAgIC8vIFdpdGggV2ViIEF1ZGlvLCB3ZSBqdXN0IG5lZWQgdG8gbXV0ZSB0aGUgbWFzdGVyIGdhaW4uXG4gICAgICBpZiAoc2VsZi51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHNlbGYubWFzdGVyR2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKG11dGVkID8gMCA6IHNlbGYuX3ZvbHVtZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbmQgbXV0ZSBhbGwgSFRNTDUgQXVkaW8gbm9kZXMuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAgICAgIHZhciBpZHMgPSBzZWxmLl9ob3dsc1tpXS5fZ2V0U291bmRJZHMoKTtcblxuICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBtYXJrIHRoZSBhdWRpbyBub2RlIGFzIG11dGVkLlxuICAgICAgICAgIGZvciAodmFyIGo9MDsgajxpZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcblxuICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLm11dGVkID0gKG11dGVkKSA/IHRydWUgOiBzb3VuZC5fbXV0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgc3RvcHBpbmcgYWxsIHNvdW5kcyBnbG9iYWxseS5cbiAgICAgKi9cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgSG93bHMgYW5kIHN0b3AgdGhlbS5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzZWxmLl9ob3dsc1tpXS5zdG9wKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVbmxvYWQgYW5kIGRlc3Ryb3kgYWxsIGN1cnJlbnRseSBsb2FkZWQgSG93bCBvYmplY3RzLlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgZm9yICh2YXIgaT1zZWxmLl9ob3dscy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIHNlbGYuX2hvd2xzW2ldLnVubG9hZCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgQXVkaW9Db250ZXh0IHRvIG1ha2Ugc3VyZSBpdCBpcyBmdWxseSByZXNldC5cbiAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8gJiYgc2VsZi5jdHggJiYgdHlwZW9mIHNlbGYuY3R4LmNsb3NlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZWxmLmN0eC5jbG9zZSgpO1xuICAgICAgICBzZWxmLmN0eCA9IG51bGw7XG4gICAgICAgIHNldHVwQXVkaW9Db250ZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBmb3IgY29kZWMgc3VwcG9ydCBvZiBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBleHQgQXVkaW8gZmlsZSBleHRlbnRpb24uXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBjb2RlY3M6IGZ1bmN0aW9uKGV4dCkge1xuICAgICAgcmV0dXJuICh0aGlzIHx8IEhvd2xlcikuX2NvZGVjc1tleHQucmVwbGFjZSgvXngtLywgJycpXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0dXAgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3NldHVwOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBzdXNwZW5kL3Jlc3VtZSBzdGF0ZSBvZiB0aGUgQXVkaW9Db250ZXh0LlxuICAgICAgc2VsZi5zdGF0ZSA9IHNlbGYuY3R4ID8gc2VsZi5jdHguc3RhdGUgfHwgJ3N1c3BlbmRlZCcgOiAnc3VzcGVuZGVkJztcblxuICAgICAgLy8gQXV0b21hdGljYWxseSBiZWdpbiB0aGUgMzAtc2Vjb25kIHN1c3BlbmQgcHJvY2Vzc1xuICAgICAgc2VsZi5fYXV0b1N1c3BlbmQoKTtcblxuICAgICAgLy8gQ2hlY2sgaWYgYXVkaW8gaXMgYXZhaWxhYmxlLlxuICAgICAgaWYgKCFzZWxmLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgICAgLy8gTm8gYXVkaW8gaXMgYXZhaWxhYmxlIG9uIHRoaXMgc3lzdGVtIGlmIG5vQXVkaW8gaXMgc2V0IHRvIHRydWUuXG4gICAgICAgIGlmICh0eXBlb2YgQXVkaW8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciB0ZXN0ID0gbmV3IEF1ZGlvKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBjYW5wbGF5dGhyb3VnaCBldmVudCBpcyBhdmFpbGFibGUuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlc3Qub25jYW5wbGF5dGhyb3VnaCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgc2VsZi5fY2FuUGxheUV2ZW50ID0gJ2NhbnBsYXknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgc2VsZi5ub0F1ZGlvID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5ub0F1ZGlvID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUZXN0IHRvIG1ha2Ugc3VyZSBhdWRpbyBpc24ndCBkaXNhYmxlZCBpbiBJbnRlcm5ldCBFeHBsb3Jlci5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciB0ZXN0ID0gbmV3IEF1ZGlvKCk7XG4gICAgICAgIGlmICh0ZXN0Lm11dGVkKSB7XG4gICAgICAgICAgc2VsZi5ub0F1ZGlvID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgLy8gQ2hlY2sgZm9yIHN1cHBvcnRlZCBjb2RlY3MuXG4gICAgICBpZiAoIXNlbGYubm9BdWRpbykge1xuICAgICAgICBzZWxmLl9zZXR1cENvZGVjcygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgZm9yIGJyb3dzZXIgc3VwcG9ydCBmb3IgdmFyaW91cyBjb2RlY3MgYW5kIGNhY2hlIHRoZSByZXN1bHRzLlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBfc2V0dXBDb2RlY3M6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcbiAgICAgIHZhciBhdWRpb1Rlc3QgPSBudWxsO1xuXG4gICAgICAvLyBNdXN0IHdyYXAgaW4gYSB0cnkvY2F0Y2ggYmVjYXVzZSBJRTExIGluIHNlcnZlciBtb2RlIHRocm93cyBhbiBlcnJvci5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF1ZGlvVGVzdCA9ICh0eXBlb2YgQXVkaW8gIT09ICd1bmRlZmluZWQnKSA/IG5ldyBBdWRpbygpIDogbnVsbDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFhdWRpb1Rlc3QgfHwgdHlwZW9mIGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgdmFyIG1wZWdUZXN0ID0gYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcGVnOycpLnJlcGxhY2UoL15ubyQvLCAnJyk7XG5cbiAgICAgIC8vIE9wZXJhIHZlcnNpb24gPDMzIGhhcyBtaXhlZCBNUDMgc3VwcG9ydCwgc28gd2UgbmVlZCB0byBjaGVjayBmb3IgYW5kIGJsb2NrIGl0LlxuICAgICAgdmFyIHVhID0gc2VsZi5fbmF2aWdhdG9yID8gc2VsZi5fbmF2aWdhdG9yLnVzZXJBZ2VudCA6ICcnO1xuICAgICAgdmFyIGNoZWNrT3BlcmEgPSB1YS5tYXRjaCgvT1BSXFwvKFswLTZdLikvZyk7XG4gICAgICB2YXIgaXNPbGRPcGVyYSA9IChjaGVja09wZXJhICYmIHBhcnNlSW50KGNoZWNrT3BlcmFbMF0uc3BsaXQoJy8nKVsxXSwgMTApIDwgMzMpO1xuICAgICAgdmFyIGNoZWNrU2FmYXJpID0gdWEuaW5kZXhPZignU2FmYXJpJykgIT09IC0xICYmIHVhLmluZGV4T2YoJ0Nocm9tZScpID09PSAtMTtcbiAgICAgIHZhciBzYWZhcmlWZXJzaW9uID0gdWEubWF0Y2goL1ZlcnNpb25cXC8oLio/KSAvKTtcbiAgICAgIHZhciBpc09sZFNhZmFyaSA9IChjaGVja1NhZmFyaSAmJiBzYWZhcmlWZXJzaW9uICYmIHBhcnNlSW50KHNhZmFyaVZlcnNpb25bMV0sIDEwKSA8IDE1KTtcblxuICAgICAgc2VsZi5fY29kZWNzID0ge1xuICAgICAgICBtcDM6ICEhKCFpc09sZE9wZXJhICYmIChtcGVnVGVzdCB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wMzsnKS5yZXBsYWNlKC9ebm8kLywgJycpKSksXG4gICAgICAgIG1wZWc6ICEhbXBlZ1Rlc3QsXG4gICAgICAgIG9wdXM6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cIm9wdXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIG9nZzogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL29nZzsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBvZ2E6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgd2F2OiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3dhdjsgY29kZWNzPVwiMVwiJykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93YXYnKSkucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgYWFjOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIGNhZjogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtY2FmOycpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIG00YTogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LW00YTsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL200YTsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKSkucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgbTRiOiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtbTRiOycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbTRiOycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBtcDQ6ICEhKGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1tcDQ7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcDQ7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIHdlYmE6ICEhKCFpc09sZFNhZmFyaSAmJiBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3dlYm07IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSksXG4gICAgICAgIHdlYm06ICEhKCFpc09sZFNhZmFyaSAmJiBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3dlYm07IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSksXG4gICAgICAgIGRvbGJ5OiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OyBjb2RlY3M9XCJlYy0zXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBmbGFjOiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtZmxhYzsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2ZsYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJylcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTb21lIGJyb3dzZXJzL2RldmljZXMgd2lsbCBvbmx5IGFsbG93IGF1ZGlvIHRvIGJlIHBsYXllZCBhZnRlciBhIHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICogQXR0ZW1wdCB0byBhdXRvbWF0aWNhbGx5IHVubG9jayBhdWRpbyBvbiB0aGUgZmlyc3QgdXNlciBpbnRlcmFjdGlvbi5cbiAgICAgKiBDb25jZXB0IGZyb206IGh0dHA6Ly9wYXVsYmFrYXVzLmNvbS90dXRvcmlhbHMvaHRtbDUvd2ViLWF1ZGlvLW9uLWlvcy9cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3VubG9ja0F1ZGlvOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIE9ubHkgcnVuIHRoaXMgaWYgV2ViIEF1ZGlvIGlzIHN1cHBvcnRlZCBhbmQgaXQgaGFzbid0IGFscmVhZHkgYmVlbiB1bmxvY2tlZC5cbiAgICAgIGlmIChzZWxmLl9hdWRpb1VubG9ja2VkIHx8ICFzZWxmLmN0eCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX2F1ZGlvVW5sb2NrZWQgPSBmYWxzZTtcbiAgICAgIHNlbGYuYXV0b1VubG9jayA9IGZhbHNlO1xuXG4gICAgICAvLyBTb21lIG1vYmlsZSBkZXZpY2VzL3BsYXRmb3JtcyBoYXZlIGRpc3RvcnRpb24gaXNzdWVzIHdoZW4gb3BlbmluZy9jbG9zaW5nIHRhYnMgYW5kL29yIHdlYiB2aWV3cy5cbiAgICAgIC8vIEJ1Z3MgaW4gdGhlIGJyb3dzZXIgKGVzcGVjaWFsbHkgTW9iaWxlIFNhZmFyaSkgY2FuIGNhdXNlIHRoZSBzYW1wbGVSYXRlIHRvIGNoYW5nZSBmcm9tIDQ0MTAwIHRvIDQ4MDAwLlxuICAgICAgLy8gQnkgY2FsbGluZyBIb3dsZXIudW5sb2FkKCksIHdlIGNyZWF0ZSBhIG5ldyBBdWRpb0NvbnRleHQgd2l0aCB0aGUgY29ycmVjdCBzYW1wbGVSYXRlLlxuICAgICAgaWYgKCFzZWxmLl9tb2JpbGVVbmxvYWRlZCAmJiBzZWxmLmN0eC5zYW1wbGVSYXRlICE9PSA0NDEwMCkge1xuICAgICAgICBzZWxmLl9tb2JpbGVVbmxvYWRlZCA9IHRydWU7XG4gICAgICAgIHNlbGYudW5sb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNjcmF0Y2ggYnVmZmVyIGZvciBlbmFibGluZyBpT1MgdG8gZGlzcG9zZSBvZiB3ZWIgYXVkaW8gYnVmZmVycyBjb3JyZWN0bHksIGFzIHBlcjpcbiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQxMTk2ODRcbiAgICAgIHNlbGYuX3NjcmF0Y2hCdWZmZXIgPSBzZWxmLmN0eC5jcmVhdGVCdWZmZXIoMSwgMSwgMjIwNTApO1xuXG4gICAgICAvLyBDYWxsIHRoaXMgbWV0aG9kIG9uIHRvdWNoIHN0YXJ0IHRvIGNyZWF0ZSBhbmQgcGxheSBhIGJ1ZmZlcixcbiAgICAgIC8vIHRoZW4gY2hlY2sgaWYgdGhlIGF1ZGlvIGFjdHVhbGx5IHBsYXllZCB0byBkZXRlcm1pbmUgaWZcbiAgICAgIC8vIGF1ZGlvIGhhcyBub3cgYmVlbiB1bmxvY2tlZCBvbiBpT1MsIEFuZHJvaWQsIGV0Yy5cbiAgICAgIHZhciB1bmxvY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIHBvb2wgb2YgdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0cyB0aGF0IGNhblxuICAgICAgICAvLyBiZSB1c2VkIGZvciBwbGF5aW5nIHNvdW5kcyB3aXRob3V0IHVzZXIgaW50ZXJhY3Rpb24uIEhUTUw1XG4gICAgICAgIC8vIEF1ZGlvIG9iamVjdHMgbXVzdCBiZSBpbmRpdmlkdWFsbHkgdW5sb2NrZWQsIGFzIG9wcG9zZWRcbiAgICAgICAgLy8gdG8gdGhlIFdlYkF1ZGlvIEFQSSB3aGljaCBvbmx5IG5lZWRzIGEgc2luZ2xlIGFjdGl2YXRpb24uXG4gICAgICAgIC8vIFRoaXMgbXVzdCBvY2N1ciBiZWZvcmUgV2ViQXVkaW8gc2V0dXAgb3IgdGhlIHNvdXJjZS5vbmVuZGVkXG4gICAgICAgIC8vIGV2ZW50IHdpbGwgbm90IGZpcmUuXG4gICAgICAgIHdoaWxlIChzZWxmLl9odG1sNUF1ZGlvUG9vbC5sZW5ndGggPCBzZWxmLmh0bWw1UG9vbFNpemUpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGF1ZGlvTm9kZSA9IG5ldyBBdWRpbygpO1xuXG4gICAgICAgICAgICAvLyBNYXJrIHRoaXMgQXVkaW8gb2JqZWN0IGFzIHVubG9ja2VkIHRvIGVuc3VyZSBpdCBjYW4gZ2V0IHJldHVybmVkXG4gICAgICAgICAgICAvLyB0byB0aGUgdW5sb2NrZWQgcG9vbCB3aGVuIHJlbGVhc2VkLlxuICAgICAgICAgICAgYXVkaW9Ob2RlLl91bmxvY2tlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIEFkZCB0aGUgYXVkaW8gbm9kZSB0byB0aGUgcG9vbC5cbiAgICAgICAgICAgIHNlbGYuX3JlbGVhc2VIdG1sNUF1ZGlvKGF1ZGlvTm9kZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgc2VsZi5ub0F1ZGlvID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbnkgYXNzaWduZWQgYXVkaW8gbm9kZXMgYW5kIHVubG9jayB0aGVtLlxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoIXNlbGYuX2hvd2xzW2ldLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgICAgICAgIHZhciBpZHMgPSBzZWxmLl9ob3dsc1tpXS5fZ2V0U291bmRJZHMoKTtcblxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIHVubG9jayB0aGUgYXVkaW8gbm9kZXMuXG4gICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcblxuICAgICAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUgJiYgIXNvdW5kLl9ub2RlLl91bmxvY2tlZCkge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLl91bmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUubG9hZCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRml4IEFuZHJvaWQgY2FuIG5vdCBwbGF5IGluIHN1c3BlbmQgc3RhdGUuXG4gICAgICAgIHNlbGYuX2F1dG9SZXN1bWUoKTtcblxuICAgICAgICAvLyBDcmVhdGUgYW4gZW1wdHkgYnVmZmVyLlxuICAgICAgICB2YXIgc291cmNlID0gc2VsZi5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgIHNvdXJjZS5idWZmZXIgPSBzZWxmLl9zY3JhdGNoQnVmZmVyO1xuICAgICAgICBzb3VyY2UuY29ubmVjdChzZWxmLmN0eC5kZXN0aW5hdGlvbik7XG5cbiAgICAgICAgLy8gUGxheSB0aGUgZW1wdHkgYnVmZmVyLlxuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZS5zdGFydCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzb3VyY2Uubm90ZU9uKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNvdXJjZS5zdGFydCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGxpbmcgcmVzdW1lKCkgb24gYSBzdGFjayBpbml0aWF0ZWQgYnkgdXNlciBnZXN0dXJlIGlzIHdoYXQgYWN0dWFsbHkgdW5sb2NrcyB0aGUgYXVkaW8gb24gQW5kcm9pZCBDaHJvbWUgPj0gNTUuXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZi5jdHgucmVzdW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgc2VsZi5jdHgucmVzdW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXR1cCBhIHRpbWVvdXQgdG8gY2hlY2sgdGhhdCB3ZSBhcmUgdW5sb2NrZWQgb24gdGhlIG5leHQgZXZlbnQgbG9vcC5cbiAgICAgICAgc291cmNlLm9uZW5kZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzb3VyY2UuZGlzY29ubmVjdCgwKTtcblxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdW5sb2NrZWQgc3RhdGUgYW5kIHByZXZlbnQgdGhpcyBjaGVjayBmcm9tIGhhcHBlbmluZyBhZ2Fpbi5cbiAgICAgICAgICBzZWxmLl9hdWRpb1VubG9ja2VkID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB0aGUgdG91Y2ggc3RhcnQgbGlzdGVuZXIuXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHVubG9jaywgdHJ1ZSk7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdW5sb2NrLCB0cnVlKTtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdW5sb2NrLCB0cnVlKTtcblxuICAgICAgICAgIC8vIExldCBhbGwgc291bmRzIGtub3cgdGhhdCBhdWRpbyBoYXMgYmVlbiB1bmxvY2tlZC5cbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCd1bmxvY2snKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICAvLyBTZXR1cCBhIHRvdWNoIHN0YXJ0IGxpc3RlbmVyIHRvIGF0dGVtcHQgYW4gdW5sb2NrIGluLlxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHVubG9jaywgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHVubG9jaywgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVubG9jaywgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdW5sb2NrLCB0cnVlKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCBhbiB1bmxvY2tlZCBIVE1MNSBBdWRpbyBvYmplY3QgZnJvbSB0aGUgcG9vbC4gSWYgbm9uZSBhcmUgbGVmdCxcbiAgICAgKiByZXR1cm4gYSBuZXcgQXVkaW8gb2JqZWN0IGFuZCB0aHJvdyBhIHdhcm5pbmcuXG4gICAgICogQHJldHVybiB7QXVkaW99IEhUTUw1IEF1ZGlvIG9iamVjdC5cbiAgICAgKi9cbiAgICBfb2J0YWluSHRtbDVBdWRpbzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBSZXR1cm4gdGhlIG5leHQgb2JqZWN0IGZyb20gdGhlIHBvb2wgaWYgb25lIGV4aXN0cy5cbiAgICAgIGlmIChzZWxmLl9odG1sNUF1ZGlvUG9vbC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX2h0bWw1QXVkaW9Qb29sLnBvcCgpO1xuICAgICAgfVxuXG4gICAgICAvLy5DaGVjayBpZiB0aGUgYXVkaW8gaXMgbG9ja2VkIGFuZCB0aHJvdyBhIHdhcm5pbmcuXG4gICAgICB2YXIgdGVzdFBsYXkgPSBuZXcgQXVkaW8oKS5wbGF5KCk7XG4gICAgICBpZiAodGVzdFBsYXkgJiYgdHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmICh0ZXN0UGxheSBpbnN0YW5jZW9mIFByb21pc2UgfHwgdHlwZW9mIHRlc3RQbGF5LnRoZW4gPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHRlc3RQbGF5LmNhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignSFRNTDUgQXVkaW8gcG9vbCBleGhhdXN0ZWQsIHJldHVybmluZyBwb3RlbnRpYWxseSBsb2NrZWQgYXVkaW8gb2JqZWN0LicpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBBdWRpbygpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gYWN0aXZhdGVkIEhUTUw1IEF1ZGlvIG9iamVjdCB0byB0aGUgcG9vbC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3JlbGVhc2VIdG1sNUF1ZGlvOiBmdW5jdGlvbihhdWRpbykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgLy8gRG9uJ3QgYWRkIGF1ZGlvIHRvIHRoZSBwb29sIGlmIHdlIGRvbid0IGtub3cgaWYgaXQgaGFzIGJlZW4gdW5sb2NrZWQuXG4gICAgICBpZiAoYXVkaW8uX3VubG9ja2VkKSB7XG4gICAgICAgIHNlbGYuX2h0bWw1QXVkaW9Qb29sLnB1c2goYXVkaW8pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXV0b21hdGljYWxseSBzdXNwZW5kIHRoZSBXZWIgQXVkaW8gQXVkaW9Db250ZXh0IGFmdGVyIG5vIHNvdW5kIGhhcyBwbGF5ZWQgZm9yIDMwIHNlY29uZHMuXG4gICAgICogVGhpcyBzYXZlcyBwcm9jZXNzaW5nL2VuZXJneSBhbmQgZml4ZXMgdmFyaW91cyBicm93c2VyLXNwZWNpZmljIGJ1Z3Mgd2l0aCBhdWRpbyBnZXR0aW5nIHN0dWNrLlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBfYXV0b1N1c3BlbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoIXNlbGYuYXV0b1N1c3BlbmQgfHwgIXNlbGYuY3R4IHx8IHR5cGVvZiBzZWxmLmN0eC5zdXNwZW5kID09PSAndW5kZWZpbmVkJyB8fCAhSG93bGVyLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBpZiBhbnkgc291bmRzIGFyZSBwbGF5aW5nLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcbiAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8c2VsZi5faG93bHNbaV0uX3NvdW5kcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fc291bmRzW2pdLl9wYXVzZWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxmLl9zdXNwZW5kVGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3N1c3BlbmRUaW1lcik7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIHNvdW5kIGhhcyBwbGF5ZWQgYWZ0ZXIgMzAgc2Vjb25kcywgc3VzcGVuZCB0aGUgY29udGV4dC5cbiAgICAgIHNlbGYuX3N1c3BlbmRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghc2VsZi5hdXRvU3VzcGVuZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuX3N1c3BlbmRUaW1lciA9IG51bGw7XG4gICAgICAgIHNlbGYuc3RhdGUgPSAnc3VzcGVuZGluZyc7XG5cbiAgICAgICAgLy8gSGFuZGxlIHVwZGF0aW5nIHRoZSBzdGF0ZSBvZiB0aGUgYXVkaW8gY29udGV4dCBhZnRlciBzdXNwZW5kaW5nLlxuICAgICAgICB2YXIgaGFuZGxlU3VzcGVuc2lvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuc3RhdGUgPSAnc3VzcGVuZGVkJztcblxuICAgICAgICAgIGlmIChzZWxmLl9yZXN1bWVBZnRlclN1c3BlbmQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBzZWxmLl9yZXN1bWVBZnRlclN1c3BlbmQ7XG4gICAgICAgICAgICBzZWxmLl9hdXRvUmVzdW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEVpdGhlciB0aGUgc3RhdGUgZ2V0cyBzdXNwZW5kZWQgb3IgaXQgaXMgaW50ZXJydXB0ZWQuXG4gICAgICAgIC8vIEVpdGhlciB3YXksIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBzdGF0ZSB0byBzdXNwZW5kZWQuXG4gICAgICAgIHNlbGYuY3R4LnN1c3BlbmQoKS50aGVuKGhhbmRsZVN1c3BlbnNpb24sIGhhbmRsZVN1c3BlbnNpb24pO1xuICAgICAgfSwgMzAwMDApO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXV0b21hdGljYWxseSByZXN1bWUgdGhlIFdlYiBBdWRpbyBBdWRpb0NvbnRleHQgd2hlbiBhIG5ldyBzb3VuZCBpcyBwbGF5ZWQuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9hdXRvUmVzdW1lOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKCFzZWxmLmN0eCB8fCB0eXBlb2Ygc2VsZi5jdHgucmVzdW1lID09PSAndW5kZWZpbmVkJyB8fCAhSG93bGVyLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gJ3J1bm5pbmcnICYmIHNlbGYuY3R4LnN0YXRlICE9PSAnaW50ZXJydXB0ZWQnICYmIHNlbGYuX3N1c3BlbmRUaW1lcikge1xuICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fc3VzcGVuZFRpbWVyKTtcbiAgICAgICAgc2VsZi5fc3VzcGVuZFRpbWVyID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5zdGF0ZSA9PT0gJ3N1c3BlbmRlZCcgfHwgc2VsZi5zdGF0ZSA9PT0gJ3J1bm5pbmcnICYmIHNlbGYuY3R4LnN0YXRlID09PSAnaW50ZXJydXB0ZWQnKSB7XG4gICAgICAgIHNlbGYuY3R4LnJlc3VtZSgpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5zdGF0ZSA9ICdydW5uaW5nJztcblxuICAgICAgICAgIC8vIEVtaXQgdG8gYWxsIEhvd2xzIHRoYXQgdGhlIGF1ZGlvIGhhcyByZXN1bWVkLlxuICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc2VsZi5faG93bHNbaV0uX2VtaXQoJ3Jlc3VtZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHNlbGYuX3N1c3BlbmRUaW1lcikge1xuICAgICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgICAgIHNlbGYuX3N1c3BlbmRUaW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5zdGF0ZSA9PT0gJ3N1c3BlbmRpbmcnKSB7XG4gICAgICAgIHNlbGYuX3Jlc3VtZUFmdGVyU3VzcGVuZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cbiAgfTtcblxuICAvLyBTZXR1cCB0aGUgZ2xvYmFsIGF1ZGlvIGNvbnRyb2xsZXIuXG4gIHZhciBIb3dsZXIgPSBuZXcgSG93bGVyR2xvYmFsKCk7XG5cbiAgLyoqIEdyb3VwIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBhdWRpbyBncm91cCBjb250cm9sbGVyLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbyBQYXNzZWQgaW4gcHJvcGVydGllcyBmb3IgdGhpcyBncm91cC5cbiAgICovXG4gIHZhciBIb3dsID0gZnVuY3Rpb24obykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFRocm93IGFuIGVycm9yIGlmIG5vIHNvdXJjZSBpcyBwcm92aWRlZC5cbiAgICBpZiAoIW8uc3JjIHx8IG8uc3JjLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc29sZS5lcnJvcignQW4gYXJyYXkgb2Ygc291cmNlIGZpbGVzIG11c3QgYmUgcGFzc2VkIHdpdGggYW55IG5ldyBIb3dsLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNlbGYuaW5pdChvKTtcbiAgfTtcbiAgSG93bC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBIb3dsIGdyb3VwIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG8gUGFzc2VkIGluIHByb3BlcnRpZXMgZm9yIHRoaXMgZ3JvdXAuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbihvKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFIb3dsZXIuY3R4KSB7XG4gICAgICAgIHNldHVwQXVkaW9Db250ZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldHVwIHVzZXItZGVmaW5lZCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICBzZWxmLl9hdXRvcGxheSA9IG8uYXV0b3BsYXkgfHwgZmFsc2U7XG4gICAgICBzZWxmLl9mb3JtYXQgPSAodHlwZW9mIG8uZm9ybWF0ICE9PSAnc3RyaW5nJykgPyBvLmZvcm1hdCA6IFtvLmZvcm1hdF07XG4gICAgICBzZWxmLl9odG1sNSA9IG8uaHRtbDUgfHwgZmFsc2U7XG4gICAgICBzZWxmLl9tdXRlZCA9IG8ubXV0ZSB8fCBmYWxzZTtcbiAgICAgIHNlbGYuX2xvb3AgPSBvLmxvb3AgfHwgZmFsc2U7XG4gICAgICBzZWxmLl9wb29sID0gby5wb29sIHx8IDU7XG4gICAgICBzZWxmLl9wcmVsb2FkID0gKHR5cGVvZiBvLnByZWxvYWQgPT09ICdib29sZWFuJyB8fCBvLnByZWxvYWQgPT09ICdtZXRhZGF0YScpID8gby5wcmVsb2FkIDogdHJ1ZTtcbiAgICAgIHNlbGYuX3JhdGUgPSBvLnJhdGUgfHwgMTtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9IG8uc3ByaXRlIHx8IHt9O1xuICAgICAgc2VsZi5fc3JjID0gKHR5cGVvZiBvLnNyYyAhPT0gJ3N0cmluZycpID8gby5zcmMgOiBbby5zcmNdO1xuICAgICAgc2VsZi5fdm9sdW1lID0gby52b2x1bWUgIT09IHVuZGVmaW5lZCA/IG8udm9sdW1lIDogMTtcbiAgICAgIHNlbGYuX3hociA9IHtcbiAgICAgICAgbWV0aG9kOiBvLnhociAmJiBvLnhoci5tZXRob2QgPyBvLnhoci5tZXRob2QgOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczogby54aHIgJiYgby54aHIuaGVhZGVycyA/IG8ueGhyLmhlYWRlcnMgOiBudWxsLFxuICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IG8ueGhyICYmIG8ueGhyLndpdGhDcmVkZW50aWFscyA/IG8ueGhyLndpdGhDcmVkZW50aWFscyA6IGZhbHNlLFxuICAgICAgfTtcblxuICAgICAgLy8gU2V0dXAgYWxsIG90aGVyIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX2R1cmF0aW9uID0gMDtcbiAgICAgIHNlbGYuX3N0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xuICAgICAgc2VsZi5fZW5kVGltZXJzID0ge307XG4gICAgICBzZWxmLl9xdWV1ZSA9IFtdO1xuICAgICAgc2VsZi5fcGxheUxvY2sgPSBmYWxzZTtcblxuICAgICAgLy8gU2V0dXAgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgc2VsZi5fb25lbmQgPSBvLm9uZW5kID8gW3tmbjogby5vbmVuZH1dIDogW107XG4gICAgICBzZWxmLl9vbmZhZGUgPSBvLm9uZmFkZSA/IFt7Zm46IG8ub25mYWRlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ubG9hZCA9IG8ub25sb2FkID8gW3tmbjogby5vbmxvYWR9XSA6IFtdO1xuICAgICAgc2VsZi5fb25sb2FkZXJyb3IgPSBvLm9ubG9hZGVycm9yID8gW3tmbjogby5vbmxvYWRlcnJvcn1dIDogW107XG4gICAgICBzZWxmLl9vbnBsYXllcnJvciA9IG8ub25wbGF5ZXJyb3IgPyBbe2ZuOiBvLm9ucGxheWVycm9yfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucGF1c2UgPSBvLm9ucGF1c2UgPyBbe2ZuOiBvLm9ucGF1c2V9XSA6IFtdO1xuICAgICAgc2VsZi5fb25wbGF5ID0gby5vbnBsYXkgPyBbe2ZuOiBvLm9ucGxheX1dIDogW107XG4gICAgICBzZWxmLl9vbnN0b3AgPSBvLm9uc3RvcCA/IFt7Zm46IG8ub25zdG9wfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ubXV0ZSA9IG8ub25tdXRlID8gW3tmbjogby5vbm11dGV9XSA6IFtdO1xuICAgICAgc2VsZi5fb252b2x1bWUgPSBvLm9udm9sdW1lID8gW3tmbjogby5vbnZvbHVtZX1dIDogW107XG4gICAgICBzZWxmLl9vbnJhdGUgPSBvLm9ucmF0ZSA/IFt7Zm46IG8ub25yYXRlfV0gOiBbXTtcbiAgICAgIHNlbGYuX29uc2VlayA9IG8ub25zZWVrID8gW3tmbjogby5vbnNlZWt9XSA6IFtdO1xuICAgICAgc2VsZi5fb251bmxvY2sgPSBvLm9udW5sb2NrID8gW3tmbjogby5vbnVubG9ja31dIDogW107XG4gICAgICBzZWxmLl9vbnJlc3VtZSA9IFtdO1xuXG4gICAgICAvLyBXZWIgQXVkaW8gb3IgSFRNTDUgQXVkaW8/XG4gICAgICBzZWxmLl93ZWJBdWRpbyA9IEhvd2xlci51c2luZ1dlYkF1ZGlvICYmICFzZWxmLl9odG1sNTtcblxuICAgICAgLy8gQXV0b21hdGljYWxseSB0cnkgdG8gZW5hYmxlIGF1ZGlvLlxuICAgICAgaWYgKHR5cGVvZiBIb3dsZXIuY3R4ICE9PSAndW5kZWZpbmVkJyAmJiBIb3dsZXIuY3R4ICYmIEhvd2xlci5hdXRvVW5sb2NrKSB7XG4gICAgICAgIEhvd2xlci5fdW5sb2NrQXVkaW8oKTtcbiAgICAgIH1cblxuICAgICAgLy8gS2VlcCB0cmFjayBvZiB0aGlzIEhvd2wgZ3JvdXAgaW4gdGhlIGdsb2JhbCBjb250cm9sbGVyLlxuICAgICAgSG93bGVyLl9ob3dscy5wdXNoKHNlbGYpO1xuXG4gICAgICAvLyBJZiB0aGV5IHNlbGVjdGVkIGF1dG9wbGF5LCBhZGQgYSBwbGF5IGV2ZW50IHRvIHRoZSBsb2FkIHF1ZXVlLlxuICAgICAgaWYgKHNlbGYuX2F1dG9wbGF5KSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAncGxheScsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYucGxheSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIExvYWQgdGhlIHNvdXJjZSBmaWxlIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICAgICAgaWYgKHNlbGYuX3ByZWxvYWQgJiYgc2VsZi5fcHJlbG9hZCAhPT0gJ25vbmUnKSB7XG4gICAgICAgIHNlbGYubG9hZCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgYXVkaW8gZmlsZS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgbG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgdXJsID0gbnVsbDtcblxuICAgICAgLy8gSWYgbm8gYXVkaW8gaXMgYXZhaWxhYmxlLCBxdWl0IGltbWVkaWF0ZWx5LlxuICAgICAgaWYgKEhvd2xlci5ub0F1ZGlvKSB7XG4gICAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdObyBhdWRpbyBzdXBwb3J0LicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIE1ha2Ugc3VyZSBvdXIgc291cmNlIGlzIGluIGFuIGFycmF5LlxuICAgICAgaWYgKHR5cGVvZiBzZWxmLl9zcmMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHNlbGYuX3NyYyA9IFtzZWxmLl9zcmNdO1xuICAgICAgfVxuXG4gICAgICAvLyBMb29wIHRocm91Z2ggdGhlIHNvdXJjZXMgYW5kIHBpY2sgdGhlIGZpcnN0IG9uZSB0aGF0IGlzIGNvbXBhdGlibGUuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc3JjLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBleHQsIHN0cjtcblxuICAgICAgICBpZiAoc2VsZi5fZm9ybWF0ICYmIHNlbGYuX2Zvcm1hdFtpXSkge1xuICAgICAgICAgIC8vIElmIGFuIGV4dGVuc2lvbiB3YXMgc3BlY2lmaWVkLCB1c2UgdGhhdCBpbnN0ZWFkLlxuICAgICAgICAgIGV4dCA9IHNlbGYuX2Zvcm1hdFtpXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvdXJjZSBpcyBhIHN0cmluZy5cbiAgICAgICAgICBzdHIgPSBzZWxmLl9zcmNbaV07XG4gICAgICAgICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm9uLXN0cmluZyBmb3VuZCBpbiBzZWxlY3RlZCBhdWRpbyBzb3VyY2VzIC0gaWdub3JpbmcuJyk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBFeHRyYWN0IHRoZSBmaWxlIGV4dGVuc2lvbiBmcm9tIHRoZSBVUkwgb3IgYmFzZTY0IGRhdGEgVVJJLlxuICAgICAgICAgIGV4dCA9IC9eZGF0YTphdWRpb1xcLyhbXjssXSspOy9pLmV4ZWMoc3RyKTtcbiAgICAgICAgICBpZiAoIWV4dCkge1xuICAgICAgICAgICAgZXh0ID0gL1xcLihbXi5dKykkLy5leGVjKHN0ci5zcGxpdCgnPycsIDEpWzBdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZXh0KSB7XG4gICAgICAgICAgICBleHQgPSBleHRbMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMb2cgYSB3YXJuaW5nIGlmIG5vIGV4dGVuc2lvbiB3YXMgZm91bmQuXG4gICAgICAgIGlmICghZXh0KSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdObyBmaWxlIGV4dGVuc2lvbiB3YXMgZm91bmQuIENvbnNpZGVyIHVzaW5nIHRoZSBcImZvcm1hdFwiIHByb3BlcnR5IG9yIHNwZWNpZnkgYW4gZXh0ZW5zaW9uLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBleHRlbnNpb24gaXMgYXZhaWxhYmxlLlxuICAgICAgICBpZiAoZXh0ICYmIEhvd2xlci5jb2RlY3MoZXh0KSkge1xuICAgICAgICAgIHVybCA9IHNlbGYuX3NyY1tpXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXVybCkge1xuICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm8gY29kZWMgc3VwcG9ydCBmb3Igc2VsZWN0ZWQgYXVkaW8gc291cmNlcy4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9zcmMgPSB1cmw7XG4gICAgICBzZWxmLl9zdGF0ZSA9ICdsb2FkaW5nJztcblxuICAgICAgLy8gSWYgdGhlIGhvc3RpbmcgcGFnZSBpcyBIVFRQUyBhbmQgdGhlIHNvdXJjZSBpc24ndCxcbiAgICAgIC8vIGRyb3AgZG93biB0byBIVE1MNSBBdWRpbyB0byBhdm9pZCBNaXhlZCBDb250ZW50IGVycm9ycy5cbiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonICYmIHVybC5zbGljZSgwLCA1KSA9PT0gJ2h0dHA6Jykge1xuICAgICAgICBzZWxmLl9odG1sNSA9IHRydWU7XG4gICAgICAgIHNlbGYuX3dlYkF1ZGlvID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBzb3VuZCBvYmplY3QgYW5kIGFkZCBpdCB0byB0aGUgcG9vbC5cbiAgICAgIG5ldyBTb3VuZChzZWxmKTtcblxuICAgICAgLy8gTG9hZCBhbmQgZGVjb2RlIHRoZSBhdWRpbyBkYXRhIGZvciBwbGF5YmFjay5cbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICBsb2FkQnVmZmVyKHNlbGYpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGxheSBhIHNvdW5kIG9yIHJlc3VtZSBwcmV2aW91cyBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmcvTnVtYmVyfSBzcHJpdGUgICBTcHJpdGUgbmFtZSBmb3Igc3ByaXRlIHBsYXliYWNrIG9yIHNvdW5kIGlkIHRvIGNvbnRpbnVlIHByZXZpb3VzLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGludGVybmFsIEludGVybmFsIFVzZTogdHJ1ZSBwcmV2ZW50cyBldmVudCBmaXJpbmcuXG4gICAgICogQHJldHVybiB7TnVtYmVyfSAgICAgICAgICBTb3VuZCBJRC5cbiAgICAgKi9cbiAgICBwbGF5OiBmdW5jdGlvbihzcHJpdGUsIGludGVybmFsKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgaWQgPSBudWxsO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgaWYgYSBzcHJpdGUsIHNvdW5kIGlkIG9yIG5vdGhpbmcgd2FzIHBhc3NlZFxuICAgICAgaWYgKHR5cGVvZiBzcHJpdGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlkID0gc3ByaXRlO1xuICAgICAgICBzcHJpdGUgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ByaXRlID09PSAnc3RyaW5nJyAmJiBzZWxmLl9zdGF0ZSA9PT0gJ2xvYWRlZCcgJiYgIXNlbGYuX3Nwcml0ZVtzcHJpdGVdKSB7XG4gICAgICAgIC8vIElmIHRoZSBwYXNzZWQgc3ByaXRlIGRvZXNuJ3QgZXhpc3QsIGRvIG5vdGhpbmcuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ByaXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBVc2UgdGhlIGRlZmF1bHQgc291bmQgc3ByaXRlIChwbGF5cyB0aGUgZnVsbCBhdWRpbyBsZW5ndGgpLlxuICAgICAgICBzcHJpdGUgPSAnX19kZWZhdWx0JztcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHNpbmdsZSBwYXVzZWQgc291bmQgdGhhdCBpc24ndCBlbmRlZC5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMsIHBsYXkgdGhhdCBzb3VuZC4gSWYgbm90LCBjb250aW51ZSBhcyB1c3VhbC5cbiAgICAgICAgaWYgKCFzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICAgIHZhciBudW0gPSAwO1xuICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX3BhdXNlZCAmJiAhc2VsZi5fc291bmRzW2ldLl9lbmRlZCkge1xuICAgICAgICAgICAgICBudW0rKztcbiAgICAgICAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbaV0uX2lkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChudW0gPT09IDEpIHtcbiAgICAgICAgICAgIHNwcml0ZSA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlkID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHRoZSBzZWxlY3RlZCBub2RlLCBvciBnZXQgb25lIGZyb20gdGhlIHBvb2wuXG4gICAgICB2YXIgc291bmQgPSBpZCA/IHNlbGYuX3NvdW5kQnlJZChpZCkgOiBzZWxmLl9pbmFjdGl2ZVNvdW5kKCk7XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBkb2Vzbid0IGV4aXN0LCBkbyBub3RoaW5nLlxuICAgICAgaWYgKCFzb3VuZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gU2VsZWN0IHRoZSBzcHJpdGUgZGVmaW5pdGlvbi5cbiAgICAgIGlmIChpZCAmJiAhc3ByaXRlKSB7XG4gICAgICAgIHNwcml0ZSA9IHNvdW5kLl9zcHJpdGUgfHwgJ19fZGVmYXVsdCc7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCB3ZSBtdXN0IHdhaXQgdG8gZ2V0IHRoZSBhdWRpbydzIGR1cmF0aW9uLlxuICAgICAgLy8gV2UgYWxzbyBuZWVkIHRvIHdhaXQgdG8gbWFrZSBzdXJlIHdlIGRvbid0IHJ1biBpbnRvIHJhY2UgY29uZGl0aW9ucyB3aXRoXG4gICAgICAvLyB0aGUgb3JkZXIgb2YgZnVuY3Rpb24gY2FsbHMuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgIC8vIFNldCB0aGUgc3ByaXRlIHZhbHVlIG9uIHRoaXMgc291bmQuXG4gICAgICAgIHNvdW5kLl9zcHJpdGUgPSBzcHJpdGU7XG5cbiAgICAgICAgLy8gTWFyayB0aGlzIHNvdW5kIGFzIG5vdCBlbmRlZCBpbiBjYXNlIGFub3RoZXIgc291bmQgaXMgcGxheWVkIGJlZm9yZSB0aGlzIG9uZSBsb2Fkcy5cbiAgICAgICAgc291bmQuX2VuZGVkID0gZmFsc2U7XG5cbiAgICAgICAgLy8gQWRkIHRoZSBzb3VuZCB0byB0aGUgcXVldWUgdG8gYmUgcGxheWVkIG9uIGxvYWQuXG4gICAgICAgIHZhciBzb3VuZElkID0gc291bmQuX2lkO1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3BsYXknLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnBsYXkoc291bmRJZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc291bmRJZDtcbiAgICAgIH1cblxuICAgICAgLy8gRG9uJ3QgcGxheSB0aGUgc291bmQgaWYgYW4gaWQgd2FzIHBhc3NlZCBhbmQgaXQgaXMgYWxyZWFkeSBwbGF5aW5nLlxuICAgICAgaWYgKGlkICYmICFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICAgIC8vIFRyaWdnZXIgdGhlIHBsYXkgZXZlbnQsIGluIG9yZGVyIHRvIGtlZXAgaXRlcmF0aW5nIHRocm91Z2ggcXVldWUuXG4gICAgICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgICAgICBzZWxmLl9sb2FkUXVldWUoJ3BsYXknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzb3VuZC5faWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgQXVkaW9Db250ZXh0IGlzbid0IHN1c3BlbmRlZCwgYW5kIHJlc3VtZSBpdCBpZiBpdCBpcy5cbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICBIb3dsZXIuX2F1dG9SZXN1bWUoKTtcbiAgICAgIH1cblxuICAgICAgLy8gRGV0ZXJtaW5lIGhvdyBsb25nIHRvIHBsYXkgZm9yIGFuZCB3aGVyZSB0byBzdGFydCBwbGF5aW5nLlxuICAgICAgdmFyIHNlZWsgPSBNYXRoLm1heCgwLCBzb3VuZC5fc2VlayA+IDAgPyBzb3VuZC5fc2VlayA6IHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzBdIC8gMTAwMCk7XG4gICAgICB2YXIgZHVyYXRpb24gPSBNYXRoLm1heCgwLCAoKHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzBdICsgc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMV0pIC8gMTAwMCkgLSBzZWVrKTtcbiAgICAgIHZhciB0aW1lb3V0ID0gKGR1cmF0aW9uICogMTAwMCkgLyBNYXRoLmFicyhzb3VuZC5fcmF0ZSk7XG4gICAgICB2YXIgc3RhcnQgPSBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDA7XG4gICAgICB2YXIgc3RvcCA9IChzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzFdKSAvIDEwMDA7XG4gICAgICBzb3VuZC5fc3ByaXRlID0gc3ByaXRlO1xuXG4gICAgICAvLyBNYXJrIHRoZSBzb3VuZCBhcyBlbmRlZCBpbnN0YW50bHkgc28gdGhhdCB0aGlzIGFzeW5jIHBsYXliYWNrXG4gICAgICAvLyBkb2Vzbid0IGdldCBncmFiYmVkIGJ5IGFub3RoZXIgY2FsbCB0byBwbGF5IHdoaWxlIHRoaXMgb25lIHdhaXRzIHRvIHN0YXJ0LlxuICAgICAgc291bmQuX2VuZGVkID0gZmFsc2U7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgcGFyYW1ldGVycyBvZiB0aGUgc291bmQuXG4gICAgICB2YXIgc2V0UGFyYW1zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNvdW5kLl9wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgc291bmQuX3NlZWsgPSBzZWVrO1xuICAgICAgICBzb3VuZC5fc3RhcnQgPSBzdGFydDtcbiAgICAgICAgc291bmQuX3N0b3AgPSBzdG9wO1xuICAgICAgICBzb3VuZC5fbG9vcCA9ICEhKHNvdW5kLl9sb29wIHx8IHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzJdKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIEVuZCB0aGUgc291bmQgaW5zdGFudGx5IGlmIHNlZWsgaXMgYXQgdGhlIGVuZC5cbiAgICAgIGlmIChzZWVrID49IHN0b3ApIHtcbiAgICAgICAgc2VsZi5fZW5kZWQoc291bmQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEJlZ2luIHRoZSBhY3R1YWwgcGxheWJhY2suXG4gICAgICB2YXIgbm9kZSA9IHNvdW5kLl9ub2RlO1xuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIEZpcmUgdGhpcyB3aGVuIHRoZSBzb3VuZCBpcyByZWFkeSB0byBwbGF5IHRvIGJlZ2luIFdlYiBBdWRpbyBwbGF5YmFjay5cbiAgICAgICAgdmFyIHBsYXlXZWJBdWRpbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG4gICAgICAgICAgc2V0UGFyYW1zKCk7XG4gICAgICAgICAgc2VsZi5fcmVmcmVzaEJ1ZmZlcihzb3VuZCk7XG5cbiAgICAgICAgICAvLyBTZXR1cCB0aGUgcGxheWJhY2sgcGFyYW1zLlxuICAgICAgICAgIHZhciB2b2wgPSAoc291bmQuX211dGVkIHx8IHNlbGYuX211dGVkKSA/IDAgOiBzb3VuZC5fdm9sdW1lO1xuICAgICAgICAgIG5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgIHNvdW5kLl9wbGF5U3RhcnQgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xuXG4gICAgICAgICAgLy8gUGxheSB0aGUgc291bmQgdXNpbmcgdGhlIHN1cHBvcnRlZCBtZXRob2QuXG4gICAgICAgICAgaWYgKHR5cGVvZiBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHNvdW5kLl9sb29wID8gbm9kZS5idWZmZXJTb3VyY2Uubm90ZUdyYWluT24oMCwgc2VlaywgODY0MDApIDogbm9kZS5idWZmZXJTb3VyY2Uubm90ZUdyYWluT24oMCwgc2VlaywgZHVyYXRpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzb3VuZC5fbG9vcCA/IG5vZGUuYnVmZmVyU291cmNlLnN0YXJ0KDAsIHNlZWssIDg2NDAwKSA6IG5vZGUuYnVmZmVyU291cmNlLnN0YXJ0KDAsIHNlZWssIGR1cmF0aW9uKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTdGFydCBhIG5ldyB0aW1lciBpZiBub25lIGlzIHByZXNlbnQuXG4gICAgICAgICAgaWYgKHRpbWVvdXQgIT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xuICAgICAgICAgICAgICBzZWxmLl9sb2FkUXVldWUoKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoSG93bGVyLnN0YXRlID09PSAncnVubmluZycgJiYgSG93bGVyLmN0eC5zdGF0ZSAhPT0gJ2ludGVycnVwdGVkJykge1xuICAgICAgICAgIHBsYXlXZWJBdWRpbygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBhdWRpbyBjb250ZXh0IHRvIHJlc3VtZSBiZWZvcmUgcGxheWluZy5cbiAgICAgICAgICBzZWxmLm9uY2UoJ3Jlc3VtZScsIHBsYXlXZWJBdWRpbyk7XG5cbiAgICAgICAgICAvLyBDYW5jZWwgdGhlIGVuZCB0aW1lci5cbiAgICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kLl9pZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZpcmUgdGhpcyB3aGVuIHRoZSBzb3VuZCBpcyByZWFkeSB0byBwbGF5IHRvIGJlZ2luIEhUTUw1IEF1ZGlvIHBsYXliYWNrLlxuICAgICAgICB2YXIgcGxheUh0bWw1ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbm9kZS5jdXJyZW50VGltZSA9IHNlZWs7XG4gICAgICAgICAgbm9kZS5tdXRlZCA9IHNvdW5kLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCB8fCBIb3dsZXIuX211dGVkIHx8IG5vZGUubXV0ZWQ7XG4gICAgICAgICAgbm9kZS52b2x1bWUgPSBzb3VuZC5fdm9sdW1lICogSG93bGVyLnZvbHVtZSgpO1xuICAgICAgICAgIG5vZGUucGxheWJhY2tSYXRlID0gc291bmQuX3JhdGU7XG5cbiAgICAgICAgICAvLyBTb21lIGJyb3dzZXJzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhpcyBpcyBjYWxsZWQgd2l0aG91dCB1c2VyIGludGVyYWN0aW9uLlxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgcGxheSA9IG5vZGUucGxheSgpO1xuXG4gICAgICAgICAgICAvLyBTdXBwb3J0IG9sZGVyIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBwcm9taXNlcywgYW5kIHRodXMgZG9uJ3QgaGF2ZSB0aGlzIGlzc3VlLlxuICAgICAgICAgICAgaWYgKHBsYXkgJiYgdHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIChwbGF5IGluc3RhbmNlb2YgUHJvbWlzZSB8fCB0eXBlb2YgcGxheS50aGVuID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICAgICAgICAvLyBJbXBsZW1lbnRzIGEgbG9jayB0byBwcmV2ZW50IERPTUV4Y2VwdGlvbjogVGhlIHBsYXkoKSByZXF1ZXN0IHdhcyBpbnRlcnJ1cHRlZCBieSBhIGNhbGwgdG8gcGF1c2UoKS5cbiAgICAgICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIC8vIFNldCBwYXJhbSB2YWx1ZXMgaW1tZWRpYXRlbHkuXG4gICAgICAgICAgICAgIHNldFBhcmFtcygpO1xuXG4gICAgICAgICAgICAgIC8vIFJlbGVhc2VzIHRoZSBsb2NrIGFuZCBleGVjdXRlcyBxdWV1ZWQgYWN0aW9ucy5cbiAgICAgICAgICAgICAgcGxheVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIG5vZGUuX3VubG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheScsIHNvdW5kLl9pZCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9sb2FkUXVldWUoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5ZXJyb3InLCBzb3VuZC5faWQsICdQbGF5YmFjayB3YXMgdW5hYmxlIHRvIHN0YXJ0LiBUaGlzIGlzIG1vc3QgY29tbW9ubHkgYW4gaXNzdWUgJyArXG4gICAgICAgICAgICAgICAgICAgICdvbiBtb2JpbGUgZGV2aWNlcyBhbmQgQ2hyb21lIHdoZXJlIHBsYXliYWNrIHdhcyBub3Qgd2l0aGluIGEgdXNlciBpbnRlcmFjdGlvbi4nKTtcblxuICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgdGhlIGVuZGVkIGFuZCBwYXVzZWQgdmFsdWVzLlxuICAgICAgICAgICAgICAgICAgc291bmQuX2VuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaW50ZXJuYWwpIHtcbiAgICAgICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgc2V0UGFyYW1zKCk7XG4gICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTZXR0aW5nIHJhdGUgYmVmb3JlIHBsYXlpbmcgd29uJ3Qgd29yayBpbiBJRSwgc28gd2Ugc2V0IGl0IGFnYWluIGhlcmUuXG4gICAgICAgICAgICBub2RlLnBsYXliYWNrUmF0ZSA9IHNvdW5kLl9yYXRlO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGUgbm9kZSBpcyBzdGlsbCBwYXVzZWQsIHRoZW4gd2UgY2FuIGFzc3VtZSB0aGVyZSB3YXMgYSBwbGF5YmFjayBpc3N1ZS5cbiAgICAgICAgICAgIGlmIChub2RlLnBhdXNlZCkge1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5ZXJyb3InLCBzb3VuZC5faWQsICdQbGF5YmFjayB3YXMgdW5hYmxlIHRvIHN0YXJ0LiBUaGlzIGlzIG1vc3QgY29tbW9ubHkgYW4gaXNzdWUgJyArXG4gICAgICAgICAgICAgICAgJ29uIG1vYmlsZSBkZXZpY2VzIGFuZCBDaHJvbWUgd2hlcmUgcGxheWJhY2sgd2FzIG5vdCB3aXRoaW4gYSB1c2VyIGludGVyYWN0aW9uLicpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNldHVwIHRoZSBlbmQgdGltZXIgb24gc3ByaXRlcyBvciBsaXN0ZW4gZm9yIHRoZSBlbmRlZCBldmVudC5cbiAgICAgICAgICAgIGlmIChzcHJpdGUgIT09ICdfX2RlZmF1bHQnIHx8IHNvdW5kLl9sb29wKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIEZpcmUgZW5kZWQgb24gdGhpcyBhdWRpbyBub2RlLlxuICAgICAgICAgICAgICAgIHNlbGYuX2VuZGVkKHNvdW5kKTtcblxuICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoaXMgbGlzdGVuZXIuXG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdLCBmYWxzZSk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCBlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJZiB0aGlzIGlzIHN0cmVhbWluZyBhdWRpbywgbWFrZSBzdXJlIHRoZSBzcmMgaXMgc2V0IGFuZCBsb2FkIGFnYWluLlxuICAgICAgICBpZiAobm9kZS5zcmMgPT09ICdkYXRhOmF1ZGlvL3dhdjtiYXNlNjQsVWtsR1JpZ0FBQUJYUVZaRlptMTBJQklBQUFBQkFBRUFSS3dBQUloWUFRQUNBQkFBQUFCa1lYUmhBZ0FBQUFFQScpIHtcbiAgICAgICAgICBub2RlLnNyYyA9IHNlbGYuX3NyYztcbiAgICAgICAgICBub2RlLmxvYWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBsYXkgaW1tZWRpYXRlbHkgaWYgcmVhZHksIG9yIHdhaXQgZm9yIHRoZSAnY2FucGxheXRocm91Z2gnZSB2ZW50LlxuICAgICAgICB2YXIgbG9hZGVkTm9SZWFkeVN0YXRlID0gKHdpbmRvdyAmJiB3aW5kb3cuZWplY3RhKSB8fCAoIW5vZGUucmVhZHlTdGF0ZSAmJiBIb3dsZXIuX25hdmlnYXRvci5pc0NvY29vbkpTKTtcbiAgICAgICAgaWYgKG5vZGUucmVhZHlTdGF0ZSA+PSAzIHx8IGxvYWRlZE5vUmVhZHlTdGF0ZSkge1xuICAgICAgICAgIHBsYXlIdG1sNSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLl9zdGF0ZSA9ICdsb2FkaW5nJztcblxuICAgICAgICAgIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQmVnaW4gcGxheWJhY2suXG4gICAgICAgICAgICBwbGF5SHRtbDUoKTtcblxuICAgICAgICAgICAgLy8gQ2xlYXIgdGhpcyBsaXN0ZW5lci5cbiAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcblxuICAgICAgICAgIC8vIENhbmNlbCB0aGUgZW5kIHRpbWVyLlxuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc291bmQuX2lkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQYXVzZSBwbGF5YmFjayBhbmQgc2F2ZSBjdXJyZW50IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElEIChlbXB0eSB0byBwYXVzZSBhbGwgaW4gZ3JvdXApLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgcGF1c2U6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkIG9yIGEgcGxheSgpIHByb21pc2UgaXMgcGVuZGluZywgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIHBhdXNlIHdoZW4gY2FwYWJsZS5cbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdwYXVzZScsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYucGF1c2UoaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIHBhdXNlZC5cbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gQ2xlYXIgdGhlIGVuZCB0aW1lci5cbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZHNbaV0pO1xuXG4gICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICAgIGlmIChzb3VuZCAmJiAhc291bmQuX3BhdXNlZCkge1xuICAgICAgICAgIC8vIFJlc2V0IHRoZSBzZWVrIHBvc2l0aW9uLlxuICAgICAgICAgIHNvdW5kLl9zZWVrID0gc2VsZi5zZWVrKGlkc1tpXSk7XG4gICAgICAgICAgc291bmQuX3JhdGVTZWVrID0gMDtcbiAgICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFN0b3AgY3VycmVudGx5IHJ1bm5pbmcgZmFkZXMuXG4gICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRzW2ldKTtcblxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgc291bmQgaGFzIGJlZW4gY3JlYXRlZC5cbiAgICAgICAgICAgICAgaWYgKCFzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX25vZGUuYnVmZmVyU291cmNlLnN0b3AgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLm5vdGVPZmYoMCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnN0b3AoMCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBDbGVhbiB1cCB0aGUgYnVmZmVyIHNvdXJjZS5cbiAgICAgICAgICAgICAgc2VsZi5fY2xlYW5CdWZmZXIoc291bmQuX25vZGUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oc291bmQuX25vZGUuZHVyYXRpb24pIHx8IHNvdW5kLl9ub2RlLmR1cmF0aW9uID09PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5wYXVzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpcmUgdGhlIHBhdXNlIGV2ZW50LCB1bmxlc3MgYHRydWVgIGlzIHBhc3NlZCBhcyB0aGUgMm5kIGFyZ3VtZW50LlxuICAgICAgICBpZiAoIWFyZ3VtZW50c1sxXSkge1xuICAgICAgICAgIHNlbGYuX2VtaXQoJ3BhdXNlJywgc291bmQgPyBzb3VuZC5faWQgOiBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3RvcCBwbGF5YmFjayBhbmQgcmVzZXQgdG8gc3RhcnQuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgSUQgKGVtcHR5IHRvIHN0b3AgYWxsIGluIGdyb3VwKS5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpbnRlcm5hbCBJbnRlcm5hbCBVc2U6IHRydWUgcHJldmVudHMgZXZlbnQgZmlyaW5nLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgc3RvcDogZnVuY3Rpb24oaWQsIGludGVybmFsKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gc3RvcCB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnc3RvcCcsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuc3RvcChpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgc3RvcHBlZC5cbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gQ2xlYXIgdGhlIGVuZCB0aW1lci5cbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZHNbaV0pO1xuXG4gICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgIC8vIFJlc2V0IHRoZSBzZWVrIHBvc2l0aW9uLlxuICAgICAgICAgIHNvdW5kLl9zZWVrID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgICAgc291bmQuX3JhdGVTZWVrID0gMDtcbiAgICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICBzb3VuZC5fZW5kZWQgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gU3RvcCBjdXJyZW50bHkgcnVubmluZyBmYWRlcy5cbiAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VuZCdzIEF1ZGlvQnVmZmVyU291cmNlTm9kZSBoYXMgYmVlbiBjcmVhdGVkLlxuICAgICAgICAgICAgICBpZiAoc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5ub3RlT2ZmKDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCgwKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCB0aGUgYnVmZmVyIHNvdXJjZS5cbiAgICAgICAgICAgICAgICBzZWxmLl9jbGVhbkJ1ZmZlcihzb3VuZC5fbm9kZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSB8fCBzb3VuZC5fbm9kZS5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuY3VycmVudFRpbWUgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUucGF1c2UoKTtcblxuICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgbGl2ZSBzdHJlYW0sIHN0b3AgZG93bmxvYWQgb25jZSB0aGUgYXVkaW8gaXMgc3RvcHBlZC5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kLl9ub2RlLmR1cmF0aW9uID09PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICAgIHNlbGYuX2NsZWFyU291bmQoc291bmQuX25vZGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFpbnRlcm5hbCkge1xuICAgICAgICAgICAgc2VsZi5fZW1pdCgnc3RvcCcsIHNvdW5kLl9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNdXRlL3VubXV0ZSBhIHNpbmdsZSBzb3VuZCBvciBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBtdXRlZCBTZXQgdG8gdHJ1ZSB0byBtdXRlIGFuZCBmYWxzZSB0byB1bm11dGUuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAgICBUaGUgc291bmQgSUQgdG8gdXBkYXRlIChvbWl0IHRvIG11dGUvdW5tdXRlIGFsbCkuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBtdXRlOiBmdW5jdGlvbihtdXRlZCwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBtdXRlIHdoZW4gY2FwYWJsZS5cbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCd8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ211dGUnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLm11dGUobXV0ZWQsIGlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBhcHBseWluZyBtdXRlL3VubXV0ZSB0byBhbGwgc291bmRzLCB1cGRhdGUgdGhlIGdyb3VwJ3MgdmFsdWUuXG4gICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAodHlwZW9mIG11dGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBzZWxmLl9tdXRlZCA9IG11dGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzZWxmLl9tdXRlZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBtdXRlZC5cbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgc291bmQuX211dGVkID0gbXV0ZWQ7XG5cbiAgICAgICAgICAvLyBDYW5jZWwgYWN0aXZlIGZhZGUgYW5kIHNldCB0aGUgdm9sdW1lIHRvIHRoZSBlbmQgdmFsdWUuXG4gICAgICAgICAgaWYgKHNvdW5kLl9pbnRlcnZhbCkge1xuICAgICAgICAgICAgc2VsZi5fc3RvcEZhZGUoc291bmQuX2lkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUobXV0ZWQgPyAwIDogc291bmQuX3ZvbHVtZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUubXV0ZWQgPSBIb3dsZXIuX211dGVkID8gdHJ1ZSA6IG11dGVkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ211dGUnLCBzb3VuZC5faWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSB2b2x1bWUgb2YgdGhpcyBzb3VuZCBvciBvZiB0aGUgSG93bCBncm91cC4gVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxuICAgICAqICAgdm9sdW1lKCkgLT4gUmV0dXJucyB0aGUgZ3JvdXAncyB2b2x1bWUgdmFsdWUuXG4gICAgICogICB2b2x1bWUoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgY3VycmVudCB2b2x1bWUuXG4gICAgICogICB2b2x1bWUodm9sKSAtPiBTZXRzIHRoZSB2b2x1bWUgb2YgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAgICogICB2b2x1bWUodm9sLCBpZCkgLT4gU2V0cyB0aGUgdm9sdW1lIG9mIHBhc3NlZCBzb3VuZCBpZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gUmV0dXJucyBzZWxmIG9yIGN1cnJlbnQgdm9sdW1lLlxuICAgICAqL1xuICAgIHZvbHVtZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciB2b2wsIGlkO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZ3JvdXBzJyB2b2x1bWUuXG4gICAgICAgIHJldHVybiBzZWxmLl92b2x1bWU7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxIHx8IGFyZ3MubGVuZ3RoID09PSAyICYmIHR5cGVvZiBhcmdzWzFdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGlzIGlzIGFuIElELCBhbmQgaWYgbm90LCBhc3N1bWUgaXQgaXMgYSBuZXcgdm9sdW1lLlxuICAgICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoKTtcbiAgICAgICAgdmFyIGluZGV4ID0gaWRzLmluZGV4T2YoYXJnc1swXSk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzBdLCAxMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdm9sID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIHZvbCA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XG4gICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgdGhlIHZvbHVtZSBvciByZXR1cm4gdGhlIGN1cnJlbnQgdm9sdW1lLlxuICAgICAgdmFyIHNvdW5kO1xuICAgICAgaWYgKHR5cGVvZiB2b2wgIT09ICd1bmRlZmluZWQnICYmIHZvbCA+PSAwICYmIHZvbCA8PSAxKSB7XG4gICAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHZvbHVtZSB3aGVuIGNhcGFibGUuXG4gICAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCd8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgICAgZXZlbnQ6ICd2b2x1bWUnLFxuICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgc2VsZi52b2x1bWUuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgZ3JvdXAgdm9sdW1lLlxuICAgICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHNlbGYuX3ZvbHVtZSA9IHZvbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBvbmUgb3IgYWxsIHZvbHVtZXMuXG4gICAgICAgIGlkID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8aWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkW2ldKTtcblxuICAgICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgICAgc291bmQuX3ZvbHVtZSA9IHZvbDtcblxuICAgICAgICAgICAgLy8gU3RvcCBjdXJyZW50bHkgcnVubmluZyBmYWRlcy5cbiAgICAgICAgICAgIGlmICghYXJnc1syXSkge1xuICAgICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZFtpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiAhc291bmQuX211dGVkKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc291bmQuX25vZGUgJiYgIXNvdW5kLl9tdXRlZCkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS52b2x1bWUgPSB2b2wgKiBIb3dsZXIudm9sdW1lKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3ZvbHVtZScsIHNvdW5kLl9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZCA9IGlkID8gc2VsZi5fc291bmRCeUlkKGlkKSA6IHNlbGYuX3NvdW5kc1swXTtcbiAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX3ZvbHVtZSA6IDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGYWRlIGEgY3VycmVudGx5IHBsYXlpbmcgc291bmQgYmV0d2VlbiB0d28gdm9sdW1lcyAoaWYgbm8gaWQgaXMgcGFzc2VkLCBhbGwgc291bmRzIHdpbGwgZmFkZSkuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBmcm9tIFRoZSB2YWx1ZSB0byBmYWRlIGZyb20gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdG8gICBUaGUgdm9sdW1lIHRvIGZhZGUgdG8gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbGVuICBUaW1lIGluIG1pbGxpc2Vjb25kcyB0byBmYWRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICBUaGUgc291bmQgaWQgKG9taXQgdG8gZmFkZSBhbGwgc291bmRzKS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIGZhZGU6IGZ1bmN0aW9uKGZyb20sIHRvLCBsZW4sIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gZmFkZSB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnZmFkZScsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuZmFkZShmcm9tLCB0bywgbGVuLCBpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gTWFrZSBzdXJlIHRoZSB0by9mcm9tL2xlbiB2YWx1ZXMgYXJlIG51bWJlcnMuXG4gICAgICBmcm9tID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgcGFyc2VGbG9hdChmcm9tKSksIDEpO1xuICAgICAgdG8gPSBNYXRoLm1pbihNYXRoLm1heCgwLCBwYXJzZUZsb2F0KHRvKSksIDEpO1xuICAgICAgbGVuID0gcGFyc2VGbG9hdChsZW4pO1xuXG4gICAgICAvLyBTZXQgdGhlIHZvbHVtZSB0byB0aGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICBzZWxmLnZvbHVtZShmcm9tLCBpZCk7XG5cbiAgICAgIC8vIEZhZGUgdGhlIHZvbHVtZSBvZiBvbmUgb3IgYWxsIHNvdW5kcy5cbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhIGxpbmVhciBmYWRlIG9yIGZhbGwgYmFjayB0byB0aW1lb3V0cyB3aXRoIEhUTUw1IEF1ZGlvLlxuICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAvLyBTdG9wIHRoZSBwcmV2aW91cyBmYWRlIGlmIG5vIHNwcml0ZSBpcyBiZWluZyB1c2VkIChvdGhlcndpc2UsIHZvbHVtZSBoYW5kbGVzIHRoaXMpLlxuICAgICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkc1tpXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSWYgd2UgYXJlIHVzaW5nIFdlYiBBdWRpbywgbGV0IHRoZSBuYXRpdmUgbWV0aG9kcyBkbyB0aGUgYWN0dWFsIGZhZGUuXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmICFzb3VuZC5fbXV0ZWQpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IEhvd2xlci5jdHguY3VycmVudFRpbWU7XG4gICAgICAgICAgICB2YXIgZW5kID0gY3VycmVudFRpbWUgKyAobGVuIC8gMTAwMCk7XG4gICAgICAgICAgICBzb3VuZC5fdm9sdW1lID0gZnJvbTtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoZnJvbSwgY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0bywgZW5kKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9zdGFydEZhZGVJbnRlcnZhbChzb3VuZCwgZnJvbSwgdG8sIGxlbiwgaWRzW2ldLCB0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSBpbnRlcm5hbCBpbnRlcnZhbCB0byBmYWRlIGEgc291bmQuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBzb3VuZCBSZWZlcmVuY2UgdG8gc291bmQgdG8gZmFkZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGZyb20gVGhlIHZhbHVlIHRvIGZhZGUgZnJvbSAoMC4wIHRvIDEuMCkuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSB0byAgIFRoZSB2b2x1bWUgdG8gZmFkZSB0byAoMC4wIHRvIDEuMCkuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBsZW4gIFRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIGZhZGUuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAgIFRoZSBzb3VuZCBpZCB0byBmYWRlLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGlzR3JvdXAgICBJZiB0cnVlLCBzZXQgdGhlIHZvbHVtZSBvbiB0aGUgZ3JvdXAuXG4gICAgICovXG4gICAgX3N0YXJ0RmFkZUludGVydmFsOiBmdW5jdGlvbihzb3VuZCwgZnJvbSwgdG8sIGxlbiwgaWQsIGlzR3JvdXApIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciB2b2wgPSBmcm9tO1xuICAgICAgdmFyIGRpZmYgPSB0byAtIGZyb207XG4gICAgICB2YXIgc3RlcHMgPSBNYXRoLmFicyhkaWZmIC8gMC4wMSk7XG4gICAgICB2YXIgc3RlcExlbiA9IE1hdGgubWF4KDQsIChzdGVwcyA+IDApID8gbGVuIC8gc3RlcHMgOiBsZW4pO1xuICAgICAgdmFyIGxhc3RUaWNrID0gRGF0ZS5ub3coKTtcblxuICAgICAgLy8gU3RvcmUgdGhlIHZhbHVlIGJlaW5nIGZhZGVkIHRvLlxuICAgICAgc291bmQuX2ZhZGVUbyA9IHRvO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHZvbHVtZSB2YWx1ZSBvbiBlYWNoIGludGVydmFsIHRpY2suXG4gICAgICBzb3VuZC5faW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgYmFzZWQgb24gdGhlIHRpbWUgc2luY2UgdGhlIGxhc3QgdGljay5cbiAgICAgICAgdmFyIHRpY2sgPSAoRGF0ZS5ub3coKSAtIGxhc3RUaWNrKSAvIGxlbjtcbiAgICAgICAgbGFzdFRpY2sgPSBEYXRlLm5vdygpO1xuICAgICAgICB2b2wgKz0gZGlmZiAqIHRpY2s7XG5cbiAgICAgICAgLy8gUm91bmQgdG8gd2l0aGluIDIgZGVjaW1hbCBwb2ludHMuXG4gICAgICAgIHZvbCA9IE1hdGgucm91bmQodm9sICogMTAwKSAvIDEwMDtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHZvbHVtZSBpcyBpbiB0aGUgcmlnaHQgYm91bmRzLlxuICAgICAgICBpZiAoZGlmZiA8IDApIHtcbiAgICAgICAgICB2b2wgPSBNYXRoLm1heCh0bywgdm9sKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2b2wgPSBNYXRoLm1pbih0bywgdm9sKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoYW5nZSB0aGUgdm9sdW1lLlxuICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICBzb3VuZC5fdm9sdW1lID0gdm9sO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYudm9sdW1lKHZvbCwgc291bmQuX2lkLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgZ3JvdXAncyB2b2x1bWUuXG4gICAgICAgIGlmIChpc0dyb3VwKSB7XG4gICAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2hlbiB0aGUgZmFkZSBpcyBjb21wbGV0ZSwgc3RvcCBpdCBhbmQgZmlyZSBldmVudC5cbiAgICAgICAgaWYgKCh0byA8IGZyb20gJiYgdm9sIDw9IHRvKSB8fCAodG8gPiBmcm9tICYmIHZvbCA+PSB0bykpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKHNvdW5kLl9pbnRlcnZhbCk7XG4gICAgICAgICAgc291bmQuX2ludGVydmFsID0gbnVsbDtcbiAgICAgICAgICBzb3VuZC5fZmFkZVRvID0gbnVsbDtcbiAgICAgICAgICBzZWxmLnZvbHVtZSh0bywgc291bmQuX2lkKTtcbiAgICAgICAgICBzZWxmLl9lbWl0KCdmYWRlJywgc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfSwgc3RlcExlbik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIG1ldGhvZCB0aGF0IHN0b3BzIHRoZSBjdXJyZW50bHkgcGxheWluZyBmYWRlIHdoZW5cbiAgICAgKiBhIG5ldyBmYWRlIHN0YXJ0cywgdm9sdW1lIGlzIGNoYW5nZWQgb3IgdGhlIHNvdW5kIGlzIHN0b3BwZWQuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfc3RvcEZhZGU6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xuXG4gICAgICBpZiAoc291bmQgJiYgc291bmQuX2ludGVydmFsKSB7XG4gICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xlYXJJbnRlcnZhbChzb3VuZC5faW50ZXJ2YWwpO1xuICAgICAgICBzb3VuZC5faW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICBzZWxmLnZvbHVtZShzb3VuZC5fZmFkZVRvLCBpZCk7XG4gICAgICAgIHNvdW5kLl9mYWRlVG8gPSBudWxsO1xuICAgICAgICBzZWxmLl9lbWl0KCdmYWRlJywgaWQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0L3NldCB0aGUgbG9vcCBwYXJhbWV0ZXIgb24gYSBzb3VuZC4gVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxuICAgICAqICAgbG9vcCgpIC0+IFJldHVybnMgdGhlIGdyb3VwJ3MgbG9vcCB2YWx1ZS5cbiAgICAgKiAgIGxvb3AoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgbG9vcCB2YWx1ZS5cbiAgICAgKiAgIGxvb3AobG9vcCkgLT4gU2V0cyB0aGUgbG9vcCB2YWx1ZSBmb3IgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAgICogICBsb29wKGxvb3AsIGlkKSAtPiBTZXRzIHRoZSBsb29wIHZhbHVlIG9mIHBhc3NlZCBzb3VuZCBpZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsL0Jvb2xlYW59IFJldHVybnMgc2VsZiBvciBjdXJyZW50IGxvb3AgdmFsdWUuXG4gICAgICovXG4gICAgbG9vcDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciBsb29wLCBpZCwgc291bmQ7XG5cbiAgICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGZvciBsb29wIGFuZCBpZC5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBSZXR1cm4gdGhlIGdyb3UncyBsb29wIHZhbHVlLlxuICAgICAgICByZXR1cm4gc2VsZi5fbG9vcDtcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBsb29wID0gYXJnc1swXTtcbiAgICAgICAgICBzZWxmLl9sb29wID0gbG9vcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBSZXR1cm4gdGhpcyBzb3VuZCdzIGxvb3AgdmFsdWUuXG4gICAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQocGFyc2VJbnQoYXJnc1swXSwgMTApKTtcbiAgICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fbG9vcCA6IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIGxvb3AgPSBhcmdzWzBdO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgbG9vcGVkLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICBzb3VuZC5fbG9vcCA9IGxvb3A7XG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3AgPSBsb29wO1xuICAgICAgICAgICAgaWYgKGxvb3ApIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BTdGFydCA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcEVuZCA9IHNvdW5kLl9zdG9wO1xuXG4gICAgICAgICAgICAgIC8vIElmIHBsYXlpbmcsIHJlc3RhcnQgcGxheWJhY2sgdG8gZW5zdXJlIGxvb3BpbmcgdXBkYXRlcy5cbiAgICAgICAgICAgICAgaWYgKHNlbGYucGxheWluZyhpZHNbaV0pKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5wYXVzZShpZHNbaV0sIHRydWUpO1xuICAgICAgICAgICAgICAgIHNlbGYucGxheShpZHNbaV0sIHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBwbGF5YmFjayByYXRlIG9mIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIHJhdGUoKSAtPiBSZXR1cm5zIHRoZSBmaXJzdCBzb3VuZCBub2RlJ3MgY3VycmVudCBwbGF5YmFjayByYXRlLlxuICAgICAqICAgcmF0ZShpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHBsYXliYWNrIHJhdGUuXG4gICAgICogICByYXRlKHJhdGUpIC0+IFNldHMgdGhlIHBsYXliYWNrIHJhdGUgb2YgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAgICogICByYXRlKHJhdGUsIGlkKSAtPiBTZXRzIHRoZSBwbGF5YmFjayByYXRlIG9mIHBhc3NlZCBzb3VuZCBpZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHBsYXliYWNrIHJhdGUuXG4gICAgICovXG4gICAgcmF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciByYXRlLCBpZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFdlIHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCByYXRlIG9mIHRoZSBmaXJzdCBub2RlLlxuICAgICAgICBpZCA9IHNlbGYuX3NvdW5kc1swXS5faWQ7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoaXMgaXMgYW4gSUQsIGFuZCBpZiBub3QsIGFzc3VtZSBpdCBpcyBhIG5ldyByYXRlIHZhbHVlLlxuICAgICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoKTtcbiAgICAgICAgdmFyIGluZGV4ID0gaWRzLmluZGV4T2YoYXJnc1swXSk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzBdLCAxMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmF0ZSA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgcmF0ZSA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XG4gICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgdGhlIHBsYXliYWNrIHJhdGUgb3IgcmV0dXJuIHRoZSBjdXJyZW50IHZhbHVlLlxuICAgICAgdmFyIHNvdW5kO1xuICAgICAgaWYgKHR5cGVvZiByYXRlID09PSAnbnVtYmVyJykge1xuICAgICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBwbGF5YmFjayByYXRlIHdoZW4gY2FwYWJsZS5cbiAgICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgICAgZXZlbnQ6ICdyYXRlJyxcbiAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNlbGYucmF0ZS5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBncm91cCByYXRlLlxuICAgICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHNlbGYuX3JhdGUgPSByYXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIG9uZSBvciBhbGwgdm9sdW1lcy5cbiAgICAgICAgaWQgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxpZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgICAvLyBLZWVwIHRyYWNrIG9mIG91ciBwb3NpdGlvbiB3aGVuIHRoZSByYXRlIGNoYW5nZWQgYW5kIHVwZGF0ZSB0aGUgcGxheWJhY2tcbiAgICAgICAgICAgIC8vIHN0YXJ0IHBvc2l0aW9uIHNvIHdlIGNhbiBwcm9wZXJseSBhZGp1c3QgdGhlIHNlZWsgcG9zaXRpb24gZm9yIHRpbWUgZWxhcHNlZC5cbiAgICAgICAgICAgIGlmIChzZWxmLnBsYXlpbmcoaWRbaV0pKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IHNlbGYuc2VlayhpZFtpXSk7XG4gICAgICAgICAgICAgIHNvdW5kLl9wbGF5U3RhcnQgPSBzZWxmLl93ZWJBdWRpbyA/IEhvd2xlci5jdHguY3VycmVudFRpbWUgOiBzb3VuZC5fcGxheVN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc291bmQuX3JhdGUgPSByYXRlO1xuXG4gICAgICAgICAgICAvLyBDaGFuZ2UgdGhlIHBsYXliYWNrIHJhdGUuXG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5wbGF5YmFja1JhdGUuc2V0VmFsdWVBdFRpbWUocmF0ZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBsYXliYWNrUmF0ZSA9IHJhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlc2V0IHRoZSB0aW1lcnMuXG4gICAgICAgICAgICB2YXIgc2VlayA9IHNlbGYuc2VlayhpZFtpXSk7XG4gICAgICAgICAgICB2YXIgZHVyYXRpb24gPSAoKHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVsxXSkgLyAxMDAwKSAtIHNlZWs7XG4gICAgICAgICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xuXG4gICAgICAgICAgICAvLyBTdGFydCBhIG5ldyBlbmQgdGltZXIgaWYgc291bmQgaXMgYWxyZWFkeSBwbGF5aW5nLlxuICAgICAgICAgICAgaWYgKHNlbGYuX2VuZFRpbWVyc1tpZFtpXV0gfHwgIXNvdW5kLl9wYXVzZWQpIHtcbiAgICAgICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZFtpXSk7XG4gICAgICAgICAgICAgIHNlbGYuX2VuZFRpbWVyc1tpZFtpXV0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5fZW1pdCgncmF0ZScsIHNvdW5kLl9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG4gICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl9yYXRlIDogc2VsZi5fcmF0ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIHNlZWsgcG9zaXRpb24gb2YgYSBzb3VuZC4gVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxuICAgICAqICAgc2VlaygpIC0+IFJldHVybnMgdGhlIGZpcnN0IHNvdW5kIG5vZGUncyBjdXJyZW50IHNlZWsgcG9zaXRpb24uXG4gICAgICogICBzZWVrKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgc2VlayBwb3NpdGlvbi5cbiAgICAgKiAgIHNlZWsoc2VlaykgLT4gU2V0cyB0aGUgc2VlayBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgc291bmQgbm9kZS5cbiAgICAgKiAgIHNlZWsoc2VlaywgaWQpIC0+IFNldHMgdGhlIHNlZWsgcG9zaXRpb24gb2YgcGFzc2VkIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgc2VlayBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBzZWVrOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdmFyIHNlZWssIGlkO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gV2Ugd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBub2RlLlxuICAgICAgICBpZiAoc2VsZi5fc291bmRzLmxlbmd0aCkge1xuICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGlzIGlzIGFuIElELCBhbmQgaWYgbm90LCBhc3N1bWUgaXQgaXMgYSBuZXcgc2VlayBwb3NpdGlvbi5cbiAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKCk7XG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1swXSwgMTApO1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuX3NvdW5kcy5sZW5ndGgpIHtcbiAgICAgICAgICBpZCA9IHNlbGYuX3NvdW5kc1swXS5faWQ7XG4gICAgICAgICAgc2VlayA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgc2VlayA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XG4gICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGVyZSBpcyBubyBJRCwgYmFpbCBvdXQuXG4gICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBzZWVrIHdoZW4gY2FwYWJsZS5cbiAgICAgIGlmICh0eXBlb2Ygc2VlayA9PT0gJ251bWJlcicgJiYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykpIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdzZWVrJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5zZWVrLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZWVrID09PSAnbnVtYmVyJyAmJiBzZWVrID49IDApIHtcbiAgICAgICAgICAvLyBQYXVzZSB0aGUgc291bmQgYW5kIHVwZGF0ZSBwb3NpdGlvbiBmb3IgcmVzdGFydGluZyBwbGF5YmFjay5cbiAgICAgICAgICB2YXIgcGxheWluZyA9IHNlbGYucGxheWluZyhpZCk7XG4gICAgICAgICAgaWYgKHBsYXlpbmcpIHtcbiAgICAgICAgICAgIHNlbGYucGF1c2UoaWQsIHRydWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIE1vdmUgdGhlIHBvc2l0aW9uIG9mIHRoZSB0cmFjayBhbmQgY2FuY2VsIHRpbWVyLlxuICAgICAgICAgIHNvdW5kLl9zZWVrID0gc2VlaztcbiAgICAgICAgICBzb3VuZC5fZW5kZWQgPSBmYWxzZTtcbiAgICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkKTtcblxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgc2VlayBwb3NpdGlvbiBmb3IgSFRNTDUgQXVkaW8uXG4gICAgICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiAhaXNOYU4oc291bmQuX25vZGUuZHVyYXRpb24pKSB7XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5jdXJyZW50VGltZSA9IHNlZWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU2VlayBhbmQgZW1pdCB3aGVuIHJlYWR5LlxuICAgICAgICAgIHZhciBzZWVrQW5kRW1pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gUmVzdGFydCB0aGUgcGxheWJhY2sgaWYgdGhlIHNvdW5kIHdhcyBwbGF5aW5nLlxuICAgICAgICAgICAgaWYgKHBsYXlpbmcpIHtcbiAgICAgICAgICAgICAgc2VsZi5wbGF5KGlkLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5fZW1pdCgnc2VlaycsIGlkKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIHBsYXkgbG9jayB0byBiZSB1bnNldCBiZWZvcmUgZW1pdHRpbmcgKEhUTUw1IEF1ZGlvKS5cbiAgICAgICAgICBpZiAocGxheWluZyAmJiAhc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAgIHZhciBlbWl0U2VlayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoIXNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgICAgICAgICAgc2Vla0FuZEVtaXQoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGVtaXRTZWVrLCAwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZW1pdFNlZWssIDApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWVrQW5kRW1pdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAgIHZhciByZWFsVGltZSA9IHNlbGYucGxheWluZyhpZCkgPyBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lIC0gc291bmQuX3BsYXlTdGFydCA6IDA7XG4gICAgICAgICAgICB2YXIgcmF0ZVNlZWsgPSBzb3VuZC5fcmF0ZVNlZWsgPyBzb3VuZC5fcmF0ZVNlZWsgLSBzb3VuZC5fc2VlayA6IDA7XG4gICAgICAgICAgICByZXR1cm4gc291bmQuX3NlZWsgKyAocmF0ZVNlZWsgKyByZWFsVGltZSAqIE1hdGguYWJzKHNvdW5kLl9yYXRlKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VuZC5fbm9kZS5jdXJyZW50VGltZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgc3BlY2lmaWMgc291bmQgaXMgY3VycmVudGx5IHBsYXlpbmcgb3Igbm90IChpZiBpZCBpcyBwcm92aWRlZCksIG9yIGNoZWNrIGlmIGF0IGxlYXN0IG9uZSBvZiB0aGUgc291bmRzIGluIHRoZSBncm91cCBpcyBwbGF5aW5nIG9yIG5vdC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBpZCBUaGUgc291bmQgaWQgdG8gY2hlY2suIElmIG5vbmUgaXMgcGFzc2VkLCB0aGUgd2hvbGUgc291bmQgZ3JvdXAgaXMgY2hlY2tlZC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHBsYXlpbmcgYW5kIGZhbHNlIGlmIG5vdC5cbiAgICAgKi9cbiAgICBwbGF5aW5nOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBDaGVjayB0aGUgcGFzc2VkIHNvdW5kIElEIChpZiBhbnkpLlxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgICAgcmV0dXJuIHNvdW5kID8gIXNvdW5kLl9wYXVzZWQgOiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gT3RoZXJ3aXNlLCBsb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgY2hlY2sgaWYgYW55IGFyZSBwbGF5aW5nLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIXNlbGYuX3NvdW5kc1tpXS5fcGF1c2VkKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGR1cmF0aW9uIG9mIHRoaXMgc291bmQuIFBhc3NpbmcgYSBzb3VuZCBpZCB3aWxsIHJldHVybiB0aGUgc3ByaXRlIGR1cmF0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIGlkIHRvIGNoZWNrLiBJZiBub25lIGlzIHBhc3NlZCwgcmV0dXJuIGZ1bGwgc291cmNlIGR1cmF0aW9uLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gQXVkaW8gZHVyYXRpb24gaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBkdXJhdGlvbjogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBkdXJhdGlvbiA9IHNlbGYuX2R1cmF0aW9uO1xuXG4gICAgICAvLyBJZiB3ZSBwYXNzIGFuIElELCBnZXQgdGhlIHNvdW5kIGFuZCByZXR1cm4gdGhlIHNwcml0ZSBsZW5ndGguXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGR1cmF0aW9uID0gc2VsZi5fc3ByaXRlW3NvdW5kLl9zcHJpdGVdWzFdIC8gMTAwMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGR1cmF0aW9uO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGxvYWRlZCBzdGF0ZSBvZiB0aGlzIEhvd2wuXG4gICAgICogQHJldHVybiB7U3RyaW5nfSAndW5sb2FkZWQnLCAnbG9hZGluZycsICdsb2FkZWQnXG4gICAgICovXG4gICAgc3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVbmxvYWQgYW5kIGRlc3Ryb3kgdGhlIGN1cnJlbnQgSG93bCBvYmplY3QuXG4gICAgICogVGhpcyB3aWxsIGltbWVkaWF0ZWx5IHN0b3AgYWxsIHNvdW5kIGluc3RhbmNlcyBhdHRhY2hlZCB0byB0aGlzIGdyb3VwLlxuICAgICAqL1xuICAgIHVubG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIFN0b3AgcGxheWluZyBhbnkgYWN0aXZlIHNvdW5kcy5cbiAgICAgIHZhciBzb3VuZHMgPSBzZWxmLl9zb3VuZHM7XG4gICAgICBmb3IgKHZhciBpPTA7IGk8c291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIFN0b3AgdGhlIHNvdW5kIGlmIGl0IGlzIGN1cnJlbnRseSBwbGF5aW5nLlxuICAgICAgICBpZiAoIXNvdW5kc1tpXS5fcGF1c2VkKSB7XG4gICAgICAgICAgc2VsZi5zdG9wKHNvdW5kc1tpXS5faWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBzb3VyY2Ugb3IgZGlzY29ubmVjdC5cbiAgICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgIC8vIFNldCB0aGUgc291cmNlIHRvIDAtc2Vjb25kIHNpbGVuY2UgdG8gc3RvcCBhbnkgZG93bmxvYWRpbmcgKGV4Y2VwdCBpbiBJRSkuXG4gICAgICAgICAgc2VsZi5fY2xlYXJTb3VuZChzb3VuZHNbaV0uX25vZGUpO1xuXG4gICAgICAgICAgLy8gUmVtb3ZlIGFueSBldmVudCBsaXN0ZW5lcnMuXG4gICAgICAgICAgc291bmRzW2ldLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgc291bmRzW2ldLl9lcnJvckZuLCBmYWxzZSk7XG4gICAgICAgICAgc291bmRzW2ldLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIHNvdW5kc1tpXS5fbG9hZEZuLCBmYWxzZSk7XG4gICAgICAgICAgc291bmRzW2ldLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc291bmRzW2ldLl9lbmRGbiwgZmFsc2UpO1xuXG4gICAgICAgICAgLy8gUmVsZWFzZSB0aGUgQXVkaW8gb2JqZWN0IGJhY2sgdG8gdGhlIHBvb2wuXG4gICAgICAgICAgSG93bGVyLl9yZWxlYXNlSHRtbDVBdWRpbyhzb3VuZHNbaV0uX25vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRW1wdHkgb3V0IGFsbCBvZiB0aGUgbm9kZXMuXG4gICAgICAgIGRlbGV0ZSBzb3VuZHNbaV0uX25vZGU7XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIGFsbCB0aW1lcnMgYXJlIGNsZWFyZWQgb3V0LlxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kc1tpXS5faWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgdGhlIHJlZmVyZW5jZXMgaW4gdGhlIGdsb2JhbCBIb3dsZXIgb2JqZWN0LlxuICAgICAgdmFyIGluZGV4ID0gSG93bGVyLl9ob3dscy5pbmRleE9mKHNlbGYpO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgSG93bGVyLl9ob3dscy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuXG4gICAgICAvLyBEZWxldGUgdGhpcyBzb3VuZCBmcm9tIHRoZSBjYWNoZSAoaWYgbm8gb3RoZXIgSG93bCBpcyB1c2luZyBpdCkuXG4gICAgICB2YXIgcmVtQ2FjaGUgPSB0cnVlO1xuICAgICAgZm9yIChpPTA7IGk8SG93bGVyLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoSG93bGVyLl9ob3dsc1tpXS5fc3JjID09PSBzZWxmLl9zcmMgfHwgc2VsZi5fc3JjLmluZGV4T2YoSG93bGVyLl9ob3dsc1tpXS5fc3JjKSA+PSAwKSB7XG4gICAgICAgICAgcmVtQ2FjaGUgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY2FjaGUgJiYgcmVtQ2FjaGUpIHtcbiAgICAgICAgZGVsZXRlIGNhY2hlW3NlbGYuX3NyY107XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIGdsb2JhbCBlcnJvcnMuXG4gICAgICBIb3dsZXIubm9BdWRpbyA9IGZhbHNlO1xuXG4gICAgICAvLyBDbGVhciBvdXQgYHNlbGZgLlxuICAgICAgc2VsZi5fc3RhdGUgPSAndW5sb2FkZWQnO1xuICAgICAgc2VsZi5fc291bmRzID0gW107XG4gICAgICBzZWxmID0gbnVsbDtcblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExpc3RlbiB0byBhIGN1c3RvbSBldmVudC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgZXZlbnQgRXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm4gICAgTGlzdGVuZXIgdG8gY2FsbC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgaWQgICAgKG9wdGlvbmFsKSBPbmx5IGxpc3RlbiB0byBldmVudHMgZm9yIHRoaXMgc291bmQuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIG9uY2UgIChJTlRFUk5BTCkgTWFya3MgZXZlbnQgdG8gZmlyZSBvbmx5IG9uY2UuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBvbjogZnVuY3Rpb24oZXZlbnQsIGZuLCBpZCwgb25jZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGV2ZW50cyA9IHNlbGZbJ19vbicgKyBldmVudF07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZXZlbnRzLnB1c2gob25jZSA/IHtpZDogaWQsIGZuOiBmbiwgb25jZTogb25jZX0gOiB7aWQ6IGlkLCBmbjogZm59KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGN1c3RvbSBldmVudC4gQ2FsbCB3aXRob3V0IHBhcmFtZXRlcnMgdG8gcmVtb3ZlIGFsbCBldmVudHMuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIHJlbW92ZS4gTGVhdmUgZW1wdHkgdG8gcmVtb3ZlIGFsbC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgaWQgICAgKG9wdGlvbmFsKSBPbmx5IHJlbW92ZSBldmVudHMgZm9yIHRoaXMgc291bmQuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBvZmY6IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xuICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAvLyBBbGxvdyBwYXNzaW5nIGp1c3QgYW4gZXZlbnQgYW5kIElELlxuICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWQgPSBmbjtcbiAgICAgICAgZm4gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoZm4gfHwgaWQpIHtcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGV2ZW50IHN0b3JlIGFuZCByZW1vdmUgdGhlIHBhc3NlZCBmdW5jdGlvbi5cbiAgICAgICAgZm9yIChpPTA7IGk8ZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGlzSWQgPSAoaWQgPT09IGV2ZW50c1tpXS5pZCk7XG4gICAgICAgICAgaWYgKGZuID09PSBldmVudHNbaV0uZm4gJiYgaXNJZCB8fCAhZm4gJiYgaXNJZCkge1xuICAgICAgICAgICAgZXZlbnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChldmVudCkge1xuICAgICAgICAvLyBDbGVhciBvdXQgYWxsIGV2ZW50cyBvZiB0aGlzIHR5cGUuXG4gICAgICAgIHNlbGZbJ19vbicgKyBldmVudF0gPSBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENsZWFyIG91dCBhbGwgZXZlbnRzIG9mIGV2ZXJ5IHR5cGUuXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc2VsZik7XG4gICAgICAgIGZvciAoaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoKGtleXNbaV0uaW5kZXhPZignX29uJykgPT09IDApICYmIEFycmF5LmlzQXJyYXkoc2VsZltrZXlzW2ldXSkpIHtcbiAgICAgICAgICAgIHNlbGZba2V5c1tpXV0gPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExpc3RlbiB0byBhIGN1c3RvbSBldmVudCBhbmQgcmVtb3ZlIGl0IG9uY2UgZmlyZWQuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIGNhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSBsaXN0ZW4gdG8gZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb25jZTogZnVuY3Rpb24oZXZlbnQsIGZuLCBpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTZXR1cCB0aGUgZXZlbnQgbGlzdGVuZXIuXG4gICAgICBzZWxmLm9uKGV2ZW50LCBmbiwgaWQsIDEpO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRW1pdCBhbGwgZXZlbnRzIG9mIGEgc3BlY2lmaWMgdHlwZSBhbmQgcGFzcyB0aGUgc291bmQgaWQuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICAgU291bmQgSUQuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBtc2cgICBNZXNzYWdlIHRvIGdvIHdpdGggZXZlbnQuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfZW1pdDogZnVuY3Rpb24oZXZlbnQsIGlkLCBtc2cpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xuXG4gICAgICAvLyBMb29wIHRocm91Z2ggZXZlbnQgc3RvcmUgYW5kIGZpcmUgYWxsIGZ1bmN0aW9ucy5cbiAgICAgIGZvciAodmFyIGk9ZXZlbnRzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcbiAgICAgICAgLy8gT25seSBmaXJlIHRoZSBsaXN0ZW5lciBpZiB0aGUgY29ycmVjdCBJRCBpcyB1c2VkLlxuICAgICAgICBpZiAoIWV2ZW50c1tpXS5pZCB8fCBldmVudHNbaV0uaWQgPT09IGlkIHx8IGV2ZW50ID09PSAnbG9hZCcpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMsIGlkLCBtc2cpO1xuICAgICAgICAgIH0uYmluZChzZWxmLCBldmVudHNbaV0uZm4pLCAwKTtcblxuICAgICAgICAgIC8vIElmIHRoaXMgZXZlbnQgd2FzIHNldHVwIHdpdGggYG9uY2VgLCByZW1vdmUgaXQuXG4gICAgICAgICAgaWYgKGV2ZW50c1tpXS5vbmNlKSB7XG4gICAgICAgICAgICBzZWxmLm9mZihldmVudCwgZXZlbnRzW2ldLmZuLCBldmVudHNbaV0uaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBQYXNzIHRoZSBldmVudCB0eXBlIGludG8gbG9hZCBxdWV1ZSBzbyB0aGF0IGl0IGNhbiBjb250aW51ZSBzdGVwcGluZy5cbiAgICAgIHNlbGYuX2xvYWRRdWV1ZShldmVudCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBRdWV1ZSBvZiBhY3Rpb25zIGluaXRpYXRlZCBiZWZvcmUgdGhlIHNvdW5kIGhhcyBsb2FkZWQuXG4gICAgICogVGhlc2Ugd2lsbCBiZSBjYWxsZWQgaW4gc2VxdWVuY2UsIHdpdGggdGhlIG5leHQgb25seSBmaXJpbmdcbiAgICAgKiBhZnRlciB0aGUgcHJldmlvdXMgaGFzIGZpbmlzaGVkIGV4ZWN1dGluZyAoZXZlbiBpZiBhc3luYyBsaWtlIHBsYXkpLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2xvYWRRdWV1ZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKHNlbGYuX3F1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHRhc2sgPSBzZWxmLl9xdWV1ZVswXTtcblxuICAgICAgICAvLyBSZW1vdmUgdGhpcyB0YXNrIGlmIGEgbWF0Y2hpbmcgZXZlbnQgd2FzIHBhc3NlZC5cbiAgICAgICAgaWYgKHRhc2suZXZlbnQgPT09IGV2ZW50KSB7XG4gICAgICAgICAgc2VsZi5fcXVldWUuc2hpZnQoKTtcbiAgICAgICAgICBzZWxmLl9sb2FkUXVldWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJ1biB0aGUgdGFzayBpZiBubyBldmVudCB0eXBlIGlzIHBhc3NlZC5cbiAgICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICAgIHRhc2suYWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gcGxheWJhY2sgZW5kcyBhdCB0aGUgZW5kIG9mIHRoZSBkdXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgVGhlIHNvdW5kIG9iamVjdCB0byB3b3JrIHdpdGguXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfZW5kZWQ6IGZ1bmN0aW9uKHNvdW5kKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgc3ByaXRlID0gc291bmQuX3Nwcml0ZTtcblxuICAgICAgLy8gSWYgd2UgYXJlIHVzaW5nIElFIGFuZCB0aGVyZSB3YXMgbmV0d29yayBsYXRlbmN5IHdlIG1heSBiZSBjbGlwcGluZ1xuICAgICAgLy8gYXVkaW8gYmVmb3JlIGl0IGNvbXBsZXRlcyBwbGF5aW5nLiBMZXRzIGNoZWNrIHRoZSBub2RlIHRvIG1ha2Ugc3VyZSBpdFxuICAgICAgLy8gYmVsaWV2ZXMgaXQgaGFzIGNvbXBsZXRlZCwgYmVmb3JlIGVuZGluZyB0aGUgcGxheWJhY2suXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbm9kZS5wYXVzZWQgJiYgIXNvdW5kLl9ub2RlLmVuZGVkICYmIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lIDwgc291bmQuX3N0b3ApIHtcbiAgICAgICAgc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgMTAwKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIFNob3VsZCB0aGlzIHNvdW5kIGxvb3A/XG4gICAgICB2YXIgbG9vcCA9ICEhKHNvdW5kLl9sb29wIHx8IHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzJdKTtcblxuICAgICAgLy8gRmlyZSB0aGUgZW5kZWQgZXZlbnQuXG4gICAgICBzZWxmLl9lbWl0KCdlbmQnLCBzb3VuZC5faWQpO1xuXG4gICAgICAvLyBSZXN0YXJ0IHRoZSBwbGF5YmFjayBmb3IgSFRNTDUgQXVkaW8gbG9vcC5cbiAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgbG9vcCkge1xuICAgICAgICBzZWxmLnN0b3Aoc291bmQuX2lkLCB0cnVlKS5wbGF5KHNvdW5kLl9pZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlc3RhcnQgdGhpcyB0aW1lciBpZiBvbiBhIFdlYiBBdWRpbyBsb29wLlxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIGxvb3ApIHtcbiAgICAgICAgc2VsZi5fZW1pdCgncGxheScsIHNvdW5kLl9pZCk7XG4gICAgICAgIHNvdW5kLl9zZWVrID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgIHNvdW5kLl9wbGF5U3RhcnQgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xuXG4gICAgICAgIHZhciB0aW1lb3V0ID0gKChzb3VuZC5fc3RvcCAtIHNvdW5kLl9zdGFydCkgKiAxMDAwKSAvIE1hdGguYWJzKHNvdW5kLl9yYXRlKTtcbiAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgIH1cblxuICAgICAgLy8gTWFyayB0aGUgbm9kZSBhcyBwYXVzZWQuXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgIWxvb3ApIHtcbiAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XG4gICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XG4gICAgICAgIHNvdW5kLl9zZWVrID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcblxuICAgICAgICAvLyBDbGVhbiB1cCB0aGUgYnVmZmVyIHNvdXJjZS5cbiAgICAgICAgc2VsZi5fY2xlYW5CdWZmZXIoc291bmQuX25vZGUpO1xuXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gYXV0by1zdXNwZW5kIEF1ZGlvQ29udGV4dCBpZiBubyBzb3VuZHMgYXJlIHN0aWxsIHBsYXlpbmcuXG4gICAgICAgIEhvd2xlci5fYXV0b1N1c3BlbmQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gV2hlbiB1c2luZyBhIHNwcml0ZSwgZW5kIHRoZSB0cmFjay5cbiAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgIWxvb3ApIHtcbiAgICAgICAgc2VsZi5zdG9wKHNvdW5kLl9pZCwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgZW5kIHRpbWVyIGZvciBhIHNvdW5kIHBsYXliYWNrLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElELlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2NsZWFyVGltZXI6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZWxmLl9lbmRUaW1lcnNbaWRdKSB7XG4gICAgICAgIC8vIENsZWFyIHRoZSB0aW1lb3V0IG9yIHJlbW92ZSB0aGUgZW5kZWQgbGlzdGVuZXIuXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZi5fZW5kVGltZXJzW2lkXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9lbmRUaW1lcnNbaWRdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xuICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRUaW1lcnNbaWRdLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHNlbGYuX2VuZFRpbWVyc1tpZF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHNvdW5kIGlkZW50aWZpZWQgYnkgdGhpcyBJRCwgb3IgcmV0dXJuIG51bGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBTb3VuZCBJRFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gICAgU291bmQgb2JqZWN0IG9yIG51bGwuXG4gICAgICovXG4gICAgX3NvdW5kQnlJZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGZpbmQgdGhlIG9uZSB3aXRoIHRoaXMgSUQuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpZCA9PT0gc2VsZi5fc291bmRzW2ldLl9pZCkge1xuICAgICAgICAgIHJldHVybiBzZWxmLl9zb3VuZHNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbiBpbmFjdGl2ZSBzb3VuZCBmcm9tIHRoZSBwb29sIG9yIGNyZWF0ZSBhIG5ldyBvbmUuXG4gICAgICogQHJldHVybiB7U291bmR9IFNvdW5kIHBsYXliYWNrIG9iamVjdC5cbiAgICAgKi9cbiAgICBfaW5hY3RpdmVTb3VuZDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHNlbGYuX2RyYWluKCk7XG5cbiAgICAgIC8vIEZpbmQgdGhlIGZpcnN0IGluYWN0aXZlIG5vZGUgdG8gcmVjeWNsZS5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fc291bmRzW2ldLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaW5hY3RpdmUgbm9kZSB3YXMgZm91bmQsIGNyZWF0ZSBhIG5ldyBvbmUuXG4gICAgICByZXR1cm4gbmV3IFNvdW5kKHNlbGYpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEcmFpbiBleGNlc3MgaW5hY3RpdmUgc291bmRzIGZyb20gdGhlIHBvb2wuXG4gICAgICovXG4gICAgX2RyYWluOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBsaW1pdCA9IHNlbGYuX3Bvb2w7XG4gICAgICB2YXIgY250ID0gMDtcbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgLy8gSWYgdGhlcmUgYXJlIGxlc3Mgc291bmRzIHRoYW4gdGhlIG1heCBwb29sIHNpemUsIHdlIGFyZSBkb25lLlxuICAgICAgaWYgKHNlbGYuX3NvdW5kcy5sZW5ndGggPCBsaW1pdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIENvdW50IHRoZSBudW1iZXIgb2YgaW5hY3RpdmUgc291bmRzLlxuICAgICAgZm9yIChpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XG4gICAgICAgICAgY250Kys7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIGV4Y2VzcyBpbmFjdGl2ZSBzb3VuZHMsIGdvaW5nIGluIHJldmVyc2Ugb3JkZXIuXG4gICAgICBmb3IgKGk9c2VsZi5fc291bmRzLmxlbmd0aCAtIDE7IGk+PTA7IGktLSkge1xuICAgICAgICBpZiAoY250IDw9IGxpbWl0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICAvLyBEaXNjb25uZWN0IHRoZSBhdWRpbyBzb3VyY2Ugd2hlbiB1c2luZyBXZWIgQXVkaW8uXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNlbGYuX3NvdW5kc1tpXS5fbm9kZSkge1xuICAgICAgICAgICAgc2VsZi5fc291bmRzW2ldLl9ub2RlLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUmVtb3ZlIHNvdW5kcyB1bnRpbCB3ZSBoYXZlIHRoZSBwb29sIHNpemUuXG4gICAgICAgICAgc2VsZi5fc291bmRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBjbnQtLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIElEJ3MgZnJvbSB0aGUgc291bmRzIHBvb2wuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBPbmx5IHJldHVybiBvbmUgSUQgaWYgb25lIGlzIHBhc3NlZC5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gICAgQXJyYXkgb2YgSURzLlxuICAgICAqL1xuICAgIF9nZXRTb3VuZElkczogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGlkcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWRzLnB1c2goc2VsZi5fc291bmRzW2ldLl9pZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaWRzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtpZF07XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIHNvdW5kIGJhY2sgaW50byB0aGUgYnVmZmVyIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgVGhlIHNvdW5kIG9iamVjdCB0byB3b3JrIHdpdGguXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfcmVmcmVzaEJ1ZmZlcjogZnVuY3Rpb24oc291bmQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU2V0dXAgdGhlIGJ1ZmZlciBzb3VyY2UgZm9yIHBsYXliYWNrLlxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlID0gSG93bGVyLmN0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5idWZmZXIgPSBjYWNoZVtzZWxmLl9zcmNdO1xuXG4gICAgICAvLyBDb25uZWN0IHRvIHRoZSBjb3JyZWN0IG5vZGUuXG4gICAgICBpZiAoc291bmQuX3Bhbm5lcikge1xuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuY29ubmVjdChzb3VuZC5fcGFubmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5jb25uZWN0KHNvdW5kLl9ub2RlKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0dXAgbG9vcGluZyBhbmQgcGxheWJhY2sgcmF0ZS5cbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wID0gc291bmQuX2xvb3A7XG4gICAgICBpZiAoc291bmQuX2xvb3ApIHtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BTdGFydCA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcEVuZCA9IHNvdW5kLl9zdG9wIHx8IDA7XG4gICAgICB9XG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9yYXRlLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFByZXZlbnQgbWVtb3J5IGxlYWtzIGJ5IGNsZWFuaW5nIHVwIHRoZSBidWZmZXIgc291cmNlIGFmdGVyIHBsYXliYWNrLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gbm9kZSBTb3VuZCdzIGF1ZGlvIG5vZGUgY29udGFpbmluZyB0aGUgYnVmZmVyIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9jbGVhbkJ1ZmZlcjogZnVuY3Rpb24obm9kZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGlzSU9TID0gSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IudmVuZG9yLmluZGV4T2YoJ0FwcGxlJykgPj0gMDtcblxuICAgICAgaWYgKEhvd2xlci5fc2NyYXRjaEJ1ZmZlciAmJiBub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICBub2RlLmJ1ZmZlclNvdXJjZS5vbmVuZGVkID0gbnVsbDtcbiAgICAgICAgbm9kZS5idWZmZXJTb3VyY2UuZGlzY29ubmVjdCgwKTtcbiAgICAgICAgaWYgKGlzSU9TKSB7XG4gICAgICAgICAgdHJ5IHsgbm9kZS5idWZmZXJTb3VyY2UuYnVmZmVyID0gSG93bGVyLl9zY3JhdGNoQnVmZmVyOyB9IGNhdGNoKGUpIHt9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUuYnVmZmVyU291cmNlID0gbnVsbDtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc291cmNlIHRvIGEgMC1zZWNvbmQgc2lsZW5jZSB0byBzdG9wIGFueSBkb3dubG9hZGluZyAoZXhjZXB0IGluIElFKS5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG5vZGUgQXVkaW8gbm9kZSB0byBjbGVhci5cbiAgICAgKi9cbiAgICBfY2xlYXJTb3VuZDogZnVuY3Rpb24obm9kZSkge1xuICAgICAgdmFyIGNoZWNrSUUgPSAvTVNJRSB8VHJpZGVudFxcLy8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgaWYgKCFjaGVja0lFKSB7XG4gICAgICAgIG5vZGUuc3JjID0gJ2RhdGE6YXVkaW8vd2F2O2Jhc2U2NCxVa2xHUmlnQUFBQlhRVlpGWm0xMElCSUFBQUFCQUFFQVJLd0FBSWhZQVFBQ0FCQUFBQUJrWVhSaEFnQUFBQUVBJztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqIFNpbmdsZSBTb3VuZCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBTZXR1cCB0aGUgc291bmQgb2JqZWN0LCB3aGljaCBlYWNoIG5vZGUgYXR0YWNoZWQgdG8gYSBIb3dsIGdyb3VwIGlzIGNvbnRhaW5lZCBpbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IGhvd2wgVGhlIEhvd2wgcGFyZW50IGdyb3VwLlxuICAgKi9cbiAgdmFyIFNvdW5kID0gZnVuY3Rpb24oaG93bCkge1xuICAgIHRoaXMuX3BhcmVudCA9IGhvd2w7XG4gICAgdGhpcy5pbml0KCk7XG4gIH07XG4gIFNvdW5kLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgbmV3IFNvdW5kIG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIFNldHVwIHRoZSBkZWZhdWx0IHBhcmFtZXRlcnMuXG4gICAgICBzZWxmLl9tdXRlZCA9IHBhcmVudC5fbXV0ZWQ7XG4gICAgICBzZWxmLl9sb29wID0gcGFyZW50Ll9sb29wO1xuICAgICAgc2VsZi5fdm9sdW1lID0gcGFyZW50Ll92b2x1bWU7XG4gICAgICBzZWxmLl9yYXRlID0gcGFyZW50Ll9yYXRlO1xuICAgICAgc2VsZi5fc2VlayA9IDA7XG4gICAgICBzZWxmLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fZW5kZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgIC8vIEdlbmVyYXRlIGEgdW5pcXVlIElEIGZvciB0aGlzIHNvdW5kLlxuICAgICAgc2VsZi5faWQgPSArK0hvd2xlci5fY291bnRlcjtcblxuICAgICAgLy8gQWRkIGl0c2VsZiB0byB0aGUgcGFyZW50J3MgcG9vbC5cbiAgICAgIHBhcmVudC5fc291bmRzLnB1c2goc2VsZik7XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgbmV3IG5vZGUuXG4gICAgICBzZWxmLmNyZWF0ZSgpO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuZCBzZXR1cCBhIG5ldyBzb3VuZCBvYmplY3QsIHdoZXRoZXIgSFRNTDUgQXVkaW8gb3IgV2ViIEF1ZGlvLlxuICAgICAqIEByZXR1cm4ge1NvdW5kfVxuICAgICAqL1xuICAgIGNyZWF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuICAgICAgdmFyIHZvbHVtZSA9IChIb3dsZXIuX211dGVkIHx8IHNlbGYuX211dGVkIHx8IHNlbGYuX3BhcmVudC5fbXV0ZWQpID8gMCA6IHNlbGYuX3ZvbHVtZTtcblxuICAgICAgaWYgKHBhcmVudC5fd2ViQXVkaW8pIHtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBnYWluIG5vZGUgZm9yIGNvbnRyb2xsaW5nIHZvbHVtZSAodGhlIHNvdXJjZSB3aWxsIGNvbm5lY3QgdG8gdGhpcykuXG4gICAgICAgIHNlbGYuX25vZGUgPSAodHlwZW9mIEhvd2xlci5jdHguY3JlYXRlR2FpbiA9PT0gJ3VuZGVmaW5lZCcpID8gSG93bGVyLmN0eC5jcmVhdGVHYWluTm9kZSgpIDogSG93bGVyLmN0eC5jcmVhdGVHYWluKCk7XG4gICAgICAgIHNlbGYuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzZWxmLl9ub2RlLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIHNlbGYuX25vZGUuY29ubmVjdChIb3dsZXIubWFzdGVyR2Fpbik7XG4gICAgICB9IGVsc2UgaWYgKCFIb3dsZXIubm9BdWRpbykge1xuICAgICAgICAvLyBHZXQgYW4gdW5sb2NrZWQgQXVkaW8gb2JqZWN0IGZyb20gdGhlIHBvb2wuXG4gICAgICAgIHNlbGYuX25vZGUgPSBIb3dsZXIuX29idGFpbkh0bWw1QXVkaW8oKTtcblxuICAgICAgICAvLyBMaXN0ZW4gZm9yIGVycm9ycyAoaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy1hdXRob3Itdmlldy9zcGVjLmh0bWwjbWVkaWFlcnJvcikuXG4gICAgICAgIHNlbGYuX2Vycm9yRm4gPSBzZWxmLl9lcnJvckxpc3RlbmVyLmJpbmQoc2VsZik7XG4gICAgICAgIHNlbGYuX25vZGUuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzZWxmLl9lcnJvckZuLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gTGlzdGVuIGZvciAnY2FucGxheXRocm91Z2gnIGV2ZW50IHRvIGxldCB1cyBrbm93IHRoZSBzb3VuZCBpcyByZWFkeS5cbiAgICAgICAgc2VsZi5fbG9hZEZuID0gc2VsZi5fbG9hZExpc3RlbmVyLmJpbmQoc2VsZik7XG4gICAgICAgIHNlbGYuX25vZGUuYWRkRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc2VsZi5fbG9hZEZuLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gTGlzdGVuIGZvciB0aGUgJ2VuZGVkJyBldmVudCBvbiB0aGUgc291bmQgdG8gYWNjb3VudCBmb3IgZWRnZS1jYXNlIHdoZXJlXG4gICAgICAgIC8vIGEgZmluaXRlIHNvdW5kIGhhcyBhIGR1cmF0aW9uIG9mIEluZmluaXR5LlxuICAgICAgICBzZWxmLl9lbmRGbiA9IHNlbGYuX2VuZExpc3RlbmVyLmJpbmQoc2VsZik7XG4gICAgICAgIHNlbGYuX25vZGUuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRGbiwgZmFsc2UpO1xuXG4gICAgICAgIC8vIFNldHVwIHRoZSBuZXcgYXVkaW8gbm9kZS5cbiAgICAgICAgc2VsZi5fbm9kZS5zcmMgPSBwYXJlbnQuX3NyYztcbiAgICAgICAgc2VsZi5fbm9kZS5wcmVsb2FkID0gcGFyZW50Ll9wcmVsb2FkID09PSB0cnVlID8gJ2F1dG8nIDogcGFyZW50Ll9wcmVsb2FkO1xuICAgICAgICBzZWxmLl9ub2RlLnZvbHVtZSA9IHZvbHVtZSAqIEhvd2xlci52b2x1bWUoKTtcblxuICAgICAgICAvLyBCZWdpbiBsb2FkaW5nIHRoZSBzb3VyY2UuXG4gICAgICAgIHNlbGYuX25vZGUubG9hZCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHBhcmFtZXRlcnMgb2YgdGhpcyBzb3VuZCB0byB0aGUgb3JpZ2luYWwgc3RhdGUgKGZvciByZWN5Y2xlKS5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICAgKi9cbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBSZXNldCBhbGwgb2YgdGhlIHBhcmFtZXRlcnMgb2YgdGhpcyBzb3VuZC5cbiAgICAgIHNlbGYuX211dGVkID0gcGFyZW50Ll9tdXRlZDtcbiAgICAgIHNlbGYuX2xvb3AgPSBwYXJlbnQuX2xvb3A7XG4gICAgICBzZWxmLl92b2x1bWUgPSBwYXJlbnQuX3ZvbHVtZTtcbiAgICAgIHNlbGYuX3JhdGUgPSBwYXJlbnQuX3JhdGU7XG4gICAgICBzZWxmLl9zZWVrID0gMDtcbiAgICAgIHNlbGYuX3JhdGVTZWVrID0gMDtcbiAgICAgIHNlbGYuX3BhdXNlZCA9IHRydWU7XG4gICAgICBzZWxmLl9lbmRlZCA9IHRydWU7XG4gICAgICBzZWxmLl9zcHJpdGUgPSAnX19kZWZhdWx0JztcblxuICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgSUQgc28gdGhhdCBpdCBpc24ndCBjb25mdXNlZCB3aXRoIHRoZSBwcmV2aW91cyBzb3VuZC5cbiAgICAgIHNlbGYuX2lkID0gKytIb3dsZXIuX2NvdW50ZXI7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIVE1MNSBBdWRpbyBlcnJvciBsaXN0ZW5lciBjYWxsYmFjay5cbiAgICAgKi9cbiAgICBfZXJyb3JMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIEZpcmUgYW4gZXJyb3IgZXZlbnQgYW5kIHBhc3MgYmFjayB0aGUgY29kZS5cbiAgICAgIHNlbGYuX3BhcmVudC5fZW1pdCgnbG9hZGVycm9yJywgc2VsZi5faWQsIHNlbGYuX25vZGUuZXJyb3IgPyBzZWxmLl9ub2RlLmVycm9yLmNvZGUgOiAwKTtcblxuICAgICAgLy8gQ2xlYXIgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgc2VsZi5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHNlbGYuX2Vycm9yRm4sIGZhbHNlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSFRNTDUgQXVkaW8gY2FucGxheXRocm91Z2ggbGlzdGVuZXIgY2FsbGJhY2suXG4gICAgICovXG4gICAgX2xvYWRMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBSb3VuZCB1cCB0aGUgZHVyYXRpb24gdG8gYWNjb3VudCBmb3IgdGhlIGxvd2VyIHByZWNpc2lvbiBpbiBIVE1MNSBBdWRpby5cbiAgICAgIHBhcmVudC5fZHVyYXRpb24gPSBNYXRoLmNlaWwoc2VsZi5fbm9kZS5kdXJhdGlvbiAqIDEwKSAvIDEwO1xuXG4gICAgICAvLyBTZXR1cCBhIHNwcml0ZSBpZiBub25lIGlzIGRlZmluZWQuXG4gICAgICBpZiAoT2JqZWN0LmtleXMocGFyZW50Ll9zcHJpdGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBwYXJlbnQuX3Nwcml0ZSA9IHtfX2RlZmF1bHQ6IFswLCBwYXJlbnQuX2R1cmF0aW9uICogMTAwMF19O1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyZW50Ll9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgICAgcGFyZW50Ll9zdGF0ZSA9ICdsb2FkZWQnO1xuICAgICAgICBwYXJlbnQuX2VtaXQoJ2xvYWQnKTtcbiAgICAgICAgcGFyZW50Ll9sb2FkUXVldWUoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYXIgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgc2VsZi5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBzZWxmLl9sb2FkRm4sIGZhbHNlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSFRNTDUgQXVkaW8gZW5kZWQgbGlzdGVuZXIgY2FsbGJhY2suXG4gICAgICovXG4gICAgX2VuZExpc3RlbmVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIE9ubHkgaGFuZGxlIHRoZSBgZW5kZWRgYCBldmVudCBpZiB0aGUgZHVyYXRpb24gaXMgSW5maW5pdHkuXG4gICAgICBpZiAocGFyZW50Ll9kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBwYXJlbnQgZHVyYXRpb24gdG8gbWF0Y2ggdGhlIHJlYWwgYXVkaW8gZHVyYXRpb24uXG4gICAgICAgIC8vIFJvdW5kIHVwIHRoZSBkdXJhdGlvbiB0byBhY2NvdW50IGZvciB0aGUgbG93ZXIgcHJlY2lzaW9uIGluIEhUTUw1IEF1ZGlvLlxuICAgICAgICBwYXJlbnQuX2R1cmF0aW9uID0gTWF0aC5jZWlsKHNlbGYuX25vZGUuZHVyYXRpb24gKiAxMCkgLyAxMDtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIHNwcml0ZSB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSByZWFsIGR1cmF0aW9uLlxuICAgICAgICBpZiAocGFyZW50Ll9zcHJpdGUuX19kZWZhdWx0WzFdID09PSBJbmZpbml0eSkge1xuICAgICAgICAgIHBhcmVudC5fc3ByaXRlLl9fZGVmYXVsdFsxXSA9IHBhcmVudC5fZHVyYXRpb24gKiAxMDAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUnVuIHRoZSByZWd1bGFyIGVuZGVkIG1ldGhvZC5cbiAgICAgICAgcGFyZW50Ll9lbmRlZChzZWxmKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYXIgdGhlIGV2ZW50IGxpc3RlbmVyIHNpbmNlIHRoZSBkdXJhdGlvbiBpcyBub3cgY29ycmVjdC5cbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRGbiwgZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvKiogSGVscGVyIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgdmFyIGNhY2hlID0ge307XG5cbiAgLyoqXG4gICAqIEJ1ZmZlciBhIHNvdW5kIGZyb20gVVJMLCBEYXRhIFVSSSBvciBjYWNoZSBhbmQgZGVjb2RlIHRvIGF1ZGlvIHNvdXJjZSAoV2ViIEF1ZGlvIEFQSSkuXG4gICAqIEBwYXJhbSAge0hvd2x9IHNlbGZcbiAgICovXG4gIHZhciBsb2FkQnVmZmVyID0gZnVuY3Rpb24oc2VsZikge1xuICAgIHZhciB1cmwgPSBzZWxmLl9zcmM7XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgYnVmZmVyIGhhcyBhbHJlYWR5IGJlZW4gY2FjaGVkIGFuZCB1c2UgaXQgaW5zdGVhZC5cbiAgICBpZiAoY2FjaGVbdXJsXSkge1xuICAgICAgLy8gU2V0IHRoZSBkdXJhdGlvbiBmcm9tIHRoZSBjYWNoZS5cbiAgICAgIHNlbGYuX2R1cmF0aW9uID0gY2FjaGVbdXJsXS5kdXJhdGlvbjtcblxuICAgICAgLy8gTG9hZCB0aGUgc291bmQgaW50byB0aGlzIEhvd2wuXG4gICAgICBsb2FkU291bmQoc2VsZik7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoL15kYXRhOlteO10rO2Jhc2U2NCwvLnRlc3QodXJsKSkge1xuICAgICAgLy8gRGVjb2RlIHRoZSBiYXNlNjQgZGF0YSBVUkkgd2l0aG91dCBYSFIsIHNpbmNlIHNvbWUgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCBpdC5cbiAgICAgIHZhciBkYXRhID0gYXRvYih1cmwuc3BsaXQoJywnKVsxXSk7XG4gICAgICB2YXIgZGF0YVZpZXcgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpPTA7IGk8ZGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICBkYXRhVmlld1tpXSA9IGRhdGEuY2hhckNvZGVBdChpKTtcbiAgICAgIH1cblxuICAgICAgZGVjb2RlQXVkaW9EYXRhKGRhdGFWaWV3LmJ1ZmZlciwgc2VsZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIExvYWQgdGhlIGJ1ZmZlciBmcm9tIHRoZSBVUkwuXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICB4aHIub3BlbihzZWxmLl94aHIubWV0aG9kLCB1cmwsIHRydWUpO1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHNlbGYuX3hoci53aXRoQ3JlZGVudGlhbHM7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcblxuICAgICAgLy8gQXBwbHkgYW55IGN1c3RvbSBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0LlxuICAgICAgaWYgKHNlbGYuX3hoci5oZWFkZXJzKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHNlbGYuX3hoci5oZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgc2VsZi5feGhyLmhlYWRlcnNba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBnZXQgYSBzdWNjZXNzZnVsIHJlc3BvbnNlIGJhY2suXG4gICAgICAgIHZhciBjb2RlID0gKHhoci5zdGF0dXMgKyAnJylbMF07XG4gICAgICAgIGlmIChjb2RlICE9PSAnMCcgJiYgY29kZSAhPT0gJzInICYmIGNvZGUgIT09ICczJykge1xuICAgICAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdGYWlsZWQgbG9hZGluZyBhdWRpbyBmaWxlIHdpdGggc3RhdHVzOiAnICsgeGhyLnN0YXR1cyArICcuJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVjb2RlQXVkaW9EYXRhKHhoci5yZXNwb25zZSwgc2VsZik7XG4gICAgICB9O1xuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gZXJyb3IsIHN3aXRjaCB0byBIVE1MNSBBdWRpby5cbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xuICAgICAgICAgIHNlbGYuX3dlYkF1ZGlvID0gZmFsc2U7XG4gICAgICAgICAgc2VsZi5fc291bmRzID0gW107XG4gICAgICAgICAgZGVsZXRlIGNhY2hlW3VybF07XG4gICAgICAgICAgc2VsZi5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBzYWZlWGhyU2VuZCh4aHIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2VuZCB0aGUgWEhSIHJlcXVlc3Qgd3JhcHBlZCBpbiBhIHRyeS9jYXRjaC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSB4aHIgWEhSIHRvIHNlbmQuXG4gICAqL1xuICB2YXIgc2FmZVhoclNlbmQgPSBmdW5jdGlvbih4aHIpIHtcbiAgICB0cnkge1xuICAgICAgeGhyLnNlbmQoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB4aHIub25lcnJvcigpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGVjb2RlIGF1ZGlvIGRhdGEgZnJvbSBhbiBhcnJheSBidWZmZXIuXG4gICAqIEBwYXJhbSAge0FycmF5QnVmZmVyfSBhcnJheWJ1ZmZlciBUaGUgYXVkaW8gZGF0YS5cbiAgICogQHBhcmFtICB7SG93bH0gICAgICAgIHNlbGZcbiAgICovXG4gIHZhciBkZWNvZGVBdWRpb0RhdGEgPSBmdW5jdGlvbihhcnJheWJ1ZmZlciwgc2VsZikge1xuICAgIC8vIEZpcmUgYSBsb2FkIGVycm9yIGlmIHNvbWV0aGluZyBicm9rZS5cbiAgICB2YXIgZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdEZWNvZGluZyBhdWRpbyBkYXRhIGZhaWxlZC4nKTtcbiAgICB9O1xuXG4gICAgLy8gTG9hZCB0aGUgc291bmQgb24gc3VjY2Vzcy5cbiAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICAgICAgaWYgKGJ1ZmZlciAmJiBzZWxmLl9zb3VuZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjYWNoZVtzZWxmLl9zcmNdID0gYnVmZmVyO1xuICAgICAgICBsb2FkU291bmQoc2VsZiwgYnVmZmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIERlY29kZSB0aGUgYnVmZmVyIGludG8gYW4gYXVkaW8gc291cmNlLlxuICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgSG93bGVyLmN0eC5kZWNvZGVBdWRpb0RhdGEubGVuZ3RoID09PSAxKSB7XG4gICAgICBIb3dsZXIuY3R4LmRlY29kZUF1ZGlvRGF0YShhcnJheWJ1ZmZlcikudGhlbihzdWNjZXNzKS5jYXRjaChlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIEhvd2xlci5jdHguZGVjb2RlQXVkaW9EYXRhKGFycmF5YnVmZmVyLCBzdWNjZXNzLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNvdW5kIGlzIG5vdyBsb2FkZWQsIHNvIGZpbmlzaCBzZXR0aW5nIGV2ZXJ5dGhpbmcgdXAgYW5kIGZpcmUgdGhlIGxvYWRlZCBldmVudC5cbiAgICogQHBhcmFtICB7SG93bH0gc2VsZlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGJ1ZmZlciBUaGUgZGVjb2RlZCBidWZmZXIgc291bmQgc291cmNlLlxuICAgKi9cbiAgdmFyIGxvYWRTb3VuZCA9IGZ1bmN0aW9uKHNlbGYsIGJ1ZmZlcikge1xuICAgIC8vIFNldCB0aGUgZHVyYXRpb24uXG4gICAgaWYgKGJ1ZmZlciAmJiAhc2VsZi5fZHVyYXRpb24pIHtcbiAgICAgIHNlbGYuX2R1cmF0aW9uID0gYnVmZmVyLmR1cmF0aW9uO1xuICAgIH1cblxuICAgIC8vIFNldHVwIGEgc3ByaXRlIGlmIG5vbmUgaXMgZGVmaW5lZC5cbiAgICBpZiAoT2JqZWN0LmtleXMoc2VsZi5fc3ByaXRlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9IHtfX2RlZmF1bHQ6IFswLCBzZWxmLl9kdXJhdGlvbiAqIDEwMDBdfTtcbiAgICB9XG5cbiAgICAvLyBGaXJlIHRoZSBsb2FkZWQgZXZlbnQuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgIHNlbGYuX2VtaXQoJ2xvYWQnKTtcbiAgICAgIHNlbGYuX2xvYWRRdWV1ZSgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2V0dXAgdGhlIGF1ZGlvIGNvbnRleHQgd2hlbiBhdmFpbGFibGUsIG9yIHN3aXRjaCB0byBIVE1MNSBBdWRpbyBtb2RlLlxuICAgKi9cbiAgdmFyIHNldHVwQXVkaW9Db250ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gSWYgd2UgaGF2ZSBhbHJlYWR5IGRldGVjdGVkIHRoYXQgV2ViIEF1ZGlvIGlzbid0IHN1cHBvcnRlZCwgZG9uJ3QgcnVuIHRoaXMgc3RlcCBhZ2Fpbi5cbiAgICBpZiAoIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgd2UgYXJlIHVzaW5nIFdlYiBBdWRpbyBhbmQgc2V0dXAgdGhlIEF1ZGlvQ29udGV4dCBpZiB3ZSBhcmUuXG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2YgQXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBIb3dsZXIuY3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2Via2l0QXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBIb3dsZXIuY3R4ID0gbmV3IHdlYmtpdEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGF1ZGlvIGNvbnRleHQgY3JlYXRpb24gc3RpbGwgZmFpbGVkLCBzZXQgdXNpbmcgd2ViIGF1ZGlvIHRvIGZhbHNlLlxuICAgIGlmICghSG93bGVyLmN0eCkge1xuICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBhIHdlYnZpZXcgaXMgYmVpbmcgdXNlZCBvbiBpT1M4IG9yIGVhcmxpZXIgKHJhdGhlciB0aGFuIHRoZSBicm93c2VyKS5cbiAgICAvLyBJZiBpdCBpcywgZGlzYWJsZSBXZWIgQXVkaW8gYXMgaXQgY2F1c2VzIGNyYXNoaW5nLlxuICAgIHZhciBpT1MgPSAoL2lQKGhvbmV8b2R8YWQpLy50ZXN0KEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnBsYXRmb3JtKSk7XG4gICAgdmFyIGFwcFZlcnNpb24gPSBIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9PUyAoXFxkKylfKFxcZCspXz8oXFxkKyk/Lyk7XG4gICAgdmFyIHZlcnNpb24gPSBhcHBWZXJzaW9uID8gcGFyc2VJbnQoYXBwVmVyc2lvblsxXSwgMTApIDogbnVsbDtcbiAgICBpZiAoaU9TICYmIHZlcnNpb24gJiYgdmVyc2lvbiA8IDkpIHtcbiAgICAgIHZhciBzYWZhcmkgPSAvc2FmYXJpLy50ZXN0KEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIGlmIChIb3dsZXIuX25hdmlnYXRvciAmJiAhc2FmYXJpKSB7XG4gICAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGFuZCBleHBvc2UgdGhlIG1hc3RlciBHYWluTm9kZSB3aGVuIHVzaW5nIFdlYiBBdWRpbyAodXNlZnVsIGZvciBwbHVnaW5zIG9yIGFkdmFuY2VkIHVzYWdlKS5cbiAgICBpZiAoSG93bGVyLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4gPT09ICd1bmRlZmluZWQnKSA/IEhvd2xlci5jdHguY3JlYXRlR2Fpbk5vZGUoKSA6IEhvd2xlci5jdHguY3JlYXRlR2FpbigpO1xuICAgICAgSG93bGVyLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShIb3dsZXIuX211dGVkID8gMCA6IEhvd2xlci5fdm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluLmNvbm5lY3QoSG93bGVyLmN0eC5kZXN0aW5hdGlvbik7XG4gICAgfVxuXG4gICAgLy8gUmUtcnVuIHRoZSBzZXR1cCBvbiBIb3dsZXIuXG4gICAgSG93bGVyLl9zZXR1cCgpO1xuICB9O1xuXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBBTUQgKEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbikgbGlicmFyaWVzIHN1Y2ggYXMgcmVxdWlyZS5qcy5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBIb3dsZXI6IEhvd2xlcixcbiAgICAgICAgSG93bDogSG93bFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBDb21tb25KUyBsaWJyYXJpZXMgc3VjaCBhcyBicm93c2VyaWZ5LlxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZXhwb3J0cy5Ib3dsZXIgPSBIb3dsZXI7XG4gICAgZXhwb3J0cy5Ib3dsID0gSG93bDtcbiAgfVxuXG4gIC8vIEFkZCB0byBnbG9iYWwgaW4gTm9kZS5qcyAoZm9yIHRlc3RpbmcsIGV0YykuXG4gIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgIGdsb2JhbC5Ib3dsZXJHbG9iYWwgPSBIb3dsZXJHbG9iYWw7XG4gICAgZ2xvYmFsLkhvd2xlciA9IEhvd2xlcjtcbiAgICBnbG9iYWwuSG93bCA9IEhvd2w7XG4gICAgZ2xvYmFsLlNvdW5kID0gU291bmQ7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsgIC8vIERlZmluZSBnbG9iYWxseSBpbiBjYXNlIEFNRCBpcyBub3QgYXZhaWxhYmxlIG9yIHVudXNlZC5cbiAgICB3aW5kb3cuSG93bGVyR2xvYmFsID0gSG93bGVyR2xvYmFsO1xuICAgIHdpbmRvdy5Ib3dsZXIgPSBIb3dsZXI7XG4gICAgd2luZG93Lkhvd2wgPSBIb3dsO1xuICAgIHdpbmRvdy5Tb3VuZCA9IFNvdW5kO1xuICB9XG59KSgpO1xuXG5cbi8qIVxuICogIFNwYXRpYWwgUGx1Z2luIC0gQWRkcyBzdXBwb3J0IGZvciBzdGVyZW8gYW5kIDNEIGF1ZGlvIHdoZXJlIFdlYiBBdWRpbyBpcyBzdXBwb3J0ZWQuXG4gKiAgXG4gKiAgaG93bGVyLmpzIHYyLjIuM1xuICogIGhvd2xlcmpzLmNvbVxuICpcbiAqICAoYykgMjAxMy0yMDIwLCBKYW1lcyBTaW1wc29uIG9mIEdvbGRGaXJlIFN0dWRpb3NcbiAqICBnb2xkZmlyZXN0dWRpb3MuY29tXG4gKlxuICogIE1JVCBMaWNlbnNlXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBTZXR1cCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUuX3BvcyA9IFswLCAwLCAwXTtcbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5fb3JpZW50YXRpb24gPSBbMCwgMCwgLTEsIDAsIDEsIDBdO1xuXG4gIC8qKiBHbG9iYWwgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogSGVscGVyIG1ldGhvZCB0byB1cGRhdGUgdGhlIHN0ZXJlbyBwYW5uaW5nIHBvc2l0aW9uIG9mIGFsbCBjdXJyZW50IEhvd2xzLlxuICAgKiBGdXR1cmUgSG93bHMgd2lsbCBub3QgdXNlIHRoaXMgdmFsdWUgdW5sZXNzIGV4cGxpY2l0bHkgc2V0LlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHBhbiBBIHZhbHVlIG9mIC0xLjAgaXMgYWxsIHRoZSB3YXkgbGVmdCBhbmQgMS4wIGlzIGFsbCB0aGUgd2F5IHJpZ2h0LlxuICAgKiBAcmV0dXJuIHtIb3dsZXIvTnVtYmVyfSAgICAgU2VsZiBvciBjdXJyZW50IHN0ZXJlbyBwYW5uaW5nIHZhbHVlLlxuICAgKi9cbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5zdGVyZW8gPSBmdW5jdGlvbihwYW4pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuY3R4IHx8ICFzZWxmLmN0eC5saXN0ZW5lcikge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBIb3dscyBhbmQgdXBkYXRlIHRoZWlyIHN0ZXJlbyBwYW5uaW5nLlxuICAgIGZvciAodmFyIGk9c2VsZi5faG93bHMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuICAgICAgc2VsZi5faG93bHNbaV0uc3RlcmVvKHBhbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIHBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lciBpbiAzRCBjYXJ0ZXNpYW4gc3BhY2UuIFNvdW5kcyB1c2luZ1xuICAgKiAzRCBwb3NpdGlvbiB3aWxsIGJlIHJlbGF0aXZlIHRvIHRoZSBsaXN0ZW5lcidzIHBvc2l0aW9uLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggVGhlIHgtcG9zaXRpb24gb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgVGhlIHktcG9zaXRpb24gb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogVGhlIHotcG9zaXRpb24gb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcmV0dXJuIHtIb3dsZXIvQXJyYXl9ICAgU2VsZiBvciBjdXJyZW50IGxpc3RlbmVyIHBvc2l0aW9uLlxuICAgKi9cbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5wb3MgPSBmdW5jdGlvbih4LCB5LCB6KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9wb3NbMV0gOiB5O1xuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IHNlbGYuX3Bvc1syXSA6IHo7XG5cbiAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICBzZWxmLl9wb3MgPSBbeCwgeSwgel07XG5cbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5jdHgubGlzdGVuZXIucG9zaXRpb25YICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblguc2V0VGFyZ2V0QXRUaW1lKHNlbGYuX3Bvc1swXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIucG9zaXRpb25ZLnNldFRhcmdldEF0VGltZShzZWxmLl9wb3NbMV0sIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWi5zZXRUYXJnZXRBdFRpbWUoc2VsZi5fcG9zWzJdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuc2V0UG9zaXRpb24oc2VsZi5fcG9zWzBdLCBzZWxmLl9wb3NbMV0sIHNlbGYuX3Bvc1syXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzZWxmLl9wb3M7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIGRpcmVjdGlvbiB0aGUgbGlzdGVuZXIgaXMgcG9pbnRpbmcgaW4gdGhlIDNEIGNhcnRlc2lhbiBzcGFjZS5cbiAgICogQSBmcm9udCBhbmQgdXAgdmVjdG9yIG11c3QgYmUgcHJvdmlkZWQuIFRoZSBmcm9udCBpcyB0aGUgZGlyZWN0aW9uIHRoZVxuICAgKiBmYWNlIG9mIHRoZSBsaXN0ZW5lciBpcyBwb2ludGluZywgYW5kIHVwIGlzIHRoZSBkaXJlY3Rpb24gdGhlIHRvcCBvZiB0aGVcbiAgICogbGlzdGVuZXIgaXMgcG9pbnRpbmcuIFRodXMsIHRoZXNlIHZhbHVlcyBhcmUgZXhwZWN0ZWQgdG8gYmUgYXQgcmlnaHQgYW5nbGVzXG4gICAqIGZyb20gZWFjaCBvdGhlci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICAgVGhlIHgtb3JpZW50YXRpb24gb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgICBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geiAgIFRoZSB6LW9yaWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB4VXAgVGhlIHgtb3JpZW50YXRpb24gb2YgdGhlIHRvcCBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geVVwIFRoZSB5LW9yaWVudGF0aW9uIG9mIHRoZSB0b3Agb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHpVcCBUaGUgei1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHJldHVybiB7SG93bGVyL0FycmF5fSAgICAgUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IG9yaWVudGF0aW9uIHZlY3RvcnMuXG4gICAqL1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLm9yaWVudGF0aW9uID0gZnVuY3Rpb24oeCwgeSwgeiwgeFVwLCB5VXAsIHpVcCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgdmFyIG9yID0gc2VsZi5fb3JpZW50YXRpb247XG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gb3JbMV0gOiB5O1xuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IG9yWzJdIDogejtcbiAgICB4VXAgPSAodHlwZW9mIHhVcCAhPT0gJ251bWJlcicpID8gb3JbM10gOiB4VXA7XG4gICAgeVVwID0gKHR5cGVvZiB5VXAgIT09ICdudW1iZXInKSA/IG9yWzRdIDogeVVwO1xuICAgIHpVcCA9ICh0eXBlb2YgelVwICE9PSAnbnVtYmVyJykgPyBvcls1XSA6IHpVcDtcblxuICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gW3gsIHksIHosIHhVcCwgeVVwLCB6VXBdO1xuXG4gICAgICBpZiAodHlwZW9mIHNlbGYuY3R4Lmxpc3RlbmVyLmZvcndhcmRYICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWC5zZXRUYXJnZXRBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFkuc2V0VGFyZ2V0QXRUaW1lKHksIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLmZvcndhcmRaLnNldFRhcmdldEF0VGltZSh6LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci51cFguc2V0VGFyZ2V0QXRUaW1lKHhVcCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIudXBZLnNldFRhcmdldEF0VGltZSh5VXAsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnVwWi5zZXRUYXJnZXRBdFRpbWUoelVwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuc2V0T3JpZW50YXRpb24oeCwgeSwgeiwgeFVwLCB5VXAsIHpVcCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKiogR3JvdXAgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQWRkIG5ldyBwcm9wZXJ0aWVzIHRvIHRoZSBjb3JlIGluaXQuXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBfc3VwZXIgQ29yZSBpbml0IG1ldGhvZC5cbiAgICogQHJldHVybiB7SG93bH1cbiAgICovXG4gIEhvd2wucHJvdG90eXBlLmluaXQgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG8pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU2V0dXAgdXNlci1kZWZpbmVkIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gby5vcmllbnRhdGlvbiB8fCBbMSwgMCwgMF07XG4gICAgICBzZWxmLl9zdGVyZW8gPSBvLnN0ZXJlbyB8fCBudWxsO1xuICAgICAgc2VsZi5fcG9zID0gby5wb3MgfHwgbnVsbDtcbiAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSB7XG4gICAgICAgIGNvbmVJbm5lckFuZ2xlOiB0eXBlb2Ygby5jb25lSW5uZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVJbm5lckFuZ2xlIDogMzYwLFxuICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8uY29uZU91dGVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJBbmdsZSA6IDM2MCxcbiAgICAgICAgY29uZU91dGVyR2FpbjogdHlwZW9mIG8uY29uZU91dGVyR2FpbiAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckdhaW4gOiAwLFxuICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5kaXN0YW5jZU1vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8uZGlzdGFuY2VNb2RlbCA6ICdpbnZlcnNlJyxcbiAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLm1heERpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ubWF4RGlzdGFuY2UgOiAxMDAwMCxcbiAgICAgICAgcGFubmluZ01vZGVsOiB0eXBlb2Ygby5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uaW5nTW9kZWwgOiAnSFJURicsXG4gICAgICAgIHJlZkRpc3RhbmNlOiB0eXBlb2Ygby5yZWZEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJlZkRpc3RhbmNlIDogMSxcbiAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJvbGxvZmZGYWN0b3IgOiAxXG4gICAgICB9O1xuXG4gICAgICAvLyBTZXR1cCBldmVudCBsaXN0ZW5lcnMuXG4gICAgICBzZWxmLl9vbnN0ZXJlbyA9IG8ub25zdGVyZW8gPyBbe2ZuOiBvLm9uc3RlcmVvfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucG9zID0gby5vbnBvcyA/IFt7Zm46IG8ub25wb3N9XSA6IFtdO1xuICAgICAgc2VsZi5fb25vcmllbnRhdGlvbiA9IG8ub25vcmllbnRhdGlvbiA/IFt7Zm46IG8ub25vcmllbnRhdGlvbn1dIDogW107XG5cbiAgICAgIC8vIENvbXBsZXRlIGluaXRpbGl6YXRpb24gd2l0aCBob3dsZXIuanMgY29yZSdzIGluaXQgZnVuY3Rpb24uXG4gICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgbyk7XG4gICAgfTtcbiAgfSkoSG93bC5wcm90b3R5cGUuaW5pdCk7XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIHN0ZXJlbyBwYW5uaW5nIG9mIHRoZSBhdWRpbyBzb3VyY2UgZm9yIHRoaXMgc291bmQgb3IgYWxsIGluIHRoZSBncm91cC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBwYW4gIEEgdmFsdWUgb2YgLTEuMCBpcyBhbGwgdGhlIHdheSBsZWZ0IGFuZCAxLjAgaXMgYWxsIHRoZSB3YXkgcmlnaHQuXG4gICAqIEBwYXJhbSAge051bWJlcn0gaWQgKG9wdGlvbmFsKSBUaGUgc291bmQgSUQuIElmIG5vbmUgaXMgcGFzc2VkLCBhbGwgaW4gZ3JvdXAgd2lsbCBiZSB1cGRhdGVkLlxuICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gICAgUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHN0ZXJlbyBwYW5uaW5nIHZhbHVlLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUuc3RlcmVvID0gZnVuY3Rpb24ocGFuLCBpZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHN0ZXJlbyBwYW4gd2hlbiBjYXBhYmxlLlxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICBldmVudDogJ3N0ZXJlbycsXG4gICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5zdGVyZW8ocGFuLCBpZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgUGFubmVyU3RlcmVvTm9kZSBzdXBwb3J0IGFuZCBmYWxsYmFjayB0byBQYW5uZXJOb2RlIGlmIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAgdmFyIHBhbm5lclR5cGUgPSAodHlwZW9mIEhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyID09PSAndW5kZWZpbmVkJykgPyAnc3BhdGlhbCcgOiAnc3RlcmVvJztcblxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHN0ZXJlbyBwYW5uaW5nIGlmIG5vIElEIGlzIHBhc3NlZC5cbiAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHN0ZXJlbyBwYW5uaW5nIGlmIG5vIHBhcmFtZXRlcnMgYXJlIHBhc3NlZC5cbiAgICAgIGlmICh0eXBlb2YgcGFuID09PSAnbnVtYmVyJykge1xuICAgICAgICBzZWxmLl9zdGVyZW8gPSBwYW47XG4gICAgICAgIHNlbGYuX3BvcyA9IFtwYW4sIDAsIDBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX3N0ZXJlbztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGFuZ2UgdGhlIHN0cmVvIHBhbm5pbmcgb2Ygb25lIG9yIGFsbCBzb3VuZHMgaW4gZ3JvdXAuXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBpZiAodHlwZW9mIHBhbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzb3VuZC5fc3RlcmVvID0gcGFuO1xuICAgICAgICAgIHNvdW5kLl9wb3MgPSBbcGFuLCAwLCAwXTtcblxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIGZhbGxpbmcgYmFjaywgbWFrZSBzdXJlIHRoZSBwYW5uaW5nTW9kZWwgaXMgZXF1YWxwb3dlci5cbiAgICAgICAgICAgIHNvdW5kLl9wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbCA9ICdlcXVhbHBvd2VyJztcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBwYW5uZXIgc2V0dXAgYW5kIGNyZWF0ZSBhIG5ldyBvbmUgaWYgbm90LlxuICAgICAgICAgICAgaWYgKCFzb3VuZC5fcGFubmVyIHx8ICFzb3VuZC5fcGFubmVyLnBhbikge1xuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgcGFubmVyVHlwZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYW5uZXJUeXBlID09PSAnc3BhdGlhbCcpIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWC5zZXRWYWx1ZUF0VGltZShwYW4sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKDAsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25aLnNldFZhbHVlQXRUaW1lKDAsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0UG9zaXRpb24ocGFuLCAwLCAwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wYW4uc2V0VmFsdWVBdFRpbWUocGFuLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9lbWl0KCdzdGVyZW8nLCBzb3VuZC5faWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzb3VuZC5fc3RlcmVvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIDNEIHNwYXRpYWwgcG9zaXRpb24gb2YgdGhlIGF1ZGlvIHNvdXJjZSBmb3IgdGhpcyBzb3VuZCBvciBncm91cCByZWxhdGl2ZSB0byB0aGUgZ2xvYmFsIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggIFRoZSB4LXBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0geSAgVGhlIHktcG9zaXRpb24gb2YgdGhlIGF1ZGlvIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6ICBUaGUgei1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIChvcHRpb25hbCkgVGhlIHNvdW5kIElELiBJZiBub25lIGlzIHBhc3NlZCwgYWxsIGluIGdyb3VwIHdpbGwgYmUgdXBkYXRlZC5cbiAgICogQHJldHVybiB7SG93bC9BcnJheX0gICAgUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IDNEIHNwYXRpYWwgcG9zaXRpb246IFt4LCB5LCB6XS5cbiAgICovXG4gIEhvd2wucHJvdG90eXBlLnBvcyA9IGZ1bmN0aW9uKHgsIHksIHosIGlkKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2UgcG9zaXRpb24gd2hlbiBjYXBhYmxlLlxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICBldmVudDogJ3BvcycsXG4gICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5wb3MoeCwgeSwgeiwgaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IDAgOiB5O1xuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IC0wLjUgOiB6O1xuXG4gICAgLy8gU2V0dXAgdGhlIGdyb3VwJ3Mgc3BhdGlhbCBwb3NpdGlvbiBpZiBubyBJRCBpcyBwYXNzZWQuXG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBzcGF0aWFsIHBvc2l0aW9uIGlmIG5vIHBhcmFtZXRlcnMgYXJlIHBhc3NlZC5cbiAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgc2VsZi5fcG9zID0gW3gsIHksIHpdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX3BvcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGFuZ2UgdGhlIHNwYXRpYWwgcG9zaXRpb24gb2Ygb25lIG9yIGFsbCBzb3VuZHMgaW4gZ3JvdXAuXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgc291bmQuX3BvcyA9IFt4LCB5LCB6XTtcblxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBwYW5uZXIgc2V0dXAgYW5kIGNyZWF0ZSBhIG5ldyBvbmUgaWYgbm90LlxuICAgICAgICAgICAgaWYgKCFzb3VuZC5fcGFubmVyIHx8IHNvdW5kLl9wYW5uZXIucGFuKSB7XG4gICAgICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCAnc3BhdGlhbCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWC5zZXRWYWx1ZUF0VGltZSh4LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblkuc2V0VmFsdWVBdFRpbWUoeSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25aLnNldFZhbHVlQXRUaW1lKHosIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRQb3NpdGlvbih4LCB5LCB6KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9lbWl0KCdwb3MnLCBzb3VuZC5faWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzb3VuZC5fcG9zO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIGRpcmVjdGlvbiB0aGUgYXVkaW8gc291cmNlIGlzIHBvaW50aW5nIGluIHRoZSAzRCBjYXJ0ZXNpYW4gY29vcmRpbmF0ZVxuICAgKiBzcGFjZS4gRGVwZW5kaW5nIG9uIGhvdyBkaXJlY3Rpb24gdGhlIHNvdW5kIGlzLCBiYXNlZCBvbiB0aGUgYGNvbmVgIGF0dHJpYnV0ZXMsXG4gICAqIGEgc291bmQgcG9pbnRpbmcgYXdheSBmcm9tIHRoZSBsaXN0ZW5lciBjYW4gYmUgcXVpZXQgb3Igc2lsZW50LlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggIFRoZSB4LW9yaWVudGF0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0geSAgVGhlIHktb3JpZW50YXRpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6ICBUaGUgei1vcmllbnRhdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIChvcHRpb25hbCkgVGhlIHNvdW5kIElELiBJZiBub25lIGlzIHBhc3NlZCwgYWxsIGluIGdyb3VwIHdpbGwgYmUgdXBkYXRlZC5cbiAgICogQHJldHVybiB7SG93bC9BcnJheX0gICAgUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IDNEIHNwYXRpYWwgb3JpZW50YXRpb246IFt4LCB5LCB6XS5cbiAgICovXG4gIEhvd2wucHJvdG90eXBlLm9yaWVudGF0aW9uID0gZnVuY3Rpb24oeCwgeSwgeiwgaWQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBvcmllbnRhdGlvbiB3aGVuIGNhcGFibGUuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgIGV2ZW50OiAnb3JpZW50YXRpb24nLFxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYub3JpZW50YXRpb24oeCwgeSwgeiwgaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IHNlbGYuX29yaWVudGF0aW9uWzFdIDogeTtcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9vcmllbnRhdGlvblsyXSA6IHo7XG5cbiAgICAvLyBTZXR1cCB0aGUgZ3JvdXAncyBzcGF0aWFsIG9yaWVudGF0aW9uIGlmIG5vIElEIGlzIHBhc3NlZC5cbiAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHNwYXRpYWwgb3JpZW50YXRpb24gaWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkLlxuICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IFt4LCB5LCB6XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9vcmllbnRhdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGFuZ2UgdGhlIHNwYXRpYWwgb3JpZW50YXRpb24gb2Ygb25lIG9yIGFsbCBzb3VuZHMgaW4gZ3JvdXAuXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgc291bmQuX29yaWVudGF0aW9uID0gW3gsIHksIHpdO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHBhbm5lciBzZXR1cCBhbmQgY3JlYXRlIGEgbmV3IG9uZSBpZiBub3QuXG4gICAgICAgICAgICBpZiAoIXNvdW5kLl9wYW5uZXIpIHtcbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBwb3NpdGlvbiB0byBzZXR1cCB0aGUgbm9kZSB3aXRoLlxuICAgICAgICAgICAgICBpZiAoIXNvdW5kLl9wb3MpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fcG9zID0gc2VsZi5fcG9zIHx8IFswLCAwLCAtMC41XTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCAnc3BhdGlhbCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWC5zZXRWYWx1ZUF0VGltZSh4LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblkuc2V0VmFsdWVBdFRpbWUoeSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25aLnNldFZhbHVlQXRUaW1lKHosIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRPcmllbnRhdGlvbih4LCB5LCB6KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9lbWl0KCdvcmllbnRhdGlvbicsIHNvdW5kLl9pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kLl9vcmllbnRhdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBwYW5uZXIgbm9kZSdzIGF0dHJpYnV0ZXMgZm9yIGEgc291bmQgb3IgZ3JvdXAgb2Ygc291bmRzLlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxsIHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICogICBwYW5uZXJBdHRyKCkgLT4gUmV0dXJucyB0aGUgZ3JvdXAncyB2YWx1ZXMuXG4gICAqICAgcGFubmVyQXR0cihpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyB2YWx1ZXMuXG4gICAqICAgcGFubmVyQXR0cihvKSAtPiBTZXQncyB0aGUgdmFsdWVzIG9mIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgKiAgIHBhbm5lckF0dHIobywgaWQpIC0+IFNldCdzIHRoZSB2YWx1ZXMgb2YgcGFzc2VkIHNvdW5kIGlkLlxuICAgKlxuICAgKiAgIEF0dHJpYnV0ZXM6XG4gICAqICAgICBjb25lSW5uZXJBbmdsZSAtICgzNjAgYnkgZGVmYXVsdCkgQSBwYXJhbWV0ZXIgZm9yIGRpcmVjdGlvbmFsIGF1ZGlvIHNvdXJjZXMsIHRoaXMgaXMgYW4gYW5nbGUsIGluIGRlZ3JlZXMsXG4gICAqICAgICAgICAgICAgICAgICAgICAgIGluc2lkZSBvZiB3aGljaCB0aGVyZSB3aWxsIGJlIG5vIHZvbHVtZSByZWR1Y3Rpb24uXG4gICAqICAgICBjb25lT3V0ZXJBbmdsZSAtICgzNjAgYnkgZGVmYXVsdCkgQSBwYXJhbWV0ZXIgZm9yIGRpcmVjdGlvbmFsIGF1ZGlvIHNvdXJjZXMsIHRoaXMgaXMgYW4gYW5nbGUsIGluIGRlZ3JlZXMsXG4gICAqICAgICAgICAgICAgICAgICAgICAgIG91dHNpZGUgb2Ygd2hpY2ggdGhlIHZvbHVtZSB3aWxsIGJlIHJlZHVjZWQgdG8gYSBjb25zdGFudCB2YWx1ZSBvZiBgY29uZU91dGVyR2FpbmAuXG4gICAqICAgICBjb25lT3V0ZXJHYWluIC0gKDAgYnkgZGVmYXVsdCkgQSBwYXJhbWV0ZXIgZm9yIGRpcmVjdGlvbmFsIGF1ZGlvIHNvdXJjZXMsIHRoaXMgaXMgdGhlIGdhaW4gb3V0c2lkZSBvZiB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICBgY29uZU91dGVyQW5nbGVgLiBJdCBpcyBhIGxpbmVhciB2YWx1ZSBpbiB0aGUgcmFuZ2UgYFswLCAxXWAuXG4gICAqICAgICBkaXN0YW5jZU1vZGVsIC0gKCdpbnZlcnNlJyBieSBkZWZhdWx0KSBEZXRlcm1pbmVzIGFsZ29yaXRobSB1c2VkIHRvIHJlZHVjZSB2b2x1bWUgYXMgYXVkaW8gbW92ZXMgYXdheSBmcm9tXG4gICAqICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuIENhbiBiZSBgbGluZWFyYCwgYGludmVyc2VgIG9yIGBleHBvbmVudGlhbC5cbiAgICogICAgIG1heERpc3RhbmNlIC0gKDEwMDAwIGJ5IGRlZmF1bHQpIFRoZSBtYXhpbXVtIGRpc3RhbmNlIGJldHdlZW4gc291cmNlIGFuZCBsaXN0ZW5lciwgYWZ0ZXIgd2hpY2ggdGhlIHZvbHVtZVxuICAgKiAgICAgICAgICAgICAgICAgICB3aWxsIG5vdCBiZSByZWR1Y2VkIGFueSBmdXJ0aGVyLlxuICAgKiAgICAgcmVmRGlzdGFuY2UgLSAoMSBieSBkZWZhdWx0KSBBIHJlZmVyZW5jZSBkaXN0YW5jZSBmb3IgcmVkdWNpbmcgdm9sdW1lIGFzIHNvdXJjZSBtb3ZlcyBmdXJ0aGVyIGZyb20gdGhlIGxpc3RlbmVyLlxuICAgKiAgICAgICAgICAgICAgICAgICBUaGlzIGlzIHNpbXBseSBhIHZhcmlhYmxlIG9mIHRoZSBkaXN0YW5jZSBtb2RlbCBhbmQgaGFzIGEgZGlmZmVyZW50IGVmZmVjdCBkZXBlbmRpbmcgb24gd2hpY2ggbW9kZWxcbiAgICogICAgICAgICAgICAgICAgICAgaXMgdXNlZCBhbmQgdGhlIHNjYWxlIG9mIHlvdXIgY29vcmRpbmF0ZXMuIEdlbmVyYWxseSwgdm9sdW1lIHdpbGwgYmUgZXF1YWwgdG8gMSBhdCB0aGlzIGRpc3RhbmNlLlxuICAgKiAgICAgcm9sbG9mZkZhY3RvciAtICgxIGJ5IGRlZmF1bHQpIEhvdyBxdWlja2x5IHRoZSB2b2x1bWUgcmVkdWNlcyBhcyBzb3VyY2UgbW92ZXMgZnJvbSBsaXN0ZW5lci4gVGhpcyBpcyBzaW1wbHkgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlIG9mIHRoZSBkaXN0YW5jZSBtb2RlbCBhbmQgY2FuIGJlIGluIHRoZSByYW5nZSBvZiBgWzAsIDFdYCB3aXRoIGBsaW5lYXJgIGFuZCBgWzAsIFx1MjIxRV1gXG4gICAqICAgICAgICAgICAgICAgICAgICAgd2l0aCBgaW52ZXJzZWAgYW5kIGBleHBvbmVudGlhbGAuXG4gICAqICAgICBwYW5uaW5nTW9kZWwgLSAoJ0hSVEYnIGJ5IGRlZmF1bHQpIERldGVybWluZXMgd2hpY2ggc3BhdGlhbGl6YXRpb24gYWxnb3JpdGhtIGlzIHVzZWQgdG8gcG9zaXRpb24gYXVkaW8uXG4gICAqICAgICAgICAgICAgICAgICAgICAgQ2FuIGJlIGBIUlRGYCBvciBgZXF1YWxwb3dlcmAuXG4gICAqXG4gICAqIEByZXR1cm4ge0hvd2wvT2JqZWN0fSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCBwYW5uZXIgYXR0cmlidXRlcy5cbiAgICovXG4gIEhvd2wucHJvdG90eXBlLnBhbm5lckF0dHIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdmFyIG8sIGlkLCBzb3VuZDtcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBwYW5uZXIgYXR0cmlidXRlIHZhbHVlcy5cbiAgICAgIHJldHVybiBzZWxmLl9wYW5uZXJBdHRyO1xuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgbyA9IGFyZ3NbMF07XG5cbiAgICAgICAgLy8gU2V0IHRoZSBncm91J3MgcGFubmVyIGF0dHJpYnV0ZSB2YWx1ZXMuXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaWYgKCFvLnBhbm5lckF0dHIpIHtcbiAgICAgICAgICAgIG8ucGFubmVyQXR0ciA9IHtcbiAgICAgICAgICAgICAgY29uZUlubmVyQW5nbGU6IG8uY29uZUlubmVyQW5nbGUsXG4gICAgICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiBvLmNvbmVPdXRlckFuZ2xlLFxuICAgICAgICAgICAgICBjb25lT3V0ZXJHYWluOiBvLmNvbmVPdXRlckdhaW4sXG4gICAgICAgICAgICAgIGRpc3RhbmNlTW9kZWw6IG8uZGlzdGFuY2VNb2RlbCxcbiAgICAgICAgICAgICAgbWF4RGlzdGFuY2U6IG8ubWF4RGlzdGFuY2UsXG4gICAgICAgICAgICAgIHJlZkRpc3RhbmNlOiBvLnJlZkRpc3RhbmNlLFxuICAgICAgICAgICAgICByb2xsb2ZmRmFjdG9yOiBvLnJvbGxvZmZGYWN0b3IsXG4gICAgICAgICAgICAgIHBhbm5pbmdNb2RlbDogby5wYW5uaW5nTW9kZWxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHtcbiAgICAgICAgICAgIGNvbmVJbm5lckFuZ2xlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5jb25lSW5uZXJBbmdsZSA6IHNlbGYuX2NvbmVJbm5lckFuZ2xlLFxuICAgICAgICAgICAgY29uZU91dGVyQW5nbGU6IHR5cGVvZiBvLnBhbm5lckF0dHIuY29uZU91dGVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlIDogc2VsZi5fY29uZU91dGVyQW5nbGUsXG4gICAgICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5wYW5uZXJBdHRyLmNvbmVPdXRlckdhaW4gIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLmNvbmVPdXRlckdhaW4gOiBzZWxmLl9jb25lT3V0ZXJHYWluLFxuICAgICAgICAgICAgZGlzdGFuY2VNb2RlbDogdHlwZW9mIG8ucGFubmVyQXR0ci5kaXN0YW5jZU1vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5kaXN0YW5jZU1vZGVsIDogc2VsZi5fZGlzdGFuY2VNb2RlbCxcbiAgICAgICAgICAgIG1heERpc3RhbmNlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLm1heERpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5tYXhEaXN0YW5jZSA6IHNlbGYuX21heERpc3RhbmNlLFxuICAgICAgICAgICAgcmVmRGlzdGFuY2U6IHR5cGVvZiBvLnBhbm5lckF0dHIucmVmRGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLnJlZkRpc3RhbmNlIDogc2VsZi5fcmVmRGlzdGFuY2UsXG4gICAgICAgICAgICByb2xsb2ZmRmFjdG9yOiB0eXBlb2Ygby5wYW5uZXJBdHRyLnJvbGxvZmZGYWN0b3IgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLnJvbGxvZmZGYWN0b3IgOiBzZWxmLl9yb2xsb2ZmRmFjdG9yLFxuICAgICAgICAgICAgcGFubmluZ01vZGVsOiB0eXBlb2Ygby5wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIucGFubmluZ01vZGVsIDogc2VsZi5fcGFubmluZ01vZGVsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoaXMgc291bmQncyBwYW5uZXIgYXR0cmlidXRlIHZhbHVlcy5cbiAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQocGFyc2VJbnQoYXJnc1swXSwgMTApKTtcbiAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX3Bhbm5lckF0dHIgOiBzZWxmLl9wYW5uZXJBdHRyO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgIG8gPSBhcmdzWzBdO1xuICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSB2YWx1ZXMgb2YgdGhlIHNwZWNpZmllZCBzb3VuZHMuXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgLy8gTWVyZ2UgdGhlIG5ldyB2YWx1ZXMgaW50byB0aGUgc291bmQuXG4gICAgICAgIHZhciBwYSA9IHNvdW5kLl9wYW5uZXJBdHRyO1xuICAgICAgICBwYSA9IHtcbiAgICAgICAgICBjb25lSW5uZXJBbmdsZTogdHlwZW9mIG8uY29uZUlubmVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lSW5uZXJBbmdsZSA6IHBhLmNvbmVJbm5lckFuZ2xlLFxuICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckFuZ2xlIDogcGEuY29uZU91dGVyQW5nbGUsXG4gICAgICAgICAgY29uZU91dGVyR2FpbjogdHlwZW9mIG8uY29uZU91dGVyR2FpbiAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckdhaW4gOiBwYS5jb25lT3V0ZXJHYWluLFxuICAgICAgICAgIGRpc3RhbmNlTW9kZWw6IHR5cGVvZiBvLmRpc3RhbmNlTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5kaXN0YW5jZU1vZGVsIDogcGEuZGlzdGFuY2VNb2RlbCxcbiAgICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5tYXhEaXN0YW5jZSA6IHBhLm1heERpc3RhbmNlLFxuICAgICAgICAgIHJlZkRpc3RhbmNlOiB0eXBlb2Ygby5yZWZEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJlZkRpc3RhbmNlIDogcGEucmVmRGlzdGFuY2UsXG4gICAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJvbGxvZmZGYWN0b3IgOiBwYS5yb2xsb2ZmRmFjdG9yLFxuICAgICAgICAgIHBhbm5pbmdNb2RlbDogdHlwZW9mIG8ucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmluZ01vZGVsIDogcGEucGFubmluZ01vZGVsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBwYW5uZXIgdmFsdWVzIG9yIGNyZWF0ZSBhIG5ldyBwYW5uZXIgaWYgbm9uZSBleGlzdHMuXG4gICAgICAgIHZhciBwYW5uZXIgPSBzb3VuZC5fcGFubmVyO1xuICAgICAgICBpZiAocGFubmVyKSB7XG4gICAgICAgICAgcGFubmVyLmNvbmVJbm5lckFuZ2xlID0gcGEuY29uZUlubmVyQW5nbGU7XG4gICAgICAgICAgcGFubmVyLmNvbmVPdXRlckFuZ2xlID0gcGEuY29uZU91dGVyQW5nbGU7XG4gICAgICAgICAgcGFubmVyLmNvbmVPdXRlckdhaW4gPSBwYS5jb25lT3V0ZXJHYWluO1xuICAgICAgICAgIHBhbm5lci5kaXN0YW5jZU1vZGVsID0gcGEuZGlzdGFuY2VNb2RlbDtcbiAgICAgICAgICBwYW5uZXIubWF4RGlzdGFuY2UgPSBwYS5tYXhEaXN0YW5jZTtcbiAgICAgICAgICBwYW5uZXIucmVmRGlzdGFuY2UgPSBwYS5yZWZEaXN0YW5jZTtcbiAgICAgICAgICBwYW5uZXIucm9sbG9mZkZhY3RvciA9IHBhLnJvbGxvZmZGYWN0b3I7XG4gICAgICAgICAgcGFubmVyLnBhbm5pbmdNb2RlbCA9IHBhLnBhbm5pbmdNb2RlbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIHBvc2l0aW9uIHRvIHNldHVwIHRoZSBub2RlIHdpdGguXG4gICAgICAgICAgaWYgKCFzb3VuZC5fcG9zKSB7XG4gICAgICAgICAgICBzb3VuZC5fcG9zID0gc2VsZi5fcG9zIHx8IFswLCAwLCAtMC41XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGFubmVyIG5vZGUuXG4gICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKiogU2luZ2xlIFNvdW5kIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIEFkZCBuZXcgcHJvcGVydGllcyB0byB0aGUgY29yZSBTb3VuZCBpbml0LlxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gX3N1cGVyIENvcmUgU291bmQgaW5pdCBtZXRob2QuXG4gICAqIEByZXR1cm4ge1NvdW5kfVxuICAgKi9cbiAgU291bmQucHJvdG90eXBlLmluaXQgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcblxuICAgICAgLy8gU2V0dXAgdXNlci1kZWZpbmVkIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gcGFyZW50Ll9vcmllbnRhdGlvbjtcbiAgICAgIHNlbGYuX3N0ZXJlbyA9IHBhcmVudC5fc3RlcmVvO1xuICAgICAgc2VsZi5fcG9zID0gcGFyZW50Ll9wb3M7XG4gICAgICBzZWxmLl9wYW5uZXJBdHRyID0gcGFyZW50Ll9wYW5uZXJBdHRyO1xuXG4gICAgICAvLyBDb21wbGV0ZSBpbml0aWxpemF0aW9uIHdpdGggaG93bGVyLmpzIGNvcmUgU291bmQncyBpbml0IGZ1bmN0aW9uLlxuICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG5cbiAgICAgIC8vIElmIGEgc3RlcmVvIG9yIHBvc2l0aW9uIHdhcyBzcGVjaWZpZWQsIHNldCBpdCB1cC5cbiAgICAgIGlmIChzZWxmLl9zdGVyZW8pIHtcbiAgICAgICAgcGFyZW50LnN0ZXJlbyhzZWxmLl9zdGVyZW8pO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLl9wb3MpIHtcbiAgICAgICAgcGFyZW50LnBvcyhzZWxmLl9wb3NbMF0sIHNlbGYuX3Bvc1sxXSwgc2VsZi5fcG9zWzJdLCBzZWxmLl9pZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoU291bmQucHJvdG90eXBlLmluaXQpO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgU291bmQucmVzZXQgbWV0aG9kIHRvIGNsZWFuIHVwIHByb3BlcnRpZXMgZnJvbSB0aGUgc3BhdGlhbCBwbHVnaW4uXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBfc3VwZXIgU291bmQgcmVzZXQgbWV0aG9kLlxuICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICovXG4gIFNvdW5kLnByb3RvdHlwZS5yZXNldCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBSZXNldCBhbGwgc3BhdGlhbCBwbHVnaW4gcHJvcGVydGllcyBvbiB0aGlzIHNvdW5kLlxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBwYXJlbnQuX29yaWVudGF0aW9uO1xuICAgICAgc2VsZi5fc3RlcmVvID0gcGFyZW50Ll9zdGVyZW87XG4gICAgICBzZWxmLl9wb3MgPSBwYXJlbnQuX3BvcztcbiAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSBwYXJlbnQuX3Bhbm5lckF0dHI7XG5cbiAgICAgIC8vIElmIGEgc3RlcmVvIG9yIHBvc2l0aW9uIHdhcyBzcGVjaWZpZWQsIHNldCBpdCB1cC5cbiAgICAgIGlmIChzZWxmLl9zdGVyZW8pIHtcbiAgICAgICAgcGFyZW50LnN0ZXJlbyhzZWxmLl9zdGVyZW8pO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLl9wb3MpIHtcbiAgICAgICAgcGFyZW50LnBvcyhzZWxmLl9wb3NbMF0sIHNlbGYuX3Bvc1sxXSwgc2VsZi5fcG9zWzJdLCBzZWxmLl9pZCk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuX3Bhbm5lcikge1xuICAgICAgICAvLyBEaXNjb25uZWN0IHRoZSBwYW5uZXIuXG4gICAgICAgIHNlbGYuX3Bhbm5lci5kaXNjb25uZWN0KDApO1xuICAgICAgICBzZWxmLl9wYW5uZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHBhcmVudC5fcmVmcmVzaEJ1ZmZlcihzZWxmKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29tcGxldGUgcmVzZXR0aW5nIG9mIHRoZSBzb3VuZC5cbiAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICB9O1xuICB9KShTb3VuZC5wcm90b3R5cGUucmVzZXQpO1xuXG4gIC8qKiBIZWxwZXIgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHBhbm5lciBub2RlIGFuZCBzYXZlIGl0IG9uIHRoZSBzb3VuZC5cbiAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFNwZWNpZmljIHNvdW5kIHRvIHNldHVwIHBhbm5pbmcgb24uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFR5cGUgb2YgcGFubmVyIHRvIGNyZWF0ZTogJ3N0ZXJlbycgb3IgJ3NwYXRpYWwnLlxuICAgKi9cbiAgdmFyIHNldHVwUGFubmVyID0gZnVuY3Rpb24oc291bmQsIHR5cGUpIHtcbiAgICB0eXBlID0gdHlwZSB8fCAnc3BhdGlhbCc7XG5cbiAgICAvLyBDcmVhdGUgdGhlIG5ldyBwYW5uZXIgbm9kZS5cbiAgICBpZiAodHlwZSA9PT0gJ3NwYXRpYWwnKSB7XG4gICAgICBzb3VuZC5fcGFubmVyID0gSG93bGVyLmN0eC5jcmVhdGVQYW5uZXIoKTtcbiAgICAgIHNvdW5kLl9wYW5uZXIuY29uZUlubmVyQW5nbGUgPSBzb3VuZC5fcGFubmVyQXR0ci5jb25lSW5uZXJBbmdsZTtcbiAgICAgIHNvdW5kLl9wYW5uZXIuY29uZU91dGVyQW5nbGUgPSBzb3VuZC5fcGFubmVyQXR0ci5jb25lT3V0ZXJBbmdsZTtcbiAgICAgIHNvdW5kLl9wYW5uZXIuY29uZU91dGVyR2FpbiA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVPdXRlckdhaW47XG4gICAgICBzb3VuZC5fcGFubmVyLmRpc3RhbmNlTW9kZWwgPSBzb3VuZC5fcGFubmVyQXR0ci5kaXN0YW5jZU1vZGVsO1xuICAgICAgc291bmQuX3Bhbm5lci5tYXhEaXN0YW5jZSA9IHNvdW5kLl9wYW5uZXJBdHRyLm1heERpc3RhbmNlO1xuICAgICAgc291bmQuX3Bhbm5lci5yZWZEaXN0YW5jZSA9IHNvdW5kLl9wYW5uZXJBdHRyLnJlZkRpc3RhbmNlO1xuICAgICAgc291bmQuX3Bhbm5lci5yb2xsb2ZmRmFjdG9yID0gc291bmQuX3Bhbm5lckF0dHIucm9sbG9mZkZhY3RvcjtcbiAgICAgIHNvdW5kLl9wYW5uZXIucGFubmluZ01vZGVsID0gc291bmQuX3Bhbm5lckF0dHIucGFubmluZ01vZGVsO1xuXG4gICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWC5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcG9zWzBdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblkuc2V0VmFsdWVBdFRpbWUoc291bmQuX3Bvc1sxXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25aLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9wb3NbMl0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQuX3Bhbm5lci5zZXRQb3NpdGlvbihzb3VuZC5fcG9zWzBdLCBzb3VuZC5fcG9zWzFdLCBzb3VuZC5fcG9zWzJdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblguc2V0VmFsdWVBdFRpbWUoc291bmQuX29yaWVudGF0aW9uWzBdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblkuc2V0VmFsdWVBdFRpbWUoc291bmQuX29yaWVudGF0aW9uWzFdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblouc2V0VmFsdWVBdFRpbWUoc291bmQuX29yaWVudGF0aW9uWzJdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0T3JpZW50YXRpb24oc291bmQuX29yaWVudGF0aW9uWzBdLCBzb3VuZC5fb3JpZW50YXRpb25bMV0sIHNvdW5kLl9vcmllbnRhdGlvblsyXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNvdW5kLl9wYW5uZXIgPSBIb3dsZXIuY3R4LmNyZWF0ZVN0ZXJlb1Bhbm5lcigpO1xuICAgICAgc291bmQuX3Bhbm5lci5wYW4uc2V0VmFsdWVBdFRpbWUoc291bmQuX3N0ZXJlbywgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgfVxuXG4gICAgc291bmQuX3Bhbm5lci5jb25uZWN0KHNvdW5kLl9ub2RlKTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgY29ubmVjdGlvbnMuXG4gICAgaWYgKCFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICBzb3VuZC5fcGFyZW50LnBhdXNlKHNvdW5kLl9pZCwgdHJ1ZSkucGxheShzb3VuZC5faWQsIHRydWUpO1xuICAgIH1cbiAgfTtcbn0pKCk7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBlYXJjdXQ7XG5cbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XG5cbiAgICBkaW0gPSBkaW0gfHwgMjtcblxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGgsXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXG4gICAgICAgIHRyaWFuZ2xlcyA9IFtdO1xuXG4gICAgaWYgKCFvdXRlck5vZGUgfHwgb3V0ZXJOb2RlLm5leHQgPT09IG91dGVyTm9kZS5wcmV2KSByZXR1cm4gdHJpYW5nbGVzO1xuXG4gICAgdmFyIG1pblgsIG1pblksIG1heFgsIG1heFksIHgsIHksIGludlNpemU7XG5cbiAgICBpZiAoaGFzSG9sZXMpIG91dGVyTm9kZSA9IGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSk7XG5cbiAgICAvLyBpZiB0aGUgc2hhcGUgaXMgbm90IHRvbyBzaW1wbGUsIHdlJ2xsIHVzZSB6LW9yZGVyIGN1cnZlIGhhc2ggbGF0ZXI7IGNhbGN1bGF0ZSBwb2x5Z29uIGJib3hcbiAgICBpZiAoZGF0YS5sZW5ndGggPiA4MCAqIGRpbSkge1xuICAgICAgICBtaW5YID0gbWF4WCA9IGRhdGFbMF07XG4gICAgICAgIG1pblkgPSBtYXhZID0gZGF0YVsxXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gZGltOyBpIDwgb3V0ZXJMZW47IGkgKz0gZGltKSB7XG4gICAgICAgICAgICB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHkgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIGlmICh4IDwgbWluWCkgbWluWCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5O1xuICAgICAgICAgICAgaWYgKHggPiBtYXhYKSBtYXhYID0geDtcbiAgICAgICAgICAgIGlmICh5ID4gbWF4WSkgbWF4WSA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtaW5YLCBtaW5ZIGFuZCBpbnZTaXplIGFyZSBsYXRlciB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZHMgaW50byBpbnRlZ2VycyBmb3Igei1vcmRlciBjYWxjdWxhdGlvblxuICAgICAgICBpbnZTaXplID0gTWF0aC5tYXgobWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTtcbiAgICAgICAgaW52U2l6ZSA9IGludlNpemUgIT09IDAgPyAzMjc2NyAvIGludlNpemUgOiAwO1xuICAgIH1cblxuICAgIGVhcmN1dExpbmtlZChvdXRlck5vZGUsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAwKTtcblxuICAgIHJldHVybiB0cmlhbmdsZXM7XG59XG5cbi8vIGNyZWF0ZSBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdCBmcm9tIHBvbHlnb24gcG9pbnRzIGluIHRoZSBzcGVjaWZpZWQgd2luZGluZyBvcmRlclxuZnVuY3Rpb24gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGNsb2Nrd2lzZSkge1xuICAgIHZhciBpLCBsYXN0O1xuXG4gICAgaWYgKGNsb2Nrd2lzZSA9PT0gKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSA+IDApKSB7XG4gICAgICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSA9IGVuZCAtIGRpbTsgaSA+PSBzdGFydDsgaSAtPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9XG5cbiAgICBpZiAobGFzdCAmJiBlcXVhbHMobGFzdCwgbGFzdC5uZXh0KSkge1xuICAgICAgICByZW1vdmVOb2RlKGxhc3QpO1xuICAgICAgICBsYXN0ID0gbGFzdC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBsYXN0O1xufVxuXG4vLyBlbGltaW5hdGUgY29saW5lYXIgb3IgZHVwbGljYXRlIHBvaW50c1xuZnVuY3Rpb24gZmlsdGVyUG9pbnRzKHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAoIXN0YXJ0KSByZXR1cm4gc3RhcnQ7XG4gICAgaWYgKCFlbmQpIGVuZCA9IHN0YXJ0O1xuXG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgYWdhaW47XG4gICAgZG8ge1xuICAgICAgICBhZ2FpbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghcC5zdGVpbmVyICYmIChlcXVhbHMocCwgcC5uZXh0KSB8fCBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICBwID0gZW5kID0gcC5wcmV2O1xuICAgICAgICAgICAgaWYgKHAgPT09IHAubmV4dCkgYnJlYWs7XG4gICAgICAgICAgICBhZ2FpbiA9IHRydWU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAgPSBwLm5leHQ7XG4gICAgICAgIH1cbiAgICB9IHdoaWxlIChhZ2FpbiB8fCBwICE9PSBlbmQpO1xuXG4gICAgcmV0dXJuIGVuZDtcbn1cblxuLy8gbWFpbiBlYXIgc2xpY2luZyBsb29wIHdoaWNoIHRyaWFuZ3VsYXRlcyBhIHBvbHlnb24gKGdpdmVuIGFzIGEgbGlua2VkIGxpc3QpXG5mdW5jdGlvbiBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgcGFzcykge1xuICAgIGlmICghZWFyKSByZXR1cm47XG5cbiAgICAvLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG4gICAgaWYgKCFwYXNzICYmIGludlNpemUpIGluZGV4Q3VydmUoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBzdG9wID0gZWFyLFxuICAgICAgICBwcmV2LCBuZXh0O1xuXG4gICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGVhcnMsIHNsaWNpbmcgdGhlbSBvbmUgYnkgb25lXG4gICAgd2hpbGUgKGVhci5wcmV2ICE9PSBlYXIubmV4dCkge1xuICAgICAgICBwcmV2ID0gZWFyLnByZXY7XG4gICAgICAgIG5leHQgPSBlYXIubmV4dDtcblxuICAgICAgICBpZiAoaW52U2l6ZSA/IGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkgOiBpc0VhcihlYXIpKSB7XG4gICAgICAgICAgICAvLyBjdXQgb2ZmIHRoZSB0cmlhbmdsZVxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocHJldi5pIC8gZGltIHwgMCk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChlYXIuaSAvIGRpbSB8IDApO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gobmV4dC5pIC8gZGltIHwgMCk7XG5cbiAgICAgICAgICAgIHJlbW92ZU5vZGUoZWFyKTtcblxuICAgICAgICAgICAgLy8gc2tpcHBpbmcgdGhlIG5leHQgdmVydGV4IGxlYWRzIHRvIGxlc3Mgc2xpdmVyIHRyaWFuZ2xlc1xuICAgICAgICAgICAgZWFyID0gbmV4dC5uZXh0O1xuICAgICAgICAgICAgc3RvcCA9IG5leHQubmV4dDtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBlYXIgPSBuZXh0O1xuXG4gICAgICAgIC8vIGlmIHdlIGxvb3BlZCB0aHJvdWdoIHRoZSB3aG9sZSByZW1haW5pbmcgcG9seWdvbiBhbmQgY2FuJ3QgZmluZCBhbnkgbW9yZSBlYXJzXG4gICAgICAgIGlmIChlYXIgPT09IHN0b3ApIHtcbiAgICAgICAgICAgIC8vIHRyeSBmaWx0ZXJpbmcgcG9pbnRzIGFuZCBzbGljaW5nIGFnYWluXG4gICAgICAgICAgICBpZiAoIXBhc3MpIHtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAxKTtcblxuICAgICAgICAgICAgLy8gaWYgdGhpcyBkaWRuJ3Qgd29yaywgdHJ5IGN1cmluZyBhbGwgc21hbGwgc2VsZi1pbnRlcnNlY3Rpb25zIGxvY2FsbHlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGVhciA9IGN1cmVMb2NhbEludGVyc2VjdGlvbnMoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMik7XG5cbiAgICAgICAgICAgIC8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpdEVhcmN1dChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2Rlc1xuZnVuY3Rpb24gaXNFYXIoZWFyKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gbm93IG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIG90aGVyIHBvaW50cyBpbnNpZGUgdGhlIHBvdGVudGlhbCBlYXJcbiAgICB2YXIgYXggPSBhLngsIGJ4ID0gYi54LCBjeCA9IGMueCwgYXkgPSBhLnksIGJ5ID0gYi55LCBjeSA9IGMueTtcblxuICAgIC8vIHRyaWFuZ2xlIGJib3g7IG1pbiAmIG1heCBhcmUgY2FsY3VsYXRlZCBsaWtlIHRoaXMgZm9yIHNwZWVkXG4gICAgdmFyIHgwID0gYXggPCBieCA/IChheCA8IGN4ID8gYXggOiBjeCkgOiAoYnggPCBjeCA/IGJ4IDogY3gpLFxuICAgICAgICB5MCA9IGF5IDwgYnkgPyAoYXkgPCBjeSA/IGF5IDogY3kpIDogKGJ5IDwgY3kgPyBieSA6IGN5KSxcbiAgICAgICAgeDEgPSBheCA+IGJ4ID8gKGF4ID4gY3ggPyBheCA6IGN4KSA6IChieCA+IGN4ID8gYnggOiBjeCksXG4gICAgICAgIHkxID0gYXkgPiBieSA/IChheSA+IGN5ID8gYXkgOiBjeSkgOiAoYnkgPiBjeSA/IGJ5IDogY3kpO1xuXG4gICAgdmFyIHAgPSBjLm5leHQ7XG4gICAgd2hpbGUgKHAgIT09IGEpIHtcbiAgICAgICAgaWYgKHAueCA+PSB4MCAmJiBwLnggPD0geDEgJiYgcC55ID49IHkwICYmIHAueSA8PSB5MSAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICB2YXIgYXggPSBhLngsIGJ4ID0gYi54LCBjeCA9IGMueCwgYXkgPSBhLnksIGJ5ID0gYi55LCBjeSA9IGMueTtcblxuICAgIC8vIHRyaWFuZ2xlIGJib3g7IG1pbiAmIG1heCBhcmUgY2FsY3VsYXRlZCBsaWtlIHRoaXMgZm9yIHNwZWVkXG4gICAgdmFyIHgwID0gYXggPCBieCA/IChheCA8IGN4ID8gYXggOiBjeCkgOiAoYnggPCBjeCA/IGJ4IDogY3gpLFxuICAgICAgICB5MCA9IGF5IDwgYnkgPyAoYXkgPCBjeSA/IGF5IDogY3kpIDogKGJ5IDwgY3kgPyBieSA6IGN5KSxcbiAgICAgICAgeDEgPSBheCA+IGJ4ID8gKGF4ID4gY3ggPyBheCA6IGN4KSA6IChieCA+IGN4ID8gYnggOiBjeCksXG4gICAgICAgIHkxID0gYXkgPiBieSA/IChheSA+IGN5ID8gYXkgOiBjeSkgOiAoYnkgPiBjeSA/IGJ5IDogY3kpO1xuXG4gICAgLy8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDtcbiAgICB2YXIgbWluWiA9IHpPcmRlcih4MCwgeTAsIG1pblgsIG1pblksIGludlNpemUpLFxuICAgICAgICBtYXhaID0gek9yZGVyKHgxLCB5MSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgcCA9IGVhci5wcmV2WixcbiAgICAgICAgbiA9IGVhci5uZXh0WjtcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGluIGJvdGggZGlyZWN0aW9uc1xuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aICYmIG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKHAueCA+PSB4MCAmJiBwLnggPD0geDEgJiYgcC55ID49IHkwICYmIHAueSA8PSB5MSAmJiBwICE9PSBhICYmIHAgIT09IGMgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBwLngsIHAueSkgJiYgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcblxuICAgICAgICBpZiAobi54ID49IHgwICYmIG4ueCA8PSB4MSAmJiBuLnkgPj0geTAgJiYgbi55IDw9IHkxICYmIG4gIT09IGEgJiYgbiAhPT0gYyAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIG4ueCwgbi55KSAmJiBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gZGVjcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblopIHtcbiAgICAgICAgaWYgKHAueCA+PSB4MCAmJiBwLnggPD0geDEgJiYgcC55ID49IHkwICYmIHAueSA8PSB5MSAmJiBwICE9PSBhICYmIHAgIT09IGMgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBwLngsIHAueSkgJiYgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGluY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChuLnggPj0geDAgJiYgbi54IDw9IHgxICYmIG4ueSA+PSB5MCAmJiBuLnkgPD0geTEgJiYgbiAhPT0gYSAmJiBuICE9PSBjICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgbi54LCBuLnkpICYmIGFyZWEobi5wcmV2LCBuLCBuLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgbiA9IG4ubmV4dFo7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8vIGdvIHRocm91Z2ggYWxsIHBvbHlnb24gbm9kZXMgYW5kIGN1cmUgc21hbGwgbG9jYWwgc2VsZi1pbnRlcnNlY3Rpb25zXG5mdW5jdGlvbiBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSkge1xuICAgIHZhciBwID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICB2YXIgYSA9IHAucHJldixcbiAgICAgICAgICAgIGIgPSBwLm5leHQubmV4dDtcblxuICAgICAgICBpZiAoIWVxdWFscyhhLCBiKSAmJiBpbnRlcnNlY3RzKGEsIHAsIHAubmV4dCwgYikgJiYgbG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpKSB7XG5cbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGEuaSAvIGRpbSB8IDApO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocC5pIC8gZGltIHwgMCk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChiLmkgLyBkaW0gfCAwKTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIHR3byBub2RlcyBpbnZvbHZlZFxuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocC5uZXh0KTtcblxuICAgICAgICAgICAgcCA9IHN0YXJ0ID0gYjtcbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHJldHVybiBmaWx0ZXJQb2ludHMocCk7XG59XG5cbi8vIHRyeSBzcGxpdHRpbmcgcG9seWdvbiBpbnRvIHR3byBhbmQgdHJpYW5ndWxhdGUgdGhlbSBpbmRlcGVuZGVudGx5XG5mdW5jdGlvbiBzcGxpdEVhcmN1dChzdGFydCwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBsb29rIGZvciBhIHZhbGlkIGRpYWdvbmFsIHRoYXQgZGl2aWRlcyB0aGUgcG9seWdvbiBpbnRvIHR3b1xuICAgIHZhciBhID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICB2YXIgYiA9IGEubmV4dC5uZXh0O1xuICAgICAgICB3aGlsZSAoYiAhPT0gYS5wcmV2KSB7XG4gICAgICAgICAgICBpZiAoYS5pICE9PSBiLmkgJiYgaXNWYWxpZERpYWdvbmFsKGEsIGIpKSB7XG4gICAgICAgICAgICAgICAgLy8gc3BsaXQgdGhlIHBvbHlnb24gaW4gdHdvIGJ5IHRoZSBkaWFnb25hbFxuICAgICAgICAgICAgICAgIHZhciBjID0gc3BsaXRQb2x5Z29uKGEsIGIpO1xuXG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyIGNvbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICAgICAgICAgICAgICBhID0gZmlsdGVyUG9pbnRzKGEsIGEubmV4dCk7XG4gICAgICAgICAgICAgICAgYyA9IGZpbHRlclBvaW50cyhjLCBjLm5leHQpO1xuXG4gICAgICAgICAgICAgICAgLy8gcnVuIGVhcmN1dCBvbiBlYWNoIGhhbGZcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDApO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChjLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYiA9IGIubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBhID0gYS5uZXh0O1xuICAgIH0gd2hpbGUgKGEgIT09IHN0YXJ0KTtcbn1cblxuLy8gbGluayBldmVyeSBob2xlIGludG8gdGhlIG91dGVyIGxvb3AsIHByb2R1Y2luZyBhIHNpbmdsZS1yaW5nIHBvbHlnb24gd2l0aG91dCBob2xlc1xuZnVuY3Rpb24gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKSB7XG4gICAgdmFyIHF1ZXVlID0gW10sXG4gICAgICAgIGksIGxlbiwgc3RhcnQsIGVuZCwgbGlzdDtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XG4gICAgICAgIGxpc3QgPSBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgZmFsc2UpO1xuICAgICAgICBpZiAobGlzdCA9PT0gbGlzdC5uZXh0KSBsaXN0LnN0ZWluZXIgPSB0cnVlO1xuICAgICAgICBxdWV1ZS5wdXNoKGdldExlZnRtb3N0KGxpc3QpKTtcbiAgICB9XG5cbiAgICBxdWV1ZS5zb3J0KGNvbXBhcmVYKTtcblxuICAgIC8vIHByb2Nlc3MgaG9sZXMgZnJvbSBsZWZ0IHRvIHJpZ2h0XG4gICAgZm9yIChpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG91dGVyTm9kZSA9IGVsaW1pbmF0ZUhvbGUocXVldWVbaV0sIG91dGVyTm9kZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dGVyTm9kZTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZVgoYSwgYikge1xuICAgIHJldHVybiBhLnggLSBiLng7XG59XG5cbi8vIGZpbmQgYSBicmlkZ2UgYmV0d2VlbiB2ZXJ0aWNlcyB0aGF0IGNvbm5lY3RzIGhvbGUgd2l0aCBhbiBvdXRlciByaW5nIGFuZCBhbmQgbGluayBpdFxuZnVuY3Rpb24gZWxpbWluYXRlSG9sZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICB2YXIgYnJpZGdlID0gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKTtcbiAgICBpZiAoIWJyaWRnZSkge1xuICAgICAgICByZXR1cm4gb3V0ZXJOb2RlO1xuICAgIH1cblxuICAgIHZhciBicmlkZ2VSZXZlcnNlID0gc3BsaXRQb2x5Z29uKGJyaWRnZSwgaG9sZSk7XG5cbiAgICAvLyBmaWx0ZXIgY29sbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICBmaWx0ZXJQb2ludHMoYnJpZGdlUmV2ZXJzZSwgYnJpZGdlUmV2ZXJzZS5uZXh0KTtcbiAgICByZXR1cm4gZmlsdGVyUG9pbnRzKGJyaWRnZSwgYnJpZGdlLm5leHQpO1xufVxuXG4vLyBEYXZpZCBFYmVybHkncyBhbGdvcml0aG0gZm9yIGZpbmRpbmcgYSBicmlkZ2UgYmV0d2VlbiBob2xlIGFuZCBvdXRlciBwb2x5Z29uXG5mdW5jdGlvbiBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICB2YXIgcCA9IG91dGVyTm9kZSxcbiAgICAgICAgaHggPSBob2xlLngsXG4gICAgICAgIGh5ID0gaG9sZS55LFxuICAgICAgICBxeCA9IC1JbmZpbml0eSxcbiAgICAgICAgbTtcblxuICAgIC8vIGZpbmQgYSBzZWdtZW50IGludGVyc2VjdGVkIGJ5IGEgcmF5IGZyb20gdGhlIGhvbGUncyBsZWZ0bW9zdCBwb2ludCB0byB0aGUgbGVmdDtcbiAgICAvLyBzZWdtZW50J3MgZW5kcG9pbnQgd2l0aCBsZXNzZXIgeCB3aWxsIGJlIHBvdGVudGlhbCBjb25uZWN0aW9uIHBvaW50XG4gICAgZG8ge1xuICAgICAgICBpZiAoaHkgPD0gcC55ICYmIGh5ID49IHAubmV4dC55ICYmIHAubmV4dC55ICE9PSBwLnkpIHtcbiAgICAgICAgICAgIHZhciB4ID0gcC54ICsgKGh5IC0gcC55KSAqIChwLm5leHQueCAtIHAueCkgLyAocC5uZXh0LnkgLSBwLnkpO1xuICAgICAgICAgICAgaWYgKHggPD0gaHggJiYgeCA+IHF4KSB7XG4gICAgICAgICAgICAgICAgcXggPSB4O1xuICAgICAgICAgICAgICAgIG0gPSBwLnggPCBwLm5leHQueCA/IHAgOiBwLm5leHQ7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGh4KSByZXR1cm4gbTsgLy8gaG9sZSB0b3VjaGVzIG91dGVyIHNlZ21lbnQ7IHBpY2sgbGVmdG1vc3QgZW5kcG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7XG5cbiAgICBpZiAoIW0pIHJldHVybiBudWxsO1xuXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgb2YgaG9sZSBwb2ludCwgc2VnbWVudCBpbnRlcnNlY3Rpb24gYW5kIGVuZHBvaW50O1xuICAgIC8vIGlmIHRoZXJlIGFyZSBubyBwb2ludHMgZm91bmQsIHdlIGhhdmUgYSB2YWxpZCBjb25uZWN0aW9uO1xuICAgIC8vIG90aGVyd2lzZSBjaG9vc2UgdGhlIHBvaW50IG9mIHRoZSBtaW5pbXVtIGFuZ2xlIHdpdGggdGhlIHJheSBhcyBjb25uZWN0aW9uIHBvaW50XG5cbiAgICB2YXIgc3RvcCA9IG0sXG4gICAgICAgIG14ID0gbS54LFxuICAgICAgICBteSA9IG0ueSxcbiAgICAgICAgdGFuTWluID0gSW5maW5pdHksXG4gICAgICAgIHRhbjtcblxuICAgIHAgPSBtO1xuXG4gICAgZG8ge1xuICAgICAgICBpZiAoaHggPj0gcC54ICYmIHAueCA+PSBteCAmJiBoeCAhPT0gcC54ICYmXG4gICAgICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGh5IDwgbXkgPyBoeCA6IHF4LCBoeSwgbXgsIG15LCBoeSA8IG15ID8gcXggOiBoeCwgaHksIHAueCwgcC55KSkge1xuXG4gICAgICAgICAgICB0YW4gPSBNYXRoLmFicyhoeSAtIHAueSkgLyAoaHggLSBwLngpOyAvLyB0YW5nZW50aWFsXG5cbiAgICAgICAgICAgIGlmIChsb2NhbGx5SW5zaWRlKHAsIGhvbGUpICYmXG4gICAgICAgICAgICAgICAgKHRhbiA8IHRhbk1pbiB8fCAodGFuID09PSB0YW5NaW4gJiYgKHAueCA+IG0ueCB8fCAocC54ID09PSBtLnggJiYgc2VjdG9yQ29udGFpbnNTZWN0b3IobSwgcCkpKSkpKSB7XG4gICAgICAgICAgICAgICAgbSA9IHA7XG4gICAgICAgICAgICAgICAgdGFuTWluID0gdGFuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdG9wKTtcblxuICAgIHJldHVybiBtO1xufVxuXG4vLyB3aGV0aGVyIHNlY3RvciBpbiB2ZXJ0ZXggbSBjb250YWlucyBzZWN0b3IgaW4gdmVydGV4IHAgaW4gdGhlIHNhbWUgY29vcmRpbmF0ZXNcbmZ1bmN0aW9uIHNlY3RvckNvbnRhaW5zU2VjdG9yKG0sIHApIHtcbiAgICByZXR1cm4gYXJlYShtLnByZXYsIG0sIHAucHJldikgPCAwICYmIGFyZWEocC5uZXh0LCBtLCBtLm5leHQpIDwgMDtcbn1cblxuLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxuZnVuY3Rpb24gaW5kZXhDdXJ2ZShzdGFydCwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIHZhciBwID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC56ID09PSAwKSBwLnogPSB6T3JkZXIocC54LCBwLnksIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICBwLnByZXZaID0gcC5wcmV2O1xuICAgICAgICBwLm5leHRaID0gcC5uZXh0O1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHAucHJldloubmV4dFogPSBudWxsO1xuICAgIHAucHJldlogPSBudWxsO1xuXG4gICAgc29ydExpbmtlZChwKTtcbn1cblxuLy8gU2ltb24gVGF0aGFtJ3MgbGlua2VkIGxpc3QgbWVyZ2Ugc29ydCBhbGdvcml0aG1cbi8vIGh0dHA6Ly93d3cuY2hpYXJrLmdyZWVuZW5kLm9yZy51ay9+c2d0YXRoYW0vYWxnb3JpdGhtcy9saXN0c29ydC5odG1sXG5mdW5jdGlvbiBzb3J0TGlua2VkKGxpc3QpIHtcbiAgICB2YXIgaSwgcCwgcSwgZSwgdGFpbCwgbnVtTWVyZ2VzLCBwU2l6ZSwgcVNpemUsXG4gICAgICAgIGluU2l6ZSA9IDE7XG5cbiAgICBkbyB7XG4gICAgICAgIHAgPSBsaXN0O1xuICAgICAgICBsaXN0ID0gbnVsbDtcbiAgICAgICAgdGFpbCA9IG51bGw7XG4gICAgICAgIG51bU1lcmdlcyA9IDA7XG5cbiAgICAgICAgd2hpbGUgKHApIHtcbiAgICAgICAgICAgIG51bU1lcmdlcysrO1xuICAgICAgICAgICAgcSA9IHA7XG4gICAgICAgICAgICBwU2l6ZSA9IDA7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW5TaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwU2l6ZSsrO1xuICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgIGlmICghcSkgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxU2l6ZSA9IGluU2l6ZTtcblxuICAgICAgICAgICAgd2hpbGUgKHBTaXplID4gMCB8fCAocVNpemUgPiAwICYmIHEpKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAocFNpemUgIT09IDAgJiYgKHFTaXplID09PSAwIHx8ICFxIHx8IHAueiA8PSBxLnopKSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBwO1xuICAgICAgICAgICAgICAgICAgICBwID0gcC5uZXh0WjtcbiAgICAgICAgICAgICAgICAgICAgcFNpemUtLTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlID0gcTtcbiAgICAgICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHFTaXplLS07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRhaWwpIHRhaWwubmV4dFogPSBlO1xuICAgICAgICAgICAgICAgIGVsc2UgbGlzdCA9IGU7XG5cbiAgICAgICAgICAgICAgICBlLnByZXZaID0gdGFpbDtcbiAgICAgICAgICAgICAgICB0YWlsID0gZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcCA9IHE7XG4gICAgICAgIH1cblxuICAgICAgICB0YWlsLm5leHRaID0gbnVsbDtcbiAgICAgICAgaW5TaXplICo9IDI7XG5cbiAgICB9IHdoaWxlIChudW1NZXJnZXMgPiAxKTtcblxuICAgIHJldHVybiBsaXN0O1xufVxuXG4vLyB6LW9yZGVyIG9mIGEgcG9pbnQgZ2l2ZW4gY29vcmRzIGFuZCBpbnZlcnNlIG9mIHRoZSBsb25nZXIgc2lkZSBvZiBkYXRhIGJib3hcbmZ1bmN0aW9uIHpPcmRlcih4LCB5LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gY29vcmRzIGFyZSB0cmFuc2Zvcm1lZCBpbnRvIG5vbi1uZWdhdGl2ZSAxNS1iaXQgaW50ZWdlciByYW5nZVxuICAgIHggPSAoeCAtIG1pblgpICogaW52U2l6ZSB8IDA7XG4gICAgeSA9ICh5IC0gbWluWSkgKiBpbnZTaXplIHwgMDtcblxuICAgIHggPSAoeCB8ICh4IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeCA9ICh4IHwgKHggPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHggPSAoeCB8ICh4IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeSA9ICh5IHwgKHkgPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgcmV0dXJuIHggfCAoeSA8PCAxKTtcbn1cblxuLy8gZmluZCB0aGUgbGVmdG1vc3Qgbm9kZSBvZiBhIHBvbHlnb24gcmluZ1xuZnVuY3Rpb24gZ2V0TGVmdG1vc3Qoc3RhcnQpIHtcbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBsZWZ0bW9zdCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueCA8IGxlZnRtb3N0LnggfHwgKHAueCA9PT0gbGVmdG1vc3QueCAmJiBwLnkgPCBsZWZ0bW9zdC55KSkgbGVmdG1vc3QgPSBwO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHJldHVybiBsZWZ0bW9zdDtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2ludCBsaWVzIHdpdGhpbiBhIGNvbnZleCB0cmlhbmdsZVxuZnVuY3Rpb24gcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHB4LCBweSkge1xuICAgIHJldHVybiAoY3ggLSBweCkgKiAoYXkgLSBweSkgPj0gKGF4IC0gcHgpICogKGN5IC0gcHkpICYmXG4gICAgICAgICAgIChheCAtIHB4KSAqIChieSAtIHB5KSA+PSAoYnggLSBweCkgKiAoYXkgLSBweSkgJiZcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpID49IChjeCAtIHB4KSAqIChieSAtIHB5KTtcbn1cblxuLy8gY2hlY2sgaWYgYSBkaWFnb25hbCBiZXR3ZWVuIHR3byBwb2x5Z29uIG5vZGVzIGlzIHZhbGlkIChsaWVzIGluIHBvbHlnb24gaW50ZXJpb3IpXG5mdW5jdGlvbiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikge1xuICAgIHJldHVybiBhLm5leHQuaSAhPT0gYi5pICYmIGEucHJldi5pICE9PSBiLmkgJiYgIWludGVyc2VjdHNQb2x5Z29uKGEsIGIpICYmIC8vIGRvbmVzJ3QgaW50ZXJzZWN0IG90aGVyIGVkZ2VzXG4gICAgICAgICAgIChsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkgJiYgbWlkZGxlSW5zaWRlKGEsIGIpICYmIC8vIGxvY2FsbHkgdmlzaWJsZVxuICAgICAgICAgICAgKGFyZWEoYS5wcmV2LCBhLCBiLnByZXYpIHx8IGFyZWEoYSwgYi5wcmV2LCBiKSkgfHwgLy8gZG9lcyBub3QgY3JlYXRlIG9wcG9zaXRlLWZhY2luZyBzZWN0b3JzXG4gICAgICAgICAgICBlcXVhbHMoYSwgYikgJiYgYXJlYShhLnByZXYsIGEsIGEubmV4dCkgPiAwICYmIGFyZWEoYi5wcmV2LCBiLCBiLm5leHQpID4gMCk7IC8vIHNwZWNpYWwgemVyby1sZW5ndGggY2FzZVxufVxuXG4vLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlXG5mdW5jdGlvbiBhcmVhKHAsIHEsIHIpIHtcbiAgICByZXR1cm4gKHEueSAtIHAueSkgKiAoci54IC0gcS54KSAtIChxLnggLSBwLngpICogKHIueSAtIHEueSk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsXG5mdW5jdGlvbiBlcXVhbHMocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxuZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSwgcTEsIHAyLCBxMikge1xuICAgIHZhciBvMSA9IHNpZ24oYXJlYShwMSwgcTEsIHAyKSk7XG4gICAgdmFyIG8yID0gc2lnbihhcmVhKHAxLCBxMSwgcTIpKTtcbiAgICB2YXIgbzMgPSBzaWduKGFyZWEocDIsIHEyLCBwMSkpO1xuICAgIHZhciBvNCA9IHNpZ24oYXJlYShwMiwgcTIsIHExKSk7XG5cbiAgICBpZiAobzEgIT09IG8yICYmIG8zICE9PSBvNCkgcmV0dXJuIHRydWU7IC8vIGdlbmVyYWwgY2FzZVxuXG4gICAgaWYgKG8xID09PSAwICYmIG9uU2VnbWVudChwMSwgcDIsIHExKSkgcmV0dXJuIHRydWU7IC8vIHAxLCBxMSBhbmQgcDIgYXJlIGNvbGxpbmVhciBhbmQgcDIgbGllcyBvbiBwMXExXG4gICAgaWYgKG8yID09PSAwICYmIG9uU2VnbWVudChwMSwgcTIsIHExKSkgcmV0dXJuIHRydWU7IC8vIHAxLCBxMSBhbmQgcTIgYXJlIGNvbGxpbmVhciBhbmQgcTIgbGllcyBvbiBwMXExXG4gICAgaWYgKG8zID09PSAwICYmIG9uU2VnbWVudChwMiwgcDEsIHEyKSkgcmV0dXJuIHRydWU7IC8vIHAyLCBxMiBhbmQgcDEgYXJlIGNvbGxpbmVhciBhbmQgcDEgbGllcyBvbiBwMnEyXG4gICAgaWYgKG80ID09PSAwICYmIG9uU2VnbWVudChwMiwgcTEsIHEyKSkgcmV0dXJuIHRydWU7IC8vIHAyLCBxMiBhbmQgcTEgYXJlIGNvbGxpbmVhciBhbmQgcTEgbGllcyBvbiBwMnEyXG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIGZvciBjb2xsaW5lYXIgcG9pbnRzIHAsIHEsIHIsIGNoZWNrIGlmIHBvaW50IHEgbGllcyBvbiBzZWdtZW50IHByXG5mdW5jdGlvbiBvblNlZ21lbnQocCwgcSwgcikge1xuICAgIHJldHVybiBxLnggPD0gTWF0aC5tYXgocC54LCByLngpICYmIHEueCA+PSBNYXRoLm1pbihwLngsIHIueCkgJiYgcS55IDw9IE1hdGgubWF4KHAueSwgci55KSAmJiBxLnkgPj0gTWF0aC5taW4ocC55LCByLnkpO1xufVxuXG5mdW5jdGlvbiBzaWduKG51bSkge1xuICAgIHJldHVybiBudW0gPiAwID8gMSA6IG51bSA8IDAgPyAtMSA6IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpbnRlcnNlY3RzIGFueSBwb2x5Z29uIHNlZ21lbnRzXG5mdW5jdGlvbiBpbnRlcnNlY3RzUG9seWdvbihhLCBiKSB7XG4gICAgdmFyIHAgPSBhO1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAuaSAhPT0gYS5pICYmIHAubmV4dC5pICE9PSBhLmkgJiYgcC5pICE9PSBiLmkgJiYgcC5uZXh0LmkgIT09IGIuaSAmJlxuICAgICAgICAgICAgICAgIGludGVyc2VjdHMocCwgcC5uZXh0LCBhLCBiKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpcyBsb2NhbGx5IGluc2lkZSB0aGUgcG9seWdvblxuZnVuY3Rpb24gbG9jYWxseUluc2lkZShhLCBiKSB7XG4gICAgcmV0dXJuIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpIDwgMCA/XG4gICAgICAgIGFyZWEoYSwgYiwgYS5uZXh0KSA+PSAwICYmIGFyZWEoYSwgYS5wcmV2LCBiKSA+PSAwIDpcbiAgICAgICAgYXJlYShhLCBiLCBhLnByZXYpIDwgMCB8fCBhcmVhKGEsIGEubmV4dCwgYikgPCAwO1xufVxuXG4vLyBjaGVjayBpZiB0aGUgbWlkZGxlIHBvaW50IG9mIGEgcG9seWdvbiBkaWFnb25hbCBpcyBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIG1pZGRsZUluc2lkZShhLCBiKSB7XG4gICAgdmFyIHAgPSBhLFxuICAgICAgICBpbnNpZGUgPSBmYWxzZSxcbiAgICAgICAgcHggPSAoYS54ICsgYi54KSAvIDIsXG4gICAgICAgIHB5ID0gKGEueSArIGIueSkgLyAyO1xuICAgIGRvIHtcbiAgICAgICAgaWYgKCgocC55ID4gcHkpICE9PSAocC5uZXh0LnkgPiBweSkpICYmIHAubmV4dC55ICE9PSBwLnkgJiZcbiAgICAgICAgICAgICAgICAocHggPCAocC5uZXh0LnggLSBwLngpICogKHB5IC0gcC55KSAvIChwLm5leHQueSAtIHAueSkgKyBwLngpKVxuICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBhKTtcblxuICAgIHJldHVybiBpbnNpZGU7XG59XG5cbi8vIGxpbmsgdHdvIHBvbHlnb24gdmVydGljZXMgd2l0aCBhIGJyaWRnZTsgaWYgdGhlIHZlcnRpY2VzIGJlbG9uZyB0byB0aGUgc2FtZSByaW5nLCBpdCBzcGxpdHMgcG9seWdvbiBpbnRvIHR3bztcbi8vIGlmIG9uZSBiZWxvbmdzIHRvIHRoZSBvdXRlciByaW5nIGFuZCBhbm90aGVyIHRvIGEgaG9sZSwgaXQgbWVyZ2VzIGl0IGludG8gYSBzaW5nbGUgcmluZ1xuZnVuY3Rpb24gc3BsaXRQb2x5Z29uKGEsIGIpIHtcbiAgICB2YXIgYTIgPSBuZXcgTm9kZShhLmksIGEueCwgYS55KSxcbiAgICAgICAgYjIgPSBuZXcgTm9kZShiLmksIGIueCwgYi55KSxcbiAgICAgICAgYW4gPSBhLm5leHQsXG4gICAgICAgIGJwID0gYi5wcmV2O1xuXG4gICAgYS5uZXh0ID0gYjtcbiAgICBiLnByZXYgPSBhO1xuXG4gICAgYTIubmV4dCA9IGFuO1xuICAgIGFuLnByZXYgPSBhMjtcblxuICAgIGIyLm5leHQgPSBhMjtcbiAgICBhMi5wcmV2ID0gYjI7XG5cbiAgICBicC5uZXh0ID0gYjI7XG4gICAgYjIucHJldiA9IGJwO1xuXG4gICAgcmV0dXJuIGIyO1xufVxuXG4vLyBjcmVhdGUgYSBub2RlIGFuZCBvcHRpb25hbGx5IGxpbmsgaXQgd2l0aCBwcmV2aW91cyBvbmUgKGluIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gaW5zZXJ0Tm9kZShpLCB4LCB5LCBsYXN0KSB7XG4gICAgdmFyIHAgPSBuZXcgTm9kZShpLCB4LCB5KTtcblxuICAgIGlmICghbGFzdCkge1xuICAgICAgICBwLnByZXYgPSBwO1xuICAgICAgICBwLm5leHQgPSBwO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcC5uZXh0ID0gbGFzdC5uZXh0O1xuICAgICAgICBwLnByZXYgPSBsYXN0O1xuICAgICAgICBsYXN0Lm5leHQucHJldiA9IHA7XG4gICAgICAgIGxhc3QubmV4dCA9IHA7XG4gICAgfVxuICAgIHJldHVybiBwO1xufVxuXG5mdW5jdGlvbiByZW1vdmVOb2RlKHApIHtcbiAgICBwLm5leHQucHJldiA9IHAucHJldjtcbiAgICBwLnByZXYubmV4dCA9IHAubmV4dDtcblxuICAgIGlmIChwLnByZXZaKSBwLnByZXZaLm5leHRaID0gcC5uZXh0WjtcbiAgICBpZiAocC5uZXh0WikgcC5uZXh0Wi5wcmV2WiA9IHAucHJldlo7XG59XG5cbmZ1bmN0aW9uIE5vZGUoaSwgeCwgeSkge1xuICAgIC8vIHZlcnRleCBpbmRleCBpbiBjb29yZGluYXRlcyBhcnJheVxuICAgIHRoaXMuaSA9IGk7XG5cbiAgICAvLyB2ZXJ0ZXggY29vcmRpbmF0ZXNcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCB2ZXJ0ZXggbm9kZXMgaW4gYSBwb2x5Z29uIHJpbmdcbiAgICB0aGlzLnByZXYgPSBudWxsO1xuICAgIHRoaXMubmV4dCA9IG51bGw7XG5cbiAgICAvLyB6LW9yZGVyIGN1cnZlIHZhbHVlXG4gICAgdGhpcy56ID0gMDtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IG5vZGVzIGluIHotb3JkZXJcbiAgICB0aGlzLnByZXZaID0gbnVsbDtcbiAgICB0aGlzLm5leHRaID0gbnVsbDtcblxuICAgIC8vIGluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgYSBzdGVpbmVyIHBvaW50XG4gICAgdGhpcy5zdGVpbmVyID0gZmFsc2U7XG59XG5cbi8vIHJldHVybiBhIHBlcmNlbnRhZ2UgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBwb2x5Z29uIGFyZWEgYW5kIGl0cyB0cmlhbmd1bGF0aW9uIGFyZWE7XG4vLyB1c2VkIHRvIHZlcmlmeSBjb3JyZWN0bmVzcyBvZiB0cmlhbmd1bGF0aW9uXG5lYXJjdXQuZGV2aWF0aW9uID0gZnVuY3Rpb24gKGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0sIHRyaWFuZ2xlcykge1xuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aDtcbiAgICB2YXIgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGg7XG5cbiAgICB2YXIgcG9seWdvbkFyZWEgPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIDAsIG91dGVyTGVuLCBkaW0pKTtcbiAgICBpZiAoaGFzSG9sZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgcG9seWdvbkFyZWEgLT0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0cmlhbmdsZXNBcmVhID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIHZhciBhID0gdHJpYW5nbGVzW2ldICogZGltO1xuICAgICAgICB2YXIgYiA9IHRyaWFuZ2xlc1tpICsgMV0gKiBkaW07XG4gICAgICAgIHZhciBjID0gdHJpYW5nbGVzW2kgKyAyXSAqIGRpbTtcbiAgICAgICAgdHJpYW5nbGVzQXJlYSArPSBNYXRoLmFicyhcbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtjXSkgKiAoZGF0YVtiICsgMV0gLSBkYXRhW2EgKyAxXSkgLVxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2JdKSAqIChkYXRhW2MgKyAxXSAtIGRhdGFbYSArIDFdKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvbHlnb25BcmVhID09PSAwICYmIHRyaWFuZ2xlc0FyZWEgPT09IDAgPyAwIDpcbiAgICAgICAgTWF0aC5hYnMoKHRyaWFuZ2xlc0FyZWEgLSBwb2x5Z29uQXJlYSkgLyBwb2x5Z29uQXJlYSk7XG59O1xuXG5mdW5jdGlvbiBzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkge1xuICAgIHZhciBzdW0gPSAwO1xuICAgIGZvciAodmFyIGkgPSBzdGFydCwgaiA9IGVuZCAtIGRpbTsgaSA8IGVuZDsgaSArPSBkaW0pIHtcbiAgICAgICAgc3VtICs9IChkYXRhW2pdIC0gZGF0YVtpXSkgKiAoZGF0YVtpICsgMV0gKyBkYXRhW2ogKyAxXSk7XG4gICAgICAgIGogPSBpO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuXG4vLyB0dXJuIGEgcG9seWdvbiBpbiBhIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IGZvcm0gKGUuZy4gYXMgaW4gR2VvSlNPTikgaW50byBhIGZvcm0gRWFyY3V0IGFjY2VwdHNcbmVhcmN1dC5mbGF0dGVuID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgZGltID0gZGF0YVswXVswXS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IHt2ZXJ0aWNlczogW10sIGhvbGVzOiBbXSwgZGltZW5zaW9uczogZGltfSxcbiAgICAgICAgaG9sZUluZGV4ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgZGltOyBkKyspIHJlc3VsdC52ZXJ0aWNlcy5wdXNoKGRhdGFbaV1bal1bZF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgaG9sZUluZGV4ICs9IGRhdGFbaSAtIDFdLmxlbmd0aDtcbiAgICAgICAgICAgIHJlc3VsdC5ob2xlcy5wdXNoKGhvbGVJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCAiZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzL2ZsaXBib29rLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9wcmVmYWItc3RvcmFnZS5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvcHJlZmFiLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9zaG9vdEJhc2UuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzL3NuYXAtcm90YXRlLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9zbm93LXBhcnRpY2xlcy5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvdGFncy5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWxzL3JuZy5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWxzL09iamVjdENhY2hlLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vdXRpbHMvd2xVdGlscy5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWxzL2FycmF5SGVscGVycy5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWxzL2xlcnAuanMnO1xuZXhwb3J0ICogZnJvbSAnLi91dGlscy9xdWV1ZS5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWxzL3JuZ1dpdGhXZWlnaHQuanMnO1xuIiwgIi8qKlxuICogQ29tcG9uZW50IHByb3BlcnR5IHR5cGUuXG4gKi9cbmV4cG9ydCB2YXIgVHlwZTtcbihmdW5jdGlvbiAoVHlwZSkge1xuICAgIC8qKlxuICAgICAqICoqTmF0aXZlKipcbiAgICAgKlxuICAgICAqIFByb3BlcnR5IG9mIGEgbmF0aXZlIGNvbXBvbmVudC4gTXVzdCBub3QgYmUgdXNlZCBpbiBjdXN0b20gY29tcG9uZW50cy5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBUeXBlW1R5cGVbXCJOYXRpdmVcIl0gPSAxXSA9IFwiTmF0aXZlXCI7XG4gICAgLyoqXG4gICAgICogKipCb29sKio6XG4gICAgICpcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBjaGVja2JveC5cbiAgICAgKlxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYGZhbHNlYCwgdW5sZXNzIG92ZXJyaWRkZW4gYnkgdGhlIGBkZWZhdWx0YCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBUeXBlW1R5cGVbXCJCb29sXCJdID0gMl0gPSBcIkJvb2xcIjtcbiAgICAvKipcbiAgICAgKiAqKkludCoqOlxuICAgICAqXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGFuIGludGVnZXIgaW5wdXQgZmllbGQuXG4gICAgICpcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGAwYCwgdW5sZXNzIG92ZXJyaWRkZW4gYnkgdGhlIGBkZWZhdWx0YCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBUeXBlW1R5cGVbXCJJbnRcIl0gPSA0XSA9IFwiSW50XCI7XG4gICAgLyoqXG4gICAgICogKipGbG9hdCoqOlxuICAgICAqXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgZmxvYXRpbmcgcG9pbnQgaW5wdXQgZmllbGQuXG4gICAgICpcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGAwLjBgLCB1bmxlc3Mgb3ZlcnJpZGRlbiBieSB0aGUgYGRlZmF1bHRgIHByb3BlcnR5LlxuICAgICAqL1xuICAgIFR5cGVbVHlwZVtcIkZsb2F0XCJdID0gOF0gPSBcIkZsb2F0XCI7XG4gICAgLyoqXG4gICAgICogKipTdHJpbmcgLyBUZXh0Kio6XG4gICAgICpcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBzaW5nbGUtbGluZSB0ZXh0IGlucHV0IGZpZWxkLlxuICAgICAqXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBhbiBlbXB0eSBzdHJpbmcsIHVubGVzcyBvdmVycmlkZGVuIGJ5IHRoZSBgZGVmYXVsdGBcbiAgICAgKiBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBUeXBlW1R5cGVbXCJTdHJpbmdcIl0gPSAxNl0gPSBcIlN0cmluZ1wiO1xuICAgIC8qKlxuICAgICAqICoqRW51bWVyYXRpb24qKjpcbiAgICAgKlxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIGRyb3Bkb3duIHdpdGggZ2l2ZW4gdmFsdWVzLiBUaGUgYWRkaXRpb25hbFxuICAgICAqIGB2YWx1ZXNgIHBhcmFtZXRlciB3aXRoIHNlbGVjdGlvbiBvcHRpb25zIGlzIG1hbmRhdG9yeS5cbiAgICAgKlxuICAgICAqIFRoZSBwcm9wZXJ0eSB2YWx1ZSBpcyByZXNvbHZlZCB0byBhbiAqKmluZGV4KiogaW50byB0aGUgYHZhbHVlc2AgYXJyYXkuXG4gICAgICpcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIHRoZSBmaXJzdCBlbGVtZW50IGluIGB2YWx1ZXNgLCB1bmxlc3Mgb3ZlcnJpZGRlbiBieVxuICAgICAqIHRoZSBgZGVmYXVsdGAgcHJvcGVydHkuIFRoZSBgZGVmYXVsdGAgdmFsdWUgY2FuIGJlIGEgc3RyaW5nIG9yIGFuIGluZGV4XG4gICAgICogaW50byBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgICBjYW1lcmE6IHt0eXBlOiBUeXBlLkVudW0sIHZhbHVlczogWydhdXRvJywgJ2JhY2snLCAnZnJvbnQnXSwgZGVmYXVsdDogJ2F1dG8nfSxcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBUeXBlW1R5cGVbXCJFbnVtXCJdID0gMzJdID0gXCJFbnVtXCI7XG4gICAgLyoqXG4gICAgICogKipPYmplY3QgcmVmZXJlbmNlKio6XG4gICAgICpcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYW4gb2JqZWN0IHJlc291cmNlIHNlbGVjdGlvbiBkcm9wZG93blxuICAgICAqIHdpdGggb2JqZWN0IHBpY2tlci5cbiAgICAgKlxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYG51bGxgLlxuICAgICAqL1xuICAgIFR5cGVbVHlwZVtcIk9iamVjdFwiXSA9IDY0XSA9IFwiT2JqZWN0XCI7XG4gICAgLyoqXG4gICAgICogKipNZXNoIHJlZmVyZW5jZSoqOlxuICAgICAqXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgbWVzaCByZXNvdXJjZSBzZWxlY3Rpb24gZHJvcGRvd24uXG4gICAgICpcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBudWxsYC5cbiAgICAgKi9cbiAgICBUeXBlW1R5cGVbXCJNZXNoXCJdID0gMTI4XSA9IFwiTWVzaFwiO1xuICAgIC8qKlxuICAgICAqICoqVGV4dHVyZSByZWZlcmVuY2UqKjpcbiAgICAgKlxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIHRleHR1cmUgcmVzb3VyY2Ugc2VsZWN0aW9uIGRyb3Bkb3duLlxuICAgICAqXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgbnVsbGAuXG4gICAgICovXG4gICAgVHlwZVtUeXBlW1wiVGV4dHVyZVwiXSA9IDI1Nl0gPSBcIlRleHR1cmVcIjtcbiAgICAvKipcbiAgICAgKiAqKk1hdGVyaWFsIHJlZmVyZW5jZSoqOlxuICAgICAqXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgbWF0ZXJpYWwgcmVzb3VyY2Ugc2VsZWN0aW9uIGRyb3Bkb3duLlxuICAgICAqXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgbnVsbGAuXG4gICAgICovXG4gICAgVHlwZVtUeXBlW1wiTWF0ZXJpYWxcIl0gPSA1MTJdID0gXCJNYXRlcmlhbFwiO1xuICAgIC8qKlxuICAgICAqICoqQW5pbWF0aW9uIHJlZmVyZW5jZSoqOlxuICAgICAqXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGFuIGFuaW1hdGlvbiByZXNvdXJjZSBzZWxlY3Rpb24gZHJvcGRvd24uXG4gICAgICpcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBudWxsYC5cbiAgICAgKi9cbiAgICBUeXBlW1R5cGVbXCJBbmltYXRpb25cIl0gPSAxMDI0XSA9IFwiQW5pbWF0aW9uXCI7XG4gICAgLyoqXG4gICAgICogKipTa2luIHJlZmVyZW5jZSoqOlxuICAgICAqXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgc2tpbiByZXNvdXJjZSBzZWxlY3Rpb24gZHJvcGRvd24uXG4gICAgICpcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBudWxsYC5cbiAgICAgKi9cbiAgICBUeXBlW1R5cGVbXCJTa2luXCJdID0gMjA0OF0gPSBcIlNraW5cIjtcbiAgICAvKipcbiAgICAgKiAqKkNvbG9yKio6XG4gICAgICpcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBjb2xvciB3aWRnZXQuXG4gICAgICpcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBbMC4wLCAwLjAsIDAuMCwgMS4wXWAsIHVubGVzcyBvdmVycmlkZGVuIGJ5IHRoZVxuICAgICAqIGBkZWZhdWx0YCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBUeXBlW1R5cGVbXCJDb2xvclwiXSA9IDQwOTZdID0gXCJDb2xvclwiO1xufSkoVHlwZSB8fCAoVHlwZSA9IHt9KSk7XG4vKipcbiAqIENvbXBvbmVudCBwcm9wZXJ0eSBuYW1lc3BhY2UuXG4gKlxuICogVXNhZ2U6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7Q29tcG9uZW50LCBQcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbiAqXG4gKiBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gKiAgICAgICAgIG15Qm9vbDogUHJvcGVydHkuYm9vbCh0cnVlKSxcbiAqICAgICAgICAgbXlJbnQ6IFByb3BlcnR5LmludCg0MiksXG4gKiAgICAgICAgIG15U3RyaW5nOiBQcm9wZXJ0eS5zdHJpbmcoJ0hlbGxvIFdvcmxkIScpLFxuICogICAgICAgICBteU1lc2g6IFByb3BlcnR5Lm1lc2goKSxcbiAqICAgICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBGb3IgVHlwZVNjcmlwdCB1c2VycywgeW91IGNhbiB1c2UgdGhlIGRlY29yYXRvcnMgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFByb3BlcnR5ID0ge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBib29sZWFuIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0cyB0byBgZmFsc2VgLlxuICAgICAqL1xuICAgIGJvb2woZGVmYXVsdFZhbHVlID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiBkZWZhdWx0VmFsdWUgfTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpbnRlZ2VyIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0cyB0byBgMGAuXG4gICAgICovXG4gICAgaW50KGRlZmF1bHRWYWx1ZSA9IDApIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSB9O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGZsb2F0IHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0cyB0byBgMC4wYC5cbiAgICAgKi9cbiAgICBmbG9hdChkZWZhdWx0VmFsdWUgPSAwLjApIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogZGVmYXVsdFZhbHVlIH07XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gc3RyaW5nIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0cyB0byBgJydgLlxuICAgICAqL1xuICAgIHN0cmluZyhkZWZhdWx0VmFsdWUgPSAnJykge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLlN0cmluZywgZGVmYXVsdDogZGVmYXVsdFZhbHVlIH07XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gZW51bWVyYXRpb24gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWVzIFRoZSBsaXN0IG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlLiBDYW4gYmUgYSBzdHJpbmcgb3IgYW4gaW5kZXggaW50b1xuICAgICAqICAgICBgdmFsdWVzYC4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0cyB0byB0aGUgZmlyc3QgZWxlbWVudC5cbiAgICAgKi9cbiAgICBlbnVtKHZhbHVlcywgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuRW51bSwgdmFsdWVzLCBkZWZhdWx0OiBkZWZhdWx0VmFsdWUgfTtcbiAgICB9LFxuICAgIC8qKiBDcmVhdGUgYW4ge0BsaW5rIE9iamVjdDNEfSByZWZlcmVuY2UgcHJvcGVydHkuICovXG4gICAgb2JqZWN0KCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLk9iamVjdCwgZGVmYXVsdDogbnVsbCB9O1xuICAgIH0sXG4gICAgLyoqIENyZWF0ZSBhIHtAbGluayBNZXNofSByZWZlcmVuY2UgcHJvcGVydHkuICovXG4gICAgbWVzaCgpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5NZXNoLCBkZWZhdWx0OiBudWxsIH07XG4gICAgfSxcbiAgICAvKiogQ3JlYXRlIGEge0BsaW5rIFRleHR1cmV9IHJlZmVyZW5jZSBwcm9wZXJ0eS4gKi9cbiAgICB0ZXh0dXJlKCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLlRleHR1cmUsIGRlZmF1bHQ6IG51bGwgfTtcbiAgICB9LFxuICAgIC8qKiBDcmVhdGUgYSB7QGxpbmsgTWF0ZXJpYWx9IHJlZmVyZW5jZSBwcm9wZXJ0eS4gKi9cbiAgICBtYXRlcmlhbCgpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5NYXRlcmlhbCwgZGVmYXVsdDogbnVsbCB9O1xuICAgIH0sXG4gICAgLyoqIENyZWF0ZSBhbiB7QGxpbmsgQW5pbWF0aW9ufSByZWZlcmVuY2UgcHJvcGVydHkuICovXG4gICAgYW5pbWF0aW9uKCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLkFuaW1hdGlvbiwgZGVmYXVsdDogbnVsbCB9O1xuICAgIH0sXG4gICAgLyoqIENyZWF0ZSBhIHtAbGluayBTa2lufSByZWZlcmVuY2UgcHJvcGVydHkuICovXG4gICAgc2tpbigpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5Ta2luLCBkZWZhdWx0OiBudWxsIH07XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBjb2xvciBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByIFRoZSByZWQgY29tcG9uZW50LCBpbiB0aGUgcmFuZ2UgWzA7IDFdLlxuICAgICAqIEBwYXJhbSBnIFRoZSBncmVlbiBjb21wb25lbnQsIGluIHRoZSByYW5nZSBbMDsgMV0uXG4gICAgICogQHBhcmFtIGIgVGhlIGJsdWUgY29tcG9uZW50LCBpbiB0aGUgcmFuZ2UgWzA7IDFdLlxuICAgICAqIEBwYXJhbSBhIFRoZSBhbHBoYSBjb21wb25lbnQsIGluIHRoZSByYW5nZSBbMDsgMV0uXG4gICAgICovXG4gICAgY29sb3IociA9IDAuMCwgZyA9IDAuMCwgYiA9IDAuMCwgYSA9IDEuMCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLkNvbG9yLCBkZWZhdWx0OiBbciwgZywgYiwgYV0gfTtcbiAgICB9LFxufTtcbiIsICJpbXBvcnQgeyBQcm9wZXJ0eSwgVHlwZSB9IGZyb20gJy4vcHJvcGVydHkuanMnO1xuLyoqXG4gKiBEZWNvcmF0b3IgZm9yIEpTIGNvbXBvbmVudCBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSBkYXRhIFRoZSBwcm9wZXJ0eSBkZXNjcmlwdGlvbiBhcyBhbiBvYmplY3QgbGl0ZXJhbFxuICogQHJldHVybnMgQSBkZWNvcmF0b3IgZnVuY3Rpb24gbW9kaWZ5aW5nIHRoZSBgUHJvcGVydGllc2Agc3RhdGljXG4gKiAgICAgYXR0cmlidXRlXG4gKi9cbmZ1bmN0aW9uIHByb3BlcnR5RGVjb3JhdG9yKGRhdGEpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgY29uc3QgY3RvciA9IHRhcmdldC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgY3Rvci5Qcm9wZXJ0aWVzID0gY3Rvci5Qcm9wZXJ0aWVzID8/IHt9O1xuICAgICAgICBjdG9yLlByb3BlcnRpZXNbcHJvcGVydHlLZXldID0gZGF0YTtcbiAgICB9O1xufVxuLyoqXG4gKiBEZWNvcmF0b3IgZm9yIG1ha2luZyBhIGdldHRlciBlbnVtZXJhYmxlLlxuICpcbiAqIFVzYWdlOlxuICpcbiAqIGBgYHRzXG4gKiBjbGFzcyBNeUNsYXNzIHtcbiAqICAgICBAZW51bWVyYWJsZSgpXG4gKiAgICAgZ2V0IHByb2plY3Rpb25NYXRyaXgoKTogRmxvYXQzMkFycmF5IHsgLi4uIH1cbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gZW51bWVyYWJsZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKF8sIF9fLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IHRydWU7XG4gICAgfTtcbn1cbi8qKlxuICogRGVjb3JhdG9yIGZvciBuYXRpdmUgcHJvcGVydGllcy5cbiAqXG4gKiBVc2FnZTpcbiAqXG4gKiBgYGB0c1xuICogY2xhc3MgTXlDbGFzcyB7XG4gKiAgICAgQG5hdGl2ZVByb3BlcnR5KClcbiAqICAgICBnZXQgcHJvamVjdGlvbk1hdHJpeCgpOiBGbG9hdDMyQXJyYXkgeyAuLi4gfVxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuYXRpdmVQcm9wZXJ0eSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgZW51bWVyYWJsZSgpKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICBwcm9wZXJ0eURlY29yYXRvcih7IHR5cGU6IFR5cGUuTmF0aXZlIH0pKHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgIH07XG59XG4vKipcbiAqIFByb3BlcnR5IGRlY29yYXRvcnMgbmFtZXNwYWNlLlxuICpcbiAqIFlvdSBjYW4gdXNlIHRoZSBkZWNvcmF0b3JzIHRvIG1hcmsgYSBjbGFzcyBhdHRyaWJ1dGUgYXNcbiAqIGEgV29uZGVybGFuZCBFbmdpbmUgcHJvcGVydHkuXG4gKlxuICogVXNhZ2U6XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7TWVzaH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbiAqIGltcG9ydCB7cHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcbiAqXG4gKiBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gKiAgICAgQHByb3BlcnR5LmJvb2wodHJ1ZSlcbiAqICAgICBteUJvb2whOiBib29sZWFuO1xuICpcbiAqICAgICBAcHJvcGVydHkuaW50KDQyKVxuICogICAgIG15SW50ITogbnVtYmVyO1xuICpcbiAqICAgICBAcHJvcGVydHkuc3RyaW5nKCdIZWxsbyBXb3JsZCEnKVxuICogICAgIG15U3RyaW5nITogc3RyaW5nO1xuICpcbiAqICAgICBAcHJvcGVydHkubWVzaCgpXG4gKiAgICAgbXlNZXNoITogTWVzaDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEZvciBKYXZhU2NyaXB0IHVzZXJzLCBwbGVhc2UgZGVjbGFyZSB0aGUgcHJvcGVydGllcyBzdGF0aWNhbGx5LlxuICovXG5leHBvcnQgY29uc3QgcHJvcGVydHkgPSB7fTtcbmZvciAoY29uc3QgbmFtZSBpbiBQcm9wZXJ0eSkge1xuICAgIC8qIEFzc2lnbiBlYWNoIHByb3BlcnR5IGZ1bmN0b3IgdG8gYSBUeXBlU2NyaXB0IGRlY29yYXRvci5cbiAgICAgKiBUaGlzIGNvZGUgZXh0cmFjdHMgcGFyYW1ldGVycyBhbmQgcmV0dXJuIHR5cGUgdG8gcHJvdmlkZSBwcm9wZXJcbiAgICAgKiB0eXBpbmdzIHRvIHRoZSB1c2VyLiAqL1xuICAgIHByb3BlcnR5W25hbWVdID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgZnVuY3RvciA9IFByb3BlcnR5W25hbWVdO1xuICAgICAgICByZXR1cm4gcHJvcGVydHlEZWNvcmF0b3IoZnVuY3RvciguLi5hcmdzKSk7XG4gICAgfTtcbn1cbiIsICIvKipcbiAqIENoZWNrIGlmIGEgZ2l2ZW4gdmFsdWUgaXMgYSBuYXRpdmUgc3RyaW5nIG9yIGEgYFN0cmluZ2AgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBoYXMgdHlwZSBzdHJpbmcgbGl0ZXJhbCBvciBgU3RyaW5nYCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gJycpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiB2YWx1ZSAmJiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nKTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgYSBnaXZlbiB2YWx1ZSBpcyBhIG5hdGl2ZSBudW1iZXIgb3IgYSBgTnVtYmVyYCBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGhhcyB0eXBlIG51bWJlciBsaXRlcmFsIG9yIGBOdW1iZXJgLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gTnVtYmVyO1xufVxuIiwgIi8qKlxuICogRXZlbnQgZW1pdHRlci5cbiAqXG4gKiBUaGlzIGNsYXNzIGFsbG93cyB0byByZWdpc3RlciBsaXN0ZW5lcnMgdGhhdCB3aWxsIGdldCBub3RpZmllZCBieSB0aGUgZW1pdHRlci5cbiAqXG4gKiBVc2FnZSBleGFtcGxlXG4gKlxuICogYGBganNcbiAqIC8vIGBvblByZVJlbmRlcmAgaXMgYW4gYEVtaXR0ZXJgIGluc3RhbmNlLlxuICogc2NlbmUub25QcmVSZW5kZXIuYWRkKCgpID0+IGNvbnNvbGUubG9nKCdiZWZvcmUgcmVuZGVyaW5nJykpO1xuICogLy8gYG9uUG9zdFJlbmRlcmAgaXMgYW4gYEVtaXR0ZXJgIGluc3RhbmNlLlxuICogc2NlbmUub25Qb3N0UmVuZGVyLmFkZCgoKSA9PiBjb25zb2xlLmxvZygnYWZ0ZXIgcmVuZGVyaW5nJykpO1xuICogYGBgXG4gKlxuICogWW91IGNhbiBjcmVhdGUgeW91ciBvd24gZW1pdHRlcnM6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7RW1pdHRlcn0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbiAqXG4gKiBjb25zdCBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcbiAqIGBgYFxuICpcbiAqIFlvdSBjYW4gbm90aWZ5IGxpc3RlbmVycyBpbiB0byB5b3VyIGVtaXR0ZXIgdXNpbmcge0BsaW5rIEVtaXR0ZXIubm90aWZ5fTpcbiAqXG4gKiBgYGBqc1xuICogLy8gTm90aWZpZXMgYWxsIHRoZSBsaXN0ZW5lcnMuXG4gKiBlbWl0dGVyLm5vdGlmeSgpO1xuICogLy8gTm90aWZpZXMgYWxsIHRoZSBsaXN0ZW5lcnMgd2l0aCBzb21lIGRhdGEuXG4gKiBlbWl0dGVyLm5vdGlmeSh7IG15SW50OiA0MiwgbXlTdHI6ICdIZWxsbyBXb3JsZCEnIH0pO1xuICogYGBgXG4gKlxuICogQGNhdGVnb3J5IGV2ZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBFbWl0dGVyIHtcbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIGxpc3RlbmVycyB0byB0cmlnZ2VyIHdoZW4gYG5vdGlmeWAgaXMgY2FsbGVkLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF9saXN0ZW5lcnMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIG5ldyBsaXN0ZW5lciB0byBiZSB0cmlnZ2VyZWQgb24ge0BsaW5rIEVtaXR0ZXIubm90aWZ5fS5cbiAgICAgKlxuICAgICAqIEJhc2ljIHVzYWdlOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBlbWl0dGVyLmFkZCgoZGF0YSkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnZXZlbnQgcmVjZWl2ZWQhJyk7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQXV0b21hdGljYWxseSByZW1vdmUgdGhlIGxpc3RlbmVyIHdoZW4gYW4gZXZlbnQgaXMgcmVjZWl2ZWQ6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGVtaXR0ZXIuYWRkKChkYXRhKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdldmVudCByZWNlaXZlZCEnKTtcbiAgICAgKiAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICogfSwge29uY2U6IHRydWV9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgY2FsbGJhY2sgdG8gcmVnaXN0ZXIuXG4gICAgICogQHBhcmFtIG9wdHMgVGhlIGxpc3RlbmVyIG9wdGlvbnMuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2UgaGF2ZSBhIGxvb2tcbiAgICAgKiAgICAgYXQgdGhlIHtAbGluayBMaXN0ZW5lck9wdGlvbnN9IGludGVyZmFjZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKVxuICAgICAqL1xuICAgIGFkZChsaXN0ZW5lciwgb3B0cyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHsgb25jZSA9IGZhbHNlLCBpZCA9IHVuZGVmaW5lZCB9ID0gb3B0cztcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2goeyBpZCwgb25jZSwgY2FsbGJhY2s6IGxpc3RlbmVyIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byB7QGxpbmsgRW1pdHRlci5hZGR9LlxuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVycyBUaGUgY2FsbGJhY2socykgdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgRW1pdHRlci5hZGR9IGluc3RlYWQuXG4gICAgICovXG4gICAgcHVzaCguLi5saXN0ZW5lcnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBjYiBvZiBsaXN0ZW5lcnMpXG4gICAgICAgICAgICB0aGlzLmFkZChjYik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIG5ldyBsaXN0ZW5lciB0byBiZSB0cmlnZ2VyZWQgb24ge0BsaW5rIEVtaXR0ZXIubm90aWZ5fS5cbiAgICAgKlxuICAgICAqIE9uY2Ugbm90aWZpZWQsIHRoZSBsaXN0ZW5lciB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cbiAgICAgKlxuICAgICAqIFRoZSBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBjYWxsaW5nIHtAbGluayBFbWl0dGVyLmFkZH0gd2l0aDpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogZW1pdHRlci5hZGQobGlzdGVuZXIsIHtvbmNlOiB0cnVlfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGNhbGxiYWNrIHRvIHJlZ2lzdGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIG9uY2UobGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKGxpc3RlbmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHJlZ2lzdGVyZWQgbGlzdGVuZXIuXG4gICAgICpcbiAgICAgKiBVc2FnZSB3aXRoIGEgY2FsbGJhY2s6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGNvbnN0IGxpc3RlbmVyID0gKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAqIGVtaXR0ZXIuYWRkKGxpc3RlbmVyKTtcbiAgICAgKlxuICAgICAqIC8vIFJlbW92ZSB1c2luZyB0aGUgY2FsbGJhY2sgcmVmZXJlbmNlOlxuICAgICAqIGVtaXR0ZXIucmVtb3ZlKGxpc3RlbmVyKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFVzYWdlIHdpdGggYW4gaWQ6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGVtaXR0ZXIuYWRkKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSwge2lkOiAnbXktY2FsbGJhY2snfSk7XG4gICAgICpcbiAgICAgKiAvLyBSZW1vdmUgdXNpbmcgdGhlIGlkOlxuICAgICAqIGVtaXR0ZXIucmVtb3ZlKCdteS1jYWxsYmFjaycpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVXNpbmcgaWRlbnRpZmllcnMsIHlvdSB3aWxsIG5lZWQgdG8gZW5zdXJlIHlvdXIgdmFsdWUgaXMgdW5pcXVlIHRvIGF2b2lkXG4gICAgICogcmVtb3ZpbmcgbGlzdGVuZXJzIGZyb20gb3RoZXIgbGlicmFyaWVzLCBlLmcuLDpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogZW1pdHRlci5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpLCB7aWQ6ICdub24tdW5pcXVlJ30pO1xuICAgICAqIC8vIFRoaXMgc2Vjb25kIGxpc3RlbmVyIGNvdWxkIGJlIGFkZGVkIGJ5IGEgdGhpcmQtcGFydHkgbGlicmFyeS5cbiAgICAgKiBlbWl0dGVyLmFkZCgoZGF0YSkgPT4gY29uc29sZS5sb2coJ0hlbGxvIEZyb20gTGlicmFyeSEnKSwge2lkOiAnbm9uLXVuaXF1ZSd9KTtcbiAgICAgKlxuICAgICAqIC8vIEhvIFNuYXAhIFRoaXMgYWxzbyByZW1vdmVkIHRoZSBsaWJyYXJ5IGxpc3RlbmVyIVxuICAgICAqIGVtaXR0ZXIucmVtb3ZlKCdub24tdW5pcXVlJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGUgaWRlbnRpZmllciBjYW4gYmUgYW55IHR5cGUuIEhvd2V2ZXIsIHJlbWVtYmVyIHRoYXQgdGhlIGNvbXBhcmlzb24gd2lsbCBiZVxuICAgICAqIGJ5LXZhbHVlIGZvciBwcmltaXRpdmUgdHlwZXMgKHN0cmluZywgbnVtYmVyKSwgYnV0IGJ5IHJlZmVyZW5jZSBmb3Igb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGVtaXR0ZXIuYWRkKCgpID0+IGNvbnNvbGUubG9nKCdIZWxsbycpLCB7aWQ6IHt2YWx1ZTogNDJ9fSk7XG4gICAgICogZW1pdHRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ1dvcmxkIScpLCB7aWQ6IHt2YWx1ZTogNDJ9fSk7XG4gICAgICogZW1pdHRlci5yZW1vdmUoe3ZhbHVlOiA0Mn0pOyAvLyBOb25lIG9mIHRoZSBhYm92ZSBsaXN0ZW5lcnMgbWF0Y2ghXG4gICAgICogZW1pdHRlci5ub3RpZnkoKTsgLy8gUHJpbnRzICdIZWxsbycgYW5kICdXb3JsZCEnLlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSGVyZSwgYm90aCBlbWl0dGVycyBoYXZlIGlkIGB7dmFsdWU6IDQyfWAsIGJ1dCB0aGUgY29tcGFyaXNvbiBpcyBtYWRlIGJ5IHJlZmVyZW5jZS4gVGh1cyxcbiAgICAgKiB0aGUgYHJlbW92ZSgpYCBjYWxsIGhhcyBubyBlZmZlY3QuIFdlIGNhbiBtYWtlIGl0IHdvcmsgYnkgZG9pbmc6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGNvbnN0IGlkID0ge3ZhbHVlOiA0Mn07XG4gICAgICogZW1pdHRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ0hlbGxvJyksIHtpZH0pO1xuICAgICAqIGVtaXR0ZXIuYWRkKCgpID0+IGNvbnNvbGUubG9nKCdXb3JsZCEnKSwge2lkfSk7XG4gICAgICogZW1pdHRlci5yZW1vdmUoaWQpOyAvLyBTYW1lIHJlZmVyZW5jZSwgaXQgd29ya3MhXG4gICAgICogZW1pdHRlci5ub3RpZnkoKTsgLy8gRG9lc24ndCBwcmludC5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgcmVnaXN0ZXJlZCBjYWxsYmFjayBvciBhIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgYGlkYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKVxuICAgICAqL1xuICAgIHJlbW92ZShsaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBsaXN0ZW5lcnNbaV07XG4gICAgICAgICAgICBpZiAodGFyZ2V0LmNhbGxiYWNrID09PSBsaXN0ZW5lciB8fCB0YXJnZXQuaWQgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLS0sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayB3aGV0aGVyIHRoZSBsaXN0ZW5lciBpcyByZWdpc3RlcmVkLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBtZXRob2QgcGVyZm9ybXMgYSBsaW5lYXIgc2VhcmNoLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSByZWdpc3RlcmVkIGNhbGxiYWNrIG9yIGEgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSBgaWRgLlxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgaGFuZGxlIGlzIGZvdW5kLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBoYXMobGlzdGVuZXIpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgaWYgKHRhcmdldC5jYWxsYmFjayA9PT0gbGlzdGVuZXIgfHwgdGFyZ2V0LmlkID09PSBsaXN0ZW5lcilcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGlmeSBsaXN0ZW5lcnMgd2l0aCB0aGUgZ2l2ZW4gZGF0YSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIG1ldGhvZCBlbnN1cmVzIGFsbCBsaXN0ZW5lcnMgYXJlIGNhbGxlZCBldmVuIGlmXG4gICAgICogYW4gZXhjZXB0aW9uIGlzIHRocm93bi4gRm9yIChwb3NzaWJseSkgZmFzdGVyIG5vdGlmaWNhdGlvbixcbiAgICAgKiBwbGVhc2UgdXNlIHtAbGluayBFbWl0dGVyLm5vdGlmeVVuc2FmZX0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBwYXNzIHRvIGxpc3RlbmVyIHdoZW4gaW52b2tlZC5cbiAgICAgKi9cbiAgICBub3RpZnkoLi4uZGF0YSkge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vbmNlKVxuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbGJhY2soLi4uZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZ5IGxpc3RlbmVycyB3aXRoIHRoZSBnaXZlbiBkYXRhIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBub3RlIEJlY2F1c2UgdGhpcyBtZXRob2QgZG9lc24ndCBjYXRjaCBleGNlcHRpb25zLCBzb21lIGxpc3RlbmVyc1xuICAgICAqIHdpbGwgYmUgc2tpcHBlZCBvbiBhIHRocm93LiBQbGVhc2UgdXNlIHtAbGluayBFbWl0dGVyLm5vdGlmeX0gZm9yIHNhZmVcbiAgICAgKiBub3RpZmljYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBwYXNzIHRvIGxpc3RlbmVyIHdoZW4gaW52b2tlZC5cbiAgICAgKi9cbiAgICBub3RpZnlVbnNhZmUoLi4uZGF0YSkge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vbmNlKVxuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNhbGxiYWNrKC4uLmRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgb24gdGhlIG5leHQgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGUgcHJvbWlzZSBtaWdodCBuZXZlciByZXNvbHZlIGlmIG5vIGV2ZW50IGlzIHNlbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBkYXRhIHBhc3NlZCB0b1xuICAgICAqICAgICB7QGxpbmsgRW1pdHRlci5ub3RpZnl9LlxuICAgICAqL1xuICAgIHByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCBfKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uY2UoKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyhhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyhhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBOdW1iZXIgb2YgbGlzdGVuZXJzLiAqL1xuICAgIGdldCBsaXN0ZW5lckNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdGVuZXJzLmxlbmd0aDtcbiAgICB9XG4gICAgLyoqIGB0cnVlYCBpZiBpdCBoYXMgbm8gbGlzdGVuZXJzLCBgZmFsc2VgIG90aGVyd2lzZS4gKi9cbiAgICBnZXQgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJDb3VudCA9PT0gMDtcbiAgICB9XG59XG4vKiBEdW1teSB2YWx1ZSB1c2VkIHdpdGggUmV0YWluRW1pdHRlci4gKi9cbmNvbnN0IFJldGFpbkVtaXR0ZXJVbmRlZmluZWQgPSB7fTtcbi8qKlxuICogRXZlbnQgZW1pdHRlciB0aGF0IHJldGFpbnMgZXZlbnQgZGF0YSB3aGVuIG5vdGlmaWVkLlxuICpcbiAqIEFmdGVyIGEgbm90aWZpY2F0aW9uIGhhcHBlbnMsIHN1YnNlcXVlbnQgY2FsbHMgdG8ge0BsaW5rIFJldGFpbkVtaXR0ZXIuYWRkfSB3aWxsIGdldFxuICogYXV0b21hdGljYWxseSBub3RpZmllZC5cbiAqXG4gKiBZb3UgY2FuIHVzZSBhbm90aGVyIGVtaXR0ZXIgaW4gb3JkZXIgdG8gY2FuY2VsIHRoZSBsYXN0IHJldGFpbmVkIGV2ZW50OlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQge0VtaXR0ZXIsIFJldGFpbmVkRW1pdHRlcn0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbiAqXG4gKiBjb25zdCBvblN0YXJ0ID0gbmV3IFJldGFpbmVkRW1pdHRlcigpO1xuICpcbiAqIG9uU3RhcnQubm90aWZ5KDQyKTtcbiAqIG9uU3RhcnQuYWRkKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSkgLy8gUHJpbnRzICc0MicuXG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIHJlc2V0IHRoZSBzdGF0ZSBvZiB0aGUgZW1pdHRlciwgaS5lLiwgbWFraW5nIGl0IGZvcmdldCBhYm91dCB0aGVcbiAqIGxhc3QgZXZlbnQgdXNpbmc6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7RW1pdHRlciwgUmV0YWluZWRFbWl0dGVyfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuICpcbiAqIGNvbnN0IG9uU3RhcnQgPSBuZXcgUmV0YWluZWRFbWl0dGVyKCk7XG4gKiBvblN0YXJ0Lm5vdGlmeSg0Mik7XG4gKiBvblN0YXJ0LmFkZCgoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSkpIC8vIFByaW50cyAnNDInLlxuICpcbiAqIC8vIFJlc2V0IHRoZSBzdGF0ZSBvZiB0aGUgZW1pdHRlci5cbiAqIG9uU3RhcnQucmVzZXQoKTtcbiAqIG9uU3RhcnQuYWRkKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSkgLy8gRG9lc24ndCBwcmludCBhbnl0aGluZy5cbiAqIGBgYFxuICpcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGVtaXR0ZXJzLCBwbGVhc2UgaGF2ZSBhIGxvb2sgYXQgdGhlIGJhc2Uge0BsaW5rIEVtaXR0ZXJ9IGNsYXNzLlxuICpcbiAqIEBjYXRlZ29yeSBldmVudFxuICovXG5leHBvcnQgY2xhc3MgUmV0YWluRW1pdHRlciBleHRlbmRzIEVtaXR0ZXIge1xuICAgIC8qKiBQcmUtcmVzb2x2ZWQgZGF0YS4gQGhpZGRlbiAqL1xuICAgIF9ldmVudCA9IFJldGFpbkVtaXR0ZXJVbmRlZmluZWQ7XG4gICAgLyoqXG4gICAgICogRW1pdHRlciB0YXJnZXQgdXNlZCB0byByZXNldCB0aGUgc3RhdGUgb2YgdGhpcyBlbWl0dGVyLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF9yZXNldDtcbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgYWRkKGxpc3RlbmVyLCBvcHRzKSB7XG4gICAgICAgIGNvbnN0IGltbWVkaWF0ZSA9IG9wdHM/LmltbWVkaWF0ZSA/PyB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fZXZlbnQgIT09IFJldGFpbkVtaXR0ZXJVbmRlZmluZWQgJiYgaW1tZWRpYXRlKSB7XG4gICAgICAgICAgICBsaXN0ZW5lciguLi50aGlzLl9ldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuYWRkKGxpc3RlbmVyLCBvcHRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBjYWxsYmFjayB0byByZWdpc3Rlci5cbiAgICAgKiBAcGFyYW0gaW1tZWRpYXRlIElmIGB0cnVlYCwgZGlyZWN0bHkgcmVzb2x2ZXMgaWYgdGhlIGVtaXR0ZXIgcmV0YWlucyBhIHZhbHVlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIG9uY2UobGlzdGVuZXIsIGltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGQobGlzdGVuZXIsIHsgb25jZTogdHJ1ZSwgaW1tZWRpYXRlIH0pO1xuICAgIH1cbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgbm90aWZ5KC4uLmRhdGEpIHtcbiAgICAgICAgdGhpcy5fZXZlbnQgPSBkYXRhO1xuICAgICAgICBzdXBlci5ub3RpZnkoLi4uZGF0YSk7XG4gICAgfVxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBub3RpZnlVbnNhZmUoLi4uZGF0YSkge1xuICAgICAgICB0aGlzLl9ldmVudCA9IGRhdGE7XG4gICAgICAgIHN1cGVyLm5vdGlmeVVuc2FmZSguLi5kYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHN0YXRlIG9mIHRoZSBlbWl0dGVyLlxuICAgICAqXG4gICAgICogRnVydGhlciBjYWxsIHRvIHtAbGluayBFbWl0dGVyLmFkZH0gd2lsbCBub3QgYXV0b21hdGljYWxseSByZXNvbHZlLFxuICAgICAqIHVudGlsIGEgbmV3IGNhbGwgdG8ge0BsaW5rIEVtaXR0ZXIubm90aWZ5fSBpcyBwZXJmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZylcbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fZXZlbnQgPSBSZXRhaW5FbWl0dGVyVW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIFJldHVybnMgdGhlIHJldGFpbmVkIGRhdGEsIG9yIGB1bmRlZmluZWRgIGlmIG5vIGRhdGEgd2FzIHJldGFpbmVkLiAqL1xuICAgIGdldCBkYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0RhdGFSZXRhaW5lZCA/IHRoaXMuX2V2ZW50IDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKiogYHRydWVgIGlmIGRhdGEgaXMgcmV0YWluZWQgZnJvbSB0aGUgbGFzdCBldmVudCwgYGZhbHNlYCBvdGhlcndpc2UuICovXG4gICAgZ2V0IGlzRGF0YVJldGFpbmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnQgIT09IFJldGFpbkVtaXR0ZXJVbmRlZmluZWQ7XG4gICAgfVxufVxuIiwgIi8qKlxuICogVHlwZXNcbiAqL1xudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgbmF0aXZlUHJvcGVydHksIGVudW1lcmFibGUgfSBmcm9tICcuL2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgaXNOdW1iZXIsIGlzU3RyaW5nIH0gZnJvbSAnLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4vdXRpbHMvZXZlbnQuanMnO1xuLyoqXG4gKiBXb25kZXJsYW5kIEVuZ2luZSBBUElcbiAqIEBuYW1lc3BhY2UgV0xcbiAqL1xuLyoqXG4gKiBDb2xsaWRlciB0eXBlIGVudW0gZm9yIHtAbGluayBDb2xsaXNpb25Db21wb25lbnR9LlxuICovXG5leHBvcnQgdmFyIENvbGxpZGVyO1xuKGZ1bmN0aW9uIChDb2xsaWRlcikge1xuICAgIC8qKlxuICAgICAqICoqU3BoZXJlIENvbGxpZGVyKio6XG4gICAgICpcbiAgICAgKiBTaW1wbGVzdCBhbmQgbW9zdCBwZXJmb3JtYW50IGNvbGxpc2lvbiBzaGFwZS4gSWYgdGhpcyB0eXBlIGlzIHNldCBvbiBhXG4gICAgICoge0BsaW5rIENvbGxpc2lvbkNvbXBvbmVudH0sIG9ubHkgdGhlIGZpcnN0IGNvbXBvbmVudCBvZlxuICAgICAqIHtAbGluayBDb2xsaXNpb25Db21wb25lbnQjZXh0ZW50c30gd2lsbCBiZSB1c2VkIHRvIGRldGVybWluZSB0aGUgcmFkaXVzLlxuICAgICAqL1xuICAgIENvbGxpZGVyW0NvbGxpZGVyW1wiU3BoZXJlXCJdID0gMF0gPSBcIlNwaGVyZVwiO1xuICAgIC8qKlxuICAgICAqICoqQXhpcyBBbGlnbmVkIEJvdW5kaW5nIEJveCBDb2xsaWRlcioqOlxuICAgICAqXG4gICAgICogQm94IHRoYXQgaXMgYWx3YXlzIGFsaWduZWQgdG8gWFlaIGF4aXMuIEl0IGNhbm5vdCBiZSByb3RhdGVkIGJ1dCBpcyBtb3JlXG4gICAgICogZWZmaWNpZW50IHRoYW4ge0BsaW5rIENvbGxpZGVyLkJveH0uXG4gICAgICovXG4gICAgQ29sbGlkZXJbQ29sbGlkZXJbXCJBeGlzQWxpZ25lZEJveFwiXSA9IDFdID0gXCJBeGlzQWxpZ25lZEJveFwiO1xuICAgIC8qKlxuICAgICAqICoqQWxpZ25lZCBCb3VuZGluZyBCb3ggQ29sbGlkZXIqKjpcbiAgICAgKlxuICAgICAqIEJveCB0aGF0IG1hdGNoZXMgdGhlIG9iamVjdCdzIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBjb3JyZWN0bHkuIFRoaXNcbiAgICAgKiBpcyB0aGUgbGVhc3QgZWZmaWNpZW50IGNvbGxpZGVyIGFuZCBzaG91bGQgb25seSBiZSBjaG9zZW4gb3ZlclxuICAgICAqIHtAbGluayBDb2xsaWRlci5TcGhlcmV9IGFuZCB7QGxpbmsgQ29sbGlkZXIuQXhpc0FsaWduZWRCb3h9IGlmIHJlYWxseVxuICAgICAqIG5lY2Vzc2FyeS5cbiAgICAgKi9cbiAgICBDb2xsaWRlcltDb2xsaWRlcltcIkJveFwiXSA9IDJdID0gXCJCb3hcIjtcbn0pKENvbGxpZGVyIHx8IChDb2xsaWRlciA9IHt9KSk7XG4vKipcbiAqIEFsaWdubWVudCB0eXBlIGVudW0gZm9yIHtAbGluayBUZXh0Q29tcG9uZW50fS5cbiAqL1xuZXhwb3J0IHZhciBBbGlnbm1lbnQ7XG4oZnVuY3Rpb24gKEFsaWdubWVudCkge1xuICAgIC8qKiBUZXh0IHN0YXJ0IGlzIGF0IG9iamVjdCBvcmlnaW4gKi9cbiAgICBBbGlnbm1lbnRbQWxpZ25tZW50W1wiTGVmdFwiXSA9IDBdID0gXCJMZWZ0XCI7XG4gICAgLyoqIFRleHQgY2VudGVyIGlzIGF0IG9iamVjdCBvcmlnaW4gKi9cbiAgICBBbGlnbm1lbnRbQWxpZ25tZW50W1wiQ2VudGVyXCJdID0gMV0gPSBcIkNlbnRlclwiO1xuICAgIC8qKiBUZXh0IGVuZCBpcyBhdCBvYmplY3Qgb3JpZ2luICovXG4gICAgQWxpZ25tZW50W0FsaWdubWVudFtcIlJpZ2h0XCJdID0gMl0gPSBcIlJpZ2h0XCI7XG59KShBbGlnbm1lbnQgfHwgKEFsaWdubWVudCA9IHt9KSk7XG4vKipcbiAqIEp1c3RpZmljYXRpb24gdHlwZSBlbnVtIGZvciB7QGxpbmsgVGV4dENvbXBvbmVudH0uXG4gKi9cbmV4cG9ydCB2YXIgSnVzdGlmaWNhdGlvbjtcbihmdW5jdGlvbiAoSnVzdGlmaWNhdGlvbikge1xuICAgIC8qKiBUZXh0IGxpbmUgaXMgYXQgb2JqZWN0IG9yaWdpbiAqL1xuICAgIEp1c3RpZmljYXRpb25bSnVzdGlmaWNhdGlvbltcIkxpbmVcIl0gPSAwXSA9IFwiTGluZVwiO1xuICAgIC8qKiBUZXh0IG1pZGRsZSBpcyBhdCBvYmplY3Qgb3JpZ2luICovXG4gICAgSnVzdGlmaWNhdGlvbltKdXN0aWZpY2F0aW9uW1wiTWlkZGxlXCJdID0gMV0gPSBcIk1pZGRsZVwiO1xuICAgIC8qKiBUZXh0IHRvcCBpcyBhdCBvYmplY3Qgb3JpZ2luICovXG4gICAgSnVzdGlmaWNhdGlvbltKdXN0aWZpY2F0aW9uW1wiVG9wXCJdID0gMl0gPSBcIlRvcFwiO1xuICAgIC8qKiBUZXh0IGJvdHRvbSBpcyBhdCBvYmplY3Qgb3JpZ2luICovXG4gICAgSnVzdGlmaWNhdGlvbltKdXN0aWZpY2F0aW9uW1wiQm90dG9tXCJdID0gM10gPSBcIkJvdHRvbVwiO1xufSkoSnVzdGlmaWNhdGlvbiB8fCAoSnVzdGlmaWNhdGlvbiA9IHt9KSk7XG4vKipcbiAqIEVmZmVjdCB0eXBlIGVudW0gZm9yIHtAbGluayBUZXh0Q29tcG9uZW50fS5cbiAqL1xuZXhwb3J0IHZhciBUZXh0RWZmZWN0O1xuKGZ1bmN0aW9uIChUZXh0RWZmZWN0KSB7XG4gICAgLyoqIFRleHQgaXMgcmVuZGVyZWQgbm9ybWFsbHkgKi9cbiAgICBUZXh0RWZmZWN0W1RleHRFZmZlY3RbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICAvKiogVGV4dCBpcyByZW5kZXJlZCB3aXRoIGFuIG91dGxpbmUgKi9cbiAgICBUZXh0RWZmZWN0W1RleHRFZmZlY3RbXCJPdXRsaW5lXCJdID0gMV0gPSBcIk91dGxpbmVcIjtcbn0pKFRleHRFZmZlY3QgfHwgKFRleHRFZmZlY3QgPSB7fSkpO1xuLyoqXG4gKiBJbnB1dCB0eXBlIGVudW0gZm9yIHtAbGluayBJbnB1dENvbXBvbmVudH0uXG4gKi9cbmV4cG9ydCB2YXIgSW5wdXRUeXBlO1xuKGZ1bmN0aW9uIChJbnB1dFR5cGUpIHtcbiAgICAvKiogSGVhZCBpbnB1dCAqL1xuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJIZWFkXCJdID0gMF0gPSBcIkhlYWRcIjtcbiAgICAvKiogTGVmdCBleWUgaW5wdXQgKi9cbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiRXllTGVmdFwiXSA9IDFdID0gXCJFeWVMZWZ0XCI7XG4gICAgLyoqIFJpZ2h0IGV5ZSBpbnB1dCAqL1xuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJFeWVSaWdodFwiXSA9IDJdID0gXCJFeWVSaWdodFwiO1xuICAgIC8qKiBMZWZ0IGNvbnRyb2xsZXIgaW5wdXQgKi9cbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiQ29udHJvbGxlckxlZnRcIl0gPSAzXSA9IFwiQ29udHJvbGxlckxlZnRcIjtcbiAgICAvKiogUmlnaHQgY29udHJvbGxlciBpbnB1dCAqL1xuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJDb250cm9sbGVyUmlnaHRcIl0gPSA0XSA9IFwiQ29udHJvbGxlclJpZ2h0XCI7XG4gICAgLyoqIExlZnQgcmF5IGlucHV0ICovXG4gICAgSW5wdXRUeXBlW0lucHV0VHlwZVtcIlJheUxlZnRcIl0gPSA1XSA9IFwiUmF5TGVmdFwiO1xuICAgIC8qKiBSaWdodCByYXkgaW5wdXQgKi9cbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiUmF5UmlnaHRcIl0gPSA2XSA9IFwiUmF5UmlnaHRcIjtcbn0pKElucHV0VHlwZSB8fCAoSW5wdXRUeXBlID0ge30pKTtcbi8qKlxuICogTGlnaHQgdHlwZSBlbnVtIGZvciB7QGxpbmsgTGlnaHRDb21wb25lbnR9LlxuICovXG5leHBvcnQgdmFyIExpZ2h0VHlwZTtcbihmdW5jdGlvbiAoTGlnaHRUeXBlKSB7XG4gICAgLyoqIFBvaW50IGxpZ2h0ICovXG4gICAgTGlnaHRUeXBlW0xpZ2h0VHlwZVtcIlBvaW50XCJdID0gMF0gPSBcIlBvaW50XCI7XG4gICAgLyoqIFNwb3QgbGlnaHQgKi9cbiAgICBMaWdodFR5cGVbTGlnaHRUeXBlW1wiU3BvdFwiXSA9IDFdID0gXCJTcG90XCI7XG4gICAgLyoqIFN1biBsaWdodCAvIERpcmVjdGlvbmFsIGxpZ2h0ICovXG4gICAgTGlnaHRUeXBlW0xpZ2h0VHlwZVtcIlN1blwiXSA9IDJdID0gXCJTdW5cIjtcbn0pKExpZ2h0VHlwZSB8fCAoTGlnaHRUeXBlID0ge30pKTtcbi8qKlxuICogQW5pbWF0aW9uIHN0YXRlIG9mIHtAbGluayBBbmltYXRpb25Db21wb25lbnR9LlxuICovXG5leHBvcnQgdmFyIEFuaW1hdGlvblN0YXRlO1xuKGZ1bmN0aW9uIChBbmltYXRpb25TdGF0ZSkge1xuICAgIC8qKiBBbmltYXRpb24gaXMgY3VycmVudGx5IHBsYXlpbmcgKi9cbiAgICBBbmltYXRpb25TdGF0ZVtBbmltYXRpb25TdGF0ZVtcIlBsYXlpbmdcIl0gPSAwXSA9IFwiUGxheWluZ1wiO1xuICAgIC8qKiBBbmltYXRpb24gaXMgcGF1c2VkIGFuZCB3aWxsIGNvbnRpbnVlIGF0IGN1cnJlbnQgcGxheWJhY2tcbiAgICAgKiB0aW1lIG9uIHtAbGluayBBbmltYXRpb25Db21wb25lbnQjcGxheX0gKi9cbiAgICBBbmltYXRpb25TdGF0ZVtBbmltYXRpb25TdGF0ZVtcIlBhdXNlZFwiXSA9IDFdID0gXCJQYXVzZWRcIjtcbiAgICAvKiogQW5pbWF0aW9uIGlzIHN0b3BwZWQgKi9cbiAgICBBbmltYXRpb25TdGF0ZVtBbmltYXRpb25TdGF0ZVtcIlN0b3BwZWRcIl0gPSAyXSA9IFwiU3RvcHBlZFwiO1xufSkoQW5pbWF0aW9uU3RhdGUgfHwgKEFuaW1hdGlvblN0YXRlID0ge30pKTtcbi8qKlxuICogUmlnaWQgYm9keSBmb3JjZSBtb2RlIGZvciB7QGxpbmsgUGh5c1hDb21wb25lbnQjYWRkRm9yY2V9IGFuZCB7QGxpbmsgUGh5c1hDb21wb25lbnQjYWRkVG9ycXVlfS5cbiAqXG4gKiBbUGh5c1ggQVBJIFJlZmVyZW5jZV0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hhcGkvZmlsZXMvc3RydWN0UHhGb3JjZU1vZGUuaHRtbClcbiAqL1xuZXhwb3J0IHZhciBGb3JjZU1vZGU7XG4oZnVuY3Rpb24gKEZvcmNlTW9kZSkge1xuICAgIC8qKiBBcHBseSBhcyBmb3JjZSAqL1xuICAgIEZvcmNlTW9kZVtGb3JjZU1vZGVbXCJGb3JjZVwiXSA9IDBdID0gXCJGb3JjZVwiO1xuICAgIC8qKiBBcHBseSBhcyBpbXB1bHNlICovXG4gICAgRm9yY2VNb2RlW0ZvcmNlTW9kZVtcIkltcHVsc2VcIl0gPSAxXSA9IFwiSW1wdWxzZVwiO1xuICAgIC8qKiBBcHBseSBhcyB2ZWxvY2l0eSBjaGFuZ2UsIG1hc3MgZGVwZW5kZW50ICovXG4gICAgRm9yY2VNb2RlW0ZvcmNlTW9kZVtcIlZlbG9jaXR5Q2hhbmdlXCJdID0gMl0gPSBcIlZlbG9jaXR5Q2hhbmdlXCI7XG4gICAgLyoqIEFwcGx5IGFzIG1hc3MgZGVwZW5kZW50IGZvcmNlICovXG4gICAgRm9yY2VNb2RlW0ZvcmNlTW9kZVtcIkFjY2VsZXJhdGlvblwiXSA9IDNdID0gXCJBY2NlbGVyYXRpb25cIjtcbn0pKEZvcmNlTW9kZSB8fCAoRm9yY2VNb2RlID0ge30pKTtcbi8qKlxuICogQ29sbGlzaW9uIGNhbGxiYWNrIGV2ZW50IHR5cGUuXG4gKi9cbmV4cG9ydCB2YXIgQ29sbGlzaW9uRXZlbnRUeXBlO1xuKGZ1bmN0aW9uIChDb2xsaXNpb25FdmVudFR5cGUpIHtcbiAgICAvKiogVG91Y2gvY29udGFjdCBkZXRlY3RlZCwgY29sbGlzaW9uICovXG4gICAgQ29sbGlzaW9uRXZlbnRUeXBlW0NvbGxpc2lvbkV2ZW50VHlwZVtcIlRvdWNoXCJdID0gMF0gPSBcIlRvdWNoXCI7XG4gICAgLyoqIFRvdWNoL2NvbnRhY3QgbG9zdCwgdW5jb2xsaWRlICovXG4gICAgQ29sbGlzaW9uRXZlbnRUeXBlW0NvbGxpc2lvbkV2ZW50VHlwZVtcIlRvdWNoTG9zdFwiXSA9IDFdID0gXCJUb3VjaExvc3RcIjtcbiAgICAvKiogVG91Y2gvY29udGFjdCB3aXRoIHRyaWdnZXIgZGV0ZWN0ZWQgKi9cbiAgICBDb2xsaXNpb25FdmVudFR5cGVbQ29sbGlzaW9uRXZlbnRUeXBlW1wiVHJpZ2dlclRvdWNoXCJdID0gMl0gPSBcIlRyaWdnZXJUb3VjaFwiO1xuICAgIC8qKiBUb3VjaC9jb250YWN0IHdpdGggdHJpZ2dlciBsb3N0ICovXG4gICAgQ29sbGlzaW9uRXZlbnRUeXBlW0NvbGxpc2lvbkV2ZW50VHlwZVtcIlRyaWdnZXJUb3VjaExvc3RcIl0gPSAzXSA9IFwiVHJpZ2dlclRvdWNoTG9zdFwiO1xufSkoQ29sbGlzaW9uRXZlbnRUeXBlIHx8IChDb2xsaXNpb25FdmVudFR5cGUgPSB7fSkpO1xuLyoqXG4gKiBSaWdpZCBib2R5IHtAbGluayBQaHlzWENvbXBvbmVudCNzaGFwZX0uXG4gKlxuICogW1BoeXNYIFNESyBHdWlkZV0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvR2VvbWV0cnkuaHRtbCNnZW9tZXRyeS10eXBlcykuXG4gKi9cbmV4cG9ydCB2YXIgU2hhcGU7XG4oZnVuY3Rpb24gKFNoYXBlKSB7XG4gICAgLyoqIE5vIHNoYXBlLiAqL1xuICAgIFNoYXBlW1NoYXBlW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgLyoqIFNwaGVyZSBzaGFwZS4gKi9cbiAgICBTaGFwZVtTaGFwZVtcIlNwaGVyZVwiXSA9IDFdID0gXCJTcGhlcmVcIjtcbiAgICAvKiogQ2Fwc3VsZSBzaGFwZS4gKi9cbiAgICBTaGFwZVtTaGFwZVtcIkNhcHN1bGVcIl0gPSAyXSA9IFwiQ2Fwc3VsZVwiO1xuICAgIC8qKiBCb3ggc2hhcGUuICovXG4gICAgU2hhcGVbU2hhcGVbXCJCb3hcIl0gPSAzXSA9IFwiQm94XCI7XG4gICAgLyoqIFBsYW5lIHNoYXBlLiAqL1xuICAgIFNoYXBlW1NoYXBlW1wiUGxhbmVcIl0gPSA0XSA9IFwiUGxhbmVcIjtcbiAgICAvKiogQ29udmV4IG1lc2ggc2hhcGUuICovXG4gICAgU2hhcGVbU2hhcGVbXCJDb252ZXhNZXNoXCJdID0gNV0gPSBcIkNvbnZleE1lc2hcIjtcbiAgICAvKiogVHJpYW5nbGUgbWVzaCBzaGFwZS4gKi9cbiAgICBTaGFwZVtTaGFwZVtcIlRyaWFuZ2xlTWVzaFwiXSA9IDZdID0gXCJUcmlhbmdsZU1lc2hcIjtcbn0pKFNoYXBlIHx8IChTaGFwZSA9IHt9KSk7XG4vKipcbiAqIE1lc2ggYXR0cmlidXRlIGVudW0uXG4gKiBAc2luY2UgMC45LjBcbiAqL1xuZXhwb3J0IHZhciBNZXNoQXR0cmlidXRlO1xuKGZ1bmN0aW9uIChNZXNoQXR0cmlidXRlKSB7XG4gICAgLyoqIFBvc2l0aW9uIGF0dHJpYnV0ZSwgMyBmbG9hdHMgKi9cbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJQb3NpdGlvblwiXSA9IDBdID0gXCJQb3NpdGlvblwiO1xuICAgIC8qKiBUYW5nZW50IGF0dHJpYnV0ZSwgNCBmbG9hdHMgKi9cbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJUYW5nZW50XCJdID0gMV0gPSBcIlRhbmdlbnRcIjtcbiAgICAvKiogTm9ybWFsIGF0dHJpYnV0ZSwgMyBmbG9hdHMgKi9cbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJOb3JtYWxcIl0gPSAyXSA9IFwiTm9ybWFsXCI7XG4gICAgLyoqIFRleHR1cmUgY29vcmRpbmF0ZSBhdHRyaWJ1dGUsIDIgZmxvYXRzICovXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiVGV4dHVyZUNvb3JkaW5hdGVcIl0gPSAzXSA9IFwiVGV4dHVyZUNvb3JkaW5hdGVcIjtcbiAgICAvKiogQ29sb3IgYXR0cmlidXRlLCA0IGZsb2F0cywgUkdCQSwgcmFuZ2UgYDBgIHRvIGAxYCAqL1xuICAgIE1lc2hBdHRyaWJ1dGVbTWVzaEF0dHJpYnV0ZVtcIkNvbG9yXCJdID0gNF0gPSBcIkNvbG9yXCI7XG4gICAgLyoqIEpvaW50IGlkIGF0dHJpYnV0ZSwgOCB1bnNpZ25lZCBpbnRzICovXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiSm9pbnRJZFwiXSA9IDVdID0gXCJKb2ludElkXCI7XG4gICAgLyoqIEpvaW50IHdlaWdodHMgYXR0cmlidXRlLCA4IGZsb2F0cyAqL1xuICAgIE1lc2hBdHRyaWJ1dGVbTWVzaEF0dHJpYnV0ZVtcIkpvaW50V2VpZ2h0XCJdID0gNl0gPSBcIkpvaW50V2VpZ2h0XCI7XG59KShNZXNoQXR0cmlidXRlIHx8IChNZXNoQXR0cmlidXRlID0ge30pKTtcbi8qKlxuICogTWF0ZXJpYWwgcGFyYW1ldGVyIHR5cGUuXG4gKi9cbmV4cG9ydCB2YXIgTWF0ZXJpYWxQYXJhbVR5cGU7XG4oZnVuY3Rpb24gKE1hdGVyaWFsUGFyYW1UeXBlKSB7XG4gICAgLyoqIFVuc2lnbmVkIGludGVnZXIgcGFyYW1ldGVyIHR5cGUuICovXG4gICAgTWF0ZXJpYWxQYXJhbVR5cGVbTWF0ZXJpYWxQYXJhbVR5cGVbXCJVbnNpZ25lZEludFwiXSA9IDBdID0gXCJVbnNpZ25lZEludFwiO1xuICAgIC8qKiBJbnRlZ2VyIHBhcmFtZXRlciB0eXBlLiAqL1xuICAgIE1hdGVyaWFsUGFyYW1UeXBlW01hdGVyaWFsUGFyYW1UeXBlW1wiSW50XCJdID0gMV0gPSBcIkludFwiO1xuICAgIC8qKiBGbG9hdCBwYXJhbWV0ZXIgdHlwZS4gKi9cbiAgICBNYXRlcmlhbFBhcmFtVHlwZVtNYXRlcmlhbFBhcmFtVHlwZVtcIkZsb2F0XCJdID0gMl0gPSBcIkZsb2F0XCI7XG4gICAgLyoqIFNhbXBsZXIgcmVzb3VyY2UgcGFyYW1ldGVyIHR5cGUsIGkuZS4sIGEge0BsaW5rIFRleHR1cmV9LiAqL1xuICAgIE1hdGVyaWFsUGFyYW1UeXBlW01hdGVyaWFsUGFyYW1UeXBlW1wiU2FtcGxlclwiXSA9IDNdID0gXCJTYW1wbGVyXCI7XG4gICAgLyoqXG4gICAgICogRm9udCByZXNvdXJjZSBwYXJhbWV0ZXIgdHlwZS5cbiAgICAgKlxuICAgICAqICoqTm90ZSoqOiBDaGFuZ2luZyBmb250IGlzbid0IGV4cG9zZWQgeWV0IGFuZCB3aWxsIHJhaXNlIGFuIGVycm9yLlxuICAgICAqL1xuICAgIE1hdGVyaWFsUGFyYW1UeXBlW01hdGVyaWFsUGFyYW1UeXBlW1wiRm9udFwiXSA9IDRdID0gXCJGb250XCI7XG59KShNYXRlcmlhbFBhcmFtVHlwZSB8fCAoTWF0ZXJpYWxQYXJhbVR5cGUgPSB7fSkpO1xuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGEgZ2l2ZW4gc2hhcGUgaXMgYSBtZXNoIG9yIG5vdC5cbiAqXG4gKiBAcGFyYW0gc2hhcGUgVGhlIHNoYXBlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBzaGFwZSBpcyBhIG1lc2gsIGBmYWxzZWAgaWYgaXQncyBhIHByaW1pdGl2ZS5cbiAqL1xuZnVuY3Rpb24gaXNNZXNoU2hhcGUoc2hhcGUpIHtcbiAgICByZXR1cm4gc2hhcGUgPT09IFNoYXBlLkNvbnZleE1lc2ggfHwgc2hhcGUgPT09IFNoYXBlLlRyaWFuZ2xlTWVzaDtcbn1cbi8qKlxuICogQ29uc3RhbnRzLlxuICovXG4vKipcbiAqIERlZmF1bHQgd29ybGQgdXAgdmVjdG9yLlxuICovXG5jb25zdCBVUF9WRUNUT1IgPSBbMCwgMSwgMF07XG4vKipcbiAqIE5hdGl2ZSBjb21wb25lbnRcbiAqXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgY29tcG9uZW50IGluc3RhbmNlIG9mIGEgc3BlY2lmaWVkIGNvbXBvbmVudCB0eXBlLlxuICpcbiAqIFVzYWdlIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG4gKlxuICogZXhwb3J0IGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAqICAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbXktY29tcG9uZW50JztcbiAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAqICAgICAgICAgbXlCb29sZWFuOiB7IHR5cGU6IFR5cGUuQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAqICAgICB9O1xuICogICAgIHN0YXJ0KCkge31cbiAqICAgICBvbkFjdGl2YXRlKCkge31cbiAqICAgICBvbkRlYWN0aXZhdGUoKSB7fVxuICogICAgIHVwZGF0ZShkdCkge31cbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBjb21wb25lbnQgY2xhc3MuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHVzZWQgdG8gcmVnaXN0ZXIsIGFkZCwgYW5kIHJldHJpZXZlIGNvbXBvbmVudHMgb2YgYSBnaXZlbiB0eXBlLlxuICAgICAqL1xuICAgIHN0YXRpYyBUeXBlTmFtZTtcbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0aWVzIG9mIHRoaXMgY29tcG9uZW50IGNsYXNzLlxuICAgICAqXG4gICAgICogUHJvcGVydGllcyBhcmUgcHVibGljIGF0dHJpYnV0ZXMgdGhhdCBjYW4gYmUgY29uZmlndXJlZCB2aWEgdGhlXG4gICAgICogV29uZGVybGFuZCBFZGl0b3IuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuICAgICAqIGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgKiAgICAgc3RhdGljIFR5cGVOYW1lID0gJ215LWNvbXBvbmVudCc7XG4gICAgICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAqICAgICAgICAgbXlCb29sZWFuOiB7IHR5cGU6IFR5cGUuQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICAgKiAgICAgICAgIG15RmxvYXQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICAgKiAgICAgICAgIG15VGV4dHVyZTogeyB0eXBlOiBUeXBlLlRleHR1cmUsIGRlZmF1bHQ6IG51bGwgfSxcbiAgICAgKiAgICAgfTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBQcm9wZXJ0aWVzIGFyZSBhdXRvbWF0aWNhbGx5IGFkZGVkIHRvIGVhY2ggY29tcG9uZW50IGluc3RhbmNlLCBhbmQgYXJlXG4gICAgICogYWNjZXNzaWJsZSBsaWtlIGFueSBKUyBhdHRyaWJ1dGU6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIENyZWF0ZXMgYSBuZXcgY29tcG9uZW50IGFuZCBzZXQgZWFjaCBwcm9wZXJ0aWVzIHZhbHVlOlxuICAgICAqIGNvbnN0IG15Q29tcG9uZW50ID0gb2JqZWN0LmFkZENvbXBvbmVudChNeUNvbXBvbmVudCwge1xuICAgICAqICAgICBteUJvb2xlYW46IHRydWUsXG4gICAgICogICAgIG15RmxvYXQ6IDQyLjAsXG4gICAgICogICAgIG15VGV4dHVyZTogbnVsbFxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogLy8gWW91IGNhbiBhbHNvIG92ZXJyaWRlIHRoZSBwcm9wZXJ0aWVzIG9uIHRoZSBpbnN0YW5jZTpcbiAgICAgKiBteUNvbXBvbmVudC5teUJvb2xlYW4gPSBmYWxzZTtcbiAgICAgKiBteUNvbXBvbmVudC5teUZsb2F0ID0gLTQyLjA7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIFByb3BlcnRpZXM7XG4gICAgLyoqXG4gICAgICogVGhpcyB3YXMgbmV2ZXIgcmVsZWFzZWQgaW4gYW4gb2ZmaWNpYWwgdmVyc2lvbiwgd2UgYXJlIGtlZXBpbmcgaXRcbiAgICAgKiB0byBlYXN5IHRyYW5zaXRpb24gdG8gdGhlIG5ldyBBUEkuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIENvbXBvbmVudC5vblJlZ2lzdGVyfSBpbnN0ZWFkLlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBzdGF0aWMgRGVwZW5kZW5jaWVzO1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoaXMgY29tcG9uZW50IGNsYXNzIGlzIHJlZ2lzdGVyZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogVGhpcyBjYWxsYmFjayBjYW4gYmUgdXNlZCB0byByZWdpc3RlciBkZXBlbmRlbmNpZXMgb2YgYSBjb21wb25lbnQsXG4gICAgICogZS5nLiwgY29tcG9uZW50IGNsYXNzZXMgdGhhdCBuZWVkIHRvIGJlIHJlZ2lzdGVyZWQgaW4gb3JkZXIgdG8gYWRkXG4gICAgICogdGhlbSBhdCBydW50aW1lIHdpdGgge0BsaW5rIE9iamVjdDNELmFkZENvbXBvbmVudH0sIGluZGVwZW5kZW50IG9mIHdoZXRoZXJcbiAgICAgKiB0aGV5IGFyZSB1c2VkIGluIHRoZSBlZGl0b3IuXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGNsYXNzIFNwYXduZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgICAqICAgICBzdGF0aWMgVHlwZU5hbWUgPSAnc3Bhd25lcic7XG4gICAgICpcbiAgICAgKiAgICAgc3RhdGljIG9uUmVnaXN0ZXIoZW5naW5lKSB7XG4gICAgICogICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoU3Bhd25lZENvbXBvbmVudCk7XG4gICAgICogICAgIH1cbiAgICAgKlxuICAgICAqICAgICAvLyBZb3UgY2FuIG5vdyB1c2UgYWRkQ29tcG9uZW50IHdpdGggU3Bhd25lZENvbXBvbmVudFxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbGxiYWNrIGNhbiBiZSB1c2VkIHRvIHJlZ2lzdGVyIGRpZmZlcmVudCBpbXBsZW1lbnRhdGlvbnMgb2YgYVxuICAgICAqIGNvbXBvbmVudCBkZXBlbmRpbmcgb24gY2xpZW50IGZlYXR1cmVzIG9yIEFQSSB2ZXJzaW9ucy5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogLy8gUHJvcGVydGllcyBuZWVkIHRvIGJlIHRoZSBzYW1lIGZvciBhbGwgaW1wbGVtZW50YXRpb25zIVxuICAgICAqIGNvbnN0IFNoYXJlZFByb3BlcnRpZXMgPSB7fTtcbiAgICAgKlxuICAgICAqIGNsYXNzIEFuY2hvciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgICogICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdzcGF3bmVyJztcbiAgICAgKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSBTaGFyZWRQcm9wZXJ0aWVzO1xuICAgICAqXG4gICAgICogICAgIHN0YXRpYyBvblJlZ2lzdGVyKGVuZ2luZSkge1xuICAgICAqICAgICAgICAgaWYobmF2aWdhdG9yLnhyID09PSB1bmRlZmluZWQpIHtcbiAgICAgKiAgICAgICAgICAgICAvKiBXZWJYUiB1bnN1cHBvcnRlZCwga2VlcCB0aGlzIGR1bW15IGNvbXBvbmVudCAqXFwvXG4gICAgICogICAgICAgICAgICAgcmV0dXJuO1xuICAgICAqICAgICAgICAgfVxuICAgICAqICAgICAgICAgLyogV2ViWFIgc3VwcG9ydGVkISBPdmVycmlkZSBhbHJlYWR5IHJlZ2lzdGVyZWQgZHVtbXkgaW1wbGVtZW50YXRpb25cbiAgICAgKiAgICAgICAgICAqIHdpdGggb25lIGRlcGVuZGluZyBvbiBoaXQtdGVzdCBBUEkgc3VwcG9ydCAqXFwvXG4gICAgICogICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQod2luZG93LkhpdFRlc3RTb3VyY2UgPT09IHVuZGVmaW5lZCA/XG4gICAgICogICAgICAgICAgICAgQW5jaG9yV2l0aG91dEhpdFRlc3QgOiBBbmNob3JXaXRoSGl0VGVzdCk7XG4gICAgICogICAgIH1cbiAgICAgKlxuICAgICAqICAgICAvLyBUaGlzIG9uZSBpbXBsZW1lbnRzIG5vIGZ1bmN0aW9uc1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzdGF0aWMgb25SZWdpc3RlcjtcbiAgICAvKiogTWFuYWdlciBpbmRleC4gQGhpZGRlbiAqL1xuICAgIF9tYW5hZ2VyO1xuICAgIC8qKiBJbnN0YW5jZSBpbmRleC4gQGhpZGRlbiAqL1xuICAgIF9pZDtcbiAgICAvKipcbiAgICAgKiBPYmplY3QgY29udGFpbmluZyB0aGlzIG9iamVjdC5cbiAgICAgKlxuICAgICAqICoqTm90ZSoqOiBUaGlzIGlzIGNhY2hlZCBmb3IgZmFzdGVyIHJldHJpZXZhbC5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfb2JqZWN0O1xuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xuICAgIF9lbmdpbmU7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZW5naW5lIFRoZSBlbmdpbmUgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIG1hbmFnZXIgSW5kZXggb2YgdGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIGlkIFdBU00gY29tcG9uZW50IGluc3RhbmNlIGluZGV4LlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgbWFuYWdlciA9IC0xLCBpZCA9IC0xKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcbiAgICAgICAgdGhpcy5fbWFuYWdlciA9IG1hbmFnZXI7XG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XG4gICAgICAgIHRoaXMuX29iamVjdCA9IG51bGw7XG4gICAgfVxuICAgIC8qKiBIb3N0aW5nIGVuZ2luZSBpbnN0YW5jZS4gKi9cbiAgICBnZXQgZW5naW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lO1xuICAgIH1cbiAgICAvKiogVGhlIG5hbWUgb2YgdGhpcyBjb21wb25lbnQncyB0eXBlICovXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gY3Rvci5UeXBlTmFtZSA/PyB0aGlzLl9lbmdpbmUud2FzbS5fdHlwZU5hbWVGb3IodGhpcy5fbWFuYWdlcik7XG4gICAgfVxuICAgIC8qKiBUaGUgb2JqZWN0IHRoaXMgY29tcG9uZW50IGlzIGF0dGFjaGVkIHRvLiAqL1xuICAgIGdldCBvYmplY3QoKSB7XG4gICAgICAgIGlmICghdGhpcy5fb2JqZWN0KSB7XG4gICAgICAgICAgICBjb25zdCBvYmplY3RJZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb21wb25lbnRfZ2V0X29iamVjdCh0aGlzLl9tYW5hZ2VyLCB0aGlzLl9pZCk7XG4gICAgICAgICAgICB0aGlzLl9vYmplY3QgPSB0aGlzLl9lbmdpbmUud3JhcE9iamVjdChvYmplY3RJZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX29iamVjdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgdGhpcyBjb21wb25lbnQgaXMgYWN0aXZlLlxuICAgICAqXG4gICAgICogQWN0aXZhdGluZy9kZWFjdGl2YXRpbmcgYSBjb21wb25lbnQgY29tZXMgYXQgYSBzbWFsbCBjb3N0IG9mIHJlb3JkZXJpbmdcbiAgICAgKiBjb21wb25lbnRzIGluIHRoZSByZXNwZWN0aXZlIGNvbXBvbmVudCBtYW5hZ2VyLiBUaGlzIGZ1bmN0aW9uIHRoZXJlZm9yZVxuICAgICAqIGlzIG5vdCBhIHRyaXZpYWwgYXNzaWdubWVudC5cbiAgICAgKlxuICAgICAqIERvZXMgbm90aGluZyBpZiB0aGUgY29tcG9uZW50IGlzIGFscmVhZHkgYWN0aXZhdGVkL2RlYWN0aXZhdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFjdGl2ZSBOZXcgYWN0aXZlIHN0YXRlLlxuICAgICAqL1xuICAgIHNldCBhY3RpdmUoYWN0aXZlKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb21wb25lbnRfc2V0QWN0aXZlKHRoaXMuX21hbmFnZXIsIHRoaXMuX2lkLCBhY3RpdmUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgY29tcG9uZW50IGlzIGFjdGl2ZVxuICAgICAqL1xuICAgIGdldCBhY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29tcG9uZW50X2lzQWN0aXZlKHRoaXMuX21hbmFnZXIsIHRoaXMuX2lkKSAhPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhpcyBjb21wb25lbnQgZnJvbSBpdHMgb2JqZWN0cyBhbmQgZGVzdHJveSBpdC5cbiAgICAgKlxuICAgICAqIEl0IGlzIGJlc3QgcHJhY3RpY2UgdG8gc2V0IHRoZSBjb21wb25lbnQgdG8gYG51bGxgIGFmdGVyLFxuICAgICAqIHRvIGVuc3VyZSBpdCBkb2VzIG5vdCBnZXQgdXNlZCBsYXRlci5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICAgYy5kZXN0cm95KCk7XG4gICAgICogICAgYyA9IG51bGw7XG4gICAgICogYGBgXG4gICAgICogQHNpbmNlIDAuOS4wXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbXBvbmVudF9yZW1vdmUodGhpcy5fbWFuYWdlciwgdGhpcy5faWQpO1xuICAgICAgICB0aGlzLl9tYW5hZ2VyID0gLTE7XG4gICAgICAgIHRoaXMuX2lkID0gLTE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBlcXVhbGl0eSBieSBjb21wYXJpbmcgd2hldGhlciB0aGUgd3JhcHBlZCBuYXRpdmUgY29tcG9uZW50IGlkc1xuICAgICAqIGFuZCBjb21wb25lbnQgbWFuYWdlciB0eXBlcyBhcmUgZXF1YWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXJDb21wb25lbnQgQ29tcG9uZW50IHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGlzIGNvbXBvbmVudCBlcXVhbHMgdGhlIGdpdmVuIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBlcXVhbHMob3RoZXJDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKCFvdGhlckNvbXBvbmVudClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hbmFnZXIgPT0gb3RoZXJDb21wb25lbnQuX21hbmFnZXIgJiYgdGhpcy5faWQgPT0gb3RoZXJDb21wb25lbnQuX2lkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgY29tcG9uZW50IHByb3BlcnRpZXMgdG8gZGVmYXVsdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBjdG9yLlByb3BlcnRpZXM7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gcHJvcGVydGllc1tuYW1lXS5kZWZhdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHRoZSBjb21wb25lbnQge0BsaW5rIENvbXBvbmVudC5pbml0fSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbm90ZSBVc2UgdGhpcyBtZXRob2QgaW5zdGVhZCBvZiBkaXJlY3RseSBjYWxsaW5nIHtAbGluayBDb21wb25lbnQuaW5pdH0sXG4gICAgICogYmVjYXVzZSB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIGhhbmRsZXIgZm9yIHRoZSB7QGxpbmsgQ29tcG9uZW50LnN0YXJ0fS5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfdHJpZ2dlckluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmluaXQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IGluaXQoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvKiBBcm0gb25BY3RpdmF0ZSgpIHdpdGggdGhlIGluaXRpYWwgc3RhcnQoKSBjYWxsICovXG4gICAgICAgIGNvbnN0IG9sZEFjdGl2YXRlID0gdGhpcy5vbkFjdGl2YXRlO1xuICAgICAgICB0aGlzLm9uQWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvKiBBcyBcImNvbXBvbmVudFwiIGlzIHRoZSBjb21wb25lbnQgaW5kZXgsIHdoaWNoIG1heSBjaGFuZ2VcbiAgICAgICAgICAgICAqIHRocm91Z2ggY2FsbHMgdG8gaW5pdCgpIGFuZCBzdGFydCgpLCB3ZSBjYWxsIGl0IG9uIHRoZVxuICAgICAgICAgICAgICogY2FsbGluZyBvYmplY3QsIHdoaWNoIHdpbGwgYmUgdGhlIGNvbXBvbmVudCwgaW5zdGVhZCBvZlxuICAgICAgICAgICAgICogd2xqc19jb21wb25lbnRfc3RhcnQoKSBldGMgKi9cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydD8uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IHN0YXJ0KCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vbkFjdGl2YXRlID0gb2xkQWN0aXZhdGU7XG4gICAgICAgICAgICBpZiAoIXRoaXMub25BY3RpdmF0ZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMub25BY3RpdmF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFeGNlcHRpb24gZHVyaW5nICR7dGhpcy50eXBlfSBvbkFjdGl2YXRlKCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHRoZSBjb21wb25lbnQge0BsaW5rIENvbXBvbmVudC51cGRhdGV9IG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfdHJpZ2dlclVwZGF0ZShkdCkge1xuICAgICAgICBpZiAoIXRoaXMudXBkYXRlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoZHQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFeGNlcHRpb24gZHVyaW5nICR7dGhpcy50eXBlfSB1cGRhdGUoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbmdpbmUud2FzbS5fZGVhY3RpdmF0ZV9jb21wb25lbnRfb25fZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdGhlIGNvbXBvbmVudCB7QGxpbmsgQ29tcG9uZW50Lm9uQWN0aXZhdGV9IG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfdHJpZ2dlck9uQWN0aXZhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5vbkFjdGl2YXRlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5vbkFjdGl2YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IG9uQWN0aXZhdGUoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHRoZSBjb21wb25lbnQge0BsaW5rIENvbXBvbmVudC5vbkRlYWN0aXZhdGV9IG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfdHJpZ2dlck9uRGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm9uRGVhY3RpdmF0ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMub25EZWFjdGl2YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IG9uRGVhY3RpdmF0ZSgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdGhlIGNvbXBvbmVudCB7QGxpbmsgQ29tcG9uZW50Lm9uRGVzdHJveX0gbWV0aG9kLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF90cmlnZ2VyT25EZXN0cm95KCkge1xuICAgICAgICBpZiAoIXRoaXMub25EZXN0cm95KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5vbkRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gb25EZXN0cm95KCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIE5hdGl2ZSBjb2xsaXNpb24gY29tcG9uZW50LlxuICpcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSBjb2xsaXNpb24gY29tcG9uZW50IGluc3RhbmNlLlxuICovXG5leHBvcnQgY2xhc3MgQ29sbGlzaW9uQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2NvbGxpc2lvbic7XG4gICAgLyoqIENvbGxpc2lvbiBjb21wb25lbnQgY29sbGlkZXIgKi9cbiAgICBnZXQgY29sbGlkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9nZXRfY29sbGlkZXIodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgY29sbGlzaW9uIGNvbXBvbmVudCBjb2xsaWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2xsaWRlciBDb2xsaWRlciBvZiB0aGUgY29sbGlzaW9uIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBzZXQgY29sbGlkZXIoY29sbGlkZXIpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfc2V0X2NvbGxpZGVyKHRoaXMuX2lkLCBjb2xsaWRlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbGxpc2lvbiBjb21wb25lbnQgZXh0ZW50cy5cbiAgICAgKlxuICAgICAqIElmIHtAbGluayBjb2xsaWRlcn0gcmV0dXJucyB7QGxpbmsgQ29sbGlkZXIuU3BoZXJlfSwgb25seSB0aGUgZmlyc3RcbiAgICAgKiBjb21wb25lbnQgb2YgdGhlIHJldHVybmVkIHZlY3RvciBpcyB1c2VkLlxuICAgICAqL1xuICAgIGdldCBleHRlbnRzKCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfZ2V0X2V4dGVudHModGhpcy5faWQpLCAzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGNvbGxpc2lvbiBjb21wb25lbnQgZXh0ZW50cy5cbiAgICAgKlxuICAgICAqIElmIHtAbGluayBjb2xsaWRlcn0gcmV0dXJucyB7QGxpbmsgQ29sbGlkZXIuU3BoZXJlfSwgb25seSB0aGUgZmlyc3RcbiAgICAgKiBjb21wb25lbnQgb2YgdGhlIHBhc3NlZCB2ZWN0b3IgaXMgdXNlZC5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIFNwYW5zIDEgdW5pdCBvbiB0aGUgeC1heGlzLCAyIG9uIHRoZSB5LWF4aXMsIDMgb24gdGhlIHotYXhpcy5cbiAgICAgKiBjb2xsaXNpb24uZXh0ZW50ID0gWzEsIDIsIDNdO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGV4dGVudHMgRXh0ZW50cyBvZiB0aGUgY29sbGlzaW9uIGNvbXBvbmVudCwgZXhwZWN0cyBhXG4gICAgICogICAgICAzIGNvbXBvbmVudCBhcnJheS5cbiAgICAgKi9cbiAgICBzZXQgZXh0ZW50cyhleHRlbnRzKSB7XG4gICAgICAgIHRoaXMuZXh0ZW50cy5zZXQoZXh0ZW50cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbGxpc2lvbiBjb21wb25lbnQgZ3JvdXAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3JvdXBzIGlzIGEgYml0bWFzayB0aGF0IGlzIGNvbXBhcmVkIHRvIG90aGVyIGNvbXBvbmVudHMgaW4ge0BsaW5rIENvbGxpc2lvbkNvbXBvbmVudCNxdWVyeU92ZXJsYXBzfVxuICAgICAqIG9yIHRoZSBncm91cCBpbiB7QGxpbmsgU2NlbmUjcmF5Q2FzdH0uXG4gICAgICpcbiAgICAgKiBDb2xsaWRlcnMgdGhhdCBoYXZlIG5vIGNvbW1vbiBncm91cHMgd2lsbCBub3Qgb3ZlcmxhcCB3aXRoIGVhY2ggb3RoZXIuIElmIGEgY29sbGlkZXJcbiAgICAgKiBoYXMgbm9uZSBvZiB0aGUgZ3JvdXBzIHNldCBmb3Ige0BsaW5rIFNjZW5lI3JheUNhc3R9LCB0aGUgcmF5IHdpbGwgbm90IGhpdCBpdC5cbiAgICAgKlxuICAgICAqIEVhY2ggYml0IHJlcHJlc2VudHMgYmVsb25naW5nIHRvIGEgZ3JvdXAsIHNlZSBleGFtcGxlLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgICAvLyBjIGJlbG9uZ3MgdG8gZ3JvdXAgMlxuICAgICAqICAgIGMuZ3JvdXAgPSAoMSA8PCAyKTtcbiAgICAgKlxuICAgICAqICAgIC8vIGMgYmVsb25ncyB0byBncm91cCAwXG4gICAgICogICAgYy5ncm91cCA9ICgxIDw8IDApO1xuICAgICAqXG4gICAgICogICAgLy8gYyBiZWxvbmdzIHRvIGdyb3VwIDAgKmFuZCogMlxuICAgICAqICAgIGMuZ3JvdXAgPSAoMSA8PCAwKSB8ICgxIDw8IDIpO1xuICAgICAqXG4gICAgICogICAgKGMuZ3JvdXAgJiAoMSA8PCAyKSkgIT0gMDsgLy8gdHJ1ZVxuICAgICAqICAgIChjLmdyb3VwICYgKDEgPDwgNykpICE9IDA7IC8vIGZhbHNlXG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0IGdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfZ2V0X2dyb3VwKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGNvbGxpc2lvbiBjb21wb25lbnQgZ3JvdXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZ3JvdXAgR3JvdXAgbWFzayBvZiB0aGUgY29sbGlzaW9uIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBzZXQgZ3JvdXAoZ3JvdXApIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfc2V0X2dyb3VwKHRoaXMuX2lkLCBncm91cCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFF1ZXJ5IG92ZXJsYXBwaW5nIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBVc2FnZTpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogY29uc3QgY29sbGlzaW9uID0gb2JqZWN0LmdldENvbXBvbmVudCgnY29sbGlzaW9uJyk7XG4gICAgICogY29uc3Qgb3ZlcmxhcHMgPSBjb2xsaXNpb24ucXVlcnlPdmVybGFwcygpO1xuICAgICAqIGZvcihjb25zdCBvdGhlckNvbGxpc2lvbiBvZiBvdmVybGFwcykge1xuICAgICAqICAgICBjb25zdCBvdGhlck9iamVjdCA9IG90aGVyQ29sbGlzaW9uLm9iamVjdDtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYENvbGxpc2lvbiB3aXRoIG9iamVjdCAke290aGVyT2JqZWN0Lm9iamVjdElkfWApO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIENvbGxpc2lvbiBjb21wb25lbnRzIG92ZXJsYXBwaW5nIHRoaXMgY29sbGlkZXIuXG4gICAgICovXG4gICAgcXVlcnlPdmVybGFwcygpIHtcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9xdWVyeV9vdmVybGFwcyh0aGlzLl9pZCwgdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW0sIHRoaXMuX2VuZ2luZS53YXNtLl90ZW1wTWVtU2l6ZSA+PiAxKTtcbiAgICAgICAgY29uc3Qgb3ZlcmxhcHMgPSBuZXcgQXJyYXkoY291bnQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyArK2kpIHtcbiAgICAgICAgICAgIG92ZXJsYXBzW2ldID0gbmV3IENvbGxpc2lvbkNvbXBvbmVudCh0aGlzLl9lbmdpbmUsIHRoaXMuX21hbmFnZXIsIHRoaXMuX2VuZ2luZS53YXNtLl90ZW1wTWVtVWludDE2W2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3ZlcmxhcHM7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgQ29sbGlzaW9uQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xsaWRlclwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIENvbGxpc2lvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwiZXh0ZW50c1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIENvbGxpc2lvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JvdXBcIiwgbnVsbCk7XG4vKipcbiAqIE5hdGl2ZSB0ZXh0IGNvbXBvbmVudFxuICpcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSB0ZXh0IGNvbXBvbmVudCBpbnN0YW5jZVxuICovXG5leHBvcnQgY2xhc3MgVGV4dENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgLyoqIEBvdmVycmlkZSAqL1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd0ZXh0JztcbiAgICAvKiogVGV4dCBjb21wb25lbnQgYWxpZ25tZW50LiAqL1xuICAgIGdldCBhbGlnbm1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfZ2V0X2hvcml6b250YWxfYWxpZ25tZW50KHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRleHQgY29tcG9uZW50IGFsaWdubWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbGlnbm1lbnQgQWxpZ25tZW50IGZvciB0aGUgdGV4dCBjb21wb25lbnQuXG4gICAgICovXG4gICAgc2V0IGFsaWdubWVudChhbGlnbm1lbnQpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF9ob3Jpem9udGFsX2FsaWdubWVudCh0aGlzLl9pZCwgYWxpZ25tZW50KTtcbiAgICB9XG4gICAgLyoqIFRleHQgY29tcG9uZW50IGp1c3RpZmljYXRpb24uICovXG4gICAgZ2V0IGp1c3RpZmljYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfZ2V0X3ZlcnRpY2FsX2FsaWdubWVudCh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0ZXh0IGNvbXBvbmVudCBqdXN0aWZpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIGp1c3RpZmljYXRpb24gSnVzdGlmaWNhdGlvbiBmb3IgdGhlIHRleHQgY29tcG9uZW50LlxuICAgICAqL1xuICAgIHNldCBqdXN0aWZpY2F0aW9uKGp1c3RpZmljYXRpb24pIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF92ZXJ0aWNhbF9hbGlnbm1lbnQodGhpcy5faWQsIGp1c3RpZmljYXRpb24pO1xuICAgIH1cbiAgICAvKiogVGV4dCBjb21wb25lbnQgY2hhcmFjdGVyIHNwYWNpbmcuICovXG4gICAgZ2V0IGNoYXJhY3RlclNwYWNpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfZ2V0X2NoYXJhY3Rlcl9zcGFjaW5nKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRleHQgY29tcG9uZW50IGNoYXJhY3RlciBzcGFjaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNwYWNpbmcgQ2hhcmFjdGVyIHNwYWNpbmcgZm9yIHRoZSB0ZXh0IGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBzZXQgY2hhcmFjdGVyU3BhY2luZyhzcGFjaW5nKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfY2hhcmFjdGVyX3NwYWNpbmcodGhpcy5faWQsIHNwYWNpbmcpO1xuICAgIH1cbiAgICAvKiogVGV4dCBjb21wb25lbnQgbGluZSBzcGFjaW5nLiAqL1xuICAgIGdldCBsaW5lU3BhY2luZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfbGluZV9zcGFjaW5nKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRleHQgY29tcG9uZW50IGxpbmUgc3BhY2luZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHNwYWNpbmcgTGluZSBzcGFjaW5nIGZvciB0aGUgdGV4dCBjb21wb25lbnRcbiAgICAgKi9cbiAgICBzZXQgbGluZVNwYWNpbmcoc3BhY2luZykge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfc2V0X2xpbmVfc3BhY2luZyh0aGlzLl9pZCwgc3BhY2luZyk7XG4gICAgfVxuICAgIC8qKiBUZXh0IGNvbXBvbmVudCBlZmZlY3QuICovXG4gICAgZ2V0IGVmZmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfZWZmZWN0KHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRleHQgY29tcG9uZW50IGVmZmVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIGVmZmVjdCBFZmZlY3QgZm9yIHRoZSB0ZXh0IGNvbXBvbmVudFxuICAgICAqL1xuICAgIHNldCBlZmZlY3QoZWZmZWN0KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfZWZmZWN0KHRoaXMuX2lkLCBlZmZlY3QpO1xuICAgIH1cbiAgICAvKiogVGV4dCBjb21wb25lbnQgdGV4dC4gKi9cbiAgICBnZXQgdGV4dCgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfdGV4dCh0aGlzLl9pZCk7XG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyhwdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQgdGV4dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0ZXh0IFRleHQgb2YgdGhlIHRleHQgY29tcG9uZW50LlxuICAgICAqL1xuICAgIHNldCB0ZXh0KHRleHQpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfdGV4dCh0aGlzLl9pZCwgd2FzbS50ZW1wVVRGOCh0ZXh0LnRvU3RyaW5nKCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IG1hdGVyaWFsIHRvIHJlbmRlciB0aGUgdGV4dCB3aXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1hdGVyaWFsIE5ldyBtYXRlcmlhbC5cbiAgICAgKi9cbiAgICBzZXQgbWF0ZXJpYWwobWF0ZXJpYWwpIHtcbiAgICAgICAgY29uc3QgbWF0SW5kZXggPSBtYXRlcmlhbCA/IG1hdGVyaWFsLl9pbmRleCA6IDA7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfbWF0ZXJpYWwodGhpcy5faWQsIG1hdEluZGV4KTtcbiAgICB9XG4gICAgLyoqIE1hdGVyaWFsIHVzZWQgdG8gcmVuZGVyIHRoZSB0ZXh0LiAqL1xuICAgIGdldCBtYXRlcmlhbCgpIHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfZ2V0X21hdGVyaWFsKHRoaXMuX2lkKTtcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBNYXRlcmlhbCh0aGlzLl9lbmdpbmUsIGlkKSA6IG51bGw7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWxpZ25tZW50XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwianVzdGlmaWNhdGlvblwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFRleHRDb21wb25lbnQucHJvdG90eXBlLCBcImNoYXJhY3RlclNwYWNpbmdcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJsaW5lU3BhY2luZ1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFRleHRDb21wb25lbnQucHJvdG90eXBlLCBcImVmZmVjdFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFRleHRDb21wb25lbnQucHJvdG90eXBlLCBcInRleHRcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXRlcmlhbFwiLCBudWxsKTtcbi8qKlxuICogTmF0aXZlIHZpZXcgY29tcG9uZW50LlxuICpcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSB2aWV3IGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFZpZXdDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndmlldyc7XG4gICAgLyoqIFByb2plY3Rpb24gbWF0cml4LiAqL1xuICAgIGdldCBwcm9qZWN0aW9uTWF0cml4KCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX3ZpZXdfY29tcG9uZW50X2dldF9wcm9qZWN0aW9uX21hdHJpeCh0aGlzLl9pZCksIDE2KTtcbiAgICB9XG4gICAgLyoqIFZpZXdDb21wb25lbnQgbmVhciBjbGlwcGluZyBwbGFuZSB2YWx1ZS4gKi9cbiAgICBnZXQgbmVhcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9nZXRfbmVhcih0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBuZWFyIGNsaXBwaW5nIHBsYW5lIGRpc3RhbmNlIGZvciB0aGUgdmlldy5cbiAgICAgKlxuICAgICAqIElmIGFuIFhSIHNlc3Npb24gaXMgYWN0aXZlLCB0aGUgY2hhbmdlIHdpbGwgYXBwbHkgaW4gdGhlXG4gICAgICogZm9sbG93aW5nIGZyYW1lLCBvdGhlcndpc2UgdGhlIGNoYW5nZSBpcyBpbW1lZGlhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmVhciBOZWFyIGRlcHRoIHZhbHVlLlxuICAgICAqL1xuICAgIHNldCBuZWFyKG5lYXIpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3ZpZXdfY29tcG9uZW50X3NldF9uZWFyKHRoaXMuX2lkLCBuZWFyKTtcbiAgICB9XG4gICAgLyoqIEZhciBjbGlwcGluZyBwbGFuZSB2YWx1ZS4gKi9cbiAgICBnZXQgZmFyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3ZpZXdfY29tcG9uZW50X2dldF9mYXIodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgZmFyIGNsaXBwaW5nIHBsYW5lIGRpc3RhbmNlIGZvciB0aGUgdmlldy5cbiAgICAgKlxuICAgICAqIElmIGFuIFhSIHNlc3Npb24gaXMgYWN0aXZlLCB0aGUgY2hhbmdlIHdpbGwgYXBwbHkgaW4gdGhlXG4gICAgICogZm9sbG93aW5nIGZyYW1lLCBvdGhlcndpc2UgdGhlIGNoYW5nZSBpcyBpbW1lZGlhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmFyIE5lYXIgZGVwdGggdmFsdWUuXG4gICAgICovXG4gICAgc2V0IGZhcihmYXIpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3ZpZXdfY29tcG9uZW50X3NldF9mYXIodGhpcy5faWQsIGZhcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3IGZvciB0aGUgdmlldywgKippbiBkZWdyZWVzKiouXG4gICAgICpcbiAgICAgKiBJZiBhbiBYUiBzZXNzaW9uIGlzIGFjdGl2ZSwgdGhpcyByZXR1cm5zIHRoZSBmaWVsZCBvZiB2aWV3IHJlcG9ydGVkIGJ5XG4gICAgICogdGhlIGRldmljZSwgcmVnYXJkbGVzcyBvZiB0aGUgZm92IHRoYXQgd2FzIHNldC5cbiAgICAgKi9cbiAgICBnZXQgZm92KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3ZpZXdfY29tcG9uZW50X2dldF9mb3YodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGhvcml6b250YWwgZmllbGQgb2YgdmlldyBmb3IgdGhlIHZpZXcsICoqaW4gZGVncmVlcyoqLlxuICAgICAqXG4gICAgICogSWYgYW4gWFIgc2Vzc2lvbiBpcyBhY3RpdmUsIHRoZSBmaWVsZCBvZiB2aWV3IHJlcG9ydGVkIGJ5IHRoZSBkZXZpY2UgaXNcbiAgICAgKiB1c2VkIGFuZCB0aGlzIHZhbHVlIGlzIGlnbm9yZWQuIEFmdGVyIHRoZSBYUiBzZXNzaW9uIGVuZHMsIHRoZSBuZXcgdmFsdWVcbiAgICAgKiBpcyBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZvdiBIb3Jpem9udGFsIGZpZWxkIG9mIHZpZXcsICoqaW4gZGVncmVlcyoqLlxuICAgICAqL1xuICAgIHNldCBmb3YoZm92KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9zZXRfZm92KHRoaXMuX2lkLCBmb3YpO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIGVudW1lcmFibGUoKVxuXSwgVmlld0NvbXBvbmVudC5wcm90b3R5cGUsIFwicHJvamVjdGlvbk1hdHJpeFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFZpZXdDb21wb25lbnQucHJvdG90eXBlLCBcIm5lYXJcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBWaWV3Q29tcG9uZW50LnByb3RvdHlwZSwgXCJmYXJcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBWaWV3Q29tcG9uZW50LnByb3RvdHlwZSwgXCJmb3ZcIiwgbnVsbCk7XG4vKipcbiAqIE5hdGl2ZSBpbnB1dCBjb21wb25lbnQuXG4gKlxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgbmF0aXZlIGlucHV0IGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGNsYXNzIElucHV0Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2lucHV0JztcbiAgICAvKiogSW5wdXQgY29tcG9uZW50IHR5cGUgKi9cbiAgICBnZXQgaW5wdXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2lucHV0X2NvbXBvbmVudF9nZXRfdHlwZSh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBpbnB1dCBjb21wb25lbnQgdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbXMgTmV3IGlucHV0IGNvbXBvbmVudCB0eXBlLlxuICAgICAqL1xuICAgIHNldCBpbnB1dFR5cGUodHlwZSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfaW5wdXRfY29tcG9uZW50X3NldF90eXBlKHRoaXMuX2lkLCB0eXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2ViWFIgRGV2aWNlIEFQSSBpbnB1dCBzb3VyY2UgYXNzb2NpYXRlZCB3aXRoIHRoaXMgaW5wdXQgY29tcG9uZW50LFxuICAgICAqIGlmIHR5cGUge0BsaW5rIElucHV0VHlwZS5Db250cm9sbGVyTGVmdH0gb3Ige0BsaW5rIElucHV0VHlwZS5Db250cm9sbGVyUmlnaHR9LlxuICAgICAqL1xuICAgIGdldCB4cklucHV0U291cmNlKCkge1xuICAgICAgICBjb25zdCB4clNlc3Npb24gPSB0aGlzLl9lbmdpbmUueHJTZXNzaW9uO1xuICAgICAgICBpZiAoeHJTZXNzaW9uKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpbnB1dFNvdXJjZSBvZiB4clNlc3Npb24uaW5wdXRTb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0U291cmNlLmhhbmRlZG5lc3MgPT0gdGhpcy5oYW5kZWRuZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dFNvdXJjZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqICdsZWZ0JywgJ3JpZ2h0JyBvciBgbnVsbGAgZGVwZW5kaW5nIG9uIHRoZSB7QGxpbmsgSW5wdXRDb21wb25lbnQjaW5wdXRUeXBlfS5cbiAgICAgKi9cbiAgICBnZXQgaGFuZGVkbmVzcygpIHtcbiAgICAgICAgY29uc3QgaW5wdXRUeXBlID0gdGhpcy5pbnB1dFR5cGU7XG4gICAgICAgIGlmIChpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLkNvbnRyb2xsZXJSaWdodCB8fFxuICAgICAgICAgICAgaW5wdXRUeXBlID09IElucHV0VHlwZS5SYXlSaWdodCB8fFxuICAgICAgICAgICAgaW5wdXRUeXBlID09IElucHV0VHlwZS5FeWVSaWdodClcbiAgICAgICAgICAgIHJldHVybiAncmlnaHQnO1xuICAgICAgICBpZiAoaW5wdXRUeXBlID09IElucHV0VHlwZS5Db250cm9sbGVyTGVmdCB8fFxuICAgICAgICAgICAgaW5wdXRUeXBlID09IElucHV0VHlwZS5SYXlMZWZ0IHx8XG4gICAgICAgICAgICBpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLkV5ZUxlZnQpXG4gICAgICAgICAgICByZXR1cm4gJ2xlZnQnO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBJbnB1dENvbXBvbmVudC5wcm90b3R5cGUsIFwiaW5wdXRUeXBlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgZW51bWVyYWJsZSgpXG5dLCBJbnB1dENvbXBvbmVudC5wcm90b3R5cGUsIFwieHJJbnB1dFNvdXJjZVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGVudW1lcmFibGUoKVxuXSwgSW5wdXRDb21wb25lbnQucHJvdG90eXBlLCBcImhhbmRlZG5lc3NcIiwgbnVsbCk7XG4vKipcbiAqIE5hdGl2ZSBsaWdodCBjb21wb25lbnQuXG4gKlxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgbmF0aXZlIGxpZ2h0IGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGNsYXNzIExpZ2h0Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2xpZ2h0JztcbiAgICBnZXRDb2xvcihvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9jb2xvcih0aGlzLl9pZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbGlnaHQgY29sb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYyBOZXcgY29sb3IgYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgc2V0Q29sb3IoYykge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfY29sb3IodGhpcy5faWQpIC8gNDsgLyogQWxpZ24gRjMyICovXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHJdID0gY1swXTtcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDFdID0gY1sxXTtcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDJdID0gY1syXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmlldyBvbiB0aGUgbGlnaHQgY29sb3IuXG4gICAgICpcbiAgICAgKiBAbm90ZSBQcmVmZXIgdG8gdXNlIHtAbGluayBnZXRDb2xvcn0gaW4gcGVyZm9ybWFuY2UtY3JpdGljYWwgY29kZS5cbiAgICAgKi9cbiAgICBnZXQgY29sb3IoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9jb2xvcih0aGlzLl9pZCksIDMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbGlnaHQgY29sb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYyBDb2xvciBvZiB0aGUgbGlnaHQgY29tcG9uZW50LlxuICAgICAqXG4gICAgICogQG5vdGUgUHJlZmVyIHRvIHVzZSB7QGxpbmsgc2V0Q29sb3J9IGluIHBlcmZvcm1hbmNlLWNyaXRpY2FsIGNvZGUuXG4gICAgICovXG4gICAgc2V0IGNvbG9yKGMpIHtcbiAgICAgICAgdGhpcy5jb2xvci5zZXQoYyk7XG4gICAgfVxuICAgIC8qKiBMaWdodCB0eXBlLiAqL1xuICAgIGdldCBsaWdodFR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF90eXBlKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGxpZ2h0IHR5cGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlnaHRUeXBlIFR5cGUgb2YgdGhlIGxpZ2h0IGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBzZXQgbGlnaHRUeXBlKHQpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfdHlwZSh0aGlzLl9pZCwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpZ2h0IGludGVuc2l0eS5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBnZXQgaW50ZW5zaXR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfaW50ZW5zaXR5KHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGxpZ2h0IGludGVuc2l0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbnRlbnNpdHkgSW50ZW5zaXR5IG9mIHRoZSBsaWdodCBjb21wb25lbnQuXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgc2V0IGludGVuc2l0eShpbnRlbnNpdHkpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfaW50ZW5zaXR5KHRoaXMuX2lkLCBpbnRlbnNpdHkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdXRlciBhbmdsZSBmb3Igc3BvdCBsaWdodHMsIGluIGRlZ3JlZXMuXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgZ2V0IG91dGVyQW5nbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9vdXRlckFuZ2xlKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IG91dGVyIGFuZ2xlIGZvciBzcG90IGxpZ2h0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbmdsZSBPdXRlciBhbmdsZSwgaW4gZGVncmVlcy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBzZXQgb3V0ZXJBbmdsZShhbmdsZSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9vdXRlckFuZ2xlKHRoaXMuX2lkLCBhbmdsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElubmVyIGFuZ2xlIGZvciBzcG90IGxpZ2h0cywgaW4gZGVncmVlcy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBnZXQgaW5uZXJBbmdsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X2lubmVyQW5nbGUodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgaW5uZXIgYW5nbGUgZm9yIHNwb3QgbGlnaHRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFuZ2xlIElubmVyIGFuZ2xlLCBpbiBkZWdyZWVzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIHNldCBpbm5lckFuZ2xlKGFuZ2xlKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X2lubmVyQW5nbGUodGhpcy5faWQsIGFuZ2xlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgbGlnaHQgY2FzdHMgc2hhZG93cy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBnZXQgc2hhZG93cygpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfc2hhZG93cyh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRoZSBsaWdodCBjYXN0cyBzaGFkb3dzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGUgbGlnaHQgY2FzdHMgc2hhZG93cy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBzZXQgc2hhZG93cyhiKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd3ModGhpcy5faWQsIGIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSYW5nZSBmb3Igc2hhZG93cy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBnZXQgc2hhZG93UmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dSYW5nZSh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCByYW5nZSBmb3Igc2hhZG93cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByYW5nZSBSYW5nZSBmb3Igc2hhZG93cy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBzZXQgc2hhZG93UmFuZ2UocmFuZ2UpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfc2hhZG93UmFuZ2UodGhpcy5faWQsIHJhbmdlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmlhcyB2YWx1ZSBmb3Igc2hhZG93cy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBnZXQgc2hhZG93QmlhcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X3NoYWRvd0JpYXModGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYmlhcyB2YWx1ZSBmb3Igc2hhZG93cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiaWFzIEJpYXMgZm9yIHNoYWRvd3MuXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgc2V0IHNoYWRvd0JpYXMoYmlhcykge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9zaGFkb3dCaWFzKHRoaXMuX2lkLCBiaWFzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm9ybWFsIGJpYXMgdmFsdWUgZm9yIHNoYWRvd3MuXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgZ2V0IHNoYWRvd05vcm1hbEJpYXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dOb3JtYWxCaWFzKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IG5vcm1hbCBiaWFzIHZhbHVlIGZvciBzaGFkb3dzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJpYXMgTm9ybWFsIGJpYXMgZm9yIHNoYWRvd3MuXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgc2V0IHNoYWRvd05vcm1hbEJpYXMoYmlhcykge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9zaGFkb3dOb3JtYWxCaWFzKHRoaXMuX2lkLCBiaWFzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGV4ZWwgc2l6ZSBmb3Igc2hhZG93cy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBnZXQgc2hhZG93VGV4ZWxTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfc2hhZG93VGV4ZWxTaXplKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRleGVsIHNpemUgZm9yIHNoYWRvd3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2l6ZSBUZXhlbCBzaXplIGZvciBzaGFkb3dzLlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIHNldCBzaGFkb3dUZXhlbFNpemUoc2l6ZSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9zaGFkb3dUZXhlbFNpemUodGhpcy5faWQsIHNpemUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYXNjYWRlIGNvdW50IGZvciB7QGxpbmsgTGlnaHRUeXBlLlN1bn0gc2hhZG93cy5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICBnZXQgY2FzY2FkZUNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfY2FzY2FkZUNvdW50KHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGNhc2NhZGUgY291bnQgZm9yIHtAbGluayBMaWdodFR5cGUuU3VufSBzaGFkb3dzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvdW50IENhc2NhZGUgY291bnQuXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgc2V0IGNhc2NhZGVDb3VudChjb3VudCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9jYXNjYWRlQ291bnQodGhpcy5faWQsIGNvdW50KTtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwiY29sb3JcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwibGlnaHRUeXBlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcImludGVuc2l0eVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJvdXRlckFuZ2xlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcImlubmVyQW5nbGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhZG93c1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFkb3dSYW5nZVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFkb3dCaWFzXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcInNoYWRvd05vcm1hbEJpYXNcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhZG93VGV4ZWxTaXplXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcImNhc2NhZGVDb3VudFwiLCBudWxsKTtcbi8qKlxuICogTmF0aXZlIGFuaW1hdGlvbiBjb21wb25lbnQuXG4gKlxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgbmF0aXZlIGFuaW1hdGlvbiBjb21wb25lbnQgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBBbmltYXRpb25Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnYW5pbWF0aW9uJztcbiAgICAvKipcbiAgICAgKiBTZXQgYW5pbWF0aW9uIHRvIHBsYXkuXG4gICAgICpcbiAgICAgKiBNYWtlIHN1cmUgdG8ge0BsaW5rIEFuaW1hdGlvbiNyZXRhcmdldH0gdGhlIGFuaW1hdGlvbiB0byBhZmZlY3QgdGhlXG4gICAgICogcmlnaHQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbmltIEFuaW1hdGlvbiB0byBwbGF5LlxuICAgICAqL1xuICAgIHNldCBhbmltYXRpb24oYW5pbSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9zZXRfYW5pbWF0aW9uKHRoaXMuX2lkLCBhbmltID8gYW5pbS5faW5kZXggOiAwKTtcbiAgICB9XG4gICAgLyoqIEFuaW1hdGlvbiBzZXQgZm9yIHRoaXMgY29tcG9uZW50ICovXG4gICAgZ2V0IGFuaW1hdGlvbigpIHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9nZXRfYW5pbWF0aW9uKHRoaXMuX2lkKTtcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBBbmltYXRpb24odGhpcy5fZW5naW5lLCBpZCkgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgcGxheSBjb3VudC4gU2V0IHRvIGAwYCB0byBsb29wIGluZGVmaW5pdGVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwbGF5Q291bnQgTnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgYW5pbWF0aW9uLlxuICAgICAqL1xuICAgIHNldCBwbGF5Q291bnQocGxheUNvdW50KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3NldF9wbGF5Q291bnQodGhpcy5faWQsIHBsYXlDb3VudCk7XG4gICAgfVxuICAgIC8qKiBOdW1iZXIgb2YgdGltZXMgdGhlIGFuaW1hdGlvbiBpcyBwbGF5ZWQuICovXG4gICAgZ2V0IHBsYXlDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X2dldF9wbGF5Q291bnQodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgc3BlZWQuIFNldCB0byBuZWdhdGl2ZSB2YWx1ZXMgdG8gcnVuIHRoZSBhbmltYXRpb24gYmFja3dhcmRzLlxuICAgICAqXG4gICAgICogU2V0dGluZyBzcGVlZCBoYXMgYW4gaW1tZWRpYXRlIGVmZmVjdCBmb3IgdGhlIGN1cnJlbnQgZnJhbWUncyB1cGRhdGVcbiAgICAgKiBhbmQgd2lsbCBjb250aW51ZSB3aXRoIHRoZSBzcGVlZCBmcm9tIHRoZSBjdXJyZW50IHBvaW50IGluIHRoZSBhbmltYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3BlZWQgTmV3IHNwZWVkIGF0IHdoaWNoIHRvIHBsYXkgdGhlIGFuaW1hdGlvbi5cbiAgICAgKiBAc2luY2UgMC44LjEwXG4gICAgICovXG4gICAgc2V0IHNwZWVkKHNwZWVkKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3NldF9zcGVlZCh0aGlzLl9pZCwgc3BlZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTcGVlZCBmYWN0b3IgYXQgd2hpY2ggdGhlIGFuaW1hdGlvbiBpcyBwbGF5ZWQuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjEwXG4gICAgICovXG4gICAgZ2V0IHNwZWVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfZ2V0X3NwZWVkKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqIEN1cnJlbnQgcGxheWluZyBzdGF0ZSBvZiB0aGUgYW5pbWF0aW9uICovXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfc3RhdGUodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQbGF5IGFuaW1hdGlvbi5cbiAgICAgKlxuICAgICAqIElmIHRoZSBhbmltYXRpb24gaXMgY3VycmVudGx5IHBhdXNlZCwgcmVzdW1lcyBmcm9tIHRoYXQgcG9zaXRpb24uIElmIHRoZVxuICAgICAqIGFuaW1hdGlvbiBpcyBhbHJlYWR5IHBsYXlpbmcsIGRvZXMgbm90aGluZy5cbiAgICAgKlxuICAgICAqIFRvIHJlc3RhcnQgdGhlIGFuaW1hdGlvbiwge0BsaW5rIEFuaW1hdGlvbkNvbXBvbmVudCNzdG9wfSBpdCBmaXJzdC5cbiAgICAgKi9cbiAgICBwbGF5KCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9wbGF5KHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqIFN0b3AgYW5pbWF0aW9uLiAqL1xuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3N0b3AodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKiogUGF1c2UgYW5pbWF0aW9uLiAqL1xuICAgIHBhdXNlKCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9wYXVzZSh0aGlzLl9pZCk7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgQW5pbWF0aW9uQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmltYXRpb25cIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBBbmltYXRpb25Db21wb25lbnQucHJvdG90eXBlLCBcInBsYXlDb3VudFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIEFuaW1hdGlvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwic3BlZWRcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBlbnVtZXJhYmxlKClcbl0sIEFuaW1hdGlvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwic3RhdGVcIiwgbnVsbCk7XG4vKipcbiAqIE5hdGl2ZSBtZXNoIGNvbXBvbmVudC5cbiAqXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgbWVzaCBjb21wb25lbnQgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBNZXNoQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ21lc2gnO1xuICAgIC8qKlxuICAgICAqIFNldCBtYXRlcmlhbCB0byByZW5kZXIgdGhlIG1lc2ggd2l0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtYXRlcmlhbCBNYXRlcmlhbCB0byByZW5kZXIgdGhlIG1lc2ggd2l0aC5cbiAgICAgKi9cbiAgICBzZXQgbWF0ZXJpYWwobWF0ZXJpYWwpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfY29tcG9uZW50X3NldF9tYXRlcmlhbCh0aGlzLl9pZCwgbWF0ZXJpYWwgPyBtYXRlcmlhbC5faW5kZXggOiAwKTtcbiAgICB9XG4gICAgLyoqIE1hdGVyaWFsIHVzZWQgdG8gcmVuZGVyIHRoZSBtZXNoLiAqL1xuICAgIGdldCBtYXRlcmlhbCgpIHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfZ2V0X21hdGVyaWFsKHRoaXMuX2lkKTtcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBNYXRlcmlhbCh0aGlzLl9lbmdpbmUsIGlkKSA6IG51bGw7XG4gICAgfVxuICAgIC8qKiBNZXNoIHJlbmRlcmVkIGJ5IHRoaXMgY29tcG9uZW50LiAqL1xuICAgIGdldCBtZXNoKCkge1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2NvbXBvbmVudF9nZXRfbWVzaCh0aGlzLl9pZCk7XG4gICAgICAgIHJldHVybiBpZCA+IDAgPyBuZXcgTWVzaCh0aGlzLl9lbmdpbmUsIGlkKSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBtZXNoIHRvIHJlbmRlcmVkIHdpdGggdGhpcyBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWVzaCBNZXNoIHJlbmRlcmVkIGJ5IHRoaXMgY29tcG9uZW50LlxuICAgICAqL1xuICAgIHNldCBtZXNoKG1lc2gpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfY29tcG9uZW50X3NldF9tZXNoKHRoaXMuX2lkLCBtZXNoID8gbWVzaC5faW5kZXggOiAwKTtcbiAgICB9XG4gICAgLyoqIFNraW4gZm9yIHRoaXMgbWVzaCBjb21wb25lbnQuICovXG4gICAgZ2V0IHNraW4oKSB7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfY29tcG9uZW50X2dldF9za2luKHRoaXMuX2lkKTtcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBTa2luKHRoaXMuX2VuZ2luZSwgaWQpIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHNraW4gdG8gdHJhbnNmb3JtIHRoaXMgbWVzaCBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2tpbiBTa2luIHRvIHVzZSBmb3IgcmVuZGVyaW5nIHNraW5uZWQgbWVzaGVzLlxuICAgICAqL1xuICAgIHNldCBza2luKHNraW4pIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfY29tcG9uZW50X3NldF9za2luKHRoaXMuX2lkLCBza2luID8gc2tpbi5faW5kZXggOiAwKTtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBNZXNoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXRlcmlhbFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIE1lc2hDb21wb25lbnQucHJvdG90eXBlLCBcIm1lc2hcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBNZXNoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJza2luXCIsIG51bGwpO1xuLyoqXG4gKiBFbnVtIGZvciBQaHlzaWNzIGF4ZXMgbG9ja2luZ1xuICpcbiAqIFNlZSB7QGxpbmsgUGh5c1hDb21wb25lbnQuYW5ndWxhckxvY2tBeGlzfSBhbmQge0BsaW5rIFBoeXNYQ29tcG9uZW50LmxpbmVhckxvY2tBeGlzfS5cbiAqL1xuZXhwb3J0IHZhciBMb2NrQXhpcztcbihmdW5jdGlvbiAoTG9ja0F4aXMpIHtcbiAgICAvKipcbiAgICAgKiBObyBheGlzIHNlbGVjdGVkLlxuICAgICAqL1xuICAgIExvY2tBeGlzW0xvY2tBeGlzW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgLyoqXG4gICAgICogKipYIGF4aXMqKjpcbiAgICAgKi9cbiAgICBMb2NrQXhpc1tMb2NrQXhpc1tcIlhcIl0gPSAxXSA9IFwiWFwiO1xuICAgIC8qKlxuICAgICAqICoqWSBheGlzKio6XG4gICAgICovXG4gICAgTG9ja0F4aXNbTG9ja0F4aXNbXCJZXCJdID0gMl0gPSBcIllcIjtcbiAgICAvKipcbiAgICAgKiAqKlogYXhpcyoqOlxuICAgICAqL1xuICAgIExvY2tBeGlzW0xvY2tBeGlzW1wiWlwiXSA9IDRdID0gXCJaXCI7XG59KShMb2NrQXhpcyB8fCAoTG9ja0F4aXMgPSB7fSkpO1xuLyoqXG4gKiBOYXRpdmUgcGh5c3ggcmlnaWQgYm9keSBjb21wb25lbnQuXG4gKlxuICogUHJvdmlkZXMgYWNjZXNzIHRvIGEgbmF0aXZlIG1lc2ggY29tcG9uZW50IGluc3RhbmNlLlxuICogT25seSBhdmFpbGFibGUgd2hlbiB1c2luZyBwaHlzeCBlbmFibGVkIHJ1bnRpbWUsIHNlZSBcIlByb2plY3QgU2V0dGluZ3MgPiBSdW50aW1lXCIuXG4gKi9cbmV4cG9ydCBjbGFzcyBQaHlzWENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgLyoqIEBvdmVycmlkZSAqL1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdwaHlzeCc7XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgdGhpcyByaWdpZCBib2R5IGlzIHN0YXRpYy5cbiAgICAgKlxuICAgICAqIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSBvbmx5IHRha2VzIGVmZmVjdCBvbmNlIHRoZSBjb21wb25lbnRcbiAgICAgKiBzd2l0Y2hlcyBmcm9tIGluYWN0aXZlIHRvIGFjdGl2ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhlIHJpZ2lkIGJvZHkgc2hvdWxkIGJlIHN0YXRpYy5cbiAgICAgKi9cbiAgICBzZXQgc3RhdGljKGIpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc3RhdGljKHRoaXMuX2lkLCBiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgaXMgc3RhdGljLlxuICAgICAqXG4gICAgICogVGhpcyBwcm9wZXJ0eSByZXR1cm5zIHdoZXRoZXIgdGhlIHJpZ2lkIGJvZHkgaXMgKmVmZmVjdGl2ZWx5KlxuICAgICAqIHN0YXRpYy4gSWYgc3RhdGljIHByb3BlcnR5IHdhcyBzZXQgd2hpbGUgdGhlIHJpZ2lkIGJvZHkgd2FzXG4gICAgICogYWN0aXZlLCBpdCB3aWxsIG5vdCB0YWtlIGVmZmVjdCB1bnRpbCB0aGUgcmlnaWQgYm9keSBpcyBzZXRcbiAgICAgKiBpbmFjdGl2ZSBhbmQgYWN0aXZlIGFnYWluLiBVbnRpbCB0aGUgY29tcG9uZW50IGlzIHNldCBpbmFjdGl2ZSxcbiAgICAgKiB0aGlzIGdldHRlciB3aWxsIHJldHVybiB3aGV0aGVyIHRoZSByaWdpZCBib2R5IGlzIGFjdHVhbGx5XG4gICAgICogc3RhdGljLlxuICAgICAqL1xuICAgIGdldCBzdGF0aWMoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X3N0YXRpYyh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRoaXMgcmlnaWQgYm9keSBpcyBraW5lbWF0aWMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoZSByaWdpZCBib2R5IHNob3VsZCBiZSBraW5lbWF0aWMuXG4gICAgICovXG4gICAgc2V0IGtpbmVtYXRpYyhiKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2tpbmVtYXRpYyh0aGlzLl9pZCwgYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyByaWdpZCBib2R5IGlzIGtpbmVtYXRpYy5cbiAgICAgKi9cbiAgICBnZXQga2luZW1hdGljKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9raW5lbWF0aWModGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHJpZ2lkIGJvZHkncyBncmF2aXR5IGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoZSByaWdpZCBib2R5J3MgZ3Jhdml0eSBzaG91bGQgYmUgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBzZXQgZ3Jhdml0eShiKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2dyYXZpdHkodGhpcy5faWQsIGIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgcmlnaWQgYm9keSdzIGdyYXZpdHkgZmxhZyBpcyBlbmFibGVkLlxuICAgICAqL1xuICAgIGdldCBncmF2aXR5KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9ncmF2aXR5KHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgdGhpcyByaWdpZCBib2R5J3Mgc2ltdWxhdGUgZmxhZyBpcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGUgcmlnaWQgYm9keSdzIHNpbXVsYXRlIGZsYWcgc2hvdWxkIGJlIGVuYWJsZWQuXG4gICAgICovXG4gICAgc2V0IHNpbXVsYXRlKGIpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc2ltdWxhdGUodGhpcy5faWQsIGIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgcmlnaWQgYm9keSdzIHNpbXVsYXRlIGZsYWcgaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBnZXQgc2ltdWxhdGUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X3NpbXVsYXRlKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgdG8gYWxsb3cgc2ltdWxhdGlvbiBvZiB0aGlzIHJpZ2lkIGJvZHkuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgYWxsb3dTaW11bGF0aW9ufSBhbmQge0BsaW5rIHRyaWdnZXJ9IGNhbiBub3QgYmUgZW5hYmxlZCBhdCB0aGVcbiAgICAgKiBzYW1lIHRpbWUuIEVuYWJsaW5nIHtAbGluayBhbGxvd1NpbXVsYXRpb259IHdoaWxlIHtAbGluayB0cmlnZ2VyfSBpcyBlbmFibGVkXG4gICAgICogd2lsbCBkaXNhYmxlIHtAbGluayB0cmlnZ2VyfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdG8gYWxsb3cgc2ltdWxhdGlvbiBvZiB0aGlzIHJpZ2lkIGJvZHkuXG4gICAgICovXG4gICAgc2V0IGFsbG93U2ltdWxhdGlvbihiKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2FsbG93U2ltdWxhdGlvbih0aGlzLl9pZCwgYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gYWxsb3cgc2ltdWxhdGlvbiBvZiB0aGlzIHJpZ2lkIGJvZHkuXG4gICAgICovXG4gICAgZ2V0IGFsbG93U2ltdWxhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYWxsb3dTaW11bGF0aW9uKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgdGhpcyByaWdpZCBib2R5IG1heSBiZSBxdWVyaWVkIGluIHJheSBjYXN0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhpcyByaWdpZCBib2R5IG1heSBiZSBxdWVyaWVkIGluIHJheSBjYXN0cy5cbiAgICAgKi9cbiAgICBzZXQgYWxsb3dRdWVyeShiKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2FsbG93UXVlcnkodGhpcy5faWQsIGIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgcmlnaWQgYm9keSBtYXkgYmUgcXVlcmllZCBpbiByYXkgY2FzdHMuXG4gICAgICovXG4gICAgZ2V0IGFsbG93UXVlcnkoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2FsbG93UXVlcnkodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHBoeXNpY3MgYm9keSBpcyBhIHRyaWdnZXIuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgYWxsb3dTaW11bGF0aW9ufSBhbmQge0BsaW5rIHRyaWdnZXJ9IGNhbiBub3QgYmUgZW5hYmxlZCBhdCB0aGVcbiAgICAgKiBzYW1lIHRpbWUuIEVuYWJsaW5nIHRyaWdnZXIgd2hpbGUge0BsaW5rIGFsbG93U2ltdWxhdGlvbn0gaXMgZW5hYmxlZCxcbiAgICAgKiB3aWxsIGRpc2FibGUge0BsaW5rIGFsbG93U2ltdWxhdGlvbn0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoaXMgcGh5c2ljcyBib2R5IGlzIGEgdHJpZ2dlci5cbiAgICAgKi9cbiAgICBzZXQgdHJpZ2dlcihiKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3RyaWdnZXIodGhpcy5faWQsIGIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgcGh5c2ljcyBib2R5IGlzIGEgdHJpZ2dlci5cbiAgICAgKi9cbiAgICBnZXQgdHJpZ2dlcigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfdHJpZ2dlcih0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2hhcGUgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcyBOZXcgc2hhcGUuXG4gICAgICogQHNpbmNlIDAuOC41XG4gICAgICovXG4gICAgc2V0IHNoYXBlKHMpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc2hhcGUodGhpcy5faWQsIHMpO1xuICAgIH1cbiAgICAvKiogVGhlIHNoYXBlIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uLiAqL1xuICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X3NoYXBlKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGFkZGl0aW9uYWwgZGF0YSBmb3IgdGhlIHNoYXBlLlxuICAgICAqXG4gICAgICogUmV0cmlldmVkIG9ubHkgZnJvbSB7QGxpbmsgUGh5c1hDb21wb25lbnQjc2hhcGVEYXRhfS5cbiAgICAgKiBAc2luY2UgMC44LjEwXG4gICAgICovXG4gICAgc2V0IHNoYXBlRGF0YShkKSB7XG4gICAgICAgIGlmIChkID09IG51bGwgfHwgIWlzTWVzaFNoYXBlKHRoaXMuc2hhcGUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9zaGFwZV9kYXRhKHRoaXMuX2lkLCBkLmluZGV4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkaXRpb25hbCBkYXRhIGZvciB0aGUgc2hhcGUuXG4gICAgICpcbiAgICAgKiBgbnVsbGAgZm9yIHtAbGluayBTaGFwZX0gdmFsdWVzOiBgTm9uZWAsIGBTcGhlcmVgLCBgQ2Fwc3VsZWAsIGBCb3hgLCBgUGxhbmVgLlxuICAgICAqIGB7aW5kZXg6IG59YCBmb3IgYFRyaWFuZ2xlTWVzaGAgYW5kIGBDb252ZXhIdWxsYC5cbiAgICAgKlxuICAgICAqIFRoaXMgZGF0YSBpcyBjdXJyZW50bHkgb25seSBmb3IgcGFzc2luZyBvbnRvIG9yIGNyZWF0aW5nIG90aGVyIHtAbGluayBQaHlzWENvbXBvbmVudH0uXG4gICAgICogQHNpbmNlIDAuOC4xMFxuICAgICAqL1xuICAgIGdldCBzaGFwZURhdGEoKSB7XG4gICAgICAgIGlmICghaXNNZXNoU2hhcGUodGhpcy5zaGFwZSkpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHsgaW5kZXg6IHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X3NoYXBlX2RhdGEodGhpcy5faWQpIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2hhcGUgZXh0ZW50cyBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlIE5ldyBleHRlbnRzIGZvciB0aGUgc2hhcGUuXG4gICAgICogQHNpbmNlIDAuOC41XG4gICAgICovXG4gICAgc2V0IGV4dGVudHMoZSkge1xuICAgICAgICB0aGlzLmV4dGVudHMuc2V0KGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc2hhcGUgZXh0ZW50cyBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgZXh0ZW50cygpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2V4dGVudHModGhpcy5faWQpO1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCBwdHIsIDMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgc3RhdGljRnJpY3Rpb24uXG4gICAgICovXG4gICAgZ2V0IHN0YXRpY0ZyaWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc3RhdGljRnJpY3Rpb24odGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgc3RhdGljRnJpY3Rpb24uXG4gICAgICogQHBhcmFtIHYgTmV3IHN0YXRpY0ZyaWN0aW9uLlxuICAgICAqL1xuICAgIHNldCBzdGF0aWNGcmljdGlvbih2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3N0YXRpY0ZyaWN0aW9uKHRoaXMuX2lkLCB2KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGR5bmFtaWNGcmljdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgZHluYW1pY0ZyaWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfZHluYW1pY0ZyaWN0aW9uKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGR5bmFtaWNGcmljdGlvblxuICAgICAqIEBwYXJhbSB2IE5ldyBkeW5hbWljRGFtcGluZy5cbiAgICAgKi9cbiAgICBzZXQgZHluYW1pY0ZyaWN0aW9uKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfZHluYW1pY0ZyaWN0aW9uKHRoaXMuX2lkLCB2KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGJvdW5jaW5lc3MuXG4gICAgICogQHNpbmNlIDAuOS4wXG4gICAgICovXG4gICAgZ2V0IGJvdW5jaW5lc3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9ib3VuY2luZXNzKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGJvdW5jaW5lc3MuXG4gICAgICogQHBhcmFtIHYgTmV3IGJvdW5jaW5lc3MuXG4gICAgICogQHNpbmNlIDAuOS4wXG4gICAgICovXG4gICAgc2V0IGJvdW5jaW5lc3Modikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9ib3VuY2luZXNzKHRoaXMuX2lkLCB2KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGxpbmVhckRhbXBpbmcvXG4gICAgICovXG4gICAgZ2V0IGxpbmVhckRhbXBpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9saW5lYXJEYW1waW5nKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGxpbmVhckRhbXBpbmcuXG4gICAgICogQHBhcmFtIHYgTmV3IGxpbmVhckRhbXBpbmcuXG4gICAgICovXG4gICAgc2V0IGxpbmVhckRhbXBpbmcodikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9saW5lYXJEYW1waW5nKHRoaXMuX2lkLCB2KTtcbiAgICB9XG4gICAgLyoqIEdldCBhbmd1bGFyRGFtcGluZy4gKi9cbiAgICBnZXQgYW5ndWxhckRhbXBpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9hbmd1bGFyRGFtcGluZyh0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBhbmd1bGFyRGFtcGluZy5cbiAgICAgKiBAcGFyYW0gdiBOZXcgYW5ndWxhckRhbXBpbmcuXG4gICAgICovXG4gICAgc2V0IGFuZ3VsYXJEYW1waW5nKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYW5ndWxhckRhbXBpbmcodGhpcy5faWQsIHYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbGluZWFyIHZlbG9jaXR5LlxuICAgICAqXG4gICAgICogW1BoeXNYIE1hbnVhbCAtIFwiVmVsb2NpdHlcIl0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvUmlnaWRCb2R5RHluYW1pY3MuaHRtbCN2ZWxvY2l0eSlcbiAgICAgKlxuICAgICAqIEhhcyBubyBlZmZlY3QsIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IE5ldyBsaW5lYXIgdmVsb2NpdHkuXG4gICAgICovXG4gICAgc2V0IGxpbmVhclZlbG9jaXR5KHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfbGluZWFyVmVsb2NpdHkodGhpcy5faWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgIH1cbiAgICAvKiogTGluZWFyIHZlbG9jaXR5IG9yIGBbMCwgMCwgMF1gIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS4gKi9cbiAgICBnZXQgbGluZWFyVmVsb2NpdHkoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9saW5lYXJWZWxvY2l0eSh0aGlzLl9pZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3RlbXBNZW0sIDMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYW5ndWxhciB2ZWxvY2l0eVxuICAgICAqXG4gICAgICogW1BoeXNYIE1hbnVhbCAtIFwiVmVsb2NpdHlcIl0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvUmlnaWRCb2R5RHluYW1pY3MuaHRtbCN2ZWxvY2l0eSlcbiAgICAgKlxuICAgICAqIEhhcyBubyBlZmZlY3QsIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IE5ldyBhbmd1bGFyIHZlbG9jaXR5XG4gICAgICovXG4gICAgc2V0IGFuZ3VsYXJWZWxvY2l0eSh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2FuZ3VsYXJWZWxvY2l0eSh0aGlzLl9pZCwgdlswXSwgdlsxXSwgdlsyXSk7XG4gICAgfVxuICAgIC8qKiBBbmd1bGFyIHZlbG9jaXR5IG9yIGBbMCwgMCwgMF1gIGlmIHRoZSBjb21wb25lbnQgaXMgbm90IGFjdGl2ZS4gKi9cbiAgICBnZXQgYW5ndWxhclZlbG9jaXR5KCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYW5ndWxhclZlbG9jaXR5KHRoaXMuX2lkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fdGVtcE1lbSwgMyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29tcG9uZW50cyBncm91cHMgbWFzay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmbGFncyBOZXcgZmxhZ3MgdGhhdCBuZWVkIHRvIGJlIHNldC5cbiAgICAgKi9cbiAgICBzZXQgZ3JvdXBzTWFzayhmbGFncykge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9ncm91cHNNYXNrKHRoaXMuX2lkLCBmbGFncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29tcG9uZW50cyBncm91cHMgbWFzayBmbGFncy5cbiAgICAgKlxuICAgICAqIEVhY2ggYml0IHJlcHJlc2VudHMgbWVtYmVyc2hpcCB0byBncm91cCwgc2VlIGV4YW1wbGUuXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIEFzc2lnbiBjIHRvIGdyb3VwIDJcbiAgICAgKiBjLmdyb3Vwc01hc2sgPSAoMSA8PCAyKTtcbiAgICAgKlxuICAgICAqIC8vIEFzc2lnbiBjIHRvIGdyb3VwIDBcbiAgICAgKiBjLmdyb3Vwc01hc2sgID0gKDEgPDwgMCk7XG4gICAgICpcbiAgICAgKiAvLyBBc3NpZ24gYyB0byBncm91cCAwIGFuZCAyXG4gICAgICogYy5ncm91cHNNYXNrID0gKDEgPDwgMCkgfCAoMSA8PCAyKTtcbiAgICAgKlxuICAgICAqIChjLmdyb3Vwc01hc2sgJiAoMSA8PCAyKSkgIT0gMDsgLy8gdHJ1ZVxuICAgICAqIChjLmdyb3Vwc01hc2sgJiAoMSA8PCA3KSkgIT0gMDsgLy8gZmFsc2VcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBnZXQgZ3JvdXBzTWFzaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2dyb3Vwc01hc2sodGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbXBvbmVudHMgYmxvY2tzIG1hc2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmxhZ3MgTmV3IGZsYWdzIHRoYXQgbmVlZCB0byBiZSBzZXQuXG4gICAgICovXG4gICAgc2V0IGJsb2Nrc01hc2soZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYmxvY2tzTWFzayh0aGlzLl9pZCwgZmxhZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbXBvbmVudHMgYmxvY2tzIG1hc2sgZmxhZ3MuXG4gICAgICpcbiAgICAgKiBFYWNoIGJpdCByZXByZXNlbnRzIG1lbWJlcnNoaXAgdG8gdGhlIGJsb2NrLCBzZWUgZXhhbXBsZS5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogLy8gQmxvY2sgb3ZlcmxhcCB3aXRoIGFueSBvYmplY3RzIGluIGdyb3VwIDJcbiAgICAgKiBjLmJsb2Nrc01hc2sgPSAoMSA8PCAyKTtcbiAgICAgKlxuICAgICAqIC8vIEJsb2NrIG92ZXJsYXAgd2l0aCBhbnkgb2JqZWN0cyBpbiBncm91cCAwXG4gICAgICogYy5ibG9ja3NNYXNrICA9ICgxIDw8IDApXG4gICAgICpcbiAgICAgKiAvLyBCbG9jayBvdmVybGFwIHdpdGggYW55IG9iamVjdHMgaW4gZ3JvdXAgMCBhbmQgMlxuICAgICAqIGMuYmxvY2tzTWFzayA9ICgxIDw8IDApIHwgKDEgPDwgMik7XG4gICAgICpcbiAgICAgKiAoYy5ibG9ja3NNYXNrICYgKDEgPDwgMikpICE9IDA7IC8vIHRydWVcbiAgICAgKiAoYy5ibG9ja3NNYXNrICYgKDEgPDwgNykpICE9IDA7IC8vIGZhbHNlXG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0IGJsb2Nrc01hc2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9ibG9ja3NNYXNrKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGF4ZXMgdG8gbG9jayBmb3IgbGluZWFyIHZlbG9jaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGxvY2sgVGhlIEF4aXMgdGhhdCBuZWVkcyB0byBiZSBzZXQuXG4gICAgICpcbiAgICAgKiBDb21iaW5lIGZsYWdzIHdpdGggQml0d2lzZSBPUi5cbiAgICAgKiBgYGBqc1xuICAgICAqIGJvZHkubGluZWFyTG9ja0F4aXMgPSBMb2NrQXhpcy5YIHwgTG9ja0F4aXMuWTsgLy8geCBhbmQgeSBzZXRcbiAgICAgKiBib2R5LmxpbmVhckxvY2tBeGlzID0gTG9ja0F4aXMuWDsgLy8geSB1bnNldFxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBoYXMgbm8gZWZmZWN0IGlmIHRoZSBjb21wb25lbnQgaXMgc3RhdGljLlxuICAgICAqL1xuICAgIHNldCBsaW5lYXJMb2NrQXhpcyhsb2NrKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2xpbmVhckxvY2tBeGlzKHRoaXMuX2lkLCBsb2NrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsaW5lYXIgbG9jayBheGVzIGZsYWdzLlxuICAgICAqXG4gICAgICogVG8gZ2V0IHRoZSBzdGF0ZSBvZiBhIHNwZWNpZmljIGZsYWcsIEJpdHdpc2UgQU5EIHdpdGggdGhlIExvY2tBeGlzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogaWYoYm9keS5saW5lYXJMb2NrQXhpcyAmIExvY2tBeGlzLlkpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coXCJUaGUgWSBmbGFnIHdhcyBzZXQhXCIpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEByZXR1cm4gYXhlcyB0aGF0IGFyZSBjdXJyZW50bHkgbG9ja2VkIGZvciBsaW5lYXIgbW92ZW1lbnQuXG4gICAgICovXG4gICAgZ2V0IGxpbmVhckxvY2tBeGlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfbGluZWFyTG9ja0F4aXModGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYXhlcyB0byBsb2NrIGZvciBhbmd1bGFyIHZlbG9jaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGxvY2sgVGhlIEF4aXMgdGhhdCBuZWVkcyB0byBiZSBzZXQuXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGJvZHkuYW5ndWxhckxvY2tBeGlzID0gTG9ja0F4aXMuWCB8IExvY2tBeGlzLlk7IC8vIHggYW5kIHkgc2V0XG4gICAgICogYm9keS5hbmd1bGFyTG9ja0F4aXMgPSBMb2NrQXhpcy5YOyAvLyB5IHVuc2V0XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGhhcyBubyBlZmZlY3QgaWYgdGhlIGNvbXBvbmVudCBpcyBzdGF0aWMuXG4gICAgICovXG4gICAgc2V0IGFuZ3VsYXJMb2NrQXhpcyhsb2NrKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2FuZ3VsYXJMb2NrQXhpcyh0aGlzLl9pZCwgbG9jayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW5ndWxhciBsb2NrIGF4ZXMgZmxhZ3MuXG4gICAgICpcbiAgICAgKiBUbyBnZXQgdGhlIHN0YXRlIG9mIGEgc3BlY2lmaWMgZmxhZywgQml0d2lzZSBBTkQgd2l0aCB0aGUgTG9ja0F4aXMgbmVlZGVkLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBpZihib2R5LmFuZ3VsYXJMb2NrQXhpcyAmIExvY2tBeGlzLlkpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coXCJUaGUgWSBmbGFnIHdhcyBzZXQhXCIpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEByZXR1cm4gYXhlcyB0aGF0IGFyZSBjdXJyZW50bHkgbG9ja2VkIGZvciBhbmd1bGFyIG1vdmVtZW50LlxuICAgICAqL1xuICAgIGdldCBhbmd1bGFyTG9ja0F4aXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9hbmd1bGFyTG9ja0F4aXModGhpcy5faWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbWFzcy5cbiAgICAgKlxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIk1hc3MgUHJvcGVydGllc1wiXShodHRwczovL2dhbWV3b3Jrc2RvY3MubnZpZGlhLmNvbS9QaHlzWC80LjEvZG9jdW1lbnRhdGlvbi9waHlzeGd1aWRlL01hbnVhbC9SaWdpZEJvZHlEeW5hbWljcy5odG1sI21hc3MtcHJvcGVydGllcylcbiAgICAgKlxuICAgICAqIEBwYXJhbSBtIE5ldyBtYXNzLlxuICAgICAqL1xuICAgIHNldCBtYXNzKG0pIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfbWFzcyh0aGlzLl9pZCwgbSk7XG4gICAgfVxuICAgIC8qKiBNYXNzICovXG4gICAgZ2V0IG1hc3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9tYXNzKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IG1hc3Mgc3BhY2UgaW50ZXJpYSB0ZW5zb3IuXG4gICAgICpcbiAgICAgKiBbUGh5c1ggTWFudWFsIC0gXCJNYXNzIFByb3BlcnRpZXNcIl0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvUmlnaWRCb2R5RHluYW1pY3MuaHRtbCNtYXNzLXByb3BlcnRpZXMpXG4gICAgICpcbiAgICAgKiBIYXMgbm8gZWZmZWN0LCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBOZXcgbWFzcyBzcGFjZSBpbnRlcmF0aWEgdGVuc29yLlxuICAgICAqL1xuICAgIHNldCBtYXNzU3BhY2VJbnRlcmlhVGVuc29yKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfbWFzc1NwYWNlSW5lcnRpYVRlbnNvcih0aGlzLl9pZCwgdlswXSwgdlsxXSwgdlsyXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGx5IGEgZm9yY2UuXG4gICAgICpcbiAgICAgKiBbUGh5c1ggTWFudWFsIC0gXCJBcHBseWluZyBGb3JjZXMgYW5kIFRvcnF1ZXNcIl0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvUmlnaWRCb2R5RHluYW1pY3MuaHRtbCNhcHBseWluZy1mb3JjZXMtYW5kLXRvcnF1ZXMpXG4gICAgICpcbiAgICAgKiBIYXMgbm8gZWZmZWN0LCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZiBGb3JjZSB2ZWN0b3IuXG4gICAgICogQHBhcmFtIG0gRm9yY2UgbW9kZSwgc2VlIHtAbGluayBGb3JjZU1vZGV9LCBkZWZhdWx0IGBGb3JjZWAuXG4gICAgICogQHBhcmFtIGxvY2FsRm9yY2UgV2hldGhlciB0aGUgZm9yY2UgdmVjdG9yIGlzIGluIGxvY2FsIHNwYWNlLCBkZWZhdWx0IGBmYWxzZWAuXG4gICAgICogQHBhcmFtIHAgUG9zaXRpb24gdG8gYXBwbHkgZm9yY2UgYXQsIGRlZmF1bHQgaXMgY2VudGVyIG9mIG1hc3MuXG4gICAgICogQHBhcmFtIGxvY2FsIFdoZXRoZXIgcG9zaXRpb24gaXMgaW4gbG9jYWwgc3BhY2UsIGRlZmF1bHQgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBhZGRGb3JjZShmLCBtID0gRm9yY2VNb2RlLkZvcmNlLCBsb2NhbEZvcmNlID0gZmFsc2UsIHAsIGxvY2FsID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBpZiAoIXApIHtcbiAgICAgICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9hZGRGb3JjZSh0aGlzLl9pZCwgZlswXSwgZlsxXSwgZlsyXSwgbSwgbG9jYWxGb3JjZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2FkZEZvcmNlQXQodGhpcy5faWQsIGZbMF0sIGZbMV0sIGZbMl0sIG0sIGxvY2FsRm9yY2UsIHBbMF0sIHBbMV0sIHBbMl0sIGxvY2FsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbHkgdG9ycXVlLlxuICAgICAqXG4gICAgICogW1BoeXNYIE1hbnVhbCAtIFwiQXBwbHlpbmcgRm9yY2VzIGFuZCBUb3JxdWVzXCJdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL1JpZ2lkQm9keUR5bmFtaWNzLmh0bWwjYXBwbHlpbmctZm9yY2VzLWFuZC10b3JxdWVzKVxuICAgICAqXG4gICAgICogSGFzIG5vIGVmZmVjdCwgaWYgdGhlIGNvbXBvbmVudCBpcyBub3QgYWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGYgRm9yY2UgdmVjdG9yLlxuICAgICAqIEBwYXJhbSBtIEZvcmNlIG1vZGUsIHNlZSB7QGxpbmsgRm9yY2VNb2RlfSwgZGVmYXVsdCBgRm9yY2VgLlxuICAgICAqL1xuICAgIGFkZFRvcnF1ZShmLCBtID0gRm9yY2VNb2RlLkZvcmNlKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfYWRkVG9ycXVlKHRoaXMuX2lkLCBmWzBdLCBmWzFdLCBmWzJdLCBtKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIG9uIGNvbGxpc2lvbiBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyByaWdpZCBib2R5ICh1biljb2xsaWRlcyB3aXRoIGFueSBvdGhlci5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogIGxldCByaWdpZEJvZHkgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ3BoeXN4Jyk7XG4gICAgICogIHJpZ2lkQm9keS5vbkNvbGxpc2lvbihmdW5jdGlvbih0eXBlLCBvdGhlcikge1xuICAgICAqICAgICAgLy8gSWdub3JlIHVuY29sbGlkZXNcbiAgICAgKiAgICAgIGlmKHR5cGUgPT0gQ29sbGlzaW9uRXZlbnRUeXBlLlRvdWNoTG9zdCkgcmV0dXJuO1xuICAgICAqXG4gICAgICogICAgICAvLyBUYWtlIGRhbWFnZSBvbiBjb2xsaXNpb24gd2l0aCBlbmVtaWVzXG4gICAgICogICAgICBpZihvdGhlci5vYmplY3QubmFtZS5zdGFydHNXaXRoKCdlbmVteS0nKSkge1xuICAgICAqICAgICAgICAgIHRoaXMuYXBwbHlEYW1hZ2UoMTApO1xuICAgICAqICAgICAgfVxuICAgICAqICB9LmJpbmQodGhpcykpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHJldHVybnMgSWQgb2YgdGhlIG5ldyBjYWxsYmFjayBmb3IgdXNlIHdpdGgge0BsaW5rIFBoeXNYQ29tcG9uZW50I3JlbW92ZUNvbGxpc2lvbkNhbGxiYWNrfS5cbiAgICAgKi9cbiAgICBvbkNvbGxpc2lvbihjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5vbkNvbGxpc2lvbldpdGgodGhpcywgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgZmlsdGVyZWQgb24gY29sbGlzaW9uIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIG90aGVyQ29tcCBDb21wb25lbnQgZm9yIHdoaWNoIGNhbGxiYWNrcyB3aWxsXG4gICAgICogICAgICAgIGJlIHRyaWdnZXJlZC4gSWYgeW91IHBhc3MgdGhpcyBjb21wb25lbnQsIHRoZSBtZXRob2QgaXMgZXF1aXZhbGVudCB0by5cbiAgICAgKiAgICAgICAge0BsaW5rIFBoeXNYQ29tcG9uZW50I29uQ29sbGlzaW9ufS5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgcmlnaWQgYm9keVxuICAgICAqICAgICAgICAodW4pY29sbGlkZXMgd2l0aCBgb3RoZXJDb21wYC5cbiAgICAgKiBAcmV0dXJucyBJZCBvZiB0aGUgbmV3IGNhbGxiYWNrIGZvciB1c2Ugd2l0aCB7QGxpbmsgUGh5c1hDb21wb25lbnQjcmVtb3ZlQ29sbGlzaW9uQ2FsbGJhY2t9LlxuICAgICAqL1xuICAgIG9uQ29sbGlzaW9uV2l0aChvdGhlckNvbXAsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHBoeXNpY3MgPSB0aGlzLl9lbmdpbmUucGh5c2ljcztcbiAgICAgICAgcGh5c2ljcy5fY2FsbGJhY2tzW3RoaXMuX2lkXSA9IHBoeXNpY3MuX2NhbGxiYWNrc1t0aGlzLl9pZF0gfHwgW107XG4gICAgICAgIHBoeXNpY3MuX2NhbGxiYWNrc1t0aGlzLl9pZF0ucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2FkZENhbGxiYWNrKHRoaXMuX2lkLCBvdGhlckNvbXAuX2lkIHx8IHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgY29sbGlzaW9uIGNhbGxiYWNrIGFkZGVkIHdpdGgge0BsaW5rIFBoeXNYQ29tcG9uZW50I29uQ29sbGlzaW9ufSBvciB7QGxpbmsgUGh5c1hDb21wb25lbnQjb25Db2xsaXNpb25XaXRofS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYWxsYmFja0lkIENhbGxiYWNrIGlkIGFzIHJldHVybmVkIGJ5IHtAbGluayBQaHlzWENvbXBvbmVudCNvbkNvbGxpc2lvbn0gb3Ige0BsaW5rIFBoeXNYQ29tcG9uZW50I29uQ29sbGlzaW9uV2l0aH0uXG4gICAgICogQHRocm93cyBXaGVuIHRoZSBjYWxsYmFjayBkb2VzIG5vdCBiZWxvbmcgdG8gdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAdGhyb3dzIFdoZW4gdGhlIGNhbGxiYWNrIGRvZXMgbm90IGV4aXN0LlxuICAgICAqL1xuICAgIHJlbW92ZUNvbGxpc2lvbkNhbGxiYWNrKGNhbGxiYWNrSWQpIHtcbiAgICAgICAgY29uc3QgcGh5c2ljcyA9IHRoaXMuX2VuZ2luZS5waHlzaWNzO1xuICAgICAgICBjb25zdCByID0gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9yZW1vdmVDYWxsYmFjayh0aGlzLl9pZCwgY2FsbGJhY2tJZCk7XG4gICAgICAgIC8qIHIgaXMgdGhlIGFtb3VudCBvZiBvYmplY3QgdG8gcmVtb3ZlIGZyb20gdGhlIGVuZCBvZiB0aGVcbiAgICAgICAgICogY2FsbGJhY2tzIGFycmF5IGZvciB0aGlzIG9iamVjdCAqL1xuICAgICAgICBpZiAocilcbiAgICAgICAgICAgIHBoeXNpY3MuX2NhbGxiYWNrc1t0aGlzLl9pZF0uc3BsaWNlKC1yKTtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic3RhdGljXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImtpbmVtYXRpY1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmF2aXR5XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInNpbXVsYXRlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImFsbG93U2ltdWxhdGlvblwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbGxvd1F1ZXJ5XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInRyaWdnZXJcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhcGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhcGVEYXRhXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImV4dGVudHNcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic3RhdGljRnJpY3Rpb25cIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiZHluYW1pY0ZyaWN0aW9uXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImJvdW5jaW5lc3NcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwibGluZWFyRGFtcGluZ1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmd1bGFyRGFtcGluZ1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsaW5lYXJWZWxvY2l0eVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmd1bGFyVmVsb2NpdHlcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JvdXBzTWFza1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJibG9ja3NNYXNrXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImxpbmVhckxvY2tBeGlzXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgbmF0aXZlUHJvcGVydHkoKVxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImFuZ3VsYXJMb2NrQXhpc1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIG5hdGl2ZVByb3BlcnR5KClcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXNzXCIsIG51bGwpO1xuLyoqXG4gKiBBY2Nlc3MgdG8gdGhlIHBoeXNpY3Mgc2NlbmVcbiAqL1xuZXhwb3J0IGNsYXNzIFBoeXNpY3Mge1xuICAgIC8qKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKlxuICAgICAqICoqTm90ZSoqOiBUaGlzIGlzIHB1YmxpYyB0byBlbXVsYXRlIGEgYGZyaWVuZGAgYWNjZXNzb3IuXG4gICAgICovXG4gICAgX2NhbGxiYWNrcztcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UgKi9cbiAgICBfZW5naW5lO1xuICAgIC8qKiBSYXkgSGl0ICovXG4gICAgX3JheUhpdDtcbiAgICAvKiogSGl0LiAqL1xuICAgIF9oaXQ7XG4gICAgY29uc3RydWN0b3IoZW5naW5lKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcbiAgICAgICAgdGhpcy5fcmF5SGl0ID0gZW5naW5lLndhc20uX21hbGxvYyg0ICogKDMgKiA0ICsgMyAqIDQgKyA0ICsgMikgKyA0KTtcbiAgICAgICAgdGhpcy5faGl0ID0gbmV3IFJheUhpdCh0aGlzLl9lbmdpbmUsIHRoaXMuX3JheUhpdCk7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYXN0IGEgcmF5IHRocm91Z2ggdGhlIHBoeXNpY3Mgc2NlbmUgYW5kIGZpbmQgaW50ZXJzZWN0aW5nIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBUaGUgcmVzdWx0aW5nIHJheSBoaXQgd2lsbCBjb250YWluICoqdXAgdG8gNCoqIGNsb3Nlc3QgcmF5IGhpdHMsXG4gICAgICogc29ydGVkIGJ5IGluY3JlYXNpbmcgZGlzdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbyBSYXkgb3JpZ2luLlxuICAgICAqIEBwYXJhbSBkIFJheSBkaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIGdyb3VwIENvbGxpc2lvbiBncm91cCB0byBmaWx0ZXIgYnk6IG9ubHkgb2JqZWN0cyB0aGF0IGFyZVxuICAgICAqICAgICAgICBwYXJ0IG9mIGdpdmVuIGdyb3VwIGFyZSBjb25zaWRlcmVkIGZvciByYXljYXN0LlxuICAgICAqIEBwYXJhbSBtYXhEaXN0YW5jZSBNYXhpbXVtIHJheSBkaXN0YW5jZSwgZGVmYXVsdCBgMTAwLjBgLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIFJheUhpdCBpbnN0YW5jZSwgYmVsb25naW5nIHRvIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGUgcmV0dXJuZWQge0BsaW5rIFJheUhpdH0gb2JqZWN0IGlzIG93bmVkIGJ5IHRoZSBQaHlzaWNzIGluc3RhbmNlIGFuZFxuICAgICAqICAgICAgIHdpbGwgYmUgcmV1c2VkIHdpdGggdGhlIG5leHQge0BsaW5rIFBoeXNpY3MjcmF5Q2FzdH0gY2FsbC5cbiAgICAgKi9cbiAgICByYXlDYXN0KG8sIGQsIGdyb3VwLCBtYXhEaXN0YW5jZSA9IDEwMC4wKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9yYXlfY2FzdChvWzBdLCBvWzFdLCBvWzJdLCBkWzBdLCBkWzFdLCBkWzJdLCBncm91cCwgbWF4RGlzdGFuY2UsIHRoaXMuX3JheUhpdCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9oaXQ7XG4gICAgfVxufVxuLyoqXG4gKiBNZXNoIGluZGV4IHR5cGUuXG4gKi9cbmV4cG9ydCB2YXIgTWVzaEluZGV4VHlwZTtcbihmdW5jdGlvbiAoTWVzaEluZGV4VHlwZSkge1xuICAgIC8qKiBTaW5nbGUgYnl0ZSBtZXNoIGluZGV4LCByYW5nZSAwLTI1NSAqL1xuICAgIE1lc2hJbmRleFR5cGVbTWVzaEluZGV4VHlwZVtcIlVuc2lnbmVkQnl0ZVwiXSA9IDFdID0gXCJVbnNpZ25lZEJ5dGVcIjtcbiAgICAvKiogVHdvIGJ5dGUgbWVzaCBpbmRleCwgcmFuZ2UgMC02NTUzNSAqL1xuICAgIE1lc2hJbmRleFR5cGVbTWVzaEluZGV4VHlwZVtcIlVuc2lnbmVkU2hvcnRcIl0gPSAyXSA9IFwiVW5zaWduZWRTaG9ydFwiO1xuICAgIC8qKiBGb3VyIGJ5dGUgbWVzaCBpbmRleCwgcmFuZ2UgMC00Mjk0OTY3Mjk1ICovXG4gICAgTWVzaEluZGV4VHlwZVtNZXNoSW5kZXhUeXBlW1wiVW5zaWduZWRJbnRcIl0gPSA0XSA9IFwiVW5zaWduZWRJbnRcIjtcbn0pKE1lc2hJbmRleFR5cGUgfHwgKE1lc2hJbmRleFR5cGUgPSB7fSkpO1xuLyoqXG4gKiBNZXNoIHNraW5uaW5nIHR5cGUuXG4gKi9cbmV4cG9ydCB2YXIgTWVzaFNraW5uaW5nVHlwZTtcbihmdW5jdGlvbiAoTWVzaFNraW5uaW5nVHlwZSkge1xuICAgIC8qKiBOb3Qgc2tpbm5lZCAqL1xuICAgIE1lc2hTa2lubmluZ1R5cGVbTWVzaFNraW5uaW5nVHlwZVtcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xuICAgIC8qKiBTa2lubmVkLCA0IGpvaW50cy93ZWlnaHQgcGVyIHZlcnRleCAqL1xuICAgIE1lc2hTa2lubmluZ1R5cGVbTWVzaFNraW5uaW5nVHlwZVtcIkZvdXJKb2ludHNcIl0gPSAxXSA9IFwiRm91ckpvaW50c1wiO1xuICAgIC8qKiBTa2lubmVkLCA4IGpvaW50cy93ZWlnaHQgcGVyIHZlcnRleCAqL1xuICAgIE1lc2hTa2lubmluZ1R5cGVbTWVzaFNraW5uaW5nVHlwZVtcIkVpZ2h0Sm9pbnRzXCJdID0gMl0gPSBcIkVpZ2h0Sm9pbnRzXCI7XG59KShNZXNoU2tpbm5pbmdUeXBlIHx8IChNZXNoU2tpbm5pbmdUeXBlID0ge30pKTtcbi8qKlxuICogV3JhcHBlciBhcm91bmQgYSBuYXRpdmUgbWVzaCBkYXRhLlxuICpcbiAqIFRvIG1vZGlmeSBhIG1lc2gsIHlvdSBnZXQgYWNjZXNzIHRvIGEge0BsaW5rIE1lc2hBdHRyaWJ1dGVBY2Nlc3Nvcn0gdGhhdCBhbGxvd3MgeW91IHRvIG1vZGlmeVxuICogdGhlIGNvbnRlbnQgb2YgdGhlIGJ1ZmZlcnM6XG4gKlxuICogVXNhZ2U6XG4gKlxuICogYGBganNcbiAqIGNvbnN0IG1lc2ggPSBuZXcgTWVzaChlbmdpbmUsIHt2ZXJ0ZXhDb3VudDogMywgaW5kZXhEYXRhOiBbMCwgMSwgMl0gfSk7XG4gKiBjb25zdCBwb3NpdGlvbnMgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlBvc2l0aW9uKTtcbiAqIC4uLlxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBNZXNoIHtcbiAgICAvKipcbiAgICAgKiBJbmRleCBvZiB0aGUgbWVzaCBpbiB0aGUgbWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfaW5kZXggPSAtMTtcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cbiAgICBfZW5naW5lO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXJhbXMgRWl0aGVyIGEgbWVzaCBpbmRleCB0byB3cmFwIG9yIHNldCBvZiBwYXJhbWV0ZXJzIHRvIGNyZWF0ZSBhIG5ldyBtZXNoLlxuICAgICAqICAgIEZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2UgaGF2ZSBhIGxvb2sgYXQgdGhlIHtAbGluayBNZXNoUGFyYW1ldGVyc30gaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgcGFyYW1zKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZSA/PyBXTDtcbiAgICAgICAgdGhpcy5faW5kZXggPSAtMTtcbiAgICAgICAgaWYgKGlzTnVtYmVyKHBhcmFtcykpIHtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gcGFyYW1zO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyYW1zLnZlcnRleENvdW50KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBwYXJhbWV0ZXIgJ3ZlcnRleENvdW50J1wiKTtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBsZXQgaW5kZXhEYXRhID0gMDtcbiAgICAgICAgbGV0IGluZGV4VHlwZSA9IDA7XG4gICAgICAgIGxldCBpbmRleERhdGFTaXplID0gMDtcbiAgICAgICAgaWYgKHBhcmFtcy5pbmRleERhdGEpIHtcbiAgICAgICAgICAgIGluZGV4VHlwZSA9IHBhcmFtcy5pbmRleFR5cGUgfHwgTWVzaEluZGV4VHlwZS5VbnNpZ25lZFNob3J0O1xuICAgICAgICAgICAgaW5kZXhEYXRhU2l6ZSA9IHBhcmFtcy5pbmRleERhdGEubGVuZ3RoICogaW5kZXhUeXBlO1xuICAgICAgICAgICAgaW5kZXhEYXRhID0gd2FzbS5fbWFsbG9jKGluZGV4RGF0YVNpemUpO1xuICAgICAgICAgICAgLyogQ29weSB0aGUgaW5kZXggZGF0YSBpbnRvIHdhc20gbWVtb3J5ICovXG4gICAgICAgICAgICBzd2l0Y2ggKGluZGV4VHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZEJ5dGU6XG4gICAgICAgICAgICAgICAgICAgIHdhc20uSEVBUFU4LnNldChwYXJhbXMuaW5kZXhEYXRhLCBpbmRleERhdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1lc2hJbmRleFR5cGUuVW5zaWduZWRTaG9ydDpcbiAgICAgICAgICAgICAgICAgICAgd2FzbS5IRUFQVTE2LnNldChwYXJhbXMuaW5kZXhEYXRhLCBpbmRleERhdGEgPj4gMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZEludDpcbiAgICAgICAgICAgICAgICAgICAgd2FzbS5IRUFQVTMyLnNldChwYXJhbXMuaW5kZXhEYXRhLCBpbmRleERhdGEgPj4gMik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc2tpbm5pbmdUeXBlID0gTWVzaFNraW5uaW5nVHlwZS5Ob25lIH0gPSBwYXJhbXM7XG4gICAgICAgIHRoaXMuX2luZGV4ID0gd2FzbS5fd2xfbWVzaF9jcmVhdGUoaW5kZXhEYXRhLCBpbmRleERhdGFTaXplLCBpbmRleFR5cGUsIHBhcmFtcy52ZXJ0ZXhDb3VudCwgc2tpbm5pbmdUeXBlKTtcbiAgICB9XG4gICAgLyoqIE51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGlzIG1lc2guICovXG4gICAgZ2V0IHZlcnRleENvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfZ2V0X3ZlcnRleENvdW50KHRoaXMuX2luZGV4KTtcbiAgICB9XG4gICAgLyoqIEluZGV4IGRhdGEgKHJlYWQtb25seSkgb3IgYG51bGxgIGlmIHRoZSBtZXNoIGlzIG5vdCBpbmRleGVkLiAqL1xuICAgIGdldCBpbmRleERhdGEoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgdGVtcE1lbSA9IHdhc20uX3RlbXBNZW07XG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX21lc2hfZ2V0X2luZGV4RGF0YSh0aGlzLl9pbmRleCwgdGVtcE1lbSwgdGVtcE1lbSArIDQpO1xuICAgICAgICBpZiAocHRyID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IGluZGV4Q291bnQgPSB3YXNtLkhFQVBVMzJbdGVtcE1lbSAvIDRdO1xuICAgICAgICBjb25zdCBpbmRleFNpemUgPSB3YXNtLkhFQVBVMzJbdGVtcE1lbSAvIDQgKyAxXTtcbiAgICAgICAgc3dpdGNoIChpbmRleFNpemUpIHtcbiAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZEJ5dGU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHdhc20uSEVBUFU4LmJ1ZmZlciwgcHRyLCBpbmRleENvdW50KTtcbiAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZFNob3J0OlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDE2QXJyYXkod2FzbS5IRUFQVTE2LmJ1ZmZlciwgcHRyLCBpbmRleENvdW50KTtcbiAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZEludDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KHdhc20uSEVBUFUzMi5idWZmZXIsIHB0ciwgaW5kZXhDb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKiBIb3N0aW5nIGVuZ2luZSBpbnN0YW5jZS4gKi9cbiAgICBnZXQgZW5naW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBseSBjaGFuZ2VzIHRvIHtAbGluayBhdHRyaWJ1dGUgfCB2ZXJ0ZXggYXR0cmlidXRlc30uXG4gICAgICpcbiAgICAgKiBVcGxvYWRzIHRoZSB1cGRhdGVkIHZlcnRleCBhdHRyaWJ1dGVzIHRvIHRoZSBHUFUgYW5kIHVwZGF0ZXMgdGhlIGJvdW5kaW5nXG4gICAgICogc3BoZXJlIHRvIG1hdGNoIHRoZSBuZXcgdmVydGV4IHBvc2l0aW9ucy5cbiAgICAgKlxuICAgICAqIFNpbmNlIHRoaXMgaXMgYW4gZXhwZW5zaXZlIG9wZXJhdGlvbiwgY2FsbCBpdCBvbmx5IG9uY2UgeW91IGhhdmUgcGVyZm9ybWVkXG4gICAgICogYWxsIG1vZGlmaWNhdGlvbnMgb24gYSBtZXNoIGFuZCBhdm9pZCBjYWxsaW5nIGlmIHlvdSBkaWQgbm90IHBlcmZvcm0gYW55XG4gICAgICogbW9kaWZpY2F0aW9ucyBhdCBhbGwuXG4gICAgICovXG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF91cGRhdGUodGhpcy5faW5kZXgpO1xuICAgIH1cbiAgICBnZXRCb3VuZGluZ1NwaGVyZShvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpKSB7XG4gICAgICAgIGNvbnN0IHRlbXBNZW1GbG9hdCA9IHRoaXMuX2VuZ2luZS53YXNtLl90ZW1wTWVtRmxvYXQ7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2dldF9ib3VuZGluZ1NwaGVyZSh0aGlzLl9pbmRleCwgdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW0pO1xuICAgICAgICBvdXRbMF0gPSB0ZW1wTWVtRmxvYXRbMF07XG4gICAgICAgIG91dFsxXSA9IHRlbXBNZW1GbG9hdFsxXTtcbiAgICAgICAgb3V0WzJdID0gdGVtcE1lbUZsb2F0WzJdO1xuICAgICAgICBvdXRbM10gPSB0ZW1wTWVtRmxvYXRbM107XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIGF0dHJpYnV0ZShhdHRyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXR0ciAhPSAnbnVtYmVyJylcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIG51bWJlciwgYnV0IGdvdCAnICsgdHlwZW9mIGF0dHIpO1xuICAgICAgICBjb25zdCB0ZW1wTWVtVWludDMyID0gdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW1VaW50MzI7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2dldF9hdHRyaWJ1dGUodGhpcy5faW5kZXgsIGF0dHIsIHRoaXMuX2VuZ2luZS53YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgaWYgKHRlbXBNZW1VaW50MzJbMF0gPT0gMjU1KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IGFycmF5U2l6ZSA9IHRlbXBNZW1VaW50MzJbNV07XG4gICAgICAgIHJldHVybiBuZXcgTWVzaEF0dHJpYnV0ZUFjY2Vzc29yKHRoaXMuX2VuZ2luZSwge1xuICAgICAgICAgICAgYXR0cmlidXRlOiB0ZW1wTWVtVWludDMyWzBdLFxuICAgICAgICAgICAgb2Zmc2V0OiB0ZW1wTWVtVWludDMyWzFdLFxuICAgICAgICAgICAgc3RyaWRlOiB0ZW1wTWVtVWludDMyWzJdLFxuICAgICAgICAgICAgZm9ybWF0U2l6ZTogdGVtcE1lbVVpbnQzMlszXSxcbiAgICAgICAgICAgIGNvbXBvbmVudENvdW50OiB0ZW1wTWVtVWludDMyWzRdLFxuICAgICAgICAgICAgLyogVGhlIFdBU00gQVBJIHJldHVybnMgYDBgIGZvciBhIHNjYWxhciB2YWx1ZS4gV2UgY2xhbXAgaXQgdG8gMSBhcyB3ZSBzdHJpY3RseSB1c2UgaXQgYXMgYSBtdWx0aXBsaWVyIGZvciBnZXQvc2V0IG9wZXJhdGlvbnMgKi9cbiAgICAgICAgICAgIGFycmF5U2l6ZTogYXJyYXlTaXplID8gYXJyYXlTaXplIDogMSxcbiAgICAgICAgICAgIGxlbmd0aDogdGhpcy52ZXJ0ZXhDb3VudCxcbiAgICAgICAgICAgIGJ1ZmZlclR5cGU6IChhdHRyICE9PSBNZXNoQXR0cmlidXRlLkpvaW50SWRcbiAgICAgICAgICAgICAgICA/IEZsb2F0MzJBcnJheVxuICAgICAgICAgICAgICAgIDogVWludDE2QXJyYXkpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZnJlZSB0aGUgbWVzaGVzIG1lbW9yeS5cbiAgICAgKlxuICAgICAqIEl0IGlzIGJlc3QgcHJhY3RpY2UgdG8gc2V0IHRoZSBtZXNoIHZhcmlhYmxlIHRvIGBudWxsYCBhZnRlciBjYWxsaW5nXG4gICAgICogZGVzdHJveSB0byBwcmV2ZW50IGFjY2lkZW50YWwgdXNlOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIG1lc2guZGVzdHJveSgpO1xuICAgICAqICAgbWVzaCA9IG51bGw7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBBY2Nlc3NpbmcgdGhlIG1lc2ggYWZ0ZXIgZGVzdHJ1Y3Rpb24gYmVoYXZlcyBsaWtlIGFjY2Vzc2luZyBhbiBlbXB0eVxuICAgICAqIG1lc2guXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC45LjBcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9kZXN0cm95KHRoaXMuX2luZGV4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSBtZXNoIGlkcyBhcmVcbiAgICAgKiBlcXVhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlck1lc2ggTWVzaCB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBtZXNoIGVxdWFscyB0aGUgZ2l2ZW4gbWVzaC5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGVxdWFscyhvdGhlck1lc2gpIHtcbiAgICAgICAgaWYgKCFvdGhlck1lc2gpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleCA9PT0gb3RoZXJNZXNoLl9pbmRleDtcbiAgICB9XG59XG4vKipcbiAqIEFuIGl0ZXJhdG9yIG92ZXIgYSBtZXNoIHZlcnRleCBhdHRyaWJ1dGUuXG4gKlxuICogVXNhZ2U6XG4gKlxuICogYGBganNcbiAqICAgY29uc3QgbWVzaCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnbWVzaCcpLm1lc2g7XG4gKiAgIGNvbnN0IHBvc2l0aW9ucyA9IG1lc2guYXR0cmlidXRlKFdMLk1lc2hBdHRyaWJ1dGUuUG9zaXRpb24pO1xuICpcbiAqICAgY29uc3QgdGVtcCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gKiAgIGZvcihpbnQgaSA9IDA7IGkgPCBwb3NpdGlvbnMubGVuZ3RoOyArK2kpIHtcbiAqICAgICAgIC8vIHBvcyB3aWxsIHJlZmVyZW5jZSB0ZW1wIGFuZCB0aGVyZWJ5IG5vdCBhbGxvY2F0ZSBhZGRpdGlvbmFsXG4gKiAgICAgICAvLyBKYXZhU2NyaXB0IGdhcmJhZ2UsIHdoaWNoIHdvdWxkIGNhdXNlIGEgcGVyZiBzcGlrZSB3aGVuIGNvbGxlY3RlZC5cbiAqICAgICAgIGNvbnN0IHBvcyA9IHBvc2l0aW9ucy5nZXQoaSwgdGVtcCk7XG4gKiAgICAgICAvLyBzY2FsZSBwb3NpdGlvbiBieSAyIG9uIFggYXhpcyBvbmx5XG4gKiAgICAgICBwb3NbMF0gKj0gMi4wZjtcbiAqICAgICAgIHBvc2l0aW9ucy5zZXQoaSwgcG9zKTtcbiAqICAgfVxuICogICAvLyB3ZSdyZSBkb25lIG1vZGlmeWluZywgdGVsbCB0aGUgZW5naW5lIHRvIG1vdmUgdmVydGV4IGRhdGEgdG8gdGhlIEdQVVxuICogICBtZXNoLnVwZGF0ZSgpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBNZXNoQXR0cmlidXRlQWNjZXNzb3Ige1xuICAgIC8qKiBNYXggbnVtYmVyIG9mIGVsZW1lbnRzLiAqL1xuICAgIGxlbmd0aCA9IDA7XG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXG4gICAgX2VuZ2luZTtcbiAgICAvKiogQXR0cmlidXRlIGluZGV4LiBAaGlkZGVuICovXG4gICAgX2F0dHJpYnV0ZSA9IC0xO1xuICAgIC8qKiBBdHRyaWJ1dGUgb2Zmc2V0LiBAaGlkZGVuICovXG4gICAgX29mZnNldCA9IDA7XG4gICAgLyoqIEF0dHJpYnV0ZSBzdHJpZGUuIEBoaWRkZW4gKi9cbiAgICBfc3RyaWRlID0gMDtcbiAgICAvKiogRm9ybWF0IHNpemUgbmF0aXZlIGVudW0uIEBoaWRkZW4gKi9cbiAgICBfZm9ybWF0U2l6ZSA9IDA7XG4gICAgLyoqIE51bWJlciBvZiBjb21wb25lbnRzIHBlciB2ZXJ0ZXguIEBoaWRkZW4gKi9cbiAgICBfY29tcG9uZW50Q291bnQgPSAwO1xuICAgIC8qKiBOdW1iZXIgb2YgdmFsdWVzIHBlciB2ZXJ0ZXguIEBoaWRkZW4gKi9cbiAgICBfYXJyYXlTaXplID0gMTtcbiAgICAvKipcbiAgICAgKiBDbGFzcyB0byBpbnN0YW50aWF0ZSBhbiBBcnJheUJ1ZmZlciB0byBnZXQvc2V0IHZhbHVlcy5cbiAgICAgKi9cbiAgICBfYnVmZmVyVHlwZTtcbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB0byBhbGxvY2F0ZSB0ZW1wb3JhcnkgV0FTTSBtZW1vcnkuIEl0IGlzIGNhY2hlZCBpbiB0aGUgYWNjZXNzb3IgdG8gYXZvaWRcbiAgICAgKiBjb25kaXRpb25hbHMgZHVyaW5nIGdldC9zZXQuXG4gICAgICovXG4gICAgX3RlbXBCdWZmZXJHZXR0ZXI7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQG5vdGUgUGxlYXNlIHVzZSB7QGxpbmsgTWVzaC5hdHRyaWJ1dGV9IHRvIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIENvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IGhvdyB0byByZWFkIHRoZSBkYXRhLlxuICAgICAqIEBub3RlIERvIG5vdCB1c2UgdGhpcyBjb25zdHJ1Y3Rvci4gSW5zdGVhZCwgcGxlYXNlIHVzZSB0aGUge0BsaW5rIE1lc2guYXR0cmlidXRlfSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB0aGlzLl9hdHRyaWJ1dGUgPSBvcHRpb25zLmF0dHJpYnV0ZTtcbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gb3B0aW9ucy5vZmZzZXQ7XG4gICAgICAgIHRoaXMuX3N0cmlkZSA9IG9wdGlvbnMuc3RyaWRlO1xuICAgICAgICB0aGlzLl9mb3JtYXRTaXplID0gb3B0aW9ucy5mb3JtYXRTaXplO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRDb3VudCA9IG9wdGlvbnMuY29tcG9uZW50Q291bnQ7XG4gICAgICAgIHRoaXMuX2FycmF5U2l6ZSA9IG9wdGlvbnMuYXJyYXlTaXplO1xuICAgICAgICB0aGlzLl9idWZmZXJUeXBlID0gb3B0aW9ucy5idWZmZXJUeXBlO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IG9wdGlvbnMubGVuZ3RoO1xuICAgICAgICB0aGlzLl90ZW1wQnVmZmVyR2V0dGVyID0gKHRoaXMuX2J1ZmZlclR5cGUgPT09IEZsb2F0MzJBcnJheVxuICAgICAgICAgICAgPyB3YXNtLmdldFRlbXBCdWZmZXJGMzIuYmluZCh3YXNtKVxuICAgICAgICAgICAgOiB3YXNtLmdldFRlbXBCdWZmZXJVMTYuYmluZCh3YXNtKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBUeXBlZEFycmF5IHRvIGhvbGQgdGhpcyBhdHRyaWJ1dGUncyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VmdWwgdG8gY3JlYXRlIGEgdmlldyB0byBob2xkIHRoZSBkYXRhIHRvXG4gICAgICogcGFzcyB0byB7QGxpbmsgZ2V0fSBhbmQge0BsaW5rIHNldH1cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGNvbnN0IHZlcnRleENvdW50ID0gNDtcbiAgICAgKiBjb25zdCBwb3NpdGlvbkF0dHJpYnV0ZSA9IG1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGVzLlBvc2l0aW9uKTtcbiAgICAgKlxuICAgICAqIC8vIEEgcG9zaXRpb24gaGFzIDMgZmxvYXRzIHBlciB2ZXJ0ZXguIFRodXMsIHBvc2l0aW9ucyBoYXMgbGVuZ3RoIDMgKiA0LlxuICAgICAqIGNvbnN0IHBvc2l0aW9ucyA9IHBvc2l0aW9uQXR0cmlidXRlLmNyZWF0ZUFycmF5KHZlcnRleENvdW50KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqdmVydGljZXMqKiBleHBlY3RlZC5cbiAgICAgKiBAcmV0dXJucyBBIFR5cGVkQXJyYXkgd2l0aCB0aGUgYXBwcm9wcmlhdGUgZm9ybWF0IHRvIGFjY2VzcyB0aGUgZGF0YVxuICAgICAqL1xuICAgIGNyZWF0ZUFycmF5KGNvdW50ID0gMSkge1xuICAgICAgICBjb3VudCA9IGNvdW50ID4gdGhpcy5sZW5ndGggPyB0aGlzLmxlbmd0aCA6IGNvdW50O1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMuX2J1ZmZlclR5cGUoY291bnQgKiB0aGlzLl9jb21wb25lbnRDb3VudCAqIHRoaXMuX2FycmF5U2l6ZSk7XG4gICAgfVxuICAgIGdldChpbmRleCwgb3V0ID0gdGhpcy5jcmVhdGVBcnJheSgpKSB7XG4gICAgICAgIGlmIChvdXQubGVuZ3RoICUgdGhpcy5fY29tcG9uZW50Q291bnQgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgb3V0Lmxlbmd0aCwgJHtvdXQubGVuZ3RofSBpcyBub3QgYSBtdWx0aXBsZSBvZiB0aGUgYXR0cmlidXRlIHZlY3RvciBjb21wb25lbnRzLCAke3RoaXMuX2NvbXBvbmVudENvdW50fWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlc3QgPSB0aGlzLl90ZW1wQnVmZmVyR2V0dGVyKG91dC5sZW5ndGgpO1xuICAgICAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuX2J1ZmZlclR5cGUuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgIGNvbnN0IGRlc3RTaXplID0gZWxlbWVudFNpemUgKiBvdXQubGVuZ3RoO1xuICAgICAgICBjb25zdCBzcmNGb3JtYXRTaXplID0gdGhpcy5fZm9ybWF0U2l6ZSAqIHRoaXMuX2FycmF5U2l6ZTtcbiAgICAgICAgY29uc3QgZGVzdEZvcm1hdFNpemUgPSB0aGlzLl9jb21wb25lbnRDb3VudCAqIGVsZW1lbnRTaXplICogdGhpcy5fYXJyYXlTaXplO1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9nZXRfYXR0cmlidXRlX3ZhbHVlcyh0aGlzLl9hdHRyaWJ1dGUsIHNyY0Zvcm1hdFNpemUsIHRoaXMuX29mZnNldCArIGluZGV4ICogdGhpcy5fc3RyaWRlLCB0aGlzLl9zdHJpZGUsIGRlc3RGb3JtYXRTaXplLCBkZXN0LmJ5dGVPZmZzZXQsIGRlc3RTaXplKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXQubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICBvdXRbaV0gPSBkZXN0W2ldO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYXR0cmlidXRlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaSBJbmRleFxuICAgICAqIEBwYXJhbSB2IFZhbHVlIHRvIHNldCB0aGUgZWxlbWVudCB0b1xuICAgICAqXG4gICAgICogYHYubGVuZ3RoYCBuZWVkcyB0byBiZSBhIG11bHRpcGxlIG9mIHRoZSBhdHRyaWJ1dGVzIGNvbXBvbmVudCBjb3VudCwgc2VlXG4gICAgICoge0BsaW5rIE1lc2hBdHRyaWJ1dGV9LiBJZiBgdi5sZW5ndGhgIGlzIG1vcmUgdGhhbiBvbmUgbXVsdGlwbGUsIGl0IHdpbGwgYmVcbiAgICAgKiBmaWxsZWQgd2l0aCB0aGUgbmV4dCBuIGF0dHJpYnV0ZSBlbGVtZW50cywgd2hpY2ggY2FuIHJlZHVjZSBvdmVyaGVhZFxuICAgICAqIG9mIHRoaXMgY2FsbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKVxuICAgICAqL1xuICAgIHNldChpLCB2KSB7XG4gICAgICAgIGlmICh2Lmxlbmd0aCAlIHRoaXMuX2NvbXBvbmVudENvdW50ICE9PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBvdXQubGVuZ3RoLCAke3YubGVuZ3RofSBpcyBub3QgYSBtdWx0aXBsZSBvZiB0aGUgYXR0cmlidXRlIHZlY3RvciBjb21wb25lbnRzLCAke3RoaXMuX2NvbXBvbmVudENvdW50fWApO1xuICAgICAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuX2J1ZmZlclR5cGUuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgIGNvbnN0IHNyY1NpemUgPSBlbGVtZW50U2l6ZSAqIHYubGVuZ3RoO1xuICAgICAgICBjb25zdCBzcmNGb3JtYXRTaXplID0gdGhpcy5fY29tcG9uZW50Q291bnQgKiBlbGVtZW50U2l6ZSAqIHRoaXMuX2FycmF5U2l6ZTtcbiAgICAgICAgY29uc3QgZGVzdEZvcm1hdFNpemUgPSB0aGlzLl9mb3JtYXRTaXplICogdGhpcy5fYXJyYXlTaXplO1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIC8qIFVubGVzcyB3ZSBhcmUgYWxyZWFkeSB3b3JraW5nIHdpdGggZGF0YSBmcm9tIFdBU00gaGVhcCwgd2VcbiAgICAgICAgICogbmVlZCB0byBjb3B5IGludG8gdGVtcG9yYXJ5IG1lbW9yeS4gKi9cbiAgICAgICAgaWYgKHYuYnVmZmVyICE9IHdhc20uSEVBUFU4LmJ1ZmZlcikge1xuICAgICAgICAgICAgY29uc3QgZGVzdCA9IHRoaXMuX3RlbXBCdWZmZXJHZXR0ZXIodi5sZW5ndGgpO1xuICAgICAgICAgICAgZGVzdC5zZXQodik7XG4gICAgICAgICAgICB2ID0gZGVzdDtcbiAgICAgICAgfVxuICAgICAgICB3YXNtLl93bF9tZXNoX3NldF9hdHRyaWJ1dGVfdmFsdWVzKHRoaXMuX2F0dHJpYnV0ZSwgc3JjRm9ybWF0U2l6ZSwgdi5ieXRlT2Zmc2V0LCBzcmNTaXplLCBkZXN0Rm9ybWF0U2l6ZSwgdGhpcy5fb2Zmc2V0ICsgaSAqIHRoaXMuX3N0cmlkZSwgdGhpcy5fc3RyaWRlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBhIG5hdGl2ZSBtYXRlcmlhbC5cbiAqXG4gKiBFYWNoIG1hdGVyaWFsIGluc3RhbmNlIHdpbGwgaGF2ZSBwcm9wZXJ0aWVzIGFzc29jaWF0ZWQgdG8gdGhlIHBpcGVsaW5lIGl0IHVzZXMuXG4gKiBUaGUgbWF0ZXJpYWwgcHJvcGVydGllcyBhcmUgYXV0b21hdGljYWxseSBhZGRlZCB0byBlYWNoIG1hdGVyaWFsIGluc3RhbmNlLCBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBtYXRlcmlhbCA9IG1lc2gubWF0ZXJpYWw7IC8vIE1hdGVyaWFsIHdpdGggYSBgUGhvbmcgT3BhcXVlIFRleHR1cmVkYCBwaXBlbGluZVxuICogLy8gWW91IGNhbiBhY2Nlc3MgYWxsIHRoZSBtYXRlcmlhbCBwcm9wZXJ0aWVzIGZyb20gdGhlIGVkaXRvciB1c2luZzpcbiAqIG1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlID0gbnVsbDtcbiAqIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IFsxLjAsIDAuMCwgMC4wLCAxLjBdO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBNYXRlcmlhbCB7XG4gICAgLyoqXG4gICAgICogSW5kZXggb2YgdGhpcyBtYXRlcmlhbCBpbiB0aGUgbWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfaW5kZXg7XG4gICAgLyoqXG4gICAgICogTWF0ZXJpYWwgZGVmaW5pdGlvbiBpbmRleCBpbiB0aGUgc2NlbmUuXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgX2RlZmluaXRpb247XG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXG4gICAgX2VuZ2luZTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgTWF0ZXJpYWwuXG4gICAgICpcbiAgICAgKiBAbm90ZSBDcmVhdGluZyBtYXRlcmlhbCBpcyBleHBlbnNpdmUuIFBsZWFzZSB1c2Uge0BsaW5rIE1hdGVyaWFsI2Nsb25lfSB0byBjbG9uZSBhIG1hdGVyaWFsLlxuICAgICAqIEBub3RlIERvIG5vdCB1c2UgdGhpcyBjb25zdHJ1Y3RvciBkaXJlY3RseSB3aXRoIGFuIGluZGV4LCB0aGlzIGlzIHJlc2VydmVkIGZvciBpbnRlcm5hbCBwdXJwb3Nlcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIHBhcmFtcykge1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1zICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKCFwYXJhbXM/LnBpcGVsaW5lKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcGFyYW1ldGVyICdwaXBlbGluZSdcIik7XG4gICAgICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgICAgICBjb25zdCBwaXBlbGluZSA9IHBhcmFtcy5waXBlbGluZTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gd2FzbS5fd2xfbWF0ZXJpYWxfY3JlYXRlKHdhc20udGVtcFVURjgocGlwZWxpbmUpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbmRleCA8IDApXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzdWNoIHBpcGVsaW5lICcke3BpcGVsaW5lfSdgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gcGFyYW1zO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RlZmluaXRpb24gPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWF0ZXJpYWxfZ2V0X2RlZmluaXRpb24odGhpcy5faW5kZXgpO1xuICAgICAgICBpZiAoIXRoaXMuX2VuZ2luZS53YXNtLl9tYXRlcmlhbERlZmluaXRpb25zW3RoaXMuX2RlZmluaXRpb25dKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYXRlcmlhbCBEZWZpbml0aW9uICR7dGhpcy5fZGVmaW5pdGlvbn0gbm90IGZvdW5kIGZvciBtYXRlcmlhbCB3aXRoIGluZGV4ICR7dGhpcy5faW5kZXh9YCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkodGhpcywge1xuICAgICAgICAgICAgZ2V0KHRhcmdldCwgcHJvcCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhc20gPSBlbmdpbmUud2FzbTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gd2FzbS5fbWF0ZXJpYWxEZWZpbml0aW9uc1t0YXJnZXQuX2RlZmluaXRpb25dO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gZGVmaW5pdGlvbi5nZXQocHJvcCk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJhbSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICAgICAgICAgICAgICBpZiAod2FzbS5fd2xfbWF0ZXJpYWxfZ2V0X3BhcmFtX3ZhbHVlKHRhcmdldC5faW5kZXgsIHBhcmFtLmluZGV4LCB3YXNtLl90ZW1wTWVtKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gcGFyYW0udHlwZTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuVW5zaWduZWRJbnQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUuY29tcG9uZW50Q291bnQgPT0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHdhc20uX3RlbXBNZW1VaW50MzJbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgVWludDMyQXJyYXkod2FzbS5IRUFQVTMyLmJ1ZmZlciwgd2FzbS5fdGVtcE1lbSwgdHlwZS5jb21wb25lbnRDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLkludDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZS5jb21wb25lbnRDb3VudCA9PSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gd2FzbS5fdGVtcE1lbUludFswXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBJbnQzMkFycmF5KHdhc20uSEVBUDMyLmJ1ZmZlciwgd2FzbS5fdGVtcE1lbSwgdHlwZS5jb21wb25lbnRDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLkZsb2F0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlLmNvbXBvbmVudENvdW50ID09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB3YXNtLl90ZW1wTWVtRmxvYXRbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3RlbXBNZW0sIHR5cGUuY29tcG9uZW50Q291bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5TYW1wbGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbmdpbmUudGV4dHVyZXMud3JhcCh3YXNtLl90ZW1wTWVtSW50WzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHR5cGUgJHt0eXBlLnR5cGV9IG9uIHBhcmFtZXRlciAke3BhcmFtLmluZGV4fSBmb3IgbWF0ZXJpYWwgJHt0YXJnZXQuX2luZGV4fWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2FzbSA9IGVuZ2luZS53YXNtO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSB3YXNtLl9tYXRlcmlhbERlZmluaXRpb25zW3RhcmdldC5fZGVmaW5pdGlvbl07XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW0gPSBkZWZpbml0aW9uLmdldChwcm9wKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHBhcmFtLnR5cGU7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5VbnNpZ25lZEludDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5JbnQ6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuU2FtcGxlcjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHYgPSB2YWx1ZS5pZCA/PyB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhc20uX3dsX21hdGVyaWFsX3NldF9wYXJhbV92YWx1ZV91aW50KHRhcmdldC5faW5kZXgsIHBhcmFtLmluZGV4LCB2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsUGFyYW1UeXBlLkZsb2F0OlxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFtpXSA9IHZhbHVlW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgd2FzbS5fd2xfbWF0ZXJpYWxfc2V0X3BhcmFtX3ZhbHVlX2Zsb2F0KHRhcmdldC5faW5kZXgsIHBhcmFtLmluZGV4LCB3YXNtLl90ZW1wTWVtLCBjb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5Gb250OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZXR0aW5nIGZvbnQgcHJvcGVydGllcyBpcyBjdXJyZW50bHkgdW5zdXBwb3J0ZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rICNwaXBlbGluZX0gaW5zdGVhZC4gKi9cbiAgICBnZXQgc2hhZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5waXBlbGluZTtcbiAgICB9XG4gICAgLyoqIE5hbWUgb2YgdGhlIHBpcGVsaW5lIHVzZWQgYnkgdGhpcyBtYXRlcmlhbC4gKi9cbiAgICBnZXQgcGlwZWxpbmUoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKHdhc20uX3dsX21hdGVyaWFsX2dldF9waXBlbGluZSh0aGlzLl9pbmRleCkpO1xuICAgIH1cbiAgICAvKiogSG9zdGluZyBlbmdpbmUgaW5zdGFuY2UuICovXG4gICAgZ2V0IGVuZ2luZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgY29weSBvZiB0aGUgdW5kZXJseWluZyBuYXRpdmUgbWF0ZXJpYWwuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBNYXRlcmlhbCBjbG9uZS5cbiAgICAgKi9cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWF0ZXJpYWxfY2xvbmUodGhpcy5faW5kZXgpO1xuICAgICAgICByZXR1cm4gaWQgPiAwID8gbmV3IE1hdGVyaWFsKHRoaXMuX2VuZ2luZSwgaWQpIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSBtYXRlcmlhbCBpZHMgYXJlXG4gICAgICogZXF1YWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXJNYXRlcmlhbCBNYXRlcmlhbCB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBtYXRlcmlhbCBlcXVhbHMgdGhlIGdpdmVuIG1hdGVyaWFsLlxuICAgICAqXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgZXF1YWxzKG90aGVyTWF0ZXJpYWwpIHtcbiAgICAgICAgaWYgKCFvdGhlck1hdGVyaWFsKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXggPT09IG90aGVyTWF0ZXJpYWwuX2luZGV4O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcmFwIGEgbmF0aXZlIG1hdGVyaWFsIGluZGV4LlxuICAgICAqXG4gICAgICogQHBhcmFtIGVuZ2luZSBFbmdpbmUgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIGluZGV4IFRoZSBpbmRleC5cbiAgICAgKiBAcmV0dXJucyBNYXRlcmlhbCBpbnN0YW5jZSBvciBgbnVsbGAgaWYgaW5kZXggPD0gMC5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2UgYG5ldyBNYXRlcmlhbCgpYCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIHN0YXRpYyB3cmFwKGVuZ2luZSwgaW5kZXgpIHtcbiAgICAgICAgLyoqIEB0b2RvOiB0aGlzIHByb3BhZ2F0ZSBudWxsYWJsZSBpbiB0aGUgZW50aXJlIGNvZGViYXNlLiBSZW1vdmUuICovXG4gICAgICAgIHJldHVybiBpbmRleCA+IDAgPyBuZXcgTWF0ZXJpYWwoZW5naW5lLCBpbmRleCkgOiBudWxsO1xuICAgIH1cbn1cbi8qKiBUZW1wb3JhcnkgY2FudmFzICovXG5sZXQgdGVtcDJkID0gbnVsbDtcbi8qKlxuICogV3JhcHBlciBhcm91bmQgYSBuYXRpdmUgdGV4dHVyZSBkYXRhLlxuICovXG5leHBvcnQgY2xhc3MgVGV4dHVyZSB7XG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXG4gICAgX2VuZ2luZTtcbiAgICAvKiogSW5kZXggaW4gdGhlIG1hbmFnZXIuIEBoaWRkZW4gKi9cbiAgICBfaWQgPSAwO1xuICAgIC8qKiBIVE1MIGltYWdlIGluZGV4LiBAaGlkZGVuICovXG4gICAgX2ltYWdlSW5kZXggPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBlbmdpbmUgVGhlIGVuZ2luZSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSBwYXJhbSBIVE1MIG1lZGlhIGVsZW1lbnQgdG8gY3JlYXRlIHRleHR1cmUgZnJvbSBvciB0ZXh0dXJlIGlkIHRvIHdyYXAuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBwYXJhbSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmUgPz8gV0w7XG4gICAgICAgIGNvbnN0IHdhc20gPSBlbmdpbmUud2FzbTtcbiAgICAgICAgaWYgKHBhcmFtIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCB8fFxuICAgICAgICAgICAgcGFyYW0gaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50IHx8XG4gICAgICAgICAgICBwYXJhbSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHdhc20uX2ltYWdlcy5sZW5ndGg7XG4gICAgICAgICAgICB3YXNtLl9pbWFnZXMucHVzaChwYXJhbSk7XG4gICAgICAgICAgICB0aGlzLl9pbWFnZUluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICB0aGlzLl9pZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9yZW5kZXJlcl9hZGRJbWFnZShpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pZCA9IHBhcmFtO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VuZ2luZS50ZXh0dXJlcy5fc2V0KHRoaXMpO1xuICAgIH1cbiAgICAvKiogV2hldGhlciB0aGlzIHRleHR1cmUgaXMgdmFsaWQuICovXG4gICAgZ2V0IHZhbGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQgPj0gMDtcbiAgICB9XG4gICAgLyoqIEluZGV4IGluIHRoaXMgbWFuYWdlci4gKi9cbiAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9XG4gICAgLyoqIFVwZGF0ZSB0aGUgdGV4dHVyZSB0byBtYXRjaCB0aGUgSFRNTCBlbGVtZW50IChlLmcuIHJlZmxlY3QgdGhlIGN1cnJlbnQgZnJhbWUgb2YgYSB2aWRlbykuICovXG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWQgfHwgdGhpcy5faW1hZ2VJbmRleCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3JlbmRlcmVyX3VwZGF0ZUltYWdlKHRoaXMuX2lkLCB0aGlzLl9pbWFnZUluZGV4KTtcbiAgICB9XG4gICAgLyoqIFdpZHRoIG9mIHRoZSB0ZXh0dXJlLiAqL1xuICAgIGdldCB3aWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0dXJlX3dpZHRoKHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqIEhlaWdodCBvZiB0aGUgdGV4dHVyZS4gKi9cbiAgICBnZXQgaGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHR1cmVfaGVpZ2h0KHRoaXMuX2lkKTtcbiAgICB9XG4gICAgLyoqIEhvc3RpbmcgZW5naW5lIGluc3RhbmNlLiAqL1xuICAgIGdldCBlbmdpbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhIHN1YnJhbmdlIG9uIHRoZSB0ZXh0dXJlIHRvIG1hdGNoIHRoZSBIVE1MIGVsZW1lbnQgKGUuZy4gcmVmbGVjdCB0aGUgY3VycmVudCBmcmFtZSBvZiBhIHZpZGVvKS5cbiAgICAgKlxuICAgICAqIFVzYWdlOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAvLyBDb3BpZXMgcmVjdGFuZ2xlIG9mIHBpeGVsIHN0YXJ0aW5nIGZyb20gKDEwLCAyMClcbiAgICAgKiB0ZXh0dXJlLnVwZGF0ZVN1YkltYWdlKDEwLCAyMCwgNjAwLCA0MDApO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHggeCBvZmZzZXRcbiAgICAgKiBAcGFyYW0geSB5IG9mZnNldFxuICAgICAqIEBwYXJhbSB3IHdpZHRoXG4gICAgICogQHBhcmFtIGggaGVpZ2h0XG4gICAgICovXG4gICAgdXBkYXRlU3ViSW1hZ2UoeCwgeSwgdywgaCkge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWQgfHwgdGhpcy5faW1hZ2VJbmRleCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgLyogTGF6eSBpbml0aWFsaXplIHRlbXAgY2FudmFzICovXG4gICAgICAgIGlmICghdGVtcDJkKSB7XG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgaWYgKCFjdHgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHR1cmUudXBkYXRlU3ViSW1hZ2UoKTogRmFpbGVkIHRvIG9idGFpbiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wMmQgPSB7IGNhbnZhcywgY3R4IH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBpbWcgPSB3YXNtLl9pbWFnZXNbdGhpcy5faW1hZ2VJbmRleF07XG4gICAgICAgIGlmICghaW1nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0ZW1wMmQuY2FudmFzLndpZHRoID0gdztcbiAgICAgICAgdGVtcDJkLmNhbnZhcy5oZWlnaHQgPSBoO1xuICAgICAgICB0ZW1wMmQuY3R4LmRyYXdJbWFnZShpbWcsIHgsIHksIHcsIGgsIDAsIDAsIHcsIGgpO1xuICAgICAgICBjb25zdCB5T2Zmc2V0ID0gKGltZy52aWRlb0hlaWdodCA/PyBpbWcuaGVpZ2h0KSAtIHkgLSBoO1xuICAgICAgICB3YXNtLl9pbWFnZXNbdGhpcy5faW1hZ2VJbmRleF0gPSB0ZW1wMmQuY2FudmFzO1xuICAgICAgICB3YXNtLl93bF9yZW5kZXJlcl91cGRhdGVJbWFnZSh0aGlzLl9pZCwgdGhpcy5faW1hZ2VJbmRleCwgeCwgeU9mZnNldCk7XG4gICAgICAgIHdhc20uX2ltYWdlc1t0aGlzLl9pbWFnZUluZGV4XSA9IGltZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZnJlZSB0aGUgdGV4dHVyZSdzIHRleHR1cmUgYWx0YXMgc3BhY2UgYW5kIG1lbW9yeS5cbiAgICAgKlxuICAgICAqIEl0IGlzIGJlc3QgcHJhY3RpY2UgdG8gc2V0IHRoZSB0ZXh0dXJlIHZhcmlhYmxlIHRvIGBudWxsYCBhZnRlciBjYWxsaW5nXG4gICAgICogZGVzdHJveSB0byBwcmV2ZW50IGFjY2lkZW50YWwgdXNlIG9mIHRoZSBpbnZhbGlkIHRleHR1cmU6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgdGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICogICB0ZXh0dXJlID0gbnVsbDtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjkuMFxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLnRleHR1cmVzLl9kZXN0cm95KHRoaXMpO1xuICAgICAgICB0aGlzLl9pZCA9IC0xO1xuICAgICAgICB0aGlzLl9pbWFnZUluZGV4ID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSB0ZXh0dXJlIGlkcyBhcmVcbiAgICAgKiBlcXVhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlclRleHR1cmUgVGV4dHVyZSB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyB0ZXh0dXJlIGVxdWFscyB0aGUgZ2l2ZW4gdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGVxdWFscyhvdGhlclRleHR1cmUpIHtcbiAgICAgICAgaWYgKCFvdGhlclRleHR1cmUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZCA9PT0gb3RoZXJUZXh0dXJlLl9pZDtcbiAgICB9XG59XG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIGEgbmF0aXZlIGFuaW1hdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbiB7XG4gICAgLyoqIEluZGV4IG9mIHRoZSBtZXNoIGluIHRoZSBtYW5hZ2VyLiBAaGlkZGVuICovXG4gICAgX2luZGV4O1xuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xuICAgIF9lbmdpbmU7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGluZGV4IEluZGV4IGluIHRoZSBtYW5hZ2VyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZW5naW5lID0gV0wsIGluZGV4KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcbiAgICAgICAgdGhpcy5faW5kZXggPSBpbmRleDtcbiAgICB9XG4gICAgLyoqIER1cmF0aW9uIG9mIHRoaXMgYW5pbWF0aW9uLiAqL1xuICAgIGdldCBkdXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fZ2V0X2R1cmF0aW9uKHRoaXMuX2luZGV4KTtcbiAgICB9XG4gICAgLyoqIE51bWJlciBvZiB0cmFja3MgaW4gdGhpcyBhbmltYXRpb24uICovXG4gICAgZ2V0IHRyYWNrQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2dldF90cmFja0NvdW50KHRoaXMuX2luZGV4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhpcyBhbmltYXRpb24gcmV0YXJnZXRlZCB0byBhIG5ldyBzZXQgb2Ygb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIFRoZSBjbG9uZSBzaGFyZXMgbW9zdCBvZiB0aGUgZGF0YSB3aXRoIHRoZSBvcmlnaW5hbCBhbmQgaXMgdGhlcmVmb3JlXG4gICAgICogbGlnaHQtd2VpZ2h0LlxuICAgICAqXG4gICAgICogKipFeHBlcmltZW50YWw6KiogVGhpcyBBUEkgbWlnaHQgY2hhbmdlIGluIHVwY29taW5nIHZlcnNpb25zLlxuICAgICAqXG4gICAgICogSWYgcmV0YXJnZXRpbmcgdG8ge0BsaW5rIFNraW59LCB0aGUgam9pbiBuYW1lcyB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGEgbWFwcGluZ1xuICAgICAqIGZyb20gdGhlIHByZXZpb3VzIHNraW4gdG8gdGhlIG5ldyBza2luLiBUaGUgc291cmNlIHNraW4gd2lsbCBiZSByZXRyaWV2ZWQgZnJvbVxuICAgICAqIHRoZSBmaXJzdCB0cmFjayBpbiB0aGUgYW5pbWF0aW9uIHRoYXQgdGFyZ2V0cyBhIGpvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIG5ld1RhcmdldHMgTmV3IHRhcmdldHMgcGVyIHRyYWNrLiBFeHBlY3RlZCB0byBoYXZlXG4gICAgICogICAgICB7QGxpbmsgQW5pbWF0aW9uI3RyYWNrQ291bnR9IGVsZW1lbnRzIG9yIHRvIGJlIGEge0BsaW5rIFNraW59LlxuICAgICAqIEByZXR1cm5zIFRoZSByZXRhcmdldGVkIGNsb25lIG9mIHRoaXMgYW5pbWF0aW9uLlxuICAgICAqL1xuICAgIHJldGFyZ2V0KG5ld1RhcmdldHMpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBpZiAobmV3VGFyZ2V0cyBpbnN0YW5jZW9mIFNraW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1JZCA9IHdhc20uX3dsX2FuaW1hdGlvbl9yZXRhcmdldFRvU2tpbih0aGlzLl9pbmRleCwgbmV3VGFyZ2V0cy5faW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRpb24odGhpcy5fZW5naW5lLCBhbmltSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdUYXJnZXRzLmxlbmd0aCAhPSB0aGlzLnRyYWNrQ291bnQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdFeHBlY3RlZCAnICtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrQ291bnQudG9TdHJpbmcoKSArXG4gICAgICAgICAgICAgICAgJyB0YXJnZXRzLCBidXQgZ290ICcgK1xuICAgICAgICAgICAgICAgIG5ld1RhcmdldHMubGVuZ3RoLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX21hbGxvYygyICogbmV3VGFyZ2V0cy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1RhcmdldHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHdhc20uSEVBUFUxNltwdHIgPj4gKDEgKyBpKV0gPSBuZXdUYXJnZXRzW2ldLm9iamVjdElkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFuaW1JZCA9IHdhc20uX3dsX2FuaW1hdGlvbl9yZXRhcmdldCh0aGlzLl9pbmRleCwgcHRyKTtcbiAgICAgICAgd2FzbS5fZnJlZShwdHIpO1xuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGlvbih0aGlzLl9lbmdpbmUsIGFuaW1JZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBlcXVhbGl0eSBieSBjb21wYXJpbmcgd2hldGhlciB0aGUgd3JhcHBlZCBuYXRpdmUgYW5pbWF0aW9uIGlkc1xuICAgICAqIGFyZSBlcXVhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlckFuaW1hdGlvbiBBbmltYXRpb24gdG8gY2hlY2sgZXF1YWxpdHkgd2l0aC5cbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgYW5pbWF0aW9uIGVxdWFscyB0aGUgZ2l2ZW4gYW5pbWF0aW9uLlxuICAgICAqXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgZXF1YWxzKG90aGVyQW5pbWF0aW9uKSB7XG4gICAgICAgIGlmICghb3RoZXJBbmltYXRpb24pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleCA9PT0gb3RoZXJBbmltYXRpb24uX2luZGV4O1xuICAgIH1cbn1cbi8qKlxuICogU2NlbmUgZ3JhcGggb2JqZWN0LlxuICpcbiAqIE5vZGUgaW4gdGhlIHNjZW5lIGdyYXBoIG9yIFwiZW50aXR5XCIuIENvbnNpc3RzIG9mIHRyYW5zZm9ybWF0aW9uIGFuZCBhIHJlZmVyZW5jZVxuICogdG8gaXRzIHBhcmVudCBvYmplY3QuIFVzdWFsbHkgaG9sZHMgY29tcG9uZW50cyBhbmQgaXMgYWNjZXNzaWJsZSBieSBjb21wb25lbnRzXG4gKiB0aHJvdWdoIHtAbGluayBDb21wb25lbnQjb2JqZWN0fS5cbiAqXG4gKiBPYmplY3RzIGFyZSBzdG9yZWQgaW4gYSBkYXRhIG9yaWVudGVkIG1hbm5lciBpbnNpZGUgV2ViQXNzZW1ibHkgbWVtb3J5LiBUaGlzIGNsYXNzXG4gKiBpcyBhIEphdmFTY3JpcHQgQVBJIHdyYXBwZXIgYXJvdW5kIHRoaXMgbWVtb3J5IGZvciBtb3JlIGNvbnZlbmllbnQgdXNlIGluXG4gKiBjb21wb25lbnRzLlxuICpcbiAqIE9iamVjdHMgY2FuIGJlIGNyZWF0ZWQgYW5kIGFkZGVkIHRvIGEgc2NlbmUgdGhyb3VnaFxuICoge0BsaW5rIFNjZW5lI2FkZE9iamVjdH0gb24gdGhlIHtAbGluayBXb25kZXJsYW5kRW5naW5lLnNjZW5lfS5cbiAqL1xuZXhwb3J0IGNsYXNzIE9iamVjdDNEIHtcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cbiAgICBfZW5naW5lO1xuICAgIC8qKlxuICAgICAqIE9iamVjdCBpbmRleCBpbiB0aGUgbWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfb2JqZWN0SWQgPSAtMTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbyBPYmplY3QgaWQgdG8gd3JhcFxuICAgICAqXG4gICAgICogRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIHBsZWFzZSB1c2Uge0BsaW5rIFdvbmRlcmxhbmRFbmdpbmUud3JhcE9iamVjdH1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIG8pIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0SWQgPSBvO1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIFVzZWZ1bCBmb3IgaWRlbnRpZnlpbmcgb2JqZWN0cyBkdXJpbmcgZGVidWdnaW5nLlxuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyh3YXNtLl93bF9vYmplY3RfbmFtZSh0aGlzLm9iamVjdElkKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgb2JqZWN0J3MgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdOYW1lIFRoZSBuZXcgbmFtZSB0byBzZXQuXG4gICAgICovXG4gICAgc2V0IG5hbWUobmV3TmFtZSkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3dsX29iamVjdF9zZXRfbmFtZSh0aGlzLm9iamVjdElkLCB3YXNtLnRlbXBVVEY4KG5ld05hbWUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyZW50IG9mIHRoaXMgb2JqZWN0IG9yIGBudWxsYCBpZiBwYXJlbnRlZCB0byByb290LlxuICAgICAqL1xuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3BhcmVudCh0aGlzLm9iamVjdElkKTtcbiAgICAgICAgcmV0dXJuIHAgPT09IDAgPyBudWxsIDogdGhpcy5fZW5naW5lLndyYXBPYmplY3QocCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoaWxkcmVuIG9mIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuICAgIGdldCBjaGlsZHJlbigpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW5Db3VudCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfZ2V0X2NoaWxkcmVuX2NvdW50KHRoaXMub2JqZWN0SWQpO1xuICAgICAgICBpZiAoY2hpbGRyZW5Db3VudCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLnJlcXVpcmVUZW1wTWVtKGNoaWxkcmVuQ291bnQgKiAyKTtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9nZXRfY2hpbGRyZW4odGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSwgd2FzbS5fdGVtcE1lbVNpemUgPj4gMSk7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gbmV3IEFycmF5KGNoaWxkcmVuQ291bnQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgY2hpbGRyZW5baV0gPSB0aGlzLl9lbmdpbmUud3JhcE9iamVjdCh3YXNtLl90ZW1wTWVtVWludDE2W2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcGFyZW50IG9iamVjdCB0byBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbm90ZSBSZXBhcmVudGluZyBpcyBub3QgdHJpdmlhbCBhbmQgbWlnaHQgaGF2ZSBhIG5vdGljZWFibGUgcGVyZm9ybWFuY2UgaW1wYWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIG5ld1BhcmVudCBOZXcgcGFyZW50IG9yIGBudWxsYCB0byBwYXJlbnQgdG8gcm9vdFxuICAgICAqL1xuICAgIHNldCBwYXJlbnQobmV3UGFyZW50KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3BhcmVudCh0aGlzLm9iamVjdElkLCBuZXdQYXJlbnQgPT0gbnVsbCA/IDAgOiBuZXdQYXJlbnQub2JqZWN0SWQpO1xuICAgIH1cbiAgICAvKiogT2JqZWN0IGluZGV4IGluIHRoZSBtYW5hZ2VyLiAqL1xuICAgIGdldCBvYmplY3RJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29iamVjdElkO1xuICAgIH1cbiAgICAvKiogSG9zdGluZyBlbmdpbmUgaW5zdGFuY2UuICovXG4gICAgZ2V0IGVuZ2luZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgbG9jYWwgdHJhbnNmb3JtYXRpb24gKHRyYW5zbGF0aW9uLCByb3RhdGlvbiBhbmQgc2NhbGluZykgdG8gaWRlbnRpdHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgcmVzZXRUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfcmVzZXRfdHJhbnNsYXRpb25fcm90YXRpb24odGhpcy5vYmplY3RJZCk7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfcmVzZXRfc2NhbGluZyh0aGlzLm9iamVjdElkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IGxvY2FsIHBvc2l0aW9uIGFuZCByb3RhdGlvbiB0byBpZGVudGl0eS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICByZXNldFBvc2l0aW9uUm90YXRpb24oKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfcmVzZXRfdHJhbnNsYXRpb25fcm90YXRpb24odGhpcy5vYmplY3RJZCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QucmVzZXRQb3NpdGlvblJvdGF0aW9ufSBpbnN0ZWFkLiAqL1xuICAgIHJlc2V0VHJhbnNsYXRpb25Sb3RhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IGxvY2FsIHJvdGF0aW9uLCBrZWVwIHRyYW5zbGF0aW9uLlxuICAgICAqXG4gICAgICogQG5vdGUgVG8gcmVzZXQgYm90aCByb3RhdGlvbiBhbmQgdHJhbnNsYXRpb24sIHByZWZlclxuICAgICAqICAgICAgIHtAbGluayByZXNldFRyYW5zbGF0aW9uUm90YXRpb259LlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHJlc2V0Um90YXRpb24oKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfcmVzZXRfcm90YXRpb24odGhpcy5vYmplY3RJZCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCBsb2NhbCB0cmFuc2xhdGlvbiwga2VlcCByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBub3RlIFRvIHJlc2V0IGJvdGggcm90YXRpb24gYW5kIHRyYW5zbGF0aW9uLCBwcmVmZXJcbiAgICAgKiAgICAgICB7QGxpbmsgcmVzZXRUcmFuc2xhdGlvblJvdGF0aW9ufS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICByZXNldFBvc2l0aW9uKCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3RyYW5zbGF0aW9uKHRoaXMub2JqZWN0SWQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnJlc2V0UG9zaXRpb259IGluc3RlYWQuICovXG4gICAgcmVzZXRUcmFuc2xhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzZXRQb3NpdGlvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCBsb2NhbCBzY2FsaW5nIHRvIGlkZW50aXR5IChgYFsxLjAsIDEuMCwgMS4wXWBgKS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICByZXNldFNjYWxpbmcoKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfcmVzZXRfc2NhbGluZyh0aGlzLm9iamVjdElkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC50cmFuc2xhdGVMb2NhbH0gaW5zdGVhZC4gKi9cbiAgICB0cmFuc2xhdGUodikge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVMb2NhbCh2KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlIG9iamVjdCBieSBhIHZlY3RvciBpbiB0aGUgcGFyZW50J3Mgc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3IgdG8gdHJhbnNsYXRlIGJ5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHRyYW5zbGF0ZUxvY2FsKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF90cmFuc2xhdGUodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGUgb2JqZWN0IGJ5IGEgdmVjdG9yIGluIG9iamVjdCBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2xhdGUgYnkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgdHJhbnNsYXRlT2JqZWN0KHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF90cmFuc2xhdGVfb2JqKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlIG9iamVjdCBieSBhIHZlY3RvciBpbiB3b3JsZCBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2xhdGUgYnkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgdHJhbnNsYXRlV29ybGQodikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3RyYW5zbGF0ZV93b3JsZCh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5yb3RhdGVBeGlzQW5nbGVEZWdMb2NhbH0gaW5zdGVhZC4gKi9cbiAgICByb3RhdGVBeGlzQW5nbGVEZWcoYSwgZCkge1xuICAgICAgICB0aGlzLnJvdGF0ZUF4aXNBbmdsZURlZ0xvY2FsKGEsIGQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUm90YXRlIGFyb3VuZCBnaXZlbiBheGlzIGJ5IGdpdmVuIGFuZ2xlIChkZWdyZWVzKSBpbiBsb2NhbCBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhIFZlY3RvciByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uIGF4aXMuXG4gICAgICogQHBhcmFtIGQgQW5nbGUgaW4gZGVncmVlcy5cbiAgICAgKlxuICAgICAqIEBub3RlIElmIHRoZSBvYmplY3QgaXMgdHJhbnNsYXRlZCB0aGUgcm90YXRpb24gd2lsbCBiZSBhcm91bmRcbiAgICAgKiAgICAgdGhlIHBhcmVudC4gVG8gcm90YXRlIGFyb3VuZCB0aGUgb2JqZWN0IG9yaWdpbiwgdXNlXG4gICAgICogICAgIHtAbGluayByb3RhdGVBeGlzQW5nbGVEZWdPYmplY3R9XG4gICAgICpcbiAgICAgKiBAc2VlIHtAbGluayByb3RhdGVBeGlzQW5nbGVSYWR9XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgcm90YXRlQXhpc0FuZ2xlRGVnTG9jYWwoYSwgZCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9heGlzX2FuZ2xlKHRoaXMub2JqZWN0SWQsIGFbMF0sIGFbMV0sIGFbMl0sIGQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnJvdGF0ZUF4aXNBbmdsZVJhZExvY2FsfSBpbnN0ZWFkLiAqL1xuICAgIHJvdGF0ZUF4aXNBbmdsZVJhZChhLCBkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0ZUF4aXNBbmdsZVJhZExvY2FsKGEsIGQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSb3RhdGUgYXJvdW5kIGdpdmVuIGF4aXMgYnkgZ2l2ZW4gYW5nbGUgKHJhZGlhbnMpIGluIGxvY2FsIHNwYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGEgVmVjdG9yIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb24gYXhpcy5cbiAgICAgKiBAcGFyYW0gZCBBbmdsZSBpbiByYWRpYW5zLlxuICAgICAqXG4gICAgICogQG5vdGUgSWYgdGhlIG9iamVjdCBpcyB0cmFuc2xhdGVkIHRoZSByb3RhdGlvbiB3aWxsIGJlIGFyb3VuZFxuICAgICAqICAgICB0aGUgcGFyZW50LiBUbyByb3RhdGUgYXJvdW5kIHRoZSBvYmplY3Qgb3JpZ2luLCB1c2VcbiAgICAgKiAgICAge0BsaW5rIHJvdGF0ZUF4aXNBbmdsZURlZ09iamVjdH1cbiAgICAgKlxuICAgICAqIEBzZWUge0BsaW5rIHJvdGF0ZUF4aXNBbmdsZURlZ31cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICByb3RhdGVBeGlzQW5nbGVSYWRMb2NhbChhLCBkKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfcm90YXRlX2F4aXNfYW5nbGVfcmFkKHRoaXMub2JqZWN0SWQsIGFbMF0sIGFbMV0sIGFbMl0sIGQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUm90YXRlIGFyb3VuZCBnaXZlbiBheGlzIGJ5IGdpdmVuIGFuZ2xlIChkZWdyZWVzKSBpbiBvYmplY3Qgc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYSBWZWN0b3IgcmVwcmVzZW50aW5nIHRoZSByb3RhdGlvbiBheGlzLlxuICAgICAqIEBwYXJhbSBkIEFuZ2xlIGluIGRlZ3JlZXMuXG4gICAgICpcbiAgICAgKiBFcXVpdmFsZW50IHRvIHByZXBlbmRpbmcgYSByb3RhdGlvbiBxdWF0ZXJuaW9uIHRvIHRoZSBvYmplY3Qnc1xuICAgICAqIGxvY2FsIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHNlZSB7QGxpbmsgcm90YXRlQXhpc0FuZ2xlUmFkT2JqZWN0fVxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHJvdGF0ZUF4aXNBbmdsZURlZ09iamVjdChhLCBkKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfcm90YXRlX2F4aXNfYW5nbGVfb2JqKHRoaXMub2JqZWN0SWQsIGFbMF0sIGFbMV0sIGFbMl0sIGQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUm90YXRlIGFyb3VuZCBnaXZlbiBheGlzIGJ5IGdpdmVuIGFuZ2xlIChyYWRpYW5zKSBpbiBvYmplY3Qgc3BhY2VcbiAgICAgKiBFcXVpdmFsZW50IHRvIHByZXBlbmRpbmcgYSByb3RhdGlvbiBxdWF0ZXJuaW9uIHRvIHRoZSBvYmplY3Qnc1xuICAgICAqIGxvY2FsIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIGEgVmVjdG9yIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb24gYXhpc1xuICAgICAqIEBwYXJhbSBkIEFuZ2xlIGluIGRlZ3JlZXNcbiAgICAgKlxuICAgICAqIEBzZWUge0BsaW5rIHJvdGF0ZUF4aXNBbmdsZURlZ09iamVjdH1cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICByb3RhdGVBeGlzQW5nbGVSYWRPYmplY3QoYSwgZCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9heGlzX2FuZ2xlX3JhZF9vYmoodGhpcy5vYmplY3RJZCwgYVswXSwgYVsxXSwgYVsyXSwgZCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Qucm90YXRlTG9jYWx9IGluc3RlYWQuICovXG4gICAgcm90YXRlKHEpIHtcbiAgICAgICAgdGhpcy5yb3RhdGVMb2NhbChxKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSBieSBhIHF1YXRlcm5pb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcSB0aGUgUXVhdGVybmlvbiB0byByb3RhdGUgYnkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgcm90YXRlTG9jYWwocSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9xdWF0KHRoaXMub2JqZWN0SWQsIHFbMF0sIHFbMV0sIHFbMl0sIHFbM10pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUm90YXRlIGJ5IGEgcXVhdGVybmlvbiBpbiBvYmplY3Qgc3BhY2UuXG4gICAgICpcbiAgICAgKiBFcXVpdmFsZW50IHRvIHByZXBlbmRpbmcgYSByb3RhdGlvbiBxdWF0ZXJuaW9uIHRvIHRoZSBvYmplY3Qnc1xuICAgICAqIGxvY2FsIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHEgdGhlIFF1YXRlcm5pb24gdG8gcm90YXRlIGJ5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHJvdGF0ZU9iamVjdChxKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfcm90YXRlX3F1YXRfb2JqKHRoaXMub2JqZWN0SWQsIHFbMF0sIHFbMV0sIHFbMl0sIHFbM10pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNjYWxlTG9jYWx9IGluc3RlYWQuICovXG4gICAgc2NhbGUodikge1xuICAgICAgICB0aGlzLnNjYWxlTG9jYWwodik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTY2FsZSBvYmplY3QgYnkgYSB2ZWN0b3IgaW4gb2JqZWN0IHNwYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHNjYWxlIGJ5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHNjYWxlTG9jYWwodikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NjYWxlKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0UG9zaXRpb25Mb2NhbChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgLyogVHJhbnNsYXRpb24gaXMgZGlmZmVyZW50IHRoYW4gcm90YXRpb24gJiBzY2FsaW5nLlxuICAgICAgICAgKiBXZSBjYW4ndCBzaW1wbHkgcmVhZCB0aGUgbWVtb3J5LiAqL1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfZ2V0X3RyYW5zbGF0aW9uX2xvY2FsKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBnZXRUcmFuc2xhdGlvbkxvY2FsKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UG9zaXRpb25Mb2NhbChvdXQpO1xuICAgIH1cbiAgICBnZXRQb3NpdGlvbldvcmxkKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICAvKiBUcmFuc2xhdGlvbiBpcyBkaWZmZXJlbnQgdGhhbiByb3RhdGlvbiAmIHNjYWxpbmcuXG4gICAgICAgICAqIFdlIGNhbid0IHNpbXBseSByZWFkIHRoZSBtZW1vcnkuICovXG4gICAgICAgIHdhc20uX3dsX29iamVjdF9nZXRfdHJhbnNsYXRpb25fd29ybGQodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIGdldFRyYW5zbGF0aW9uV29ybGQob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQb3NpdGlvbldvcmxkKG91dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBsb2NhbCAvIG9iamVjdCBzcGFjZSBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIENvbmNhdGVuYXRlcyBhIG5ldyB0cmFuc2xhdGlvbiBkdWFsIHF1YXRlcm5pb24gb250byB0aGUgZXhpc3Rpbmcgcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBOZXcgbG9jYWwgcG9zaXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgc2V0UG9zaXRpb25Mb2NhbCh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3RyYW5zbGF0aW9uX2xvY2FsKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFBvc2l0aW9uTG9jYWx9IGluc3RlYWQuICovXG4gICAgc2V0VHJhbnNsYXRpb25Mb2NhbCh2KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFBvc2l0aW9uTG9jYWwodik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB3b3JsZCBzcGFjZSBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEFwcGxpZXMgdGhlIGludmVyc2UgcGFyZW50IHRyYW5zZm9ybSB3aXRoIGEgbmV3IHRyYW5zbGF0aW9uIGR1YWwgcXVhdGVybmlvblxuICAgICAqIHdoaWNoIGlzIGNvbmNhdGVuYXRlZCBvbnRvIHRoZSBleGlzdGluZyByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IE5ldyB3b3JsZCBwb3NpdGlvbiBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgMyBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICBzZXRQb3NpdGlvbldvcmxkKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfdHJhbnNsYXRpb25fd29ybGQodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0UG9zaXRpb25Xb3JsZH0gaW5zdGVhZC4gKi9cbiAgICBzZXRUcmFuc2xhdGlvbldvcmxkKHYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0UG9zaXRpb25Xb3JsZCh2KTtcbiAgICB9XG4gICAgZ2V0U2NhbGluZ0xvY2FsKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3Rfc2NhbGluZ19sb2NhbCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5IRUFQRjMyW3B0ciArIDFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBsb2NhbCAvIG9iamVjdCBzcGFjZSBzY2FsaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHYgTmV3IGxvY2FsIHNjYWxpbmcgYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgc2V0U2NhbGluZ0xvY2FsKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfc2NhbGluZ19sb2NhbCh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldFNjYWxpbmdXb3JsZChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3NjYWxpbmdfd29ybGQodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgV29ybGQgc3BhY2Ugc2NhbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IE5ldyB3b3JsZCBzY2FsaW5nIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIHNldFNjYWxpbmdXb3JsZCh2KSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3NjYWxpbmdfd29ybGQodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRSb3RhdGlvbkxvY2FsKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoNCkpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3RfdHJhbnNfbG9jYWwodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cbiAgICAgICAgLyogVGhlIGZpcnN0IDQgZmxvYXRzIHJlcHJlc2VudCB0aGUgcm90YXRpb24gcXVhdGVybmlvbi4gKi9cbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xuICAgICAgICBvdXRbM10gPSB3YXNtLkhFQVBGMzJbcHRyICsgM107XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBsb2NhbCBzcGFjZSByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IE5ldyB3b3JsZCByb3RhdGlvbiBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgNCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICBzZXRSb3RhdGlvbkxvY2FsKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfcm90YXRpb25fbG9jYWwodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRSb3RhdGlvbldvcmxkKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoNCkpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGQodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cbiAgICAgICAgLyogVGhlIGZpcnN0IDQgZmxvYXRzIHJlcHJlc2VudCB0aGUgcm90YXRpb24gcXVhdGVybmlvbi4gKi9cbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xuICAgICAgICBvdXRbM10gPSB3YXNtLkhFQVBGMzJbcHRyICsgM107XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBsb2NhbCBzcGFjZSByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IE5ldyB3b3JsZCByb3RhdGlvbiBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgNCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICBzZXRSb3RhdGlvbldvcmxkKHYpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfcm90YXRpb25fd29ybGQodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRUcmFuc2Zvcm1Mb2NhbChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDgpKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3RyYW5zX2xvY2FsKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcbiAgICAgICAgb3V0WzNdID0gd2FzbS5IRUFQRjMyW3B0ciArIDNdO1xuICAgICAgICBvdXRbNF0gPSB3YXNtLkhFQVBGMzJbcHRyICsgNF07XG4gICAgICAgIG91dFs1XSA9IHdhc20uSEVBUEYzMltwdHIgKyA1XTtcbiAgICAgICAgb3V0WzZdID0gd2FzbS5IRUFQRjMyW3B0ciArIDZdO1xuICAgICAgICBvdXRbN10gPSB3YXNtLkhFQVBGMzJbcHRyICsgN107XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBsb2NhbCBzcGFjZSByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IE5ldyBsb2NhbCB0cmFuc2Zvcm0gYXJyYXksIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgOCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cbiAgICAgKi9cbiAgICBzZXRUcmFuc2Zvcm1Mb2NhbCh2KSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3RyYW5zX2xvY2FsKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHJdID0gdlswXTtcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDFdID0gdlsxXTtcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDJdID0gdlsyXTtcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDNdID0gdlszXTtcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDRdID0gdls0XTtcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDVdID0gdls1XTtcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDZdID0gdls2XTtcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDddID0gdls3XTtcbiAgICAgICAgdGhpcy5zZXREaXJ0eSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0VHJhbnNmb3JtV29ybGQob3V0ID0gbmV3IEZsb2F0MzJBcnJheSg4KSkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF90cmFuc193b3JsZCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5IRUFQRjMyW3B0ciArIDFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XG4gICAgICAgIG91dFszXSA9IHdhc20uSEVBUEYzMltwdHIgKyAzXTtcbiAgICAgICAgb3V0WzRdID0gd2FzbS5IRUFQRjMyW3B0ciArIDRdO1xuICAgICAgICBvdXRbNV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgNV07XG4gICAgICAgIG91dFs2XSA9IHdhc20uSEVBUEYzMltwdHIgKyA2XTtcbiAgICAgICAgb3V0WzddID0gd2FzbS5IRUFQRjMyW3B0ciArIDddO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd29ybGQgc3BhY2Ugcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiBOZXcgd29ybGQgdHJhbnNmb3JtIGFycmF5LCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDggZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXG4gICAgICovXG4gICAgc2V0VHJhbnNmb3JtV29ybGQodikge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF90cmFuc193b3JsZCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyXSA9IHZbMF07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAxXSA9IHZbMV07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAyXSA9IHZbMl07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAzXSA9IHZbM107XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA0XSA9IHZbNF07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA1XSA9IHZbNV07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA2XSA9IHZbNl07XG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA3XSA9IHZbN107XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGRfdG9fbG9jYWwodGhpcy5vYmplY3RJZCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2NhbCBzcGFjZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFRyYW5zZm9ybUxvY2FsfSBhbmRcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0VHJhbnNmb3JtTG9jYWx9IGluc3RlYWQuXG4gICAgICovXG4gICAgZ2V0IHRyYW5zZm9ybUxvY2FsKCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX29iamVjdF90cmFuc19sb2NhbCh0aGlzLm9iamVjdElkKSwgOCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBsb2NhbCB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdCBMb2NhbCBzcGFjZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguNVxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0VHJhbnNmb3JtTG9jYWx9IGFuZFxuICAgICAqIHtAbGluayBPYmplY3QzRC5nZXRUcmFuc2Zvcm1Mb2NhbH0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBzZXQgdHJhbnNmb3JtTG9jYWwodCkge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybUxvY2FsLnNldCh0KTtcbiAgICAgICAgdGhpcy5zZXREaXJ0eSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHbG9iYWwgLyB3b3JsZCBzcGFjZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIE1heSByZWNvbXB1dGUgdHJhbnNmb3JtYXRpb25zIG9mIHRoZSBoaWVyYXJjaHkgb2YgdGhpcyBvYmplY3QsXG4gICAgICogaWYgdGhleSB3ZXJlIGNoYW5nZWQgYnkgSmF2YVNjcmlwdCBjb21wb25lbnRzIHRoaXMgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRUcmFuc2Zvcm1Xb3JsZH0gYW5kXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFRyYW5zZm9ybVdvcmxkfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGdldCB0cmFuc2Zvcm1Xb3JsZCgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGQodGhpcy5vYmplY3RJZCksIDgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd29ybGQgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHQgR2xvYmFsIC8gd29ybGQgc3BhY2UgdHJhbnNmb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjVcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFRyYW5zZm9ybVdvcmxkfSBhbmRcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0VHJhbnNmb3JtV29ybGR9IGluc3RlYWQuXG4gICAgICovXG4gICAgc2V0IHRyYW5zZm9ybVdvcmxkKHQpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1Xb3JsZC5zZXQodCk7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGRfdG9fbG9jYWwodGhpcy5vYmplY3RJZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvY2FsIC8gb2JqZWN0IHNwYWNlIHNjYWxpbmcuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRTY2FsaW5nTG9jYWx9IGFuZFxuICAgICAqIHtAbGluayBPYmplY3QzRC5nZXRTY2FsaW5nTG9jYWx9IGluc3RlYWQuXG4gICAgICovXG4gICAgZ2V0IHNjYWxpbmdMb2NhbCgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9vYmplY3Rfc2NhbGluZ19sb2NhbCh0aGlzLm9iamVjdElkKSwgMyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBsb2NhbCBzcGFjZSBzY2FsaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHMgTG9jYWwgc3BhY2Ugc2NhbGluZy5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0U2NhbGluZ0xvY2FsfSBhbmRcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0U2NhbGluZ0xvY2FsfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIHNldCBzY2FsaW5nTG9jYWwocykge1xuICAgICAgICB0aGlzLnNjYWxpbmdMb2NhbC5zZXQocyk7XG4gICAgICAgIHRoaXMuc2V0RGlydHkoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2xvYmFsIC8gd29ybGQgc3BhY2Ugc2NhbGluZy5cbiAgICAgKlxuICAgICAqIE1heSByZWNvbXB1dGUgdHJhbnNmb3JtYXRpb25zIG9mIHRoZSBoaWVyYXJjaHkgb2YgdGhpcyBvYmplY3QsXG4gICAgICogaWYgdGhleSB3ZXJlIGNoYW5nZWQgYnkgSmF2YVNjcmlwdCBjb21wb25lbnRzIHRoaXMgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRTY2FsaW5nV29ybGR9IGFuZFxuICAgICAqIHtAbGluayBPYmplY3QzRC5nZXRTY2FsaW5nV29ybGR9IGluc3RlYWQuXG4gICAgICovXG4gICAgZ2V0IHNjYWxpbmdXb3JsZCgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9vYmplY3Rfc2NhbGluZ193b3JsZCh0aGlzLm9iamVjdElkKSwgMyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB3b3JsZCBzcGFjZSBzY2FsaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHQgV29ybGQgc3BhY2Ugc2NhbGluZy5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0U2NhbGluZ1dvcmxkfSBhbmRcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0U2NhbGluZ1dvcmxkfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIHNldCBzY2FsaW5nV29ybGQocykge1xuICAgICAgICB0aGlzLnNjYWxpbmdXb3JsZC5zZXQocyk7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2NhbGluZ193b3JsZF90b19sb2NhbCh0aGlzLm9iamVjdElkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9jYWwgc3BhY2Ugcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFJvdGF0aW9uTG9jYWx9IGFuZFxuICAgICAqIHtAbGluayBPYmplY3QzRC5zZXRSb3RhdGlvbkxvY2FsfSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGdldCByb3RhdGlvbkxvY2FsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Mb2NhbC5zdWJhcnJheSgwLCA0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2xvYmFsIC8gd29ybGQgc3BhY2Ugcm90YXRpb25cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QuZ2V0Um90YXRpb25Xb3JsZH0gYW5kXG4gICAgICoge0BsaW5rIE9iamVjdDNELnNldFJvdGF0aW9uV29ybGR9IGluc3RlYWQuXG4gICAgICovXG4gICAgZ2V0IHJvdGF0aW9uV29ybGQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybVdvcmxkLnN1YmFycmF5KDAsIDQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gciBMb2NhbCBzcGFjZSByb3RhdGlvblxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC43XG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRSb3RhdGlvbkxvY2FsfSBhbmRcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0Quc2V0Um90YXRpb25Mb2NhbH0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBzZXQgcm90YXRpb25Mb2NhbChyKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3JvdGF0aW9uX2xvY2FsKHRoaXMub2JqZWN0SWQsIHJbMF0sIHJbMV0sIHJbMl0sIHJbM10pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd29ybGQgc3BhY2Ugcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gciBHbG9iYWwgLyB3b3JsZCBzcGFjZSByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QuZ2V0Um90YXRpb25Xb3JsZH0gYW5kXG4gICAgICoge0BsaW5rIE9iamVjdDNELnNldFJvdGF0aW9uV29ybGR9IGluc3RlYWQuXG4gICAgICovXG4gICAgc2V0IHJvdGF0aW9uV29ybGQocikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF9yb3RhdGlvbl93b3JsZCh0aGlzLm9iamVjdElkLCByWzBdLCByWzFdLCByWzJdLCByWzNdKTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldEZvcndhcmRXb3JsZH0gaW5zdGVhZC4gKi9cbiAgICBnZXRGb3J3YXJkKG91dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRGb3J3YXJkV29ybGQob3V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgb2JqZWN0J3MgZm9yd2FyZCBmYWNpbmcgd29ybGQgc3BhY2UgdmVjdG9yLlxuICAgICAqXG4gICAgICogVGhlIGZvcndhcmQgdmVjdG9yIGluIG9iamVjdCBzcGFjZSBpcyBhbG9uZyB0aGUgbmVnYXRpdmUgei1heGlzLCBpLmUuLFxuICAgICAqIGBbMCwgMCwgLTFdYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXQgRGVzdGluYXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxuICAgICAqL1xuICAgIGdldEZvcndhcmRXb3JsZChvdXQpIHtcbiAgICAgICAgb3V0WzBdID0gMDtcbiAgICAgICAgb3V0WzFdID0gMDtcbiAgICAgICAgb3V0WzJdID0gLTE7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtVmVjdG9yV29ybGQob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFVwV29ybGR9IGluc3RlYWQuICovXG4gICAgZ2V0VXAob3V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFVwV29ybGQob3V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgb2JqZWN0J3MgdXAgZmFjaW5nIHdvcmxkIHNwYWNlIHZlY3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXQgRGVzdGluYXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxuICAgICAqL1xuICAgIGdldFVwV29ybGQob3V0KSB7XG4gICAgICAgIG91dFswXSA9IDA7XG4gICAgICAgIG91dFsxXSA9IDE7XG4gICAgICAgIG91dFsyXSA9IDA7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtVmVjdG9yV29ybGQob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFJpZ2h0V29ybGR9IGluc3RlYWQuICovXG4gICAgZ2V0UmlnaHQob3V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFJpZ2h0V29ybGQob3V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgb2JqZWN0J3MgcmlnaHQgZmFjaW5nIHdvcmxkIHNwYWNlIHZlY3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXQgRGVzdGluYXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxuICAgICAqL1xuICAgIGdldFJpZ2h0V29ybGQob3V0KSB7XG4gICAgICAgIG91dFswXSA9IDE7XG4gICAgICAgIG91dFsxXSA9IDA7XG4gICAgICAgIG91dFsyXSA9IDA7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtVmVjdG9yV29ybGQob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGEgdmVjdG9yIGJ5IHRoaXMgb2JqZWN0J3Mgd29ybGQgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgdmVjdG9yXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YFxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqL1xuICAgIHRyYW5zZm9ybVZlY3RvcldvcmxkKG91dCwgdiA9IG91dCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHZbMF07XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHZbMV07XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHZbMl07XG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1WZWN0b3JXb3JsZCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGEgdmVjdG9yIGJ5IHRoaXMgb2JqZWN0J3MgbG9jYWwgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgdmVjdG9yXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YFxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqL1xuICAgIHRyYW5zZm9ybVZlY3RvckxvY2FsKG91dCwgdiA9IG91dCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHZbMF07XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHZbMV07XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHZbMl07XG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1WZWN0b3JMb2NhbCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGEgcG9pbnQgYnkgdGhpcyBvYmplY3QncyB3b3JsZCB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3V0IE91dCBwb2ludC5cbiAgICAgKiBAcGFyYW0gcCBQb2ludCB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGAuXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC43XG4gICAgICovXG4gICAgdHJhbnNmb3JtUG9pbnRXb3JsZChvdXQsIHAgPSBvdXQpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSBwWzBdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSBwWzFdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSBwWzJdO1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtUG9pbnRXb3JsZCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGEgcG9pbnQgYnkgdGhpcyBvYmplY3QncyBsb2NhbCB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3V0IE91dCBwb2ludC5cbiAgICAgKiBAcGFyYW0gcCBQb2ludCB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGAuXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC43XG4gICAgICovXG4gICAgdHJhbnNmb3JtUG9pbnRMb2NhbChvdXQsIHAgPSBvdXQpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSBwWzBdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSBwWzFdO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSBwWzJdO1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtUG9pbnRMb2NhbCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGEgdmVjdG9yIGJ5IHRoaXMgb2JqZWN0J3MgaW52ZXJzZSB3b3JsZCB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3V0IE91dCB2ZWN0b3IuXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YC5cbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm1WZWN0b3JJbnZlcnNlV29ybGQob3V0LCB2ID0gb3V0KSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gdlswXTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzFdID0gdlsxXTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzJdID0gdlsyXTtcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVZlY3RvckludmVyc2VXb3JsZCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGEgdmVjdG9yIGJ5IHRoaXMgb2JqZWN0J3MgaW52ZXJzZSBsb2NhbCB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3V0IE91dCB2ZWN0b3JcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3IgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC43XG4gICAgICovXG4gICAgdHJhbnNmb3JtVmVjdG9ySW52ZXJzZUxvY2FsKG91dCwgdiA9IG91dCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHZbMF07XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHZbMV07XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHZbMl07XG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1WZWN0b3JJbnZlcnNlTG9jYWwodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIHBvaW50IGJ5IHRoaXMgb2JqZWN0J3MgaW52ZXJzZSB3b3JsZCB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3V0IE91dCBwb2ludC5cbiAgICAgKiBAcGFyYW0gcCBQb2ludCB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGAuXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC43XG4gICAgICovXG4gICAgdHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQob3V0LCBwID0gb3V0KSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gcFswXTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzFdID0gcFsxXTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzJdID0gcFsyXTtcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm0gYSBwb2ludCBieSB0aGlzIG9iamVjdCdzIGludmVyc2UgbG9jYWwgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgcG9pbnQuXG4gICAgICogQHBhcmFtIHAgUG9pbnQgdG8gdHJhbnNmb3JtLCBkZWZhdWx0IGBvdXRgLlxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqL1xuICAgIHRyYW5zZm9ybVBvaW50SW52ZXJzZUxvY2FsKG91dCwgcCA9IG91dCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zZXQocCk7XG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1Qb2ludEludmVyc2VMb2NhbCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGFuIG9iamVjdCBzcGFjZSBkdWFsIHF1YXRlcm5pb24gaW50byB3b3JsZCBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHRyYW5zZm9ybWF0aW9uLlxuICAgICAqIEBwYXJhbSBxIExvY2FsIHNwYWNlIHRyYW5zZm9ybWF0aW9uLCBkZWZhdWx0IGBvdXRgLlxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAwLjguN1xuICAgICAqL1xuICAgIHRvV29ybGRTcGFjZVRyYW5zZm9ybShvdXQsIHEgPSBvdXQpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXQuc2V0KHEpO1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfdG9Xb3JsZFNwYWNlVHJhbnNmb3JtKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xuICAgICAgICBvdXRbM10gPSB3YXNtLl90ZW1wTWVtRmxvYXRbM107XG4gICAgICAgIG91dFs0XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs0XTtcbiAgICAgICAgb3V0WzVdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzVdO1xuICAgICAgICBvdXRbNl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbNl07XG4gICAgICAgIG91dFs3XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs3XTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGEgd29ybGQgc3BhY2UgZHVhbCBxdWF0ZXJuaW9uIGludG8gbG9jYWwgc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3V0IE91dCB0cmFuc2Zvcm1hdGlvblxuICAgICAqIEBwYXJhbSBxIFdvcmxkIHNwYWNlIHRyYW5zZm9ybWF0aW9uLCBkZWZhdWx0IGBvdXRgXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC43XG4gICAgICovXG4gICAgdG9Mb2NhbFNwYWNlVHJhbnNmb3JtKG91dCwgcSA9IG91dCkge1xuICAgICAgICBjb25zdCBwID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgIGlmIChwKSB7XG4gICAgICAgICAgICBwLnRvT2JqZWN0U3BhY2VUcmFuc2Zvcm0ob3V0LCBxKTtcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dCAhPT0gcSkge1xuICAgICAgICAgICAgb3V0WzBdID0gcVswXTtcbiAgICAgICAgICAgIG91dFsxXSA9IHFbMV07XG4gICAgICAgICAgICBvdXRbMl0gPSBxWzJdO1xuICAgICAgICAgICAgb3V0WzNdID0gcVszXTtcbiAgICAgICAgICAgIG91dFs0XSA9IHFbNF07XG4gICAgICAgICAgICBvdXRbNV0gPSBxWzVdO1xuICAgICAgICAgICAgb3V0WzZdID0gcVs2XTtcbiAgICAgICAgICAgIG91dFs3XSA9IHFbN107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGEgd29ybGQgc3BhY2UgZHVhbCBxdWF0ZXJuaW9uIGludG8gb2JqZWN0IHNwYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBPdXQgdHJhbnNmb3JtYXRpb24uXG4gICAgICogQHBhcmFtIHEgV29ybGQgc3BhY2UgdHJhbnNmb3JtYXRpb24sIGRlZmF1bHQgYG91dGBcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjdcbiAgICAgKi9cbiAgICB0b09iamVjdFNwYWNlVHJhbnNmb3JtKG91dCwgcSA9IG91dCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zZXQocSk7XG4gICAgICAgIHdhc20uX3dsX29iamVjdF90b09iamVjdFNwYWNlVHJhbnNmb3JtKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xuICAgICAgICBvdXRbM10gPSB3YXNtLl90ZW1wTWVtRmxvYXRbM107XG4gICAgICAgIG91dFs0XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs0XTtcbiAgICAgICAgb3V0WzVdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzVdO1xuICAgICAgICBvdXRbNl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbNl07XG4gICAgICAgIG91dFs3XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs3XTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHVybiB0b3dhcmRzIC8gbG9vayBhdCB0YXJnZXQuXG4gICAgICpcbiAgICAgKiBSb3RhdGVzIHRoZSBvYmplY3Qgc28gdGhhdCBpdHMgZm9yd2FyZCB2ZWN0b3IgZmFjZXMgdG93YXJkcyB0aGUgdGFyZ2V0XG4gICAgICogcG9zaXRpb24uIFRoZSBgdXBgIHZlY3RvciBhY3RzIGFzIGEgaGludCB0byB1bmlxdWVseSBvcmllbnQgdGhlIG9iamVjdCdzXG4gICAgICogdXAgZGlyZWN0aW9uLiBXaGVuIG9yaWVudGluZyBhIHZpZXcgY29tcG9uZW50LCB0aGUgcHJvamVjdGVkIGB1cGAgdmVjdG9yXG4gICAgICogZmFjZXMgdXB3YXJkcyBvbiB0aGUgdmlld2luZyBwbGFuZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwIFRhcmdldCBwb3NpdGlvbiB0byB0dXJuIHRvd2FyZHMsIGluIHdvcmxkIHNwYWNlLlxuICAgICAqIEBwYXJhbSB1cCBVcCB2ZWN0b3IgdG8gYWxpZ24gb2JqZWN0IHdpdGgsIGluIHdvcmxkIHNwYWNlLiBEZWZhdWx0IGlzIGBbMCwgMSwgMF1gLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxuICAgICAqL1xuICAgIGxvb2tBdChwLCB1cCA9IFVQX1ZFQ1RPUikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X2xvb2tBdCh0aGlzLm9iamVjdElkLCBwWzBdLCBwWzFdLCBwWzJdLCB1cFswXSwgdXBbMV0sIHVwWzJdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBEZXN0cm95IHRoZSBvYmplY3Qgd2l0aCBhbGwgb2YgaXRzIGNvbXBvbmVudHMgYW5kIHJlbW92ZSBpdCBmcm9tIHRoZSBzY2VuZSAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9zY2VuZV9yZW1vdmVfb2JqZWN0KHRoaXMub2JqZWN0SWQpO1xuICAgICAgICB0aGlzLl9vYmplY3RJZCA9IC0xO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXJrIHRyYW5zZm9ybWF0aW9uIGRpcnR5LlxuICAgICAqXG4gICAgICogQ2F1c2VzIGFuIGV2ZW50dWFsIHJlY2FsY3VsYXRpb24gb2Yge0BsaW5rIHRyYW5zZm9ybVdvcmxkfSwgZWl0aGVyXG4gICAgICogb24gbmV4dCB7QGxpbmsgZ2V0VHJhbnNsYXRpb25Xb3JsZH0sIHtAbGluayB0cmFuc2Zvcm1Xb3JsZH0gb3JcbiAgICAgKiB7QGxpbmsgc2NhbGluZ1dvcmxkfSBvciB0aGUgYmVnaW5uaW5nIG9mIG5leHQgZnJhbWUsIHdoaWNoZXZlclxuICAgICAqIGhhcHBlbnMgZmlyc3QuXG4gICAgICovXG4gICAgc2V0RGlydHkoKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X2RpcnR5KHRoaXMub2JqZWN0SWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlL2VuYWJsZSBhbGwgY29tcG9uZW50cyBvZiB0aGlzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiIE5ldyBzdGF0ZSBmb3IgdGhlIGNvbXBvbmVudHMuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMC44LjVcbiAgICAgKi9cbiAgICBzZXQgYWN0aXZlKGIpIHtcbiAgICAgICAgY29uc3QgY29tcHMgPSB0aGlzLmdldENvbXBvbmVudHMoKTtcbiAgICAgICAgZm9yIChsZXQgYyBvZiBjb21wcykge1xuICAgICAgICAgICAgYy5hY3RpdmUgPSBiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldENvbXBvbmVudCh0eXBlT3JDbGFzcywgaW5kZXggPSAwKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBpc1N0cmluZyh0eXBlT3JDbGFzcykgPyB0eXBlT3JDbGFzcyA6IHR5cGVPckNsYXNzLlR5cGVOYW1lO1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFR5cGUgPSB3YXNtLl93bF9nZXRfY29tcG9uZW50X21hbmFnZXJfaW5kZXgod2FzbS50ZW1wVVRGOCh0eXBlKSk7XG4gICAgICAgIGlmIChjb21wb25lbnRUeXBlIDwgMCkge1xuICAgICAgICAgICAgLyogTm90IGEgbmF0aXZlIGNvbXBvbmVudCwgdHJ5IGpzOiAqL1xuICAgICAgICAgICAgY29uc3QgdHlwZUluZGV4ID0gd2FzbS5fY29tcG9uZW50VHlwZUluZGljZXNbdHlwZV07XG4gICAgICAgICAgICBpZiAodHlwZUluZGV4ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjb25zdCBqc0luZGV4ID0gd2FzbS5fd2xfZ2V0X2pzX2NvbXBvbmVudF9pbmRleCh0aGlzLm9iamVjdElkLCB0eXBlSW5kZXgsIGluZGV4KTtcbiAgICAgICAgICAgIHJldHVybiBqc0luZGV4IDwgMCA/IG51bGwgOiB0aGlzLl9lbmdpbmUud2FzbS5fY29tcG9uZW50c1tqc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9nZXRfY29tcG9uZW50X2lkKHRoaXMub2JqZWN0SWQsIGNvbXBvbmVudFR5cGUsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS5fd3JhcENvbXBvbmVudCh0eXBlLCBjb21wb25lbnRUeXBlLCBjb21wb25lbnRJZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB0eXBlT3JDbGFzcyBUeXBlIG5hbWUsIHBhc3MgYSBmYWxzZXkgdmFsdWUgKGB1bmRlZmluZWRgIG9yIGBudWxsYCkgdG8gcmV0cmlldmUgYWxsLlxuICAgICAqICAgICBJdCdzIGFsc28gcG9zc2libGUgdG8gZ2l2ZSBhIGNsYXNzIGRlZmluaXRpb24uIEluIHRoaXMgY2FzZSwgdGhlIG1ldGhvZCB3aWxsIHVzZSB0aGUgYGNsYXNzLlR5cGVOYW1lYCBmaWVsZCB0b1xuICAgICAqICAgICBmaW5kIHRoZSBjb21wb25lbnRzLlxuICAgICAqIEByZXR1cm5zIEFsbCBjb21wb25lbnRzIG9mIGdpdmVuIHR5cGUgYXR0YWNoZWQgdG8gdGhpcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbm90ZSBBcyB0aGlzIGZ1bmN0aW9uIGlzIG5vbi10cml2aWFsLCBhdm9pZCB1c2luZyBpdCBpbiBgdXBkYXRlKClgIHJlcGVhdGVkbHksXG4gICAgICogICAgICBidXQgcmF0aGVyIHN0b3JlIGl0cyByZXN1bHQgaW4gYGluaXQoKWAgb3IgYHN0YXJ0KClgXG4gICAgICogQHdhcm5pbmcgVGhpcyBtZXRob2Qgd2lsbCBjdXJyZW50bHkgcmV0dXJuIGF0IG1vc3QgMzQxIGNvbXBvbmVudHMuXG4gICAgICovXG4gICAgZ2V0Q29tcG9uZW50cyh0eXBlT3JDbGFzcykge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGxldCBjb21wb25lbnRUeXBlID0gbnVsbDtcbiAgICAgICAgbGV0IHR5cGUgPSBudWxsO1xuICAgICAgICBpZiAodHlwZU9yQ2xhc3MpIHtcbiAgICAgICAgICAgIHR5cGUgPSBpc1N0cmluZyh0eXBlT3JDbGFzcykgPyB0eXBlT3JDbGFzcyA6IHR5cGVPckNsYXNzLlR5cGVOYW1lO1xuICAgICAgICAgICAgY29tcG9uZW50VHlwZSA9IHdhc20uX3R5cGVJbmRleEZvcih0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21wb25lbnRzID0gW107XG4gICAgICAgIGNvbnN0IG1heENvbXBzID0gTWF0aC5mbG9vcigod2FzbS5fdGVtcE1lbVNpemUgLyAzKSAqIDIpO1xuICAgICAgICBjb25zdCBjb21wb25lbnRzQ291bnQgPSB3YXNtLl93bF9vYmplY3RfZ2V0X2NvbXBvbmVudHModGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSwgbWF4Q29tcHMpO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSAyICogY29tcG9uZW50c0NvdW50O1xuICAgICAgICB3YXNtLl93bF9vYmplY3RfZ2V0X2NvbXBvbmVudF90eXBlcyh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtICsgb2Zmc2V0LCBtYXhDb21wcyk7XG4gICAgICAgIGNvbnN0IGpzTWFuYWdlckluZGV4ID0gd2FzbS5fdHlwZUluZGV4Rm9yKCdqcycpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudHNDb3VudDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gd2FzbS5fdGVtcE1lbVVpbnQ4W2kgKyBvZmZzZXRdO1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSB3YXNtLl90ZW1wTWVtVWludDE2W2ldO1xuICAgICAgICAgICAgLyogSGFuZGxlIEpTIHR5cGVzIHNlcGFyYXRlbHkgKi9cbiAgICAgICAgICAgIGlmICh0ID09IGpzTWFuYWdlckluZGV4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZUluZGV4ID0gd2FzbS5fd2xfZ2V0X2pzX2NvbXBvbmVudF9pbmRleF9mb3JfaWQoY29tcG9uZW50SWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB3YXNtLl9jb21wb25lbnRzW3R5cGVJbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudFR5cGUgPT09IG51bGwgfHwgY29tcC50eXBlID09IHR5cGUpXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHMucHVzaChjb21wKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wb25lbnRUeXBlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFuYWdlck5hbWUgPSB3YXNtLl90eXBlTmFtZUZvcih0KTtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzLnB1c2godGhpcy5fZW5naW5lLl93cmFwQ29tcG9uZW50KG1hbmFnZXJOYW1lLCB0LCBjb21wb25lbnRJZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodCA9PSBjb21wb25lbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgLyogT3B0aW1pemVkIG1hbmFnZXIgbmFtZSByZXRyaWV2YWwsIGFscmVhZHkgaGF2ZSB0eXBlICovXG4gICAgICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKHRoaXMuX2VuZ2luZS5fd3JhcENvbXBvbmVudCh0eXBlLCBjb21wb25lbnRUeXBlLCBjb21wb25lbnRJZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wb25lbnRzO1xuICAgIH1cbiAgICBhZGRDb21wb25lbnQodHlwZU9yQ2xhc3MsIHBhcmFtcykge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IHR5cGUgPSBpc1N0cmluZyh0eXBlT3JDbGFzcykgPyB0eXBlT3JDbGFzcyA6IHR5cGVPckNsYXNzLlR5cGVOYW1lO1xuICAgICAgICBjb25zdCBjb21wb25lbnRUeXBlID0gd2FzbS5fdHlwZUluZGV4Rm9yKHR5cGUpO1xuICAgICAgICBsZXQgY29tcG9uZW50ID0gbnVsbDtcbiAgICAgICAgbGV0IGNvbXBvbmVudEluZGV4ID0gbnVsbDtcbiAgICAgICAgaWYgKGNvbXBvbmVudFR5cGUgPCAwKSB7XG4gICAgICAgICAgICAvKiBKYXZhU2NyaXB0IGNvbXBvbmVudCAqL1xuICAgICAgICAgICAgaWYgKCEodHlwZSBpbiB3YXNtLl9jb21wb25lbnRUeXBlSW5kaWNlcykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBjb21wb25lbnQgdHlwZSAnXCIgKyB0eXBlICsgXCInXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSB3YXNtLl93bF9vYmplY3RfYWRkX2pzX2NvbXBvbmVudCh0aGlzLm9iamVjdElkLCB3YXNtLl9jb21wb25lbnRUeXBlSW5kaWNlc1t0eXBlXSk7XG4gICAgICAgICAgICBjb21wb25lbnRJbmRleCA9IHdhc20uX3dsX2dldF9qc19jb21wb25lbnRfaW5kZXhfZm9yX2lkKGNvbXBvbmVudElkKTtcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IHdhc20uX2NvbXBvbmVudHNbY29tcG9uZW50SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyogbmF0aXZlIGNvbXBvbmVudCAqL1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSB3YXNtLl93bF9vYmplY3RfYWRkX2NvbXBvbmVudCh0aGlzLm9iamVjdElkLCBjb21wb25lbnRUeXBlKTtcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IHRoaXMuX2VuZ2luZS5fd3JhcENvbXBvbmVudCh0eXBlLCBjb21wb25lbnRUeXBlLCBjb21wb25lbnRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdG9yID0gY29tcG9uZW50LmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIGN0b3IuUHJvcGVydGllcykpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFtrZXldID0gcGFyYW1zW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyogRXhwbGljaXRseSBpbml0aWFsaXplIG5hdGl2ZSBjb21wb25lbnRzICovXG4gICAgICAgIGlmIChjb21wb25lbnRUeXBlIDwgMCkge1xuICAgICAgICAgICAgLyogQHRvZG86IGBjb21wb25lbnRJbmRleGAgY2FuIGJlIG51bGwgaGVyZSwgdGhhdCdzIGFuIGVycm9yICovXG4gICAgICAgICAgICB3YXNtLl93bGpzX2NvbXBvbmVudF9pbml0KGNvbXBvbmVudEluZGV4KTtcbiAgICAgICAgICAgIC8qIHN0YXJ0KCkgaXMgY2FsbGVkIHRocm91Z2ggb25BY3RpdmF0ZSgpICovXG4gICAgICAgIH1cbiAgICAgICAgLyogSWYgaXQgd2FzIG5vdCBleHBsaWNpdGx5IHJlcXVlc3RlZCBieSB0aGUgdXNlciB0byBsZWF2ZSB0aGUgY29tcG9uZW50IGluYWN0aXZlLFxuICAgICAgICAgKiB3ZSBhY3RpdmF0ZSBpdCBhcyBhIGZpbmFsIHN0ZXAuIFRoaXMgaW52YWxpZGF0ZXMgY29tcG9uZW50SW5kZXghICovXG4gICAgICAgIGlmICghcGFyYW1zIHx8ICEoJ2FjdGl2ZScgaW4gcGFyYW1zICYmICFwYXJhbXMuYWN0aXZlKSkge1xuICAgICAgICAgICAgY29tcG9uZW50LmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciBnaXZlbiBvYmplY3QncyB0cmFuc2Zvcm1hdGlvbiBoYXMgY2hhbmdlZC5cbiAgICAgKi9cbiAgICBnZXQgY2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9pc19jaGFuZ2VkKHRoaXMub2JqZWN0SWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIG9iamVjdCBpZHMgYXJlXG4gICAgICogZXF1YWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXJPYmplY3QgT2JqZWN0IHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGlzIG9iamVjdCBlcXVhbHMgdGhlIGdpdmVuIG9iamVjdC5cbiAgICAgKi9cbiAgICBlcXVhbHMob3RoZXJPYmplY3QpIHtcbiAgICAgICAgaWYgKCFvdGhlck9iamVjdClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMub2JqZWN0SWQgPT0gb3RoZXJPYmplY3Qub2JqZWN0SWQ7XG4gICAgfVxufVxuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBhIG5hdGl2ZSBza2luIGRhdGEuXG4gKi9cbmV4cG9ydCBjbGFzcyBTa2luIHtcbiAgICAvKipcbiAgICAgKiBJbmRleCBvZiB0aGUgc2tpbiBpbiB0aGUgbWFuYWdlci5cbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgX2luZGV4O1xuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xuICAgIF9lbmdpbmU7XG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBpbmRleCkge1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XG4gICAgICAgIHRoaXMuX2luZGV4ID0gaW5kZXg7XG4gICAgfVxuICAgIC8qKiBBbW91bnQgb2Ygam9pbnRzIGluIHRoaXMgc2tpbi4gKi9cbiAgICBnZXQgam9pbnRDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9za2luX2dldF9qb2ludF9jb3VudCh0aGlzLl9pbmRleCk7XG4gICAgfVxuICAgIC8qKiBKb2ludHMgb2JqZWN0IGlkcyBmb3IgdGhpcyBza2luICovXG4gICAgZ2V0IGpvaW50SWRzKCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHJldHVybiBuZXcgVWludDE2QXJyYXkod2FzbS5IRUFQVTE2LmJ1ZmZlciwgd2FzbS5fd2xfc2tpbl9qb2ludF9pZHModGhpcy5faW5kZXgpLCB0aGlzLmpvaW50Q291bnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEdWFsIHF1YXRlcm5pb25zIGluIGEgZmxhdCBhcnJheSBvZiBzaXplIDggdGltZXMge0BsaW5rIGpvaW50Q291bnR9LlxuICAgICAqXG4gICAgICogSW52ZXJzZSBiaW5kIHRyYW5zZm9ybXMgb2YgdGhlIHNraW4uXG4gICAgICovXG4gICAgZ2V0IGludmVyc2VCaW5kVHJhbnNmb3JtcygpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9za2luX2ludmVyc2VfYmluZF90cmFuc2Zvcm1zKHRoaXMuX2luZGV4KSwgOCAqIHRoaXMuam9pbnRDb3VudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFZlY3RvcnMgaW4gYSBmbGF0IGFycmF5IG9mIHNpemUgMyB0aW1lcyB7QGxpbmsgam9pbnRDb3VudH0uXG4gICAgICpcbiAgICAgKiBJbnZlcnNlIGJpbmQgc2NhbGluZ3Mgb2YgdGhlIHNraW4uXG4gICAgICovXG4gICAgZ2V0IGludmVyc2VCaW5kU2NhbGluZ3MoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfc2tpbl9pbnZlcnNlX2JpbmRfc2NhbGluZ3ModGhpcy5faW5kZXgpLCAzICogdGhpcy5qb2ludENvdW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSBza2luIGlkcyBhcmVcbiAgICAgKiBlcXVhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlclNraW4gU2tpbiB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBza2luIGVxdWFscyB0aGUgZ2l2ZW4gc2tpbi5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqL1xuICAgIGVxdWFscyhvdGhlclNraW4pIHtcbiAgICAgICAgaWYgKCFvdGhlclNraW4pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleCA9PT0gb3RoZXJTa2luLl9pbmRleDtcbiAgICB9XG59XG4vKiBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIDwgMS4wLjAuICovXG5leHBvcnQgeyBPYmplY3QzRCBhcyBPYmplY3QgfTtcbi8qKlxuICogUmF5IGhpdC5cbiAqXG4gKiBSZXN1bHQgb2YgYSB7QGxpbmsgU2NlbmUucmF5Q2FzdH0uXG4gKlxuICogQG5vdGUgdGhpcyBjbGFzcyB3cmFwcyBpbnRlcm5hbCBlbmdpbmUgZGF0YSBhbmQgc2hvdWxkIG9ubHkgYmUgY3JlYXRlZCBpbnRlcm5hbGx5LlxuICovXG5leHBvcnQgY2xhc3MgUmF5SGl0IHtcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cbiAgICBfZW5naW5lO1xuICAgIC8qKiBQb2ludGVyIHRvIHRoZSBtZW1vcnkgaGVhcC4gKi9cbiAgICBfcHRyO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwdHIgUG9pbnRlciB0byB0aGUgcmF5IGhpdHMgbWVtb3J5LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgcHRyKSB7XG4gICAgICAgIGlmICgocHRyICYgMykgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzYWxpZ25lZCBwb2ludGVyOiBwbGVhc2UgcmVwb3J0IGEgYnVnJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xuICAgICAgICB0aGlzLl9wdHIgPSBwdHI7XG4gICAgfVxuICAgIC8qKiBBcnJheSBvZiByYXkgaGl0IGxvY2F0aW9ucy4gKi9cbiAgICBnZXQgbG9jYXRpb25zKCkge1xuICAgICAgICBsZXQgcCA9IHRoaXMuX3B0cjtcbiAgICAgICAgbGV0IGwgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmhpdENvdW50OyArK2kpIHtcbiAgICAgICAgICAgIGwucHVzaChuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2VuZ2luZS53YXNtLkhFQVBGMzIuYnVmZmVyLCBwICsgMTIgKiBpLCAzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGw7XG4gICAgfVxuICAgIC8qKiBBcnJheSBvZiByYXkgaGl0IG5vcm1hbHMgKG9ubHkgd2hlbiB1c2luZyB7QGxpbmsgUGh5c2ljcyNyYXlDYXN0fS4gKi9cbiAgICBnZXQgbm9ybWFscygpIHtcbiAgICAgICAgbGV0IHAgPSB0aGlzLl9wdHIgKyA0ODtcbiAgICAgICAgbGV0IGwgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmhpdENvdW50OyArK2kpIHtcbiAgICAgICAgICAgIGwucHVzaChuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2VuZ2luZS53YXNtLkhFQVBGMzIuYnVmZmVyLCBwICsgMTIgKiBpLCAzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZWZlciB0aGVzZSB0byByZWNhbGN1bGF0aW5nIHRoZSBkaXN0YW5jZSBmcm9tIGxvY2F0aW9ucy5cbiAgICAgKlxuICAgICAqIERpc3RhbmNlcyBvZiBhcnJheSBoaXRzIHRvIHJheSBvcmlnaW4uXG4gICAgICovXG4gICAgZ2V0IGRpc3RhbmNlcygpIHtcbiAgICAgICAgY29uc3QgcCA9IHRoaXMuX3B0ciArIDQ4ICogMjtcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fZW5naW5lLndhc20uSEVBUEYzMi5idWZmZXIsIHAsIHRoaXMuaGl0Q291bnQpO1xuICAgIH1cbiAgICAvKiogSGl0IG9iamVjdHMgKi9cbiAgICBnZXQgb2JqZWN0cygpIHtcbiAgICAgICAgY29uc3QgSEVBUFUxNiA9IHRoaXMuX2VuZ2luZS53YXNtLkhFQVBVMTY7XG4gICAgICAgIGNvbnN0IG9iamVjdHMgPSBbbnVsbCwgbnVsbCwgbnVsbCwgbnVsbF07XG4gICAgICAgIGxldCBwID0gKHRoaXMuX3B0ciArICg0OCAqIDIgKyAxNikpID4+IDE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5oaXRDb3VudDsgKytpKSB7XG4gICAgICAgICAgICBvYmplY3RzW2ldID0gdGhpcy5fZW5naW5lLndyYXBPYmplY3QoSEVBUFUxNltwICsgaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3RzO1xuICAgIH1cbiAgICAvKiogTnVtYmVyIG9mIGhpdHMgKG1heCA0KSAqL1xuICAgIGdldCBoaXRDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuX2VuZ2luZS53YXNtLkhFQVBVMzJbdGhpcy5fcHRyIC8gNCArIDMwXSwgNCk7XG4gICAgfVxufVxuY2xhc3MgbWF0aCB7XG4gICAgLyoqIChFeHBlcmltZW50YWwhKSBDdWJpYyBIZXJtaXRlIHNwbGluZSBpbnRlcnBvbGF0aW9uIGZvciB2ZWN0b3IzIGFuZCBxdWF0ZXJuaW9ucy5cbiAgICAgKlxuICAgICAqIFdpdGggYGYgPT0gMGAsIGBvdXRgIHdpbGwgYmUgYGJgLCBpZiBgZiA9PSAxYCwgYG91dGAgd2lsbCBiZSBjLlxuICAgICAqXG4gICAgICogV2hldGhlciBhIHF1YXRlcm5pb24gb3IgdmVjdG9yMyBpbnRlcnBvbGF0aW9uIGlzIGludGVuZGVkIGlzIGRldGVybWluZWQgYnlcbiAgICAgKiBsZW5ndGggb2YgYGFgLlxuICAgICAqXG4gICAgICogQHBhcmFtIG91dCBBcnJheSB0byB3cml0ZSByZXN1bHQgdG8uXG4gICAgICogQHBhcmFtIGEgRmlyc3QgdGFuZ2VudC9oYW5kbGUuXG4gICAgICogQHBhcmFtIGIgRmlyc3QgcG9pbnQgb3IgcXVhdGVybmlvbi5cbiAgICAgKiBAcGFyYW0gYyBTZWNvbmQgcG9pbnQgb3IgcXVhdGVybmlvbi5cbiAgICAgKiBAcGFyYW0gZCBTZWNvbmQgaGFuZGxlLlxuICAgICAqIEBwYXJhbSBmIEludGVycG9sYXRpb24gZmFjdG9yIGluIFswOyAxXS5cbiAgICAgKiBAcmV0dXJucyBUaGUgYG91dGAgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogQHNpbmNlIDAuOC42XG4gICAgICovXG4gICAgc3RhdGljIGN1YmljSGVybWl0ZShvdXQsIGEsIGIsIGMsIGQsIGYsIGVuZ2luZSA9IFdMKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSBlbmdpbmUud2FzbTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnN1YmFycmF5KDApLnNldChhKTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnN1YmFycmF5KDQpLnNldChiKTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnN1YmFycmF5KDgpLnNldChjKTtcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnN1YmFycmF5KDEyKS5zZXQoZCk7XG4gICAgICAgIGNvbnN0IGlzUXVhdCA9IGEubGVuZ3RoID09IDQ7XG4gICAgICAgIHdhc20uX3dsX21hdGhfY3ViaWNIZXJtaXRlKHdhc20uX3RlbXBNZW0gKyA0ICogMTYsIHdhc20uX3RlbXBNZW0gKyA0ICogMCwgd2FzbS5fdGVtcE1lbSArIDQgKiA0LCB3YXNtLl90ZW1wTWVtICsgNCAqIDgsIHdhc20uX3RlbXBNZW0gKyA0ICogMTIsIGYsIGlzUXVhdCk7XG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxNl07XG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxN107XG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxOF07XG4gICAgICAgIGlmIChpc1F1YXQpXG4gICAgICAgICAgICBvdXRbM10gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMTldO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbn1cbmV4cG9ydCB7IG1hdGggfTtcbi8qKlxuICogQ2xhc3MgZm9yIGFjY2Vzc2luZyBpbnRlcm5hdGlvbmFsaXphdGlvbiAoaTE4bikgZmVhdHVyZXMuXG4gKlxuICogQWxsb3dzIHtAbGluayBJMThOLm9uTGFuZ3VhZ2VDaGFuZ2VkIFwiZGV0ZWN0aW5nIGxhbmd1YWdlIGNoYW5nZVwifSxcbiAqIHtAbGluayBJMThOLmxhbmd1YWdlIFwic2V0dGluZyB0aGUgY3VycmVudCBsYW5ndWFnZVwifSBvciB0cmFuc2xhdGluZ1xuICoge0BsaW5rIEkxOE4udHJhbnNsYXRlKCkgXCJpbmRpdmlkdWFsIHRlcm1zXCJ9LlxuICpcbiAqIEludGVybmF0aW9uYWxpemF0aW9uIHdvcmtzIHdpdGggdGVybXMsXG4gKiBhIHN0cmluZyB0eXBlIGtleXdvcmQgdGhhdCBpcyBsaW5rZWQgdG8gYSBkaWZmZXJlbnQgdGV4dCBmb3IgZWFjaCBsYW5ndWFnZS5cbiAqXG4gKiBJbnRlcm5hbGx5LCBzdHJpbmcgcGFyYW1ldGVycyBmb3IgdGV4dCBhbmQganMgY29tcG9uZW50cyBhcmVcbiAqIGF1dG9tYXRpY2FsbHkgc3dhcHBlZCBkdXJpbmcgbGFuZ3VhZ2UgY2hhbmdlLCBnaXZlbiB0aGV5IGFyZSBsaW5rZWQgdG8gYSB0ZXJtLlxuICogSWYgbWFudWFsIHRleHQgc3dhcHBpbmcgaXMgZGVzaXJlZCwge0BsaW5rIEkxOE4udHJhbnNsYXRlKCl9XG4gKiBjYW4gYmUgdXNlZCB0byByZXRyaWV2ZSB0aGUgY3VycmVudCB0cmFuc2xhdGlvbiBmb3IgYW55IHRlcm0uXG4gKlxuICogWW91IGNhbiBhbHNvIHVzZSB0aGUge0BsaW5rIEkxOE4ub25MYW5ndWFnZUNoYW5nZWR9IHRvIG1hbnVhbGx5IHVwZGF0ZSB0ZXh0XG4gKiB3aGVuIGEgbGFuZ3VhZ2UgaXMgY2hhbmdlZCB0byBmb3IgZXhhbXBsZSB1cGRhdGUgYSBudW1iZXIgaW4gYSBzdHJpbmcuXG4gKlxuICogQHNpbmNlIDEuMC4wXG4gKi9cbmV4cG9ydCBjbGFzcyBJMThOIHtcbiAgICAvKipcbiAgICAgKiB7QGxpbmsgRW1pdHRlcn0gZm9yIGxhbmd1YWdlIGNoYW5nZSBldmVudHMuXG4gICAgICpcbiAgICAgKiBGaXJzdCBwYXJhbWV0ZXIgdG8gYSBsaXN0ZW5lciBpcyB0aGUgb2xkIGxhbmd1YWdlIGluZGV4LFxuICAgICAqIHNlY29uZCBwYXJhbWV0ZXIgaXMgdGhlIG5ldyBsYW5ndWFnZSBpbmRleC5cbiAgICAgKlxuICAgICAqIFVzYWdlIGZyb20gYSB3aXRoaW4gYSBjb21wb25lbnQ6XG4gICAgICogYGBganNcbiAgICAgKiB0aGlzLmVuZ2luZS5pMThuLm9uTGFuZ3VhZ2VDaGFuZ2VkLmFkZCgob2xkTGFuZ3VhZ2VJbmRleCwgbmV3TGFuZ3VhZ2VJbmRleCkgPT4ge1xuICAgICAqICAgICBjb25zdCBvbGRMYW5ndWFnZSA9IHRoaXMuZW5naW5lLmkxOG4ubGFuZ3VhZ2VOYW1lKG9sZExhbmd1YWdlSW5kZXgpO1xuICAgICAqICAgICBjb25zdCBuZXdMYW5ndWFnZSA9IHRoaXMuZW5naW5lLmkxOG4ubGFuZ3VhZ2VOYW1lKG5ld0xhbmd1YWdlSW5kZXgpO1xuICAgICAqICAgICBjb25zb2xlLmxvZyhcIlN3aXRjaGVkIGZyb21cIiwgb2xkTGFuZ3VhZ2UsIFwidG9cIiwgbmV3TGFuZ3VhZ2UpO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIG9uTGFuZ3VhZ2VDaGFuZ2VkID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cbiAgICBfZW5naW5lO1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZW5naW5lKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGN1cnJlbnQgbGFuZ3VhZ2UgYW5kIGFwcGx5IHRyYW5zbGF0aW9ucyB0byBsaW5rZWQgdGV4dCBwYXJhbWV0ZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvZGUgTGFuZ3VhZ2UgY29kZSB0byBzd2l0Y2ggdG9cbiAgICAgKi9cbiAgICBzZXQgbGFuZ3VhZ2UoY29kZSkge1xuICAgICAgICBpZiAoY29kZSA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHdhc20uX3dsX2kxOG5fc2V0TGFuZ3VhZ2Uod2FzbS50ZW1wVVRGOChjb2RlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBjdXJyZW50IGxhbmd1YWdlIGNvZGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXQgbGFuZ3VhZ2UoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgY29kZSA9IHdhc20uX3dsX2kxOG5fY3VycmVudExhbmd1YWdlKCk7XG4gICAgICAgIGlmIChjb2RlID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyhjb2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRyYW5zbGF0ZWQgc3RyaW5nIGZvciBhIHRlcm0gZm9yIHRoZSBjdXJyZW50bHkgbG9hZGVkIGxhbmd1YWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRlcm0gVGVybSB0byB0cmFuc2xhdGVcbiAgICAgKi9cbiAgICB0cmFuc2xhdGUodGVybSkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IHRyYW5zbGF0aW9uID0gd2FzbS5fd2xfaTE4bl90cmFuc2xhdGUod2FzbS50ZW1wVVRGOCh0ZXJtKSk7XG4gICAgICAgIGlmICh0cmFuc2xhdGlvbiA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gd2FzbS5VVEY4VG9TdHJpbmcodHJhbnNsYXRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG51bWJlciBvZiBsYW5ndWFnZXMgaW4gdGhlIHByb2plY3QuXG4gICAgICpcbiAgICAgKi9cbiAgICBsYW5ndWFnZUNvdW50KCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIHJldHVybiB3YXNtLl93bF9pMThuX2xhbmd1YWdlQ291bnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgbGFuZ3VhZ2UgY29kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgbGFuZ3VhZ2UgdG8gZ2V0IHRoZSBjb2RlIGZyb21cbiAgICAgKi9cbiAgICBsYW5ndWFnZUluZGV4KGNvZGUpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICByZXR1cm4gd2FzbS5fd2xfaTE4bl9sYW5ndWFnZUluZGV4KHdhc20udGVtcFVURjgoY29kZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBsYW5ndWFnZSBjb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBsYW5ndWFnZSB0byBnZXQgdGhlIGNvZGUgZnJvbVxuICAgICAqL1xuICAgIGxhbmd1YWdlQ29kZShpbmRleCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbnN0IGNvZGUgPSB3YXNtLl93bF9pMThuX2xhbmd1YWdlQ29kZShpbmRleCk7XG4gICAgICAgIGlmIChjb2RlID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyhjb2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgbGFuZ3VhZ2UgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgbGFuZ3VhZ2UgdG8gZ2V0IHRoZSBuYW1lIGZyb21cbiAgICAgKi9cbiAgICBsYW5ndWFnZU5hbWUoaW5kZXgpIHtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBjb25zdCBuYW1lID0gd2FzbS5fd2xfaTE4bl9sYW5ndWFnZU5hbWUoaW5kZXgpO1xuICAgICAgICBpZiAobmFtZSA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gd2FzbS5VVEY4VG9TdHJpbmcobmFtZSk7XG4gICAgfVxufVxuLyoqIFByb3BlcnRpZXMgb2YgYSBXZWJYUiBzZXNzaW9uICovXG5leHBvcnQgY2xhc3MgWFIge1xuICAgIC8qKiBXb25kZXJsYW5kIFdBU00gYnJpZGdlLiBAaGlkZGVuICovXG4gICAgI3dhc207XG4gICAgI21vZGU7XG4gICAgY29uc3RydWN0b3Iod2FzbSwgbW9kZSkge1xuICAgICAgICB0aGlzLiN3YXNtID0gd2FzbTtcbiAgICAgICAgdGhpcy4jbW9kZSA9IG1vZGU7XG4gICAgfVxuICAgIC8qKiBDdXJyZW50IFdlYlhSIHNlc3Npb24gbW9kZSAqL1xuICAgIGdldCBzZXNzaW9uTW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI21vZGU7XG4gICAgfVxuICAgIC8qKiBDdXJyZW50IFdlYlhSIHNlc3Npb24gKi9cbiAgICBnZXQgc2Vzc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20ud2VieHJfc2Vzc2lvbjtcbiAgICB9XG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgZnJhbWUgKi9cbiAgICBnZXQgZnJhbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX2ZyYW1lO1xuICAgIH1cbiAgICByZWZlcmVuY2VTcGFjZUZvclR5cGUodHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZXNbdHlwZV0gPz8gbnVsbDtcbiAgICB9XG4gICAgLyoqIFNldCBjdXJyZW50IHJlZmVyZW5jZSBzcGFjZSB0eXBlIHVzZWQgZm9yIHJldHJpZXZpbmcgZXllLCBoZWFkLCBoYW5kIGFuZCBqb2ludCBwb3NlcyAqL1xuICAgIHNldCBjdXJyZW50UmVmZXJlbmNlU3BhY2UocmVmU3BhY2UpIHtcbiAgICAgICAgdGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZSA9IHJlZlNwYWNlO1xuICAgICAgICB0aGlzLiN3YXNtLndlYnhyX3JlZlNwYWNlVHlwZSA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBPYmplY3Qua2V5cyh0aGlzLiN3YXNtLndlYnhyX3JlZlNwYWNlcykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiN3YXNtLndlYnhyX3JlZlNwYWNlc1t0eXBlXSA9PT0gcmVmU3BhY2UpIHtcbiAgICAgICAgICAgICAgICAvKiBLZWVwIHRyYWNrIG9mIHJlZmVyZW5jZSBzcGFjZSB0eXBlICovXG4gICAgICAgICAgICAgICAgdGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZVR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBDdXJyZW50IHJlZmVyZW5jZSBzcGFjZSB0eXBlIHVzZWQgZm9yIHJldHJpZXZpbmcgZXllLCBoZWFkLCBoYW5kIGFuZCBqb2ludCBwb3NlcyAqL1xuICAgIGdldCBjdXJyZW50UmVmZXJlbmNlU3BhY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX3JlZlNwYWNlO1xuICAgIH1cbiAgICAvKiogQ3VycmVudCBXZWJYUiByZWZlcmVuY2Ugc3BhY2UgdHlwZSBvciBgbnVsbGAgaWYgbm90IGEgZGVmYXVsdCByZWZlcmVuY2Ugc3BhY2UgKi9cbiAgICBnZXQgY3VycmVudFJlZmVyZW5jZVNwYWNlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2VUeXBlO1xuICAgIH1cbiAgICAvKiogQ3VycmVudCBXZWJYUiBiYXNlIGxheWVyICAqL1xuICAgIGdldCBiYXNlTGF5ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX2Jhc2VMYXllcjtcbiAgICB9XG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgZnJhbWVidWZmZXIgKi9cbiAgICBnZXQgZnJhbWVidWZmZXJzKCkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy4jd2FzbS53ZWJ4cl9mYm8pKSB7XG4gICAgICAgICAgICByZXR1cm4gW3RoaXMuI3dhc20uR0wuZnJhbWVidWZmZXJzW3RoaXMuI3dhc20ud2VieHJfZmJvXV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20ud2VieHJfZmJvLm1hcCgoaWQpID0+IHRoaXMuI3dhc20uR0wuZnJhbWVidWZmZXJzW2lkXSk7XG4gICAgfVxufVxuIiwgIi8qKlxuICogRmV0Y2ggYSBmaWxlIGFzIGFuIGBBcnJheUJ1ZmZlcmAsIHdpdGggZmV0Y2ggcHJvZ3Jlc3MgcGFzc2VkIHRvIGEgY2FsbGJhY2suXG4gKlxuICogQHBhcmFtIHBhdGggUGF0aCBvZiB0aGUgZmlsZSB0byBmZXRjaFxuICogQHBhcmFtIG9uUHJvZ3Jlc3MgQ2FsbGJhY2sgcmVjZWl2aW5nIHRoZSBjdXJyZW50IGZldGNoIHByb2dyZXNzIGFuZCB0b3RhbFxuICogICAgIHNpemUsIGluIGJ5dGVzLiBBbHNvIGNhbGxlZCBhIGZpbmFsIHRpbWUgb24gY29tcGxldGlvbi5cbiAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBmZXRjaCBzdWNjZXNzZnVsbHkgY29tcGxldGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmZXRjaFdpdGhQcm9ncmVzcyhwYXRoLCBvblByb2dyZXNzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCBwYXRoKTtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICAgIHhoci5vbnByb2dyZXNzID0gKHByb2dyZXNzKSA9PiB7XG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3MubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/Lihwcm9ncmVzcy5sb2FkZWQsIHByb2dyZXNzLnRvdGFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGhyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyID0geGhyLnJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M/LihidWZmZXIuYnl0ZUxlbmd0aCwgYnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdCh4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhoci5vbmVycm9yID0gKCkgPT4gcmVqZWN0KHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICB9KTtcbn1cbiIsICJpbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi91dGlscy9ldmVudC5qcyc7XG5pbXBvcnQgeyBmZXRjaFdpdGhQcm9ncmVzcyB9IGZyb20gJy4vdXRpbHMvZmV0Y2guanMnO1xuaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tICcuL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBSYXlIaXQsIFZpZXdDb21wb25lbnQgfSBmcm9tICcuL3dvbmRlcmxhbmQuanMnO1xuLyoqXG4gKiBQcm92aWRlcyBnbG9iYWwgc2NlbmUgZnVuY3Rpb25hbGl0eSBsaWtlIHJheWNhc3RpbmcuXG4gKi9cbmV4cG9ydCBjbGFzcyBTY2VuZSB7XG4gICAgLyoqIENhbGxlZCBiZWZvcmUgcmVuZGVyaW5nIHRoZSBzY2VuZSAqL1xuICAgIG9uUHJlUmVuZGVyID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogQ2FsbGVkIGFmdGVyIHRoZSBzY2VuZSBoYXMgYmVlbiByZW5kZXJlZCAqL1xuICAgIG9uUG9zdFJlbmRlciA9IG5ldyBFbWl0dGVyKCk7XG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlLiBAaGlkZGVuICovXG4gICAgX2VuZ2luZTtcbiAgICAvKiogUmF5IGhpdCBwb2ludGVyIGluIFdBU00gaGVhcC4gQGhpZGRlbiAqL1xuICAgIF9yYXlIaXQ7XG4gICAgLyoqIFJheSBoaXQuIEBoaWRkZW4gKi9cbiAgICBfaGl0O1xuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XG4gICAgICAgIHRoaXMuX3JheUhpdCA9IGVuZ2luZS53YXNtLl9tYWxsb2MoNCAqICgzICogNCArIDMgKiA0ICsgNCArIDIpICsgNCk7XG4gICAgICAgIHRoaXMuX2hpdCA9IG5ldyBSYXlIaXQodGhpcy5fZW5naW5lLCB0aGlzLl9yYXlIaXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDdXJyZW50bHkgYWN0aXZlIHZpZXcgY29tcG9uZW50cy5cbiAgICAgKi9cbiAgICBnZXQgYWN0aXZlVmlld3MoKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgY291bnQgPSB3YXNtLl93bF9zY2VuZV9nZXRfYWN0aXZlX3ZpZXdzKHRoaXMuX2VuZ2luZS53YXNtLl90ZW1wTWVtLCAxNik7XG4gICAgICAgIGNvbnN0IHZpZXdzID0gW107XG4gICAgICAgIGNvbnN0IHZpZXdUeXBlSW5kZXggPSB3YXNtLl90eXBlSW5kZXhGb3IoJ3ZpZXcnKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2aWV3cy5wdXNoKG5ldyBWaWV3Q29tcG9uZW50KHRoaXMuX2VuZ2luZSwgdmlld1R5cGVJbmRleCwgdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW1JbnRbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlld3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhc3QgYSByYXkgdGhyb3VnaCB0aGUgc2NlbmUgYW5kIGZpbmQgaW50ZXJzZWN0aW5nIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBUaGUgcmVzdWx0aW5nIHJheSBoaXQgd2lsbCBjb250YWluIHVwIHRvICoqNCoqIGNsb3Nlc3QgcmF5IGhpdHMsXG4gICAgICogc29ydGVkIGJ5IGluY3JlYXNpbmcgZGlzdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbyBSYXkgb3JpZ2luLlxuICAgICAqIEBwYXJhbSBkIFJheSBkaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIGdyb3VwIENvbGxpc2lvbiBncm91cCB0byBmaWx0ZXIgYnk6IG9ubHkgb2JqZWN0cyB0aGF0IGFyZVxuICAgICAqICAgICAgICBwYXJ0IG9mIGdpdmVuIGdyb3VwIGFyZSBjb25zaWRlcmVkIGZvciByYXljYXN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHNjZW5lIGNhY2hlZCB7QGxpbmsgUmF5SGl0fSBpbnN0YW5jZS5cbiAgICAgKiBAbm90ZSBUaGUgcmV0dXJuZWQgb2JqZWN0IGlzIG93bmVkIGJ5IHRoZSBTY2VuZSBpbnN0YW5jZVxuICAgICAqICAgd2lsbCBiZSByZXVzZWQgd2l0aCB0aGUgbmV4dCB7QGxpbmsgU2NlbmUjcmF5Q2FzdH0gY2FsbC5cbiAgICAgKi9cbiAgICByYXlDYXN0KG8sIGQsIGdyb3VwKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9zY2VuZV9yYXlfY2FzdChvWzBdLCBvWzFdLCBvWzJdLCBkWzBdLCBkWzFdLCBkWzJdLCBncm91cCwgdGhpcy5fcmF5SGl0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hpdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGFuIG9iamVjdCB0byB0aGUgc2NlbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFyZW50IFBhcmVudCBvYmplY3Qgb3IgYG51bGxgLlxuICAgICAqIEByZXR1cm5zIEEgbmV3bHkgY3JlYXRlZCBvYmplY3QuXG4gICAgICovXG4gICAgYWRkT2JqZWN0KHBhcmVudCA9IG51bGwpIHtcbiAgICAgICAgY29uc3QgcGFyZW50SWQgPSBwYXJlbnQgPyBwYXJlbnQub2JqZWN0SWQgOiAwO1xuICAgICAgICBjb25zdCBvYmplY3RJZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9zY2VuZV9hZGRfb2JqZWN0KHBhcmVudElkKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53cmFwT2JqZWN0KG9iamVjdElkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmF0Y2gtYWRkIG9iamVjdHMgdG8gdGhlIHNjZW5lLlxuICAgICAqXG4gICAgICogV2lsbCBwcm92aWRlIGJldHRlciBwZXJmb3JtYW5jZSBmb3IgYWRkaW5nIG11bHRpcGxlIG9iamVjdHMgKGUuZy4gPiAxNilcbiAgICAgKiB0aGFuIGNhbGxpbmcge0BsaW5rIFNjZW5lI2FkZE9iamVjdH0gcmVwZWF0ZWRseSBpbiBhIGxvb3AuXG4gICAgICpcbiAgICAgKiBCeSBwcm92aWRpbmcgdXBmcm9udCBpbmZvcm1hdGlvbiBvZiBob3cgbWFueSBvYmplY3RzIHdpbGwgYmUgcmVxdWlyZWQsXG4gICAgICogdGhlIGVuZ2luZSBpcyBhYmxlIHRvIGJhdGNoLWFsbG9jYXRlIHRoZSByZXF1aXJlZCBtZW1vcnkgcmF0aGVyIHRoYW5cbiAgICAgKiBjb252ZXJ2YXRpdmVseSBncm93IHRoZSBtZW1vcnkgaW4gc21hbGwgc3RlcHMuXG4gICAgICpcbiAgICAgKiAqKkV4cGVyaW1lbnRhbDoqKiBUaGlzIEFQSSBtaWdodCBjaGFuZ2UgaW4gdXBjb21pbmcgdmVyc2lvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY291bnQgTnVtYmVyIG9mIG9iamVjdHMgdG8gYWRkLlxuICAgICAqIEBwYXJhbSBwYXJlbnQgUGFyZW50IG9iamVjdCBvciBgbnVsbGAsIGRlZmF1bHQgYG51bGxgLlxuICAgICAqIEBwYXJhbSBjb21wb25lbnRDb3VudEhpbnQgSGludCBmb3IgaG93IG1hbnkgY29tcG9uZW50cyBpbiB0b3RhbCB3aWxsXG4gICAgICogICAgICBiZSBhZGRlZCB0byB0aGUgY3JlYXRlZCBvYmplY3RzIGFmdGVyd2FyZHMsIGRlZmF1bHQgYDBgLlxuICAgICAqIEByZXR1cm5zIE5ld2x5IGNyZWF0ZWQgb2JqZWN0c1xuICAgICAqL1xuICAgIGFkZE9iamVjdHMoY291bnQsIHBhcmVudCA9IG51bGwsIGNvbXBvbmVudENvdW50SGludCA9IDApIHtcbiAgICAgICAgY29uc3QgcGFyZW50SWQgPSBwYXJlbnQgPyBwYXJlbnQub2JqZWN0SWQgOiAwO1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5yZXF1aXJlVGVtcE1lbShjb3VudCAqIDIpO1xuICAgICAgICBjb25zdCBhY3R1YWxDb3VudCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9zY2VuZV9hZGRfb2JqZWN0cyhwYXJlbnRJZCwgY291bnQsIGNvbXBvbmVudENvdW50SGludCB8fCAwLCB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbSwgdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW1TaXplID4+IDEpO1xuICAgICAgICBjb25zdCBpZHMgPSB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbVVpbnQxNi5zdWJhcnJheSgwLCBhY3R1YWxDb3VudCk7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSB0aGlzLl9lbmdpbmUud3JhcE9iamVjdC5iaW5kKHRoaXMuX2VuZ2luZSk7XG4gICAgICAgIGNvbnN0IG9iamVjdHMgPSBBcnJheS5mcm9tKGlkcywgd3JhcHBlcik7XG4gICAgICAgIHJldHVybiBvYmplY3RzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmUtYWxsb2NhdGUgbWVtb3J5IGZvciBhIGdpdmVuIGFtb3VudCBvZiBvYmplY3RzIGFuZCBjb21wb25lbnRzLlxuICAgICAqXG4gICAgICogV2lsbCBwcm92aWRlIGJldHRlciBwZXJmb3JtYW5jZSBmb3IgYWRkaW5nIG9iamVjdHMgbGF0ZXIgd2l0aCB7QGxpbmsgU2NlbmUjYWRkT2JqZWN0fVxuICAgICAqIGFuZCB7QGxpbmsgU2NlbmUjYWRkT2JqZWN0c30uXG4gICAgICpcbiAgICAgKiBCeSBwcm92aWRpbmcgdXBmcm9udCBpbmZvcm1hdGlvbiBvZiBob3cgbWFueSBvYmplY3RzIHdpbGwgYmUgcmVxdWlyZWQsXG4gICAgICogdGhlIGVuZ2luZSBpcyBhYmxlIHRvIGJhdGNoLWFsbG9jYXRlIHRoZSByZXF1aXJlZCBtZW1vcnkgcmF0aGVyIHRoYW5cbiAgICAgKiBjb25zZXJ2YXRpdmVseSBncm93IHRoZSBtZW1vcnkgaW4gc21hbGwgc3RlcHMuXG4gICAgICpcbiAgICAgKiAqKkV4cGVyaW1lbnRhbDoqKiBUaGlzIEFQSSBtaWdodCBjaGFuZ2UgaW4gdXBjb21pbmcgdmVyc2lvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb2JqZWN0Q291bnQgTnVtYmVyIG9mIG9iamVjdHMgdG8gYWRkLlxuICAgICAqIEBwYXJhbSBjb21wb25lbnRDb3VudFBlclR5cGUgQW1vdW50IG9mIGNvbXBvbmVudHMgdG9cbiAgICAgKiAgICAgIGFsbG9jYXRlIGZvciB7QGxpbmsgT2JqZWN0M0QuYWRkQ29tcG9uZW50fSwgZS5nLiBge21lc2g6IDEwMCwgY29sbGlzaW9uOiAyMDAsIFwibXktY29tcFwiOiAxMDB9YC5cbiAgICAgKiBAc2luY2UgMC44LjEwXG4gICAgICovXG4gICAgcmVzZXJ2ZU9iamVjdHMob2JqZWN0Q291bnQsIGNvbXBvbmVudENvdW50UGVyVHlwZSkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XG4gICAgICAgIGNvbXBvbmVudENvdW50UGVyVHlwZSA9IGNvbXBvbmVudENvdW50UGVyVHlwZSB8fCB7fTtcbiAgICAgICAgY29uc3QganNNYW5hZ2VySW5kZXggPSB3YXNtLl90eXBlSW5kZXhGb3IoJ2pzJyk7XG4gICAgICAgIGxldCBjb3VudHNQZXJUeXBlSW5kZXggPSB3YXNtLl90ZW1wTWVtSW50LnN1YmFycmF5KCk7XG4gICAgICAgIGNvdW50c1BlclR5cGVJbmRleC5maWxsKDApO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgT2JqZWN0LmVudHJpZXMoY29tcG9uZW50Q291bnRQZXJUeXBlKSkge1xuICAgICAgICAgICAgY29uc3QgdHlwZUluZGV4ID0gd2FzbS5fdHlwZUluZGV4Rm9yKGVbMF0pO1xuICAgICAgICAgICAgY291bnRzUGVyVHlwZUluZGV4W3R5cGVJbmRleCA8IDAgPyBqc01hbmFnZXJJbmRleCA6IHR5cGVJbmRleF0gKz0gZVsxXTtcbiAgICAgICAgfVxuICAgICAgICB3YXNtLl93bF9zY2VuZV9yZXNlcnZlX29iamVjdHMob2JqZWN0Q291bnQsIHdhc20uX3RlbXBNZW0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGJhY2tncm91bmQgY2xlYXIgY29sb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sb3IgbmV3IGNsZWFyIGNvbG9yIChSR0JBKS5cbiAgICAgKiBAc2luY2UgMC44LjVcbiAgICAgKi9cbiAgICBzZXQgY2xlYXJDb2xvcihjb2xvcikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfc2NlbmVfc2V0X2NsZWFyQ29sb3IoY29sb3JbMF0sIGNvbG9yWzFdLCBjb2xvclsyXSwgY29sb3JbM10pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciB0byBjbGVhciB0aGUgY29sb3IgZnJhbWVidWZmZXIgYmVmb3JlIGRyYXdpbmcuXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWZ1bCBpZiBhbiBleHRlcm5hbCBmcmFtZXdvcmsgKGUuZy4gYW4gQVIgdHJhY2tpbmdcbiAgICAgKiBmcmFtZXdvcmspIGlzIHJlc3BvbnNpYmxlIGZvciBkcmF3aW5nIGEgY2FtZXJhIGZyYW1lIGJlZm9yZSBXb25kZXJsYW5kXG4gICAgICogRW5naW5lIGRyYXdzIHRoZSBzY2VuZSBvbiB0b3Agb2YgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRvIGVuYWJsZSBjb2xvciBjbGVhci5cbiAgICAgKiBAc2luY2UgMC45LjRcbiAgICAgKi9cbiAgICBzZXQgY29sb3JDbGVhckVuYWJsZWQoYikge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfc2NlbmVfZW5hYmxlQ29sb3JDbGVhcihiKTtcbiAgICB9XG4gICAgLyoqIEhvc3RpbmcgZW5naW5lIGluc3RhbmNlLiAqL1xuICAgIGdldCBlbmdpbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWQgYSBzY2VuZSBmaWxlICguYmluKS5cbiAgICAgKlxuICAgICAqIFdpbGwgcmVwbGFjZSB0aGUgY3VycmVudGx5IGFjdGl2ZSBzY2VuZSB3aXRoIHRoZSBvbmUgbG9hZGVkXG4gICAgICogZnJvbSBnaXZlbiBmaWxlLiBJdCBpcyBhc3N1bWVkIHRoYXQgSmF2YVNjcmlwdCBjb21wb25lbnRzIHJlcXVpcmVkIGJ5XG4gICAgICogdGhlIG5ldyBzY2VuZSB3ZXJlIHJlZ2lzdGVyZWQgaW4gYWR2YW5jZS5cbiAgICAgKlxuICAgICAqIE9uY2UgdGhlIHNjZW5lIGlzIGxvYWRlZCBzdWNjZXNzZnVsbHkgYW5kIGluaXRpYWxpemVkLFxuICAgICAqIHtAbGluayBXb25kZXJsYW5kRW5naW5lLm9uU2NlbmVMb2FkZWR9IGlzIG5vdGlmaWVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZpbGVuYW1lIFBhdGggdG8gdGhlIC5iaW4gZmlsZS5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgc2NlbmUgd2FzIGxvYWRlZC5cbiAgICAgKi9cbiAgICBhc3luYyBsb2FkKGZpbGVuYW1lKSB7XG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gYXdhaXQgZmV0Y2hXaXRoUHJvZ3Jlc3MoZmlsZW5hbWUsIChieXRlcywgc2l6ZSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFNjZW5lIGRvd25sb2FkaW5nOiAke2J5dGVzfSAvICR7c2l6ZX1gKTtcbiAgICAgICAgICAgIHdhc20uX3dsX3NldF9sb2FkaW5nX3NjcmVlbl9wcm9ncmVzcyhieXRlcyAvIHNpemUpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGJ1ZmZlci5ieXRlTGVuZ3RoO1xuICAgICAgICBjb25zb2xlLmxvZyhgU2NlbmUgZG93bmxvYWQgb2YgJHtzaXplfSBieXRlcyBzdWNjZXNzZnVsLmApO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl9tYWxsb2Moc2l6ZSk7XG4gICAgICAgIG5ldyBVaW50OEFycmF5KHdhc20uSEVBUFU4LmJ1ZmZlciwgcHRyLCBzaXplKS5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3YXNtLl93bF9sb2FkX3NjZW5lX2JpbihwdHIsIHNpemUsIHdhc20udGVtcFVURjgoZmlsZW5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIC8qIENhdGNoIGNhbGxzIHRvIGFib3J0KCksIGUuZy4gdmlhIGFzc2VydHMgKi9cbiAgICAgICAgICAgIHdhc20uX2ZyZWUocHRyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBiaW5RdWV1ZSA9IHdhc20uX3F1ZXVlZEJpbkZpbGVzO1xuICAgICAgICBpZiAoYmluUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2FzbS5fcXVldWVkQmluRmlsZXMgPSBbXTtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGJpblF1ZXVlLm1hcCgocGF0aCkgPT4gdGhpcy5hcHBlbmQocGF0aCkpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbmdpbmUub25TY2VuZUxvYWRlZC5ub3RpZnkoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kIGEgc2NlbmUgZmlsZS5cbiAgICAgKlxuICAgICAqIExvYWRzIGFuZCBwYXJzZXMgdGhlIGZpbGUgYW5kIGl0cyBpbWFnZXMgYW5kIGFwcGVuZHMgdGhlIHJlc3VsdFxuICAgICAqIHRvIHRoZSBjdXJyZW50bHkgYWN0aXZlIHNjZW5lLlxuICAgICAqXG4gICAgICogU3VwcG9ydGVkIGZvcm1hdHMgYXJlIHN0cmVhbWFibGUgV29uZGVybGFuZCBzY2VuZSBmaWxlcyAoLmJpbikgYW5kIGdsVEZcbiAgICAgKiAzRCBzY2VuZXMgKC5nbHRmLCAuZ2xiKS5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogV0wuc2NlbmUuYXBwZW5kKGZpbGVuYW1lKS50aGVuKHJvb3QgPT4ge1xuICAgICAqICAgICAvLyByb290IGNvbnRhaW5zIHRoZSBsb2FkZWQgc2NlbmVcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEluIGNhc2UgdGhlIGBsb2FkR2x0ZkV4dGVuc2lvbnNgIG9wdGlvbiBpcyBzZXQgdG8gdHJ1ZSwgdGhlIHJlc3BvbnNlXG4gICAgICogd2lsbCBiZSBhbiBvYmplY3QgY29udGFpbmluZyBib3RoIHRoZSByb290IG9mIHRoZSBsb2FkZWQgc2NlbmUgYW5kXG4gICAgICogYW55IGdsVEYgZXh0ZW5zaW9ucyBmb3VuZCBvbiBub2RlcywgbWVzaGVzIGFuZCB0aGUgcm9vdCBvZiB0aGUgZmlsZS5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogV0wuc2NlbmUuYXBwZW5kKGZpbGVuYW1lLCB7IGxvYWRHbHRmRXh0ZW5zaW9uczogdHJ1ZSB9KS50aGVuKCh7cm9vdCwgZXh0ZW5zaW9uc30pID0+IHtcbiAgICAgKiAgICAgLy8gcm9vdCBjb250YWlucyB0aGUgbG9hZGVkIHNjZW5lXG4gICAgICogICAgIC8vIGV4dGVuc2lvbnMucm9vdCBjb250YWlucyBhbnkgZXh0ZW5zaW9ucyBhdCB0aGUgcm9vdCBvZiBnbFRGIGRvY3VtZW50XG4gICAgICogICAgIGNvbnN0IHJvb3RFeHRlbnNpb25zID0gZXh0ZW5zaW9ucy5yb290O1xuICAgICAqICAgICAvLyBleHRlbnNpb25zLm1lc2ggYW5kIGV4dGVuc2lvbnMubm9kZSBjb250YWluIGV4dGVuc2lvbnMgaW5kZXhlZCBieSBPYmplY3QgaWRcbiAgICAgKiAgICAgY29uc3QgY2hpbGRPYmplY3QgPSByb290LmNoaWxkcmVuWzBdO1xuICAgICAqICAgICBjb25zdCBtZXNoRXh0ZW5zaW9ucyA9IHJvb3QubWVzaEV4dGVuc2lvbnNbY2hpbGRPYmplY3Qub2JqZWN0SWRdO1xuICAgICAqICAgICBjb25zdCBub2RlRXh0ZW5zaW9ucyA9IHJvb3Qubm9kZUV4dGVuc2lvbnNbY2hpbGRPYmplY3Qub2JqZWN0SWRdO1xuICAgICAqICAgICAvLyBleHRlbnNpb25zLmlkTWFwcGluZyBjb250YWlucyBhIG1hcHBpbmcgZnJvbSBnbFRGIG5vZGUgaW5kZXggdG8gT2JqZWN0IGlkXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmlsZSBUaGUgLmJpbiwgLmdsdGYgb3IgLmdsYiBmaWxlIHRvIGFwcGVuZC4gU2hvdWxkIGJlIGEgVVJMIG9yXG4gICAgICogICBhbiBgQXJyYXlCdWZmZXJgIHdpdGggdGhlIGZpbGUgY29udGVudC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBBZGRpdGlvbmFsIG9wdGlvbnMgZm9yIGxvYWRpbmcuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHNjZW5lIHdhcyBhcHBlbmRlZC5cbiAgICAgKi9cbiAgICBhc3luYyBhcHBlbmQoZmlsZSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBidWZmZXIgPSBpc1N0cmluZyhmaWxlKSA/IGF3YWl0IGZldGNoV2l0aFByb2dyZXNzKGZpbGUpIDogZmlsZTtcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xuICAgICAgICBsZXQgY2FsbGJhY2s7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHdhc20uYWRkRnVuY3Rpb24oKG9iamVjdElkLCBleHRlbnNpb25EYXRhLCBleHRlbnNpb25EYXRhU2l6ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChvYmplY3RJZCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdCA9IG9iamVjdElkID8gdGhpcy5fZW5naW5lLndyYXBPYmplY3Qob2JqZWN0SWQpIDogbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW5zaW9uRGF0YSAmJiBleHRlbnNpb25EYXRhU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXJzaGFsbGVkID0gbmV3IFVpbnQzMkFycmF5KHdhc20uSEVBUFUzMi5idWZmZXIsIGV4dGVuc2lvbkRhdGEsIGV4dGVuc2lvbkRhdGFTaXplIC8gNCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLl91bm1hcnNoYWxsR2x0ZkV4dGVuc2lvbnMobWFyc2hhbGxlZCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyByb290LCBleHRlbnNpb25zIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyb290KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAndmlpaScpO1xuICAgICAgICB9KS5maW5hbGx5KCgpID0+IHdhc20ucmVtb3ZlRnVuY3Rpb24oY2FsbGJhY2spKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGJ1ZmZlci5ieXRlTGVuZ3RoO1xuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl9tYWxsb2Moc2l6ZSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheSh3YXNtLkhFQVBVOC5idWZmZXIsIHB0ciwgc2l6ZSk7XG4gICAgICAgIGRhdGEuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpO1xuICAgICAgICBjb25zdCBNQUdJQyA9ICdXTEVWJztcbiAgICAgICAgY29uc3QgaXNCaW5GaWxlID0gZGF0YS5ieXRlTGVuZ3RoID4gTUFHSUMubGVuZ3RoICYmXG4gICAgICAgICAgICBkYXRhXG4gICAgICAgICAgICAgICAgLnN1YmFycmF5KDAsIE1BR0lDLmxlbmd0aClcbiAgICAgICAgICAgICAgICAuZXZlcnkoKHZhbHVlLCBpKSA9PiB2YWx1ZSA9PT0gTUFHSUMuY2hhckNvZGVBdChpKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoaXNCaW5GaWxlKSB7XG4gICAgICAgICAgICAgICAgd2FzbS5fd2xfYXBwZW5kX3NjZW5lX2JpbihwdHIsIHNpemUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRFeHRlbnNpb25zID0gb3B0aW9ucz8ubG9hZEdsdGZFeHRlbnNpb25zID8/IGZhbHNlO1xuICAgICAgICAgICAgICAgIHdhc20uX3dsX2FwcGVuZF9zY2VuZV9nbHRmKHB0ciwgc2l6ZSwgbG9hZEV4dGVuc2lvbnMsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgd2FzbS5yZW1vdmVGdW5jdGlvbihjYWxsYmFjayk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgd2FzbS5fZnJlZShwdHIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb21pc2U7XG4gICAgICAgIGNvbnN0IGJpblF1ZXVlID0gd2FzbS5fcXVldWVkQmluRmlsZXM7XG4gICAgICAgIGlmIChpc0JpbkZpbGUgJiYgYmluUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2FzbS5fcXVldWVkQmluRmlsZXMgPSBbXTtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGJpblF1ZXVlLm1hcCgocGF0aCkgPT4gdGhpcy5hcHBlbmQocGF0aCwgb3B0aW9ucykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbm1hcnNoYWxscyB0aGUgR2x0ZkV4dGVuc2lvbnMgZnJvbSBhbiBVaW50MzJBcnJheS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYXRhIEFycmF5IGNvbnRhaW5pbmcgdGhlIGdsdGYgZXh0ZW5zaW9uIGRhdGEuXG4gICAgICogQHJldHVybnMgVGhlIGV4dGVuc2lvbnMgc3RvcmVkIGluIGFuIG9iamVjdCBsaXRlcmFsLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF91bm1hcnNoYWxsR2x0ZkV4dGVuc2lvbnMoZGF0YSkge1xuICAgICAgICAvKiBAdG9kbzogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIG1vdmVkIGluIHRoZSBpbnRlcm5hbCBFbXNjcmlwdGVuIGxpYnJhcnkuICovXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbnMgPSB7XG4gICAgICAgICAgICByb290OiB7fSxcbiAgICAgICAgICAgIG1lc2g6IHt9LFxuICAgICAgICAgICAgbm9kZToge30sXG4gICAgICAgICAgICBpZE1hcHBpbmc6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBjb25zdCByZWFkU3RyaW5nID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RyUHRyID0gZGF0YVtpbmRleCsrXTtcbiAgICAgICAgICAgIGNvbnN0IHN0ckxlbiA9IGRhdGFbaW5kZXgrK107XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uVVRGOFZpZXdUb1N0cmluZyhzdHJQdHIsIHN0clB0ciArIHN0ckxlbik7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGlkTWFwcGluZ1NpemUgPSBkYXRhW2luZGV4KytdO1xuICAgICAgICBjb25zdCBpZE1hcHBpbmcgPSBuZXcgQXJyYXkoaWRNYXBwaW5nU2l6ZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaWRNYXBwaW5nU2l6ZTsgKytpKSB7XG4gICAgICAgICAgICBpZE1hcHBpbmdbaV0gPSBkYXRhW2luZGV4KytdO1xuICAgICAgICB9XG4gICAgICAgIGV4dGVuc2lvbnMuaWRNYXBwaW5nID0gaWRNYXBwaW5nO1xuICAgICAgICBjb25zdCBtZXNoRXh0ZW5zaW9uc1NpemUgPSBkYXRhW2luZGV4KytdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc2hFeHRlbnNpb25zU2l6ZTsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBvYmplY3RJZCA9IGRhdGFbaW5kZXgrK107XG4gICAgICAgICAgICBleHRlbnNpb25zLm1lc2hbaWRNYXBwaW5nW29iamVjdElkXV0gPSBKU09OLnBhcnNlKHJlYWRTdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgbm9kZUV4dGVuc2lvbnNTaXplID0gZGF0YVtpbmRleCsrXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlRXh0ZW5zaW9uc1NpemU7ICsraSkge1xuICAgICAgICAgICAgY29uc3Qgb2JqZWN0SWQgPSBkYXRhW2luZGV4KytdO1xuICAgICAgICAgICAgZXh0ZW5zaW9ucy5ub2RlW2lkTWFwcGluZ1tvYmplY3RJZF1dID0gSlNPTi5wYXJzZShyZWFkU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJvb3RFeHRlbnNpb25zU3RyID0gcmVhZFN0cmluZygpO1xuICAgICAgICBpZiAocm9vdEV4dGVuc2lvbnNTdHIpIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbnMucm9vdCA9IEpTT04ucGFyc2Uocm9vdEV4dGVuc2lvbnNTdHIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleHRlbnNpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgc2NlbmUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBkZWxldGVzIGFsbCB1c2VkIGFuZCBhbGxvY2F0ZWQgb2JqZWN0cywgYW5kIGNvbXBvbmVudHMuXG4gICAgICovXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9zY2VuZV9yZXNldCgpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi93b25kZXJsYW5kLmpzJztcbi8qKlxuICogTWFuYWdlIHRleHR1cmVzLlxuICpcbiAqIFRoaXMgbWFuYWdlciBpcyBhY2Nlc3NpYmxlIG9uIHRoZSBlbmdpbmUgaW5zdGFuY2UgdXNpbmcge0BsaW5rIFdvbmRlcmxhbmRFbmdpbmUudGV4dHVyZXN9LlxuICpcbiAqIFVzYWdlXG4gKlxuICogYGBganNcbiAqIHRoaXMuZW5naW5lLmxvYWQoJ3BhdGgvdG8vdGV4dHVyZS5wbmcnKS50aGVuKCh0ZXh0dXJlKSA9PiB7XG4gKiAgICAgY29uc29sZS5sb2coJ0xvYWRlZCEnKTtcbiAqICAgICBjb25zb2xlLmxvZyh0ZXh0dXJlKTtcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFRleHR1cmVNYW5hZ2VyIHtcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cbiAgICBfZW5naW5lO1xuICAgIC8qKiBUZXh0dXJlIGNhY2hlLiBAaGlkZGVuICovXG4gICAgI2NhY2hlID0gW107XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUpIHtcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUgdGV4dHVyZSB3aXRoIHRoZSBnaXZlbiBpZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCBUaGUgdGV4dHVyZSBpZGVudGlmaWVyLlxuICAgICAqIEByZXR1cm4gVGhlIHtAbGluayBUZXh0dXJlfSBpZiBmb3VuZCwgYG51bGxgIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBnZXQoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2NhY2hlW2lkXSA/PyBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkIGFuIGltYWdlIGZyb20gVVJMIGFzIHtAbGluayBUZXh0dXJlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmaWxlbmFtZSBVUkwgdG8gbG9hZCBmcm9tLlxuICAgICAqIEBwYXJhbSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4gZmxhZyBmb3IgdGhlIGltYWdlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyBMb2FkZWQgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBsb2FkKGZpbGVuYW1lLCBjcm9zc09yaWdpbikge1xuICAgICAgICBsZXQgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1hZ2UuY3Jvc3NPcmlnaW4gPSBjcm9zc09yaWdpbiA/PyBpbWFnZS5jcm9zc09yaWdpbjtcbiAgICAgICAgaW1hZ2Uuc3JjID0gZmlsZW5hbWU7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHRleHR1cmUgPSBuZXcgVGV4dHVyZSh0aGlzLl9lbmdpbmUsIGltYWdlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCdGYWlsZWQgdG8gYWRkIGltYWdlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc3JjICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgdG8gdGV4dHVyZSBhdGxhcy4gUHJvYmFibHkgaW5jb21wYXRpYmxlIGZvcm1hdC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlamVjdCgnRmFpbGVkIHRvIGxvYWQgaW1hZ2UuIE5vdCBmb3VuZCBvciBubyByZWFkIGFjY2VzcycpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyYXAgYSB0ZXh0dXJlIElEIHVzaW5nIHtAbGluayBUZXh0dXJlfS5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgbWV0aG9kIHBlcmZvcm1zIGNhY2hpbmcgYW5kIHdpbGwgcmV0dXJuIHRoZSBzYW1lXG4gICAgICogaW5zdGFuY2Ugb24gc3Vic2VxdWVudCBjYWxscy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCBJRCBvZiB0aGUgdGV4dHVyZSB0byBjcmVhdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgdGV4dHVyZS5cbiAgICAgKi9cbiAgICB3cmFwKGlkKSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLiNjYWNoZVtpZF0gPz8gKHRoaXMuI2NhY2hlW2lkXSA9IG5ldyBUZXh0dXJlKHRoaXMuX2VuZ2luZSwgaWQpKTtcbiAgICAgICAgdGV4dHVyZVsnX2lkJ10gPSBpZDtcbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfVxuICAgIC8qKiBOdW1iZXIgb2YgdGV4dHVyZXMgYWxsb2NhdGVkIGluIHRoZSBtYW5hZ2VyLiAqL1xuICAgIGdldCBhbGxvY2F0ZWRDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2NhY2hlLmxlbmd0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIHRleHR1cmVzIGluIHRoZSBtYW5hZ2VyLlxuICAgICAqXG4gICAgICogQG5vdGUgRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIGF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2Qgd2hlbiBwb3NzaWJsZS5cbiAgICAgKi9cbiAgICBnZXQgY291bnQoKSB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgdGV4IG9mIHRoaXMuI2NhY2hlKSB7XG4gICAgICAgICAgICBpZiAodGV4ICYmIHRleC5pZCA+PSAwKVxuICAgICAgICAgICAgICAgICsrY291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYSBuZXcgdGV4dHVyZSBpbiB0aGUgbWFuYWdlciBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0ZXh0dXJlIFRoZSB0ZXh0dXJlIHRvIGFkZC5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfc2V0KHRleHR1cmUpIHtcbiAgICAgICAgLyogQHRvZG86IERlc3Ryb3kgdGV4dHVyZSBhdCBwcmV2aW91cyBpZD8gKi9cbiAgICAgICAgdGhpcy4jY2FjaGVbdGV4dHVyZS5pZF0gPSB0ZXh0dXJlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0ZXh0dXJlIFRoZSB0ZXh0dXJlIHRvIGRlc3Ryb3kuXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgX2Rlc3Ryb3kodGV4dHVyZSkge1xuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dHVyZV9kZXN0cm95KHRleHR1cmUuaWQpO1xuICAgICAgICBjb25zdCBpbWcgPSB0ZXh0dXJlWydfaW1hZ2VJbmRleCddO1xuICAgICAgICBpZiAoaW1nICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5faW1hZ2VzW2ltZ10gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBtYW5hZ2VyLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF9yZXNldCgpIHtcbiAgICAgICAgdGhpcy4jY2FjaGUubGVuZ3RoID0gMDtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQ29sbGlzaW9uQ29tcG9uZW50LCBBbmltYXRpb25Db21wb25lbnQsIExpZ2h0Q29tcG9uZW50LCBNZXNoQ29tcG9uZW50LCBQaHlzWENvbXBvbmVudCwgSW5wdXRDb21wb25lbnQsIFZpZXdDb21wb25lbnQsIFRleHRDb21wb25lbnQsIE9iamVjdCBhcyBPYmplY3QzRCwgUGh5c2ljcywgSTE4TiwgfSBmcm9tICcuL3dvbmRlcmxhbmQuanMnO1xuaW1wb3J0IHsgRW1pdHRlciwgUmV0YWluRW1pdHRlciB9IGZyb20gJy4vdXRpbHMvZXZlbnQuanMnO1xuaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tICcuL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBTY2VuZSB9IGZyb20gJy4vc2NlbmUuanMnO1xuaW1wb3J0IHsgVGV4dHVyZU1hbmFnZXIgfSBmcm9tICcuL3RleHR1cmUtbWFuYWdlci5qcyc7XG4vKipcbiAqIE1haW4gV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuXG4gKlxuICogQ29udHJvbHMgdGhlIGNhbnZhcywgcmVuZGVyaW5nLCBhbmQgSlMgPC0+IFdBU00gY29tbXVuaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFdvbmRlcmxhbmRFbmdpbmUge1xuICAgIC8qKlxuICAgICAqIHtAbGluayBFbWl0dGVyfSBmb3IgV2ViWFIgc2Vzc2lvbiBlbmQgZXZlbnRzLlxuICAgICAqXG4gICAgICogVXNhZ2UgZnJvbSBhIHdpdGhpbiBhIGNvbXBvbmVudDpcbiAgICAgKiBgYGBqc1xuICAgICAqIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uRW5kLmFkZCgoKSA9PiBjb25zb2xlLmxvZyhcIlhSIHNlc3Npb24gZW5kZWQuXCIpKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBvblhSU2Vzc2lvbkVuZCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgLyoqXG4gICAgICoge0BsaW5rIEVtaXR0ZXJ9IGZvciBXZWJYUiBzZXNzaW9uIHN0YXJ0IGV2ZW50cy5cbiAgICAgKlxuICAgICAqIFVzYWdlIGZyb20gYSB3aXRoaW4gYSBjb21wb25lbnQ6XG4gICAgICogYGBganNcbiAgICAgKiB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCgoc2Vzc2lvbiwgbW9kZSkgPT4gY29uc29sZS5sb2coc2Vzc2lvbiwgbW9kZSkpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCwgdGhpcyBlbWl0dGVyIGlzIHJldGFpbmVkIGFuZCB3aWxsIGF1dG9tYXRpY2FsbHkgY2FsbCBhbnkgY2FsbGJhY2sgYWRkZWRcbiAgICAgKiB3aGlsZSBhIHNlc3Npb24gaXMgYWxyZWFkeSBzdGFydGVkOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAvLyBYUiBzZXNzaW9uIGlzIGFscmVhZHkgYWN0aXZlLlxuICAgICAqIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKChzZXNzaW9uLCBtb2RlKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKHNlc3Npb24sIG1vZGUpOyAvLyBUcmlnZ2VyZWQgaW1tZWRpYXRlbHkuXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgb25YUlNlc3Npb25TdGFydCA9IG5ldyBSZXRhaW5FbWl0dGVyKCk7XG4gICAgLyoqXG4gICAgICoge0BsaW5rIEVtaXR0ZXJ9IGZvciBjYW52YXMgLyBtYWluIGZyYW1lYnVmZmVyIHJlc2l6ZSBldmVudHMuXG4gICAgICpcbiAgICAgKiBVc2FnZSBmcm9tIGEgd2l0aGluIGEgY29tcG9uZW50OlxuICAgICAqIGBgYGpzXG4gICAgICogdGhpcy5lbmdpbmUub25SZXNpemUuYWRkKCgpID0+IHtcbiAgICAgKiAgICAgY29uc3QgY2FudmFzID0gdGhpcy5lbmdpbmUuY2FudmFzO1xuICAgICAqICAgICBjb25zb2xlLmxvZyhgTmV3IFNpemU6ICR7Y2FudmFzLndpZHRofSwgJHtjYW52YXMuaGVpZ2h0fWApO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQG5vdGUgVGhlIHNpemUgb2YgdGhlIGNhbnZhcyBpcyBpbiBwaHlzaWNhbCBwaXhlbHMsIGFuZCBpcyBzZXQgdmlhIHtAbGluayBXb25kZXJsYW5kRW5naW5lLnJlc2l6ZX0uXG4gICAgICovXG4gICAgb25SZXNpemUgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBXaGV0aGVyIEFSIGlzIHN1cHBvcnRlZCBieSB0aGUgYnJvd3Nlci4gKi9cbiAgICBhclN1cHBvcnRlZCA9IGZhbHNlO1xuICAgIC8qKiBXaGV0aGVyIFZSIGlzIHN1cHBvcnRlZCBieSB0aGUgYnJvd3Nlci4gKi9cbiAgICB2clN1cHBvcnRlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIHtAbGluayBFbWl0dGVyfSBmb3Igc2NlbmUgbG9hZGVkIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIExpc3RlbmVycyBnZXQgbm90aWZpZWQgd2hlbiBhIGNhbGwgdG8ge0BsaW5rIFNjZW5lI2xvYWQoKX0gZmluaXNoZXMsXG4gICAgICogd2hpY2ggYWxzbyBoYXBwZW5zIGFmdGVyIHRoZSBtYWluIHNjZW5lIGhhcyByZXBsYWNlZCB0aGUgbG9hZGluZyBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBVc2FnZSBmcm9tIGEgd2l0aGluIGEgY29tcG9uZW50OlxuICAgICAqIGBgYGpzXG4gICAgICogdGhpcy5lbmdpbmUub25TY2VuZUxvYWRlZC5hZGQoKCkgPT4gY29uc29sZS5sb2coXCJTY2VuZSBzd2l0Y2hlZCFcIikpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIG9uU2NlbmVMb2FkZWQgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgbWFpbiBzY2VuZS5cbiAgICAgKi9cbiAgICBzY2VuZSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQWNjZXNzIHRvIGludGVybmF0aW9uYWxpemF0aW9uLlxuICAgICAqL1xuICAgIGkxOG4gPSBuZXcgSTE4Tih0aGlzKTtcbiAgICAvKipcbiAgICAgKiBXZWJYUiByZWxhdGVkIHN0YXRlLCBgbnVsbGAgaWYgbm8gWFIgc2Vzc2lvbiBpcyBhY3RpdmUuXG4gICAgICovXG4gICAgeHIgPSBudWxsO1xuICAgIC8qIENvbXBvbmVudCBjbGFzcyBpbnN0YW5jZXMgcGVyIHR5cGUgdG8gYXZvaWQgR0MgKi9cbiAgICBfY29tcG9uZW50Q2FjaGUgPSB7fTtcbiAgICAvKiBPYmplY3QgY2xhc3MgaW5zdGFuY2VzIHBlciB0eXBlIHRvIGF2b2lkIEdDICovXG4gICAgX29iamVjdENhY2hlID0gW107XG4gICAgLyoqXG4gICAgICogV2ViQXNzZW1ibHkgYnJpZGdlLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgICN3YXNtO1xuICAgIC8qKlxuICAgICAqIFBoeXNpY3MgbWFuYWdlciwgb25seSBhdmFpbGFibGUgd2hlbiBwaHlzeCBpcyBlbmFibGVkIGluIHRoZSBydW50aW1lLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgICNwaHlzaWNzID0gbnVsbDtcbiAgICAvKiogVGV4dHVyZSBtYW5hZ2VyLiBAaGlkZGVuICovXG4gICAgI3RleHR1cmVzID0gbmV3IFRleHR1cmVNYW5hZ2VyKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZSBvYnNlcnZlciB0byB0cmFjayBmb3IgY2FudmFzIHNpemUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICAjcmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBlbmdpbmUgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gd2FzbSBXYXNtIGJyaWRnZSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSBsb2FkaW5nU2NyZWVuIExvYWRpbmcgc2NyZWVuIC5iaW4gZmlsZSBkYXRhXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iod2FzbSwgbG9hZGluZ1NjcmVlbikge1xuICAgICAgICB0aGlzLiN3YXNtID0gd2FzbTtcbiAgICAgICAgdGhpcy4jd2FzbVsnX3NldEVuZ2luZSddKHRoaXMpOyAvKiBTdHJpbmcgbG9va3VwIHRvIGJ5cGFzcyBwcml2YXRlLiAqL1xuICAgICAgICB0aGlzLiN3YXNtLl9sb2FkaW5nU2NyZWVuID0gbG9hZGluZ1NjcmVlbjtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50Q2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5fb2JqZWN0Q2FjaGUubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDb250ZXh0IGxvc3Q6Jyk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBlbmdpbmUgaWYgaXQncyBub3QgYWxyZWFkeSBydW5uaW5nLlxuICAgICAqXG4gICAgICogV2hlbiB1c2luZyB0aGUge0BsaW5rIGxvYWRSdW50aW1lfSBmdW5jdGlvbiwgdGhpcyBtZXRob2QgaXMgY2FsbGVkXG4gICAgICogYXV0b21hdGljYWxseS5cbiAgICAgKi9cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy53YXNtLl93bF9hcHBsaWNhdGlvbl9zdGFydCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGN1c3RvbSBKYXZhU2NyaXB0IGNvbXBvbmVudCB0eXBlLlxuICAgICAqXG4gICAgICogWW91IGNhbiByZWdpc3RlciBhIGNvbXBvbmVudCBkaXJlY3RseSB1c2luZyBhIGNsYXNzIGluaGVyaXRpbmcgZnJvbSB7QGxpbmsgQ29tcG9uZW50fTpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbiAgICAgKlxuICAgICAqIGV4cG9ydCBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgICogICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdteS1jb21wb25lbnQnO1xuICAgICAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgKiAgICAgICAgIG15UGFyYW06IHt0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiA0Mi4wfSxcbiAgICAgKiAgICAgfTtcbiAgICAgKiAgICAgaW5pdCgpIHt9XG4gICAgICogICAgIHN0YXJ0KCkge31cbiAgICAgKiAgICAgdXBkYXRlKGR0KSB7fVxuICAgICAqICAgICBvbkFjdGl2YXRlKCkge31cbiAgICAgKiAgICAgb25EZWFjdGl2YXRlKCkge31cbiAgICAgKiAgICAgb25EZXN0cm95KCkge31cbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIC8vIEhlcmUsIHdlIGFzc3VtZSB3ZSBoYXZlIGFuIGVuZ2luZSBhbHJlYWR5IGluc3RhbnRpYXRlZC5cbiAgICAgKiAvLyBJbiBnZW5lcmFsLCB0aGUgcmVnaXN0cmF0aW9uIG9jY3VycyBpbiB0aGUgYGluZGV4LmpzYCBmaWxlIGluIHlvdXJcbiAgICAgKiAvLyBmaW5hbCBhcHBsaWNhdGlvbi5cbiAgICAgKiBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoTXlDb21wb25lbnQpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICoge0BsYWJlbCBDTEFTU0VTfVxuICAgICAqIEBwYXJhbSBjbGFzc2VzIEN1c3RvbSBjb21wb25lbnQocykgZXh0ZW5kaW5nIHtAbGluayBDb21wb25lbnR9LlxuICAgICAqXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICovXG4gICAgcmVnaXN0ZXJDb21wb25lbnQoLi4uY2xhc3Nlcykge1xuICAgICAgICBmb3IgKGNvbnN0IGFyZyBvZiBjbGFzc2VzKSB7XG4gICAgICAgICAgICB0aGlzLndhc20uX3JlZ2lzdGVyQ29tcG9uZW50KGFyZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkIG9yIG5vdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0eXBlT3JDbGFzcyBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGNvbXBvbmVudCB0eXBlbmFtZSAoZS5nLiwgYCdjdXJzb3ItY29tcG9uZW50J2ApLFxuICAgICAqICAgICBvciBhIGNvbXBvbmVudCBjbGFzcyAoZS5nLiwgYEN1cnNvckNvbXBvbmVudGApLlxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgY29tcG9uZW50IGlzIHJlZ2lzdGVyZWQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGlzUmVnaXN0ZXJlZCh0eXBlT3JDbGFzcykge1xuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS5pc1JlZ2lzdGVyZWQoaXNTdHJpbmcodHlwZU9yQ2xhc3MpID8gdHlwZU9yQ2xhc3MgOiB0eXBlT3JDbGFzcy5UeXBlTmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2l6ZSB0aGUgY2FudmFzIGFuZCB0aGUgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGUgYHdpZHRoYCBhbmQgYGhlaWdodGAgcGFyYW1ldGVycyB3aWxsIGJlIHNjYWxlZCBieSB0aGVcbiAgICAgKiBgZGV2aWNlUGl4ZWxSYXRpb2AgdmFsdWUuIEJ5IGRlZmF1bHQsIHRoZSBwaXhlbCByYXRpbyB1c2VkIGlzXG4gICAgICogW3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93L2RldmljZVBpeGVsUmF0aW8pLlxuICAgICAqXG4gICAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCwgaW4gQ1NTIHBpeGVscy5cbiAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQsIGluIENTUyBwaXhlbHMuXG4gICAgICogQHBhcmFtIGRldmljZVBpeGVsUmF0aW8gVGhlIHBpeGVsIHJhdGlvIGZhY3Rvci5cbiAgICAgKi9cbiAgICByZXNpemUod2lkdGgsIGhlaWdodCwgZGV2aWNlUGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSB7XG4gICAgICAgIHdpZHRoID0gd2lkdGggKiBkZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICBoZWlnaHQgPSBoZWlnaHQgKiBkZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMud2FzbS5fd2xfYXBwbGljYXRpb25fcmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLm9uUmVzaXplLm5vdGlmeSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW4gdGhlIG5leHQgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZml4ZWREZWx0YSBUaGUgZWxhcHNlZCB0aW1lIGJldHdlZW4gdGhpcyBmcmFtZSBhbmQgdGhlIHByZXZpb3VzIG9uZS5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoZSBlbmdpbmUgYXV0b21hdGljYWxseSBzY2hlZHVsZXMgbmV4dCBmcmFtZXMuIFlvdSBzaG91bGQgb25seVxuICAgICAqIHVzZSB0aGlzIG1ldGhvZCBmb3IgdGVzdGluZy5cbiAgICAgKi9cbiAgICBuZXh0RnJhbWUoZml4ZWREZWx0YSA9IDApIHtcbiAgICAgICAgdGhpcy4jd2FzbS5fd2xfbmV4dEZyYW1lKGZpeGVkRGVsdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IGEgWFIgc2Vzc2lvbi5cbiAgICAgKlxuICAgICAqIEBub3RlIFBsZWFzZSB1c2UgdGhpcyBjYWxsIGluc3RlYWQgb2YgZGlyZWN0bHkgY2FsbGluZyBgbmF2aWdhdG9yLnhyLnJlcXVlc3RTZXNzaW9uKClgLlxuICAgICAqIFdvbmRlcmxhbmQgRW5naW5lIHJlcXVpcmVzIHRvIGJlIGF3YXJlIHRoYXQgYSBzZXNzaW9uIGlzIHN0YXJ0ZWQsIGFuZCB0aGlzXG4gICAgICogaXMgZG9uZSB0aHJvdWdoIHRoaXMgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtb2RlIFRoZSBYUiBtb2RlLlxuICAgICAqIEBwYXJhbSBmZWF0dXJlcyBBbiBhcnJheSBvZiByZXF1aXJlZCBmZWF0dXJlcywgZS5nLiwgYFsnbG9jYWwtZmxvb3InLCAnaGl0LXRlc3QnXWAuXG4gICAgICogQHBhcmFtIG9wdGlvbmFsRmVhdHVyZXMgQW4gYXJyYXkgb2Ygb3B0aW9uYWwgZmVhdHVyZXMsIGUuZy4sIGBbJ2JvdW5kZWQtZmxvb3InLCAnZGVwdGgtc2Vuc2luZyddYC5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgcmVzb2x2aW5nIHdpdGggdGhlIGBYUlNlc3Npb25gLCBhIHN0cmluZyBlcnJvciBtZXNzYWdlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICByZXF1ZXN0WFJTZXNzaW9uKG1vZGUsIGZlYXR1cmVzLCBvcHRpb25hbEZlYXR1cmVzID0gW10pIHtcbiAgICAgICAgaWYgKCFuYXZpZ2F0b3IueHIpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzTG9jYWxob3N0ID0gbG9jYXRpb24uaG9zdG5hbWUgPT09ICdsb2NhbGhvc3QnIHx8IGxvY2F0aW9uLmhvc3RuYW1lID09PSAnMTI3LjAuMC4xJztcbiAgICAgICAgICAgIGNvbnN0IG1pc3NpbmdIVFRQUyA9IGxvY2F0aW9uLnByb3RvY29sICE9PSAnaHR0cHM6JyAmJiAhaXNMb2NhbGhvc3Q7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobWlzc2luZ0hUVFBTXG4gICAgICAgICAgICAgICAgPyAnV2ViWFIgaXMgb25seSBzdXBwb3J0ZWQgd2l0aCBIVFRQUyBvciBvbiBsb2NhbGhvc3QhJ1xuICAgICAgICAgICAgICAgIDogJ1dlYlhSIHVuc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9yZXF1ZXN0U2Vzc2lvbihtb2RlLCBmZWF0dXJlcywgb3B0aW9uYWxGZWF0dXJlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyYXAgYW4gb2JqZWN0IElEIHVzaW5nIHtAbGluayBPYmplY3R9LlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBtZXRob2QgcGVyZm9ybXMgY2FjaGluZyBhbmQgd2lsbCByZXR1cm4gdGhlIHNhbWVcbiAgICAgKiBpbnN0YW5jZSBvbiBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9iamVjdElkIElEIG9mIHRoZSBvYmplY3QgdG8gY3JlYXRlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIG9iamVjdFxuICAgICAqL1xuICAgIHdyYXBPYmplY3Qob2JqZWN0SWQpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLl9vYmplY3RDYWNoZTtcbiAgICAgICAgY29uc3QgbyA9IGNhY2hlW29iamVjdElkXSB8fCAoY2FjaGVbb2JqZWN0SWRdID0gbmV3IE9iamVjdDNEKHRoaXMsIG9iamVjdElkKSk7XG4gICAgICAgIG9bJ19vYmplY3RJZCddID0gb2JqZWN0SWQ7XG4gICAgICAgIHJldHVybiBvO1xuICAgIH1cbiAgICAvKiBQdWJsaWMgR2V0dGVycyAmIFNldHRlciAqL1xuICAgIC8qKlxuICAgICAqIFdlYkFzc2VtYmx5IGJyaWRnZS5cbiAgICAgKlxuICAgICAqIEBub3RlIFVzZSB3aXRoIGNhcmUuIFRoaXMgb2JqZWN0IGlzIHVzZWQgdG8gY29tbXVuaWNhdGVcbiAgICAgKiB3aXRoIHRoZSBXZWJBc3NlbWJseSBjb2RlIHRocm91Z2hvdXQgdGhlIGFwaS5cbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBnZXQgd2FzbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc207XG4gICAgfVxuICAgIC8qKiBDYW52YXMgZWxlbWVudCB0aGF0IFdvbmRlcmxhbmQgRW5naW5lIHJlbmRlcnMgdG8uICovXG4gICAgZ2V0IGNhbnZhcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20uY2FudmFzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IFdlYlhSIHNlc3Npb24gb3IgYG51bGxgIGlmIG5vIHNlc3Npb24gYWN0aXZlLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBYUi5zZXNzaW9ufSBvbiB0aGUge0BsaW5rIHhyfVxuICAgICAqIG9iamVjdCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGdldCB4clNlc3Npb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnhyPy5zZXNzaW9uID8/IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgV2ViWFIgZnJhbWUgb3IgYG51bGxgIGlmIG5vIHNlc3Npb24gYWN0aXZlLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBYUi5mcmFtZX0gb24gdGhlIHtAbGluayB4cn1cbiAgICAgKiBvYmplY3QgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBnZXQgeHJGcmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueHI/LmZyYW1lID8/IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgV2ViWFIgYmFzZSBsYXllciBvciBgbnVsbGAgaWYgbm8gc2Vzc2lvbiBhY3RpdmUuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIFhSLmJhc2VMYXllcn0gb24gdGhlIHtAbGluayB4cn1cbiAgICAgKiBvYmplY3QgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBnZXQgeHJCYXNlTGF5ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnhyPy5iYXNlTGF5ZXIgPz8gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3VycmVudCBXZWJYUiBmcmFtZWJ1ZmZlciBvciBgbnVsbGAgaWYgbm8gc2Vzc2lvbiBhY3RpdmUuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIFhSLmZyYW1lYnVmZmVyc30gb24gdGhlXG4gICAgICoge0BsaW5rIHhyfSBvYmplY3QgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBnZXQgeHJGcmFtZWJ1ZmZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueHI/LmZyYW1lYnVmZmVyc1swXSA/PyBudWxsO1xuICAgIH1cbiAgICAvKiogRnJhbWVidWZmZXIgc2NhbGUgZmFjdG9yLiAqL1xuICAgIGdldCB4ckZyYW1lYnVmZmVyU2NhbGVGYWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX2ZyYW1lYnVmZmVyU2NhbGVGYWN0b3I7XG4gICAgfVxuICAgIHNldCB4ckZyYW1lYnVmZmVyU2NhbGVGYWN0b3IodmFsdWUpIHtcbiAgICAgICAgdGhpcy4jd2FzbS53ZWJ4cl9mcmFtZWJ1ZmZlclNjYWxlRmFjdG9yID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKiBQaHlzaWNzIG1hbmFnZXIsIG9ubHkgYXZhaWxhYmxlIHdoZW4gcGh5c3ggaXMgZW5hYmxlZCBpbiB0aGUgcnVudGltZS4gKi9cbiAgICBnZXQgcGh5c2ljcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3BoeXNpY3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRleHR1cmUgbWFuYWdnZXIuXG4gICAgICpcbiAgICAgKiBVc2UgdGhpcyB0byBsb2FkIG9yIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlIG5ldyB0ZXh0dXJlcyBhdCBydW50aW1lLlxuICAgICAqL1xuICAgIGdldCB0ZXh0dXJlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3RleHR1cmVzO1xuICAgIH1cbiAgICAvKlxuICAgICAqIEVuYWJsZSBvciBkaXNhYmxlIHRoZSBtZWNoYW5pc20gdG8gYXV0b21hdGljYWxseSByZXNpemUgdGhlIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIEludGVybmFsbHksIHRoZSBlbmdpbmUgdXNlcyBhIFtSZXNpemVPYnNlcnZlcl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Jlc2l6ZU9ic2VydmVyKS5cbiAgICAgKiBDaGFuZ2luZyB0aGUgY2FudmFzIGNzcyB3aWxsIHRodXMgYXV0b21hdGljYWxseSBiZSB0cmFja2VkIGJ5IHRoZSBlbmdpbmUuXG4gICAgICovXG4gICAgc2V0IGF1dG9SZXNpemVDYW52YXMoZmxhZykge1xuICAgICAgICBjb25zdCBzdGF0ZSA9ICEhdGhpcy4jcmVzaXplT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gZmxhZylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCFmbGFnKSB7XG4gICAgICAgICAgICB0aGlzLiNyZXNpemVPYnNlcnZlcj8udW5vYnNlcnZlKHRoaXMuY2FudmFzKTtcbiAgICAgICAgICAgIHRoaXMuI3Jlc2l6ZU9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNyZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoZW50cmllcykgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5LnRhcmdldCA9PT0gdGhpcy5jYW52YXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemUoZW50cnkuY29udGVudFJlY3Qud2lkdGgsIGVudHJ5LmNvbnRlbnRSZWN0LmhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmNhbnZhcyk7XG4gICAgfVxuICAgIC8qKiBgdHJ1ZWAgaWYgdGhlIGNhbnZhcyBpcyBhdXRvbWF0aWNhbGx5IHJlc2l6ZWQgYnkgdGhlIGVuZ2luZS4gKi9cbiAgICBnZXQgYXV0b1Jlc2l6ZUNhbnZhcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3Jlc2l6ZU9ic2VydmVyICE9PSBudWxsO1xuICAgIH1cbiAgICAvKiogUmV0cmlldmVzIHRoZSBydW50aW1lIHZlcnNpb24uICovXG4gICAgZ2V0IHJ1bnRpbWVWZXJzaW9uKCkge1xuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy4jd2FzbTtcbiAgICAgICAgY29uc3QgdiA9IHdhc20uX3dsX2FwcGxpY2F0aW9uX3ZlcnNpb24od2FzbS5fdGVtcE1lbSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYWpvcjogd2FzbS5fdGVtcE1lbVVpbnQxNlswXSxcbiAgICAgICAgICAgIG1pbm9yOiB3YXNtLl90ZW1wTWVtVWludDE2WzFdLFxuICAgICAgICAgICAgcGF0Y2g6IHdhc20uX3RlbXBNZW1VaW50MTZbMl0sXG4gICAgICAgICAgICByYzogd2FzbS5fdGVtcE1lbVVpbnQxNlszXSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyogSW50ZXJuYWwtT25seSBNZXRob2RzICovXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgZW5naW5lLlxuICAgICAqXG4gICAgICogQG5vdGUgU2hvdWxkIGJlIGNhbGxlZCBhZnRlciB0aGUgV2ViQXNzZW1ibHkgaXMgZnVsbHkgbG9hZGVkLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIF9pbml0KCkge1xuICAgICAgICB0aGlzLnNjZW5lID0gbmV3IFNjZW5lKHRoaXMpO1xuICAgICAgICAvKiBTZXR1cCB0aGUgZXJyb3IgaGFuZGxlci4gVGhpcyBpcyB1c2VkIHRvIHRvIG1hbmFnZSBuYXRpdmUgZXJyb3JzLiAqL1xuICAgICAgICB0aGlzLiN3YXNtLl93bF9zZXRfZXJyb3JfY2FsbGJhY2sodGhpcy4jd2FzbS5hZGRGdW5jdGlvbigobWVzc2FnZVB0cikgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRoaXMuI3dhc20uVVRGOFRvU3RyaW5nKG1lc3NhZ2VQdHIpKTtcbiAgICAgICAgfSwgJ3ZpJykpO1xuICAgICAgICB0aGlzLiNwaHlzaWNzID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuI3dhc20ud2l0aFBoeXNYKSB7XG4gICAgICAgICAgICAvKiBTZXR1cCB0aGUgcGh5c2ljcyBjYWxsYmFjay4gKi9cbiAgICAgICAgICAgIGNvbnN0IHBoeXNpY3MgPSBuZXcgUGh5c2ljcyh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuI3dhc20uX3dsX3BoeXN4X3NldF9jb2xsaXNpb25fY2FsbGJhY2sodGhpcy4jd2FzbS5hZGRGdW5jdGlvbigoYSwgaW5kZXgsIHR5cGUsIGIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IHBoeXNpY3MuX2NhbGxiYWNrc1thXVtpbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gbmV3IFBoeXNYQ29tcG9uZW50KHRoaXMsIHRoaXMud2FzbS5fdHlwZUluZGV4Rm9yKCdwaHlzeCcpLCBiKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh0eXBlLCBjb21wb25lbnQpO1xuICAgICAgICAgICAgfSwgJ3ZpaWlpJykpO1xuICAgICAgICAgICAgdGhpcy4jcGh5c2ljcyA9IHBoeXNpY3M7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNpemUodGhpcy5jYW52YXMuY2xpZW50V2lkdGgsIHRoaXMuY2FudmFzLmNsaWVudEhlaWdodCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBydW50aW1lIHN0YXRlLCBpbmNsdWRpbmc6XG4gICAgICogICAgIC0gQ29tcG9uZW50IGNhY2hlXG4gICAgICogICAgIC0gSW1hZ2VzXG4gICAgICogICAgIC0gQ2FsbGJhY2tzXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgX3Jlc2V0KCkge1xuICAgICAgICB0aGlzLl9jb21wb25lbnRDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl9vYmplY3RDYWNoZS5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLiN0ZXh0dXJlcy5fcmVzZXQoKTtcbiAgICAgICAgdGhpcy5zY2VuZS5yZXNldCgpO1xuICAgICAgICB0aGlzLndhc20ucmVzZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgY29tcG9uZW50IGluc3RhbmNlIGlmIGl0IGV4aXN0cywgb3IgY3JlYXRlIGFuZCBjYWNoZVxuICAgICAqIGEgbmV3IG9uZS5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS4gUGxlYXNlIGhhdmUgYSBsb29rIGF0XG4gICAgICoge0BsaW5rIE9iamVjdDNELmFkZENvbXBvbmVudH0gaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0eXBlIGNvbXBvbmVudCB0eXBlIG5hbWVcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50VHlwZSBDb21wb25lbnQgbWFuYWdlciBpbmRleFxuICAgICAqIEBwYXJhbSBjb21wb25lbnRJZCBDb21wb25lbnQgaWQgaW4gdGhlIG1hbmFnZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEphdmFTY3JpcHQgaW5zdGFuY2Ugd3JhcHBpbmcgdGhlIG5hdGl2ZSBjb21wb25lbnRcbiAgICAgKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfd3JhcENvbXBvbmVudCh0eXBlLCBjb21wb25lbnRUeXBlLCBjb21wb25lbnRJZCkge1xuICAgICAgICBpZiAoY29tcG9uZW50SWQgPCAwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8qIEB0b2RvOiBleHRyZW1lbHkgc2xvdyBpbiBKUyB0byBkbyB0aGF0Li4uIEJldHRlciB0byB1c2UgYSBNYXAgb3IgYWxsb2NhdGUgdGhlIGFycmF5LiAqL1xuICAgICAgICBjb25zdCBjID0gdGhpcy5fY29tcG9uZW50Q2FjaGVbY29tcG9uZW50VHlwZV0gfHxcbiAgICAgICAgICAgICh0aGlzLl9jb21wb25lbnRDYWNoZVtjb21wb25lbnRUeXBlXSA9IFtdKTtcbiAgICAgICAgaWYgKGNbY29tcG9uZW50SWRdKSB7XG4gICAgICAgICAgICByZXR1cm4gY1tjb21wb25lbnRJZF07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbXBvbmVudDtcbiAgICAgICAgaWYgKHR5cGUgPT0gJ2NvbGxpc2lvbicpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IG5ldyBDb2xsaXNpb25Db21wb25lbnQodGhpcywgY29tcG9uZW50VHlwZSwgY29tcG9uZW50SWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gJ3RleHQnKSB7XG4gICAgICAgICAgICBjb21wb25lbnQgPSBuZXcgVGV4dENvbXBvbmVudCh0aGlzLCBjb21wb25lbnRUeXBlLCBjb21wb25lbnRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PSAndmlldycpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IG5ldyBWaWV3Q29tcG9uZW50KHRoaXMsIGNvbXBvbmVudFR5cGUsIGNvbXBvbmVudElkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09ICdtZXNoJykge1xuICAgICAgICAgICAgY29tcG9uZW50ID0gbmV3IE1lc2hDb21wb25lbnQodGhpcywgY29tcG9uZW50VHlwZSwgY29tcG9uZW50SWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gJ2lucHV0Jykge1xuICAgICAgICAgICAgY29tcG9uZW50ID0gbmV3IElucHV0Q29tcG9uZW50KHRoaXMsIGNvbXBvbmVudFR5cGUsIGNvbXBvbmVudElkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09ICdsaWdodCcpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IG5ldyBMaWdodENvbXBvbmVudCh0aGlzLCBjb21wb25lbnRUeXBlLCBjb21wb25lbnRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PSAnYW5pbWF0aW9uJykge1xuICAgICAgICAgICAgY29tcG9uZW50ID0gbmV3IEFuaW1hdGlvbkNvbXBvbmVudCh0aGlzLCBjb21wb25lbnRUeXBlLCBjb21wb25lbnRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PSAncGh5c3gnKSB7XG4gICAgICAgICAgICBjb21wb25lbnQgPSBuZXcgUGh5c1hDb21wb25lbnQodGhpcywgY29tcG9uZW50VHlwZSwgY29tcG9uZW50SWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdHlwZUluZGV4ID0gdGhpcy53YXNtLl9jb21wb25lbnRUeXBlSW5kaWNlc1t0eXBlXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdG9yID0gdGhpcy53YXNtLl9jb21wb25lbnRUeXBlc1t0eXBlSW5kZXhdO1xuICAgICAgICAgICAgY29tcG9uZW50ID0gbmV3IGNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIC8qIFNldHMgdGhlIG1hbmFnZXIgYW5kIGlkZW50aWZpZXIgZnJvbSB0aGUgb3V0c2lkZSwgdG9cbiAgICAgICAgICogc2ltcGxpZnkgdGhlIHVzZXIncyBjb25zdHJ1Y3Rvci4gKi9cbiAgICAgICAgLyogQHRzLWlnbm9yZSAqL1xuICAgICAgICBjb21wb25lbnQuX2VuZ2luZSA9IHRoaXM7XG4gICAgICAgIGNvbXBvbmVudC5fbWFuYWdlciA9IGNvbXBvbmVudFR5cGU7XG4gICAgICAgIGNvbXBvbmVudC5faWQgPSBjb21wb25lbnRJZDtcbiAgICAgICAgY1tjb21wb25lbnRJZF0gPSBjb21wb25lbnQ7XG4gICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFJldGFpbkVtaXR0ZXIgfSBmcm9tICcuL2luZGV4LmpzJztcbmltcG9ydCB7IFR5cGUgfSBmcm9tICcuL3Byb3BlcnR5LmpzJztcbmltcG9ydCB7IEFuaW1hdGlvbiwgQ29tcG9uZW50LCBNYXRlcmlhbCwgTWVzaCwgU2tpbiwgWFIsIH0gZnJvbSAnLi93b25kZXJsYW5kLmpzJztcbi8qKlxuICogRGVmYXVsdCBjb21wb25lbnQgcGFyYW1ldGVyIHZhbHVlIHBlciB0eXBlLlxuICovXG5jb25zdCBfY29tcG9uZW50RGVmYXVsdHMgPSBuZXcgTWFwKFtcbiAgICBbVHlwZS5Cb29sLCBmYWxzZV0sXG4gICAgW1R5cGUuSW50LCAwXSxcbiAgICBbVHlwZS5GbG9hdCwgMC4wXSxcbiAgICBbVHlwZS5TdHJpbmcsICcnXSxcbiAgICBbVHlwZS5FbnVtLCB1bmRlZmluZWRdLFxuICAgIFtUeXBlLk9iamVjdCwgbnVsbF0sXG4gICAgW1R5cGUuTWVzaCwgbnVsbF0sXG4gICAgW1R5cGUuVGV4dHVyZSwgbnVsbF0sXG4gICAgW1R5cGUuTWF0ZXJpYWwsIG51bGxdLFxuICAgIFtUeXBlLkFuaW1hdGlvbiwgbnVsbF0sXG4gICAgW1R5cGUuU2tpbiwgbnVsbF0sXG4gICAgW1R5cGUuQ29sb3IsIFswLjAsIDAuMCwgMC4wLCAxLjBdXSxcbl0pO1xuLyoqXG4gKiBTZXR1cCB0aGUgZGVmYXVsdHMgdmFsdWUgb2YgdGhlIHByb3BlcnRpZXMgb24gYSBnaXZlblxuICogY29tcG9uZW50IGNsYXNzLlxuICpcbiAqIEBwYXJhbSBjdG9yIFRoZSBjb21wb25lbnQgY2xhc3NcbiAqL1xuZnVuY3Rpb24gX3NldHVwRGVmYXVsdHMoY3Rvcikge1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBjdG9yLlByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3QgcCA9IGN0b3IuUHJvcGVydGllc1tuYW1lXTtcbiAgICAgICAgaWYgKHAudHlwZSA9PT0gVHlwZS5FbnVtKSB7XG4gICAgICAgICAgICAvKiBFbnVtIGRlZmF1bHQgY2FuIGJlIGEgc3RyaW5nIG9yIGFuIGluZGV4LiBDb252ZXJ0IHRvIGFuZC9vclxuICAgICAgICAgICAgICogc2FuaXR5LWNoZWNrIHRoZSBpbmRleC4gKi9cbiAgICAgICAgICAgIGlmIChwLnZhbHVlcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLyogRG9uJ3QgdHJ5IHRvIGxvb2sgdXAgdGhlIGRlZmF1bHQgaWYgdGhlIHVzZXIgc3BlY2lmaWVkIGFcbiAgICAgICAgICAgICAgICAgKiBudW1iZXIgb3Igd2UgYWxyZWFkeSBjb252ZXJ0ZWQgdG8gb25lLiAqL1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcC5kZWZhdWx0ICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAvKiBJZiB1bmRlZmluZWQsIG1pc3NpbmcgZWxlbWVudCBvciB3cm9uZyB0eXBlIHRoaXMgcmV0dXJuc1xuICAgICAgICAgICAgICAgICAgICAgKiAtMSB3aGljaCBiZWNvbWVzIDAgYmVsb3cuIFRoaXMgbWF0Y2hlcyBlZGl0b3IgYmVoYXZpb3IuICovXG4gICAgICAgICAgICAgICAgICAgIHAuZGVmYXVsdCA9IHAudmFsdWVzLmluZGV4T2YocC5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHAuZGVmYXVsdCA8IDAgfHwgcC5kZWZhdWx0ID49IHAudmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBwLmRlZmF1bHQgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qIFRoZXJlJ3Mgbm8gaW5kZXggdmFsdWUgdGhhdCBtYWtlcyBzZW5zZSAqL1xuICAgICAgICAgICAgICAgIHAuZGVmYXVsdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHAuZGVmYXVsdCA9IHAuZGVmYXVsdCA/PyBfY29tcG9uZW50RGVmYXVsdHMuZ2V0KHAudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgY3Rvci5wcm90b3R5cGVbbmFtZV0gPSBwLmRlZmF1bHQ7XG4gICAgfVxufVxuLyoqXG4gKiBMb3ctbGV2ZWwgd3JhcHBlciB0byBpbnRlcmFjdCB3aXRoIHRoZSBXZWJBc3NlbWJseSBjb2RlLlxuICpcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGNsYXNzIFdBU00ge1xuICAgIC8qKlxuICAgICAqIEVtc2NyaXB0ZW4gd29ya2VyIGZpZWxkLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIHdvcmtlciA9ICcnO1xuICAgIC8qKlxuICAgICAqIEVtc2NyaXB0ZW4gd2FzbSBmaWVsZC5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICB3YXNtID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBFbXNjcmlwdGVuIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICBjYW52YXMgPSBudWxsO1xuICAgIC8qKiBDdXJyZW50IFdlYlhSICAqL1xuICAgIC8qKlxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgc2Vzc2lvbi5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICB3ZWJ4cl9zZXNzaW9uID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIHJlcXVlc3Qgc2Vzc2lvbiBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICB3ZWJ4cl9yZXF1ZXN0U2Vzc2lvbiA9IG51bGw7XG4gICAgLyoqXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICB3ZWJ4cl9mcmFtZSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogRW1zY3JpcHRlbiBjdXJyZW50IFdlYlhSIHJlZmVyZW5jZSBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICB3ZWJ4cl9yZWZTcGFjZSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiByZWZlcmVuY2Ugc3BhY2VzLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIHdlYnhyX3JlZlNwYWNlcyA9IG51bGw7XG4gICAgLyoqXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiBjdXJyZW50IHJlZmVyZW5jZSBzcGFjZSB0eXBlLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIHdlYnhyX3JlZlNwYWNlVHlwZSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiBHTCBwcm9qZWN0aW9uIGxheWVyLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIHdlYnhyX2Jhc2VMYXllciA9IG51bGw7XG4gICAgLyoqXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiBmcmFtZWJ1ZmZlciBzY2FsZSBmYWN0b3IuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICovXG4gICAgd2VieHJfZnJhbWVidWZmZXJTY2FsZUZhY3RvciA9IDEuMDtcbiAgICAvKipcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIGZyYW1lYnVmZmVyKHMpLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIC8qIHdlYnhyX2ZibyB3aWxsIG5vdCBnZXQgb3ZlcndyaXR0ZW4gaWYgd2UgYXJlIHJlbmRlcmluZyB0byB0aGVcbiAgICAgKiBkZWZhdWx0IGZyYW1lYnVmZmVyLCBlLmcuLCB3aGVuIHVzaW5nIFdlYlhSIGVtdWxhdG9yLiAqL1xuICAgIHdlYnhyX2ZibyA9IDA7XG4gICAgLyoqXG4gICAgICogQ29udmVydCBhIFdBU00gbWVtb3J5IHZpZXcgdG8gYSBKYXZhU2NyaXB0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwdHIgUG9pbnRlciBzdGFydFxuICAgICAqIEBwYXJhbSBwdHJFbmQgUG9pbnRlciBlbmRcbiAgICAgKiBAcmV0dXJucyBKYXZhU2NyaXB0IHN0cmluZ1xuICAgICAqL1xuICAgIFVURjhWaWV3VG9TdHJpbmc7XG4gICAgLyoqIElmIGB0cnVlYCwgbG9ncyB3aWxsIG5vdCBzcGFtIHRoZSBjb25zb2xlIG9uIGVycm9yLiAqL1xuICAgIF9kZWFjdGl2YXRlX2NvbXBvbmVudF9vbl9lcnJvciA9IGZhbHNlO1xuICAgIC8qKiBUZW1wb3JhcnkgbWVtb3J5IHBvaW50ZXIuICovXG4gICAgX3RlbXBNZW0gPSBudWxsO1xuICAgIC8qKiBUZW1wb3JhcnkgbWVtb3J5IHNpemUuICovXG4gICAgX3RlbXBNZW1TaXplID0gMDtcbiAgICAvKiogVGVtcG9yYXJ5IGZsb2F0IG1lbW9yeSB2aWV3LiAqL1xuICAgIF90ZW1wTWVtRmxvYXQgPSBudWxsO1xuICAgIC8qKiBUZW1wb3JhcnkgaW50IG1lbW9yeSB2aWV3LiAqL1xuICAgIF90ZW1wTWVtSW50ID0gbnVsbDtcbiAgICAvKiogVGVtcG9yYXJ5IHVpbnQ4IG1lbW9yeSB2aWV3LiAqL1xuICAgIF90ZW1wTWVtVWludDggPSBudWxsO1xuICAgIC8qKiBUZW1wb3JhcnkgdWludDMyIG1lbW9yeSB2aWV3LiAqL1xuICAgIF90ZW1wTWVtVWludDMyID0gbnVsbDtcbiAgICAvKiogVGVtcG9yYXJ5IHVpbnQxNiBtZW1vcnkgdmlldy4gKi9cbiAgICBfdGVtcE1lbVVpbnQxNiA9IG51bGw7XG4gICAgLyoqIExvYWRpbmcgc2NyZWVuIC5iaW4gZmlsZSBkYXRhICovXG4gICAgX2xvYWRpbmdTY3JlZW4gPSBudWxsO1xuICAgIC8qKiBMaXN0IG9mIGNhbGxiYWNrcyB0cmlnZ2VyZWQgd2hlbiB0aGUgc2NlbmUgaXMgbG9hZGVkLiAqL1xuICAgIF9zY2VuZUxvYWRlZENhbGxiYWNrID0gW107XG4gICAgLyoqXG4gICAgICogTWF0ZXJpYWwgZGVmaW5pdGlvbiBjYWNoZS4gRWFjaCBwaXBlbGluZSBoYXMgaXRzIG93blxuICAgICAqIGFzc29jaWF0ZWQgbWF0ZXJpYWwgZGVmaW5pdGlvbi5cbiAgICAgKi9cbiAgICBfbWF0ZXJpYWxEZWZpbml0aW9ucyA9IFtdO1xuICAgIC8qKiBJbWFnZSBjYWNoZS4gKi9cbiAgICBfaW1hZ2VzID0gW107XG4gICAgLyoqIENvbXBvbmVudCBpbnN0YW5jZXMuICovXG4gICAgX2NvbXBvbmVudHMgPSBbXTtcbiAgICAvKiogQ29tcG9uZW50IFR5cGUgaW5mby4gKi9cbiAgICBfY29tcG9uZW50VHlwZXMgPSBbXTtcbiAgICAvKiogSW5kZXggcGVyIGNvbXBvbmVudCB0eXBlIG5hbWUuICovXG4gICAgX2NvbXBvbmVudFR5cGVJbmRpY2VzID0ge307XG4gICAgLyoqIFdvbmRlcmxhbmQgZW5naW5lIGluc3RhbmNlLiAqL1xuICAgIF9lbmdpbmUgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiB0aGlzIHJ1bnRpbWUgaXMgdXNpbmcgcGh5c3guXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICovXG4gICAgX3dpdGhQaHlzWCA9IGZhbHNlO1xuICAgIC8qKiBEZWNvZGVyIGZvciBVVEY4IGBBcnJheUJ1ZmZlcmAgdG8gSmF2YVNjcmlwdCBzdHJpbmcuICovXG4gICAgX3V0ZjhEZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGY4Jyk7XG4gICAgLyoqIExpc3Qgb2YgLmJpbiBmaWxlcyB0byBkZWxheS1sb2FkLiAqL1xuICAgIF9xdWV1ZWRCaW5GaWxlcyA9IFtdO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgV2ViQXNzZW1ibHkgPD4gQVBJIGJyaWRnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aHJlYWRzIGB0cnVlYCBpZiB0aGUgcnVudGltZSB1c2VkIGhhcyB0aHJlYWRzIHN1cHBvcnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0aHJlYWRzKSB7XG4gICAgICAgIGlmICh0aHJlYWRzKSB7XG4gICAgICAgICAgICB0aGlzLlVURjhWaWV3VG9TdHJpbmcgPSAocywgZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91dGY4RGVjb2Rlci5kZWNvZGUodGhpcy5IRUFQVTguc2xpY2UocywgZSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLlVURjhWaWV3VG9TdHJpbmcgPSAocywgZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFzKVxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91dGY4RGVjb2Rlci5kZWNvZGUodGhpcy5IRUFQVTguc3ViYXJyYXkocywgZSkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgY2FjaGUgb2YgdGhlIGxpYnJhcnlcbiAgICAgKlxuICAgICAqIEBub3RlIFNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuIHRlYXJpbmcgZG93biB0aGUgcnVudGltZS5cbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fbWF0ZXJpYWxEZWZpbml0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLl9pbWFnZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50cyA9IFtdO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRUeXBlcyA9IFtdO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlcyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gY29tcG9uZW50IGlzIHJlZ2lzdGVyZWQgb3Igbm90LlxuICAgICAqXG4gICAgICogQHBhcmFtIGN0b3IgIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY29tcG9uZW50IHR5cGVuYW1lIChlLmcuLCBgJ2N1cnNvci1jb21wb25lbnQnYCkuXG4gICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBjb21wb25lbnQgaXMgcmVnaXN0ZXJlZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaXNSZWdpc3RlcmVkKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGUgaW4gdGhpcy5fY29tcG9uZW50VHlwZUluZGljZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgbGVnYWN5IGNvbXBvbmVudCBpbiB0aGlzIEVtc2NyaXB0ZW4gaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHlwZU5hbWUgVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAcGFyYW0gcGFyYW1zIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBwYXJhbWV0ZXJzIChwcm9wZXJ0aWVzKS5cbiAgICAgKiBAcGFyYW0gb2JqZWN0IFRoZSBvYmplY3QncyBwcm90b3R5cGUuXG4gICAgICogQHJldHVybnMgVGhlIHJlZ2lzdHJhdGlvbiBpbmRleFxuICAgICAqL1xuICAgIF9yZWdpc3RlckNvbXBvbmVudExlZ2FjeSh0eXBlTmFtZSwgcGFyYW1zLCBvYmplY3QpIHtcbiAgICAgICAgY29uc3QgY3RvciA9IGNsYXNzIEN1c3RvbUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgICAgIH07XG4gICAgICAgIGN0b3IuVHlwZU5hbWUgPSB0eXBlTmFtZTtcbiAgICAgICAgY3Rvci5Qcm9wZXJ0aWVzID0gcGFyYW1zO1xuICAgICAgICBPYmplY3QuYXNzaWduKGN0b3IucHJvdG90eXBlLCBvYmplY3QpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVnaXN0ZXJDb21wb25lbnQoY3Rvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgY2xhc3MgY29tcG9uZW50IGluIHRoaXMgRW1zY3JpcHRlbiBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjdG9yIFRoZSBjbGFzcyB0byByZWdpc3Rlci5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmVnaXN0cmF0aW9uIGluZGV4LlxuICAgICAqL1xuICAgIF9yZWdpc3RlckNvbXBvbmVudChjdG9yKSB7XG4gICAgICAgIGlmICghY3Rvci5UeXBlTmFtZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gbmFtZSBwcm92aWRlZCBmb3IgY29tcG9uZW50LicpO1xuICAgICAgICBpZiAoIWN0b3IucHJvdG90eXBlLl90cmlnZ2VySW5pdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByZWdpc3RlckNvbXBvbmVudCgpOiBDb21wb25lbnQgJHtjdG9yLlR5cGVOYW1lfSBtdXN0IGV4dGVuZCBDb21wb25lbnRgKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiAnRGVwZW5kZW5jaWVzJyBpcyBoYXJkLWRlcHJlY2F0ZWQsIHJlbW92ZSBhdCAxLjFcbiAgICAgICAgY29uc3QgZGVwZW5kZW5jaWVzID0gY3Rvci5EZXBlbmRlbmNpZXM7XG4gICAgICAgIGlmIChkZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZGVwZW5kZW5jeSBvZiBkZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgICAgICAvKiBGb3IgZGVwZW5kZW5jaWVzLCB3ZSBza2lwIHBvdGVudGlhbCBvdmVyLXJlZ2lzdHJhdGlvbi4gKi9cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNSZWdpc3RlcmVkKGRlcGVuZGVuY3kuVHlwZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZ2lzdGVyQ29tcG9uZW50KGRlcGVuZGVuY3kpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfc2V0dXBEZWZhdWx0cyhjdG9yKTtcbiAgICAgICAgY29uc3QgdHlwZUluZGV4ID0gY3Rvci5UeXBlTmFtZSBpbiB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlc1xuICAgICAgICAgICAgPyB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlc1tjdG9yLlR5cGVOYW1lXVxuICAgICAgICAgICAgOiB0aGlzLl9jb21wb25lbnRUeXBlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudFR5cGVzW3R5cGVJbmRleF0gPSBjdG9yO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlc1tjdG9yLlR5cGVOYW1lXSA9IHR5cGVJbmRleDtcbiAgICAgICAgY29uc29sZS5sb2coJ1JlZ2lzdGVyZWQgY29tcG9uZW50JywgY3Rvci5UeXBlTmFtZSwgYChjbGFzcyAke2N0b3IubmFtZX0pYCwgJ3dpdGggaW5kZXgnLCB0eXBlSW5kZXgpO1xuICAgICAgICBpZiAoY3Rvci5vblJlZ2lzdGVyKVxuICAgICAgICAgICAgY3Rvci5vblJlZ2lzdGVyKHRoaXMuX2VuZ2luZSk7XG4gICAgICAgIHJldHVybiB0eXBlSW5kZXg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbG9jYXRlIHRoZSByZXF1ZXN0ZWQgYW1vdW50IG9mIHRlbXBvcmFyeSBtZW1vcnlcbiAgICAgKiBpbiB0aGlzIFdBU00gaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2l6ZSBUaGUgbnVtYmVyIG9mIGJ5dGVzIHRvIGFsbG9jYXRlXG4gICAgICovXG4gICAgYWxsb2NhdGVUZW1wTWVtb3J5KHNpemUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0FsbG9jYXRpbmcgdGVtcCBtZW06Jywgc2l6ZSk7XG4gICAgICAgIHRoaXMuX3RlbXBNZW1TaXplID0gc2l6ZTtcbiAgICAgICAgaWYgKHRoaXMuX3RlbXBNZW0pXG4gICAgICAgICAgICB0aGlzLl9mcmVlKHRoaXMuX3RlbXBNZW0pO1xuICAgICAgICB0aGlzLl90ZW1wTWVtID0gdGhpcy5fbWFsbG9jKHRoaXMuX3RlbXBNZW1TaXplKTtcbiAgICAgICAgdGhpcy51cGRhdGVUZW1wTWVtb3J5KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0b2RvOiBEZWxldGUgdGhpcyBhbmQgb25seSBrZWVwIGBhbGxvY2F0ZVRlbXBNZW1vcnlgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2l6ZSBOdW1iZXIgb2YgYnl0ZXMgdG8gYWxsb2NhdGVcbiAgICAgKi9cbiAgICByZXF1aXJlVGVtcE1lbShzaXplKSB7XG4gICAgICAgIGlmICh0aGlzLl90ZW1wTWVtU2l6ZSA+PSBzaXplKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvKiBHcm93IGluIDFrYiBpbmNyZW1lbnRzICovXG4gICAgICAgIHRoaXMuYWxsb2NhdGVUZW1wTWVtb3J5KE1hdGguY2VpbChzaXplIC8gMTAyNCkgKiAxMDI0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSB0ZW1wb3JhcnkgbWVtb3J5IHZpZXdzLiBUaGlzIG11c3QgYmUgY2FsbGVkIHdoZW5ldmVyIHRoZVxuICAgICAqIHRlbXBvcmFyeSBtZW1vcnkgYWRkcmVzcyBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIHVwZGF0ZVRlbXBNZW1vcnkoKSB7XG4gICAgICAgIHRoaXMuX3RlbXBNZW1GbG9hdCA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5IRUFQOC5idWZmZXIsIHRoaXMuX3RlbXBNZW0sIHRoaXMuX3RlbXBNZW1TaXplID4+IDIpO1xuICAgICAgICB0aGlzLl90ZW1wTWVtSW50ID0gbmV3IEludDMyQXJyYXkodGhpcy5IRUFQOC5idWZmZXIsIHRoaXMuX3RlbXBNZW0sIHRoaXMuX3RlbXBNZW1TaXplID4+IDIpO1xuICAgICAgICB0aGlzLl90ZW1wTWVtVWludDMyID0gbmV3IFVpbnQzMkFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSA+PiAyKTtcbiAgICAgICAgdGhpcy5fdGVtcE1lbVVpbnQxNiA9IG5ldyBVaW50MTZBcnJheSh0aGlzLkhFQVA4LmJ1ZmZlciwgdGhpcy5fdGVtcE1lbSwgdGhpcy5fdGVtcE1lbVNpemUgPj4gMSk7XG4gICAgICAgIHRoaXMuX3RlbXBNZW1VaW50OCA9IG5ldyBVaW50OEFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB1aW50OCBidWZmZXIgdmlldyBvbiB0ZW1wb3JhcnkgV0FTTSBtZW1vcnkuXG4gICAgICpcbiAgICAgKiAqKk5vdGUqKjogdGhpcyBtZXRob2QgbWlnaHQgYWxsb2NhdGUgaWYgdGhlIHJlcXVlc3RlZCBtZW1vcnkgaXMgYmlnZ2VyXG4gICAgICogdGhhbiB0aGUgY3VycmVudCB0ZW1wb3JhcnkgbWVtb3J5IGFsbG9jYXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqZWxlbWVudHMqKiByZXF1aXJlZFxuICAgICAqIEByZXR1cm5zIEEge0BsaW5rIFR5cGVkQXJyYXl9IG92ZXIgdGhlIFdBU00gbWVtb3J5XG4gICAgICovXG4gICAgZ2V0VGVtcEJ1ZmZlclU4KGNvdW50KSB7XG4gICAgICAgIHRoaXMucmVxdWlyZVRlbXBNZW0oY291bnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcE1lbVVpbnQ4O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdWludDE2IGJ1ZmZlciB2aWV3IG9uIHRlbXBvcmFyeSBXQVNNIG1lbW9yeS5cbiAgICAgKlxuICAgICAqICoqTm90ZSoqOiB0aGlzIG1ldGhvZCBtaWdodCBhbGxvY2F0ZSBpZiB0aGUgcmVxdWVzdGVkIG1lbW9yeSBpcyBiaWdnZXJcbiAgICAgKiB0aGFuIHRoZSBjdXJyZW50IHRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgKiplbGVtZW50cyoqIHJlcXVpcmVkXG4gICAgICogQHJldHVybnMgQSB7QGxpbmsgVHlwZWRBcnJheX0gb3ZlciB0aGUgV0FTTSBtZW1vcnlcbiAgICAgKi9cbiAgICBnZXRUZW1wQnVmZmVyVTE2KGNvdW50KSB7XG4gICAgICAgIHRoaXMucmVxdWlyZVRlbXBNZW0oY291bnQgKiAyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RlbXBNZW1VaW50MTY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB1aW50MzIgYnVmZmVyIHZpZXcgb24gdGVtcG9yYXJ5IFdBU00gbWVtb3J5LlxuICAgICAqXG4gICAgICogKipOb3RlKio6IHRoaXMgbWV0aG9kIG1pZ2h0IGFsbG9jYXRlIGlmIHRoZSByZXF1ZXN0ZWQgbWVtb3J5IGlzIGJpZ2dlclxuICAgICAqIHRoYW4gdGhlIGN1cnJlbnQgdGVtcG9yYXJ5IG1lbW9yeSBhbGxvY2F0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY291bnQgVGhlIG51bWJlciBvZiAqKmVsZW1lbnRzKiogcmVxdWlyZWQuXG4gICAgICogQHJldHVybnMgQSB7QGxpbmsgVHlwZWRBcnJheX0gb3ZlciB0aGUgV0FTTSBtZW1vcnkuXG4gICAgICovXG4gICAgZ2V0VGVtcEJ1ZmZlclUzMihjb3VudCkge1xuICAgICAgICB0aGlzLnJlcXVpcmVUZW1wTWVtKGNvdW50ICogNCk7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtVWludDMyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgaW50MzIgYnVmZmVyIHZpZXcgb24gdGVtcG9yYXJ5IFdBU00gbWVtb3J5LlxuICAgICAqXG4gICAgICogKipOb3RlKio6IHRoaXMgbWV0aG9kIG1pZ2h0IGFsbG9jYXRlIGlmIHRoZSByZXF1ZXN0ZWQgbWVtb3J5IGlzIGJpZ2dlclxuICAgICAqIHRoYW4gdGhlIGN1cnJlbnQgdGVtcG9yYXJ5IG1lbW9yeSBhbGxvY2F0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY291bnQgVGhlIG51bWJlciBvZiAqKmVsZW1lbnRzKiogcmVxdWlyZWQuXG4gICAgICogQHJldHVybnMgQSB7QGxpbmsgVHlwZWRBcnJheX0gb3ZlciB0aGUgV0FTTSBtZW1vcnkuXG4gICAgICovXG4gICAgZ2V0VGVtcEJ1ZmZlckkzMihjb3VudCkge1xuICAgICAgICB0aGlzLnJlcXVpcmVUZW1wTWVtKGNvdW50ICogNCk7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtSW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZmxvYXQzMiBidWZmZXIgdmlldyBvbiB0ZW1wb3JhcnkgV0FTTSBtZW1vcnkuXG4gICAgICpcbiAgICAgKiAqKk5vdGUqKjogdGhpcyBtZXRob2QgbWlnaHQgYWxsb2NhdGUgaWYgdGhlIHJlcXVlc3RlZCBtZW1vcnkgaXMgYmlnZ2VyXG4gICAgICogdGhhbiB0aGUgY3VycmVudCB0ZW1wb3JhcnkgbWVtb3J5IGFsbG9jYXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqZWxlbWVudHMqKiByZXF1aXJlZC5cbiAgICAgKiBAcmV0dXJucyBBIHtAbGluayBUeXBlZEFycmF5fSBvdmVyIHRoZSBXQVNNIG1lbW9yeS5cbiAgICAgKi9cbiAgICBnZXRUZW1wQnVmZmVyRjMyKGNvdW50KSB7XG4gICAgICAgIHRoaXMucmVxdWlyZVRlbXBNZW0oY291bnQgKiA0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RlbXBNZW1GbG9hdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29weSB0aGUgc3RyaW5nIGludG8gdGVtcG9yYXJ5IFdBU00gbWVtb3J5IGFuZCByZXRyaWV2ZSB0aGUgcG9pbnRlci5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgbWV0aG9kIHdpbGwgY29tcHV0ZSB0aGUgc3RybGVuIGFuZCBhcHBlbmQgYSBgXFwwYC5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoZSByZXN1bHQgc2hvdWxkIGJlIHVzZWQgKipkaXJlY3RseSoqIG90aGVyd2lzZSBpdCBtaWdodCBnZXRcbiAgICAgKiBvdmVycmlkZGVuIGJ5IGFueSBuZXh0IGNhbGwgbW9kaWZ5aW5nIHRoZSB0ZW1wb3JhcnkgbWVtb3J5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0ciBUaGUgc3RyaW5nIHRvIHdyaXRlIHRvIHRlbXBvcmFyeSBtZW1vcnlcbiAgICAgKiBAcmV0dXJuIFRoZSB0ZW1wb3JhcnkgcG9pbnRlciBvbnRvIHRoZSBXQVNNIG1lbW9yeVxuICAgICAqL1xuICAgIHRlbXBVVEY4KHN0cikge1xuICAgICAgICBjb25zdCBzdHJMZW4gPSB0aGlzLmxlbmd0aEJ5dGVzVVRGOChzdHIpICsgMTtcbiAgICAgICAgdGhpcy5yZXF1aXJlVGVtcE1lbShzdHJMZW4pO1xuICAgICAgICB0aGlzLnN0cmluZ1RvVVRGOChzdHIsIHRoaXMuX3RlbXBNZW0sIHN0ckxlbik7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGluZGV4IG9mIHRoZSBjb21wb25lbnQgdHlwZS5cbiAgICAgKlxuICAgICAqIEBub3RlIFRoaXMgbWV0aG9kIHVzZXMgbWFsbG9jIGFuZCBjb3BpZXMgdGhlIHN0cmluZ1xuICAgICAqIHRvIGF2b2lkIG92ZXJ3cml0aW5nIGNhbGxlcidzIHRlbXBvcmFyeSBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHR5cGUgVGhlIHR5cGVcbiAgICAgKiBAcmV0dXJuIFRoZSBjb21wb25lbnQgdHlwZSBpbmRleFxuICAgICAqL1xuICAgIF90eXBlSW5kZXhGb3IodHlwZSkge1xuICAgICAgICBjb25zdCBsZW5ndGhCeXRlcyA9IHRoaXMubGVuZ3RoQnl0ZXNVVEY4KHR5cGUpICsgMTtcbiAgICAgICAgY29uc3QgbWVtID0gdGhpcy5fbWFsbG9jKGxlbmd0aEJ5dGVzKTtcbiAgICAgICAgdGhpcy5zdHJpbmdUb1VURjgodHlwZSwgbWVtLCBsZW5ndGhCeXRlcyk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFR5cGUgPSB0aGlzLl93bF9nZXRfY29tcG9uZW50X21hbmFnZXJfaW5kZXgobWVtKTtcbiAgICAgICAgdGhpcy5fZnJlZShtZW0pO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50VHlwZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBuYW1lIG9mIGNvbXBvbmVudCB0eXBlIHN0b3JlZCBhdCB0aGUgZ2l2ZW4gaW5kZXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHlwZUluZGV4IFRoZSB0eXBlIGluZGV4XG4gICAgICogQHJldHVybiBUaGUgbmFtZSBhcyBhIHN0cmluZ1xuICAgICAqL1xuICAgIF90eXBlTmFtZUZvcih0eXBlSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuVVRGOFRvU3RyaW5nKHRoaXMuX3dsX2NvbXBvbmVudF9tYW5hZ2VyX25hbWUodHlwZUluZGV4KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBydW50aW1lIHN1cHBvcnRzIHBoeXN4IG9yIG5vdC5cbiAgICAgKi9cbiAgICBnZXQgd2l0aFBoeXNYKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2l0aFBoeXNYO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGVuZ2luZSBpbnN0YW5jZSBob2xkaW5nIHRoaXMgYnJpZGdlLlxuICAgICAqXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGVuZ2luZSBUaGUgZW5naW5lIGluc3RhbmNlLlxuICAgICAqL1xuICAgIF9zZXRFbmdpbmUoZW5naW5lKSB7XG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcbiAgICB9XG4gICAgLyogV2ViQXNzZW1ibHkgdG8gSlMgY2FsbCBicmlkZ2UuICovXG4gICAgX3dsanNfeHJfc2Vzc2lvbl9zdGFydChtb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9lbmdpbmUueHIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2VuZ2luZS54ciA9IG5ldyBYUih0aGlzLCBtb2RlKTtcbiAgICAgICAgICAgIHRoaXMuX2VuZ2luZS5vblhSU2Vzc2lvblN0YXJ0Lm5vdGlmeSh0aGlzLndlYnhyX3Nlc3Npb24sIG1vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF93bGpzX3hyX3Nlc3Npb25fZW5kKCkge1xuICAgICAgICBjb25zdCBzdGFydEVtaXR0ZXIgPSB0aGlzLl9lbmdpbmUub25YUlNlc3Npb25TdGFydDtcbiAgICAgICAgaWYgKHN0YXJ0RW1pdHRlciBpbnN0YW5jZW9mIFJldGFpbkVtaXR0ZXIpXG4gICAgICAgICAgICBzdGFydEVtaXR0ZXIucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fZW5naW5lLm9uWFJTZXNzaW9uRW5kLm5vdGlmeSgpO1xuICAgICAgICB0aGlzLl9lbmdpbmUueHIgPSBudWxsO1xuICAgIH1cbiAgICBfd2xqc194cl9kaXNhYmxlKCkge1xuICAgICAgICAvKiBAdG9kbyBUaGlzIGNvdWxkIGRpcmVjdGx5IGJlIGZ1bGx5IGhhbmRsZWQgaW4gSlMuICovXG4gICAgICAgIHRoaXMuX2VuZ2luZS5hclN1cHBvcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9lbmdpbmUudnJTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgX3dsanNfYWxsb2NhdGUobnVtQ29tcG9uZW50cykge1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzID0gbmV3IEFycmF5KG51bUNvbXBvbmVudHMpO1xuICAgIH1cbiAgICBfd2xqc19pbml0KHdpdGhQaHlzWCkge1xuICAgICAgICB0aGlzLl93aXRoUGh5c1ggPSB3aXRoUGh5c1g7XG4gICAgICAgIC8qIFRhcmdldCBtZW1vcnkgZm9yIEpTIEFQSSBmdW5jdGlvbnMgdGhhdCByZXR1cm4gYXJyYXlzICovXG4gICAgICAgIHRoaXMuYWxsb2NhdGVUZW1wTWVtb3J5KDEwMjQpO1xuICAgIH1cbiAgICBfd2xqc19yZWFsbG9jYXRlKG51bUNvbXBvbmVudHMpIHtcbiAgICAgICAgaWYgKG51bUNvbXBvbmVudHMgPiB0aGlzLl9jb21wb25lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50cy5sZW5ndGggPSBudW1Db21wb25lbnRzO1xuICAgICAgICB9XG4gICAgfVxuICAgIF93bGpzX3NjZW5lX2FkZF9tYXRlcmlhbF9kZWZpbml0aW9uKGRlZmluaXRpb25JZCkge1xuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gbmV3IE1hcCgpO1xuICAgICAgICAvKiBDYWNoZSBtYXRlcmlhbCBkZWZpbml0aW9uIGZvciBmYXN0ZXIgcmVhZC93cml0ZSAqL1xuICAgICAgICBjb25zdCBuYlBhcmFtcyA9IHRoaXMuX3dsX21hdGVyaWFsX2RlZmluaXRpb25fZ2V0X2NvdW50KGRlZmluaXRpb25JZCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJQYXJhbXM7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuVVRGOFRvU3RyaW5nKHRoaXMuX3dsX21hdGVyaWFsX2RlZmluaXRpb25fZ2V0X3BhcmFtX25hbWUoZGVmaW5pdGlvbklkLCBpKSk7XG4gICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5fd2xfbWF0ZXJpYWxfZGVmaW5pdGlvbl9nZXRfcGFyYW1fdHlwZShkZWZpbml0aW9uSWQsIGkpO1xuICAgICAgICAgICAgZGVmaW5pdGlvbi5zZXQobmFtZSwge1xuICAgICAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgICAgIHR5cGU6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdCAmIDB4ZmYsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudENvdW50OiAodCA+PiA4KSAmIDB4ZmYsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFUeXBlOiAodCA+PiAxNikgJiAweGZmLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXRlcmlhbERlZmluaXRpb25zW2RlZmluaXRpb25JZF0gPSBkZWZpbml0aW9uO1xuICAgIH1cbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX2Jvb2woYywgcCwgcGUsIHYpIHtcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9IHYgIT09IDA7XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1faW50KGMsIHAsIHBlLCB2KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPSB2O1xuICAgIH1cbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX2Zsb2F0KGMsIHAsIHBlLCB2KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPSB2O1xuICAgIH1cbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX3N0cmluZyhjLCBwLCBwZSwgdiwgdmUpIHtcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyh2LCB2ZSk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID0gdmFsdWU7XG4gICAgfVxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fY29sb3IoYywgcCwgcGUsIHYpIHtcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDgsIDE2LCAyNF0ubWFwKChzKSA9PiAoKHYgPj4+IHMpICYgMHhmZikgLyAyNTUuMCkpO1xuICAgIH1cbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX29iamVjdChjLCBwLCBwZSwgdikge1xuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cbiAgICAgICAgICAgIHYgPiAwID8gdGhpcy5fZW5naW5lLndyYXBPYmplY3QodikgOiBudWxsO1xuICAgIH1cbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX21lc2goYywgcCwgcGUsIHYpIHtcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9XG4gICAgICAgICAgICB2ID4gMCA/IG5ldyBNZXNoKHRoaXMuX2VuZ2luZSwgdikgOiBudWxsO1xuICAgIH1cbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX3RleHR1cmUoYywgcCwgcGUsIHYpIHtcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9XG4gICAgICAgICAgICB2ID4gMCA/IHRoaXMuX2VuZ2luZS50ZXh0dXJlcy53cmFwKHYpIDogbnVsbDtcbiAgICB9XG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9tYXRlcmlhbChjLCBwLCBwZSwgdikge1xuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cbiAgICAgICAgICAgIHYgPiAwID8gbmV3IE1hdGVyaWFsKHRoaXMuX2VuZ2luZSwgdikgOiBudWxsO1xuICAgIH1cbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX2FuaW1hdGlvbihjLCBwLCBwZSwgdikge1xuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cbiAgICAgICAgICAgIHYgPiAwID8gbmV3IEFuaW1hdGlvbih0aGlzLl9lbmdpbmUsIHYpIDogbnVsbDtcbiAgICB9XG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV9za2luKGMsIHAsIHBlLCB2KSB7XG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPVxuICAgICAgICAgICAgdiA+IDAgPyBuZXcgU2tpbih0aGlzLl9lbmdpbmUsIHYpIDogbnVsbDtcbiAgICB9XG4gICAgX3dsanNfZ2V0X2NvbXBvbmVudF90eXBlX2luZGV4KG5hbWVQdHIsIG5hbWVFbmRQdHIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudFR5cGVJbmRpY2VzW3RoaXMuVVRGOFZpZXdUb1N0cmluZyhuYW1lUHRyLCBuYW1lRW5kUHRyKV07XG4gICAgfVxuICAgIF93bGpzX2NvbXBvbmVudF9jcmVhdGUoanNNYW5hZ2VySW5kZXgsIGluZGV4LCBpZCwgdHlwZSwgb2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLl9jb21wb25lbnRUeXBlc1t0eXBlXTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gbmV3IGN0b3IoKS5yZXNldCgpO1xuICAgICAgICAvKiBTZXRzIHRoZSBtYW5hZ2VyIGFuZCBpZGVudGlmaWVyIGZyb20gdGhlIG91dHNpZGUsIHRvIHNpbXBsaWZ5IHRoZSB1c2VyJ3MgY29uc3RydWN0b3IuICovXG4gICAgICAgIC8qIEB0cy1pZ25vcmUgKi9cbiAgICAgICAgY29tcG9uZW50Ll9lbmdpbmUgPSB0aGlzLl9lbmdpbmU7XG4gICAgICAgIGNvbXBvbmVudC5fbWFuYWdlciA9IGpzTWFuYWdlckluZGV4O1xuICAgICAgICBjb21wb25lbnQuX2lkID0gaWQ7XG4gICAgICAgIGNvbXBvbmVudC5fb2JqZWN0ID0gdGhpcy5fZW5naW5lLndyYXBPYmplY3Qob2JqZWN0KTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tpbmRleF0gPSBjb21wb25lbnQ7XG4gICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfVxuICAgIF93bGpzX2NvbXBvbmVudF9pbml0KGNvbXBvbmVudCkge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnRdO1xuICAgICAgICBjLl90cmlnZ2VySW5pdCgpO1xuICAgIH1cbiAgICBfd2xqc19jb21wb25lbnRfdXBkYXRlKGNvbXBvbmVudCwgZHQpIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50XTtcbiAgICAgICAgaWYgKCFjKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dMOiBjb21wb25lbnQgd2FzIHVuZGVmaW5lZDonLCBjb21wb25lbnQpO1xuICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnRdID0gbmV3IENvbXBvbmVudCh0aGlzLl9lbmdpbmUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGMuX3RyaWdnZXJVcGRhdGUoZHQpO1xuICAgIH1cbiAgICBfd2xqc19jb21wb25lbnRfb25BY3RpdmF0ZShjb21wb25lbnQpIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50XTtcbiAgICAgICAgaWYgKGMpXG4gICAgICAgICAgICBjLl90cmlnZ2VyT25BY3RpdmF0ZSgpO1xuICAgIH1cbiAgICBfd2xqc19jb21wb25lbnRfb25EZWFjdGl2YXRlKGNvbXBvbmVudCkge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnRdO1xuICAgICAgICBjLl90cmlnZ2VyT25EZWFjdGl2YXRlKCk7XG4gICAgfVxuICAgIF93bGpzX2NvbXBvbmVudF9vbkRlc3Ryb3koY29tcG9uZW50KSB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLl9jb21wb25lbnRzW2NvbXBvbmVudF07XG4gICAgICAgIGMuX3RyaWdnZXJPbkRlc3Ryb3koKTtcbiAgICB9XG4gICAgX3dsanNfc3dhcChhLCBiKSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEEgPSB0aGlzLl9jb21wb25lbnRzW2FdO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2FdID0gdGhpcy5fY29tcG9uZW50c1tiXTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tiXSA9IGNvbXBvbmVudEE7XG4gICAgfVxuICAgIC8qIEpTIHRvIFdlYkFzc2VtYmx5IGJyaWRnZS4gKi9cbiAgICBIRUFQOCA9IG51bGw7XG4gICAgSEVBUFU4ID0gbnVsbDtcbiAgICBIRUFQVTE2ID0gbnVsbDtcbiAgICBIRUFQMTYgPSBudWxsO1xuICAgIEhFQVBVMzIgPSBudWxsO1xuICAgIEhFQVAzMiA9IG51bGw7XG4gICAgSEVBUEYzMiA9IG51bGw7XG4gICAgSEVBUEY2NCA9IG51bGw7XG4gICAgR0wgPSBudWxsO1xuICAgIGFzc2VydCA9IG51bGw7XG4gICAgX2ZyZWUgPSBudWxsO1xuICAgIF9tYWxsb2MgPSBudWxsO1xuICAgIGxlbmd0aEJ5dGVzVVRGOCA9IG51bGw7XG4gICAgc3RyaW5nVG9VVEY4ID0gbnVsbDtcbiAgICBVVEY4VG9TdHJpbmcgPSBudWxsO1xuICAgIGFkZEZ1bmN0aW9uID0gbnVsbDtcbiAgICByZW1vdmVGdW5jdGlvbiA9IG51bGw7XG4gICAgX3dsX3NldF9lcnJvcl9jYWxsYmFjayA9IG51bGw7XG4gICAgX3dsX2FwcGxpY2F0aW9uX3ZlcnNpb24gPSBudWxsO1xuICAgIF93bF9hcHBsaWNhdGlvbl9zdGFydCA9IG51bGw7XG4gICAgX3dsX2FwcGxpY2F0aW9uX3Jlc2l6ZSA9IG51bGw7XG4gICAgX3dsX25leHRVcGRhdGUgPSBudWxsO1xuICAgIF93bF9uZXh0RnJhbWUgPSBudWxsO1xuICAgIF93bF9yZW5kZXJlcl9zZXRfbWVzaF9sYXlvdXQgPSBudWxsO1xuICAgIF93bF9zY2VuZV9nZXRfYWN0aXZlX3ZpZXdzID0gbnVsbDtcbiAgICBfd2xfc2NlbmVfcmF5X2Nhc3QgPSBudWxsO1xuICAgIF93bF9zY2VuZV9hZGRfb2JqZWN0ID0gbnVsbDtcbiAgICBfd2xfc2NlbmVfYWRkX29iamVjdHMgPSBudWxsO1xuICAgIF93bF9zY2VuZV9yZXNlcnZlX29iamVjdHMgPSBudWxsO1xuICAgIF93bF9zY2VuZV9zZXRfY2xlYXJDb2xvciA9IG51bGw7XG4gICAgX3dsX3NjZW5lX2VuYWJsZUNvbG9yQ2xlYXIgPSBudWxsO1xuICAgIF93bF9zZXRfbG9hZGluZ19zY3JlZW5fcHJvZ3Jlc3MgPSBudWxsO1xuICAgIF93bF9sb2FkX3NjZW5lX2JpbiA9IG51bGw7XG4gICAgX3dsX2FwcGVuZF9zY2VuZV9iaW4gPSBudWxsO1xuICAgIF93bF9hcHBlbmRfc2NlbmVfZ2x0ZiA9IG51bGw7XG4gICAgX3dsX3NjZW5lX3Jlc2V0ID0gbnVsbDtcbiAgICBfd2xfY29tcG9uZW50X2dldF9vYmplY3QgPSBudWxsO1xuICAgIF93bF9jb21wb25lbnRfc2V0QWN0aXZlID0gbnVsbDtcbiAgICBfd2xfY29tcG9uZW50X2lzQWN0aXZlID0gbnVsbDtcbiAgICBfd2xfY29tcG9uZW50X3JlbW92ZSA9IG51bGw7XG4gICAgX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfZ2V0X2NvbGxpZGVyID0gbnVsbDtcbiAgICBfd2xfY29sbGlzaW9uX2NvbXBvbmVudF9zZXRfY29sbGlkZXIgPSBudWxsO1xuICAgIF93bF9jb2xsaXNpb25fY29tcG9uZW50X2dldF9leHRlbnRzID0gbnVsbDtcbiAgICBfd2xfY29sbGlzaW9uX2NvbXBvbmVudF9nZXRfZ3JvdXAgPSBudWxsO1xuICAgIF93bF9jb2xsaXNpb25fY29tcG9uZW50X3NldF9ncm91cCA9IG51bGw7XG4gICAgX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfcXVlcnlfb3ZlcmxhcHMgPSBudWxsO1xuICAgIF93bF90ZXh0X2NvbXBvbmVudF9nZXRfaG9yaXpvbnRhbF9hbGlnbm1lbnQgPSBudWxsO1xuICAgIF93bF90ZXh0X2NvbXBvbmVudF9zZXRfaG9yaXpvbnRhbF9hbGlnbm1lbnQgPSBudWxsO1xuICAgIF93bF90ZXh0X2NvbXBvbmVudF9nZXRfdmVydGljYWxfYWxpZ25tZW50ID0gbnVsbDtcbiAgICBfd2xfdGV4dF9jb21wb25lbnRfc2V0X3ZlcnRpY2FsX2FsaWdubWVudCA9IG51bGw7XG4gICAgX3dsX3RleHRfY29tcG9uZW50X2dldF9jaGFyYWN0ZXJfc3BhY2luZyA9IG51bGw7XG4gICAgX3dsX3RleHRfY29tcG9uZW50X3NldF9jaGFyYWN0ZXJfc3BhY2luZyA9IG51bGw7XG4gICAgX3dsX3RleHRfY29tcG9uZW50X2dldF9saW5lX3NwYWNpbmcgPSBudWxsO1xuICAgIF93bF90ZXh0X2NvbXBvbmVudF9zZXRfbGluZV9zcGFjaW5nID0gbnVsbDtcbiAgICBfd2xfdGV4dF9jb21wb25lbnRfZ2V0X2VmZmVjdCA9IG51bGw7XG4gICAgX3dsX3RleHRfY29tcG9uZW50X3NldF9lZmZlY3QgPSBudWxsO1xuICAgIF93bF90ZXh0X2NvbXBvbmVudF9nZXRfdGV4dCA9IG51bGw7XG4gICAgX3dsX3RleHRfY29tcG9uZW50X3NldF90ZXh0ID0gbnVsbDtcbiAgICBfd2xfdGV4dF9jb21wb25lbnRfc2V0X21hdGVyaWFsID0gbnVsbDtcbiAgICBfd2xfdGV4dF9jb21wb25lbnRfZ2V0X21hdGVyaWFsID0gbnVsbDtcbiAgICBfd2xfdmlld19jb21wb25lbnRfZ2V0X3Byb2plY3Rpb25fbWF0cml4ID0gbnVsbDtcbiAgICBfd2xfdmlld19jb21wb25lbnRfZ2V0X25lYXIgPSBudWxsO1xuICAgIF93bF92aWV3X2NvbXBvbmVudF9zZXRfbmVhciA9IG51bGw7XG4gICAgX3dsX3ZpZXdfY29tcG9uZW50X2dldF9mYXIgPSBudWxsO1xuICAgIF93bF92aWV3X2NvbXBvbmVudF9zZXRfZmFyID0gbnVsbDtcbiAgICBfd2xfdmlld19jb21wb25lbnRfZ2V0X2ZvdiA9IG51bGw7XG4gICAgX3dsX3ZpZXdfY29tcG9uZW50X3NldF9mb3YgPSBudWxsO1xuICAgIF93bF9pbnB1dF9jb21wb25lbnRfZ2V0X3R5cGUgPSBudWxsO1xuICAgIF93bF9pbnB1dF9jb21wb25lbnRfc2V0X3R5cGUgPSBudWxsO1xuICAgIF93bF9saWdodF9jb21wb25lbnRfZ2V0X2NvbG9yID0gbnVsbDtcbiAgICBfd2xfbGlnaHRfY29tcG9uZW50X2dldF90eXBlID0gbnVsbDtcbiAgICBfd2xfbGlnaHRfY29tcG9uZW50X3NldF90eXBlID0gbnVsbDtcbiAgICBfd2xfbGlnaHRfY29tcG9uZW50X2dldF9pbnRlbnNpdHkgPSBudWxsO1xuICAgIF93bF9saWdodF9jb21wb25lbnRfc2V0X2ludGVuc2l0eSA9IG51bGw7XG4gICAgX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfb3V0ZXJBbmdsZSA9IG51bGw7XG4gICAgX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfb3V0ZXJBbmdsZSA9IG51bGw7XG4gICAgX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfaW5uZXJBbmdsZSA9IG51bGw7XG4gICAgX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfaW5uZXJBbmdsZSA9IG51bGw7XG4gICAgX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfc2hhZG93cyA9IG51bGw7XG4gICAgX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfc2hhZG93cyA9IG51bGw7XG4gICAgX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfc2hhZG93UmFuZ2UgPSBudWxsO1xuICAgIF93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd1JhbmdlID0gbnVsbDtcbiAgICBfd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dCaWFzID0gbnVsbDtcbiAgICBfd2xfbGlnaHRfY29tcG9uZW50X3NldF9zaGFkb3dCaWFzID0gbnVsbDtcbiAgICBfd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dOb3JtYWxCaWFzID0gbnVsbDtcbiAgICBfd2xfbGlnaHRfY29tcG9uZW50X3NldF9zaGFkb3dOb3JtYWxCaWFzID0gbnVsbDtcbiAgICBfd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dUZXhlbFNpemUgPSBudWxsO1xuICAgIF93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd1RleGVsU2l6ZSA9IG51bGw7XG4gICAgX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfY2FzY2FkZUNvdW50ID0gbnVsbDtcbiAgICBfd2xfbGlnaHRfY29tcG9uZW50X3NldF9jYXNjYWRlQ291bnQgPSBudWxsO1xuICAgIF93bF9hbmltYXRpb25fY29tcG9uZW50X2dldF9hbmltYXRpb24gPSBudWxsO1xuICAgIF93bF9hbmltYXRpb25fY29tcG9uZW50X3NldF9hbmltYXRpb24gPSBudWxsO1xuICAgIF93bF9hbmltYXRpb25fY29tcG9uZW50X2dldF9wbGF5Q291bnQgPSBudWxsO1xuICAgIF93bF9hbmltYXRpb25fY29tcG9uZW50X3NldF9wbGF5Q291bnQgPSBudWxsO1xuICAgIF93bF9hbmltYXRpb25fY29tcG9uZW50X2dldF9zcGVlZCA9IG51bGw7XG4gICAgX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfc2V0X3NwZWVkID0gbnVsbDtcbiAgICBfd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9wbGF5ID0gbnVsbDtcbiAgICBfd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9zdG9wID0gbnVsbDtcbiAgICBfd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9wYXVzZSA9IG51bGw7XG4gICAgX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfc3RhdGUgPSBudWxsO1xuICAgIF93bF9tZXNoX2NvbXBvbmVudF9nZXRfbWF0ZXJpYWwgPSBudWxsO1xuICAgIF93bF9tZXNoX2NvbXBvbmVudF9zZXRfbWF0ZXJpYWwgPSBudWxsO1xuICAgIF93bF9tZXNoX2NvbXBvbmVudF9nZXRfbWVzaCA9IG51bGw7XG4gICAgX3dsX21lc2hfY29tcG9uZW50X3NldF9tZXNoID0gbnVsbDtcbiAgICBfd2xfbWVzaF9jb21wb25lbnRfZ2V0X3NraW4gPSBudWxsO1xuICAgIF93bF9tZXNoX2NvbXBvbmVudF9zZXRfc2tpbiA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc3RhdGljID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfY29tcG9uZW50X3NldF9zdGF0aWMgPSBudWxsO1xuICAgIF93bF9waHlzeF9jb21wb25lbnRfZ2V0X2tpbmVtYXRpYyA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfa2luZW1hdGljID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfY29tcG9uZW50X2dldF9ncmF2aXR5ID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfY29tcG9uZW50X3NldF9ncmF2aXR5ID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfY29tcG9uZW50X2dldF9zaW11bGF0ZSA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc2ltdWxhdGUgPSBudWxsO1xuICAgIF93bF9waHlzeF9jb21wb25lbnRfZ2V0X2FsbG93U2ltdWxhdGlvbiA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYWxsb3dTaW11bGF0aW9uID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfY29tcG9uZW50X2dldF9hbGxvd1F1ZXJ5ID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfY29tcG9uZW50X3NldF9hbGxvd1F1ZXJ5ID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfY29tcG9uZW50X2dldF90cmlnZ2VyID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfY29tcG9uZW50X3NldF90cmlnZ2VyID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfY29tcG9uZW50X2dldF9zaGFwZSA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc2hhcGUgPSBudWxsO1xuICAgIF93bF9waHlzeF9jb21wb25lbnRfZ2V0X3NoYXBlX2RhdGEgPSBudWxsO1xuICAgIF93bF9waHlzeF9jb21wb25lbnRfc2V0X3NoYXBlX2RhdGEgPSBudWxsO1xuICAgIF93bF9waHlzeF9jb21wb25lbnRfZ2V0X2V4dGVudHMgPSBudWxsO1xuICAgIF93bF9waHlzeF9jb21wb25lbnRfZ2V0X3N0YXRpY0ZyaWN0aW9uID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfY29tcG9uZW50X3NldF9zdGF0aWNGcmljdGlvbiA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfZHluYW1pY0ZyaWN0aW9uID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfY29tcG9uZW50X3NldF9keW5hbWljRnJpY3Rpb24gPSBudWxsO1xuICAgIF93bF9waHlzeF9jb21wb25lbnRfZ2V0X2JvdW5jaW5lc3MgPSBudWxsO1xuICAgIF93bF9waHlzeF9jb21wb25lbnRfc2V0X2JvdW5jaW5lc3MgPSBudWxsO1xuICAgIF93bF9waHlzeF9jb21wb25lbnRfZ2V0X2xpbmVhckRhbXBpbmcgPSBudWxsO1xuICAgIF93bF9waHlzeF9jb21wb25lbnRfc2V0X2xpbmVhckRhbXBpbmcgPSBudWxsO1xuICAgIF93bF9waHlzeF9jb21wb25lbnRfZ2V0X2FuZ3VsYXJEYW1waW5nID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfY29tcG9uZW50X3NldF9hbmd1bGFyRGFtcGluZyA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfbGluZWFyVmVsb2NpdHkgPSBudWxsO1xuICAgIF93bF9waHlzeF9jb21wb25lbnRfc2V0X2xpbmVhclZlbG9jaXR5ID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfY29tcG9uZW50X2dldF9hbmd1bGFyVmVsb2NpdHkgPSBudWxsO1xuICAgIF93bF9waHlzeF9jb21wb25lbnRfc2V0X2FuZ3VsYXJWZWxvY2l0eSA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfZ3JvdXBzTWFzayA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfZ3JvdXBzTWFzayA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYmxvY2tzTWFzayA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYmxvY2tzTWFzayA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfbGluZWFyTG9ja0F4aXMgPSBudWxsO1xuICAgIF93bF9waHlzeF9jb21wb25lbnRfc2V0X2xpbmVhckxvY2tBeGlzID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfY29tcG9uZW50X2dldF9hbmd1bGFyTG9ja0F4aXMgPSBudWxsO1xuICAgIF93bF9waHlzeF9jb21wb25lbnRfc2V0X2FuZ3VsYXJMb2NrQXhpcyA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfbWFzcyA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfbWFzcyA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfbWFzc1NwYWNlSW5lcnRpYVRlbnNvciA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9hZGRGb3JjZSA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9hZGRGb3JjZUF0ID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfY29tcG9uZW50X2FkZFRvcnF1ZSA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9hZGRDYWxsYmFjayA9IG51bGw7XG4gICAgX3dsX3BoeXN4X2NvbXBvbmVudF9yZW1vdmVDYWxsYmFjayA9IG51bGw7XG4gICAgX3dsX3BoeXN4X3VwZGF0ZV9nbG9iYWxfcG9zZSA9IG51bGw7XG4gICAgX3dsX3BoeXN4X3JheV9jYXN0ID0gbnVsbDtcbiAgICBfd2xfcGh5c3hfc2V0X2NvbGxpc2lvbl9jYWxsYmFjayA9IG51bGw7XG4gICAgX3dsX21lc2hfY3JlYXRlID0gbnVsbDtcbiAgICBfd2xfbWVzaF9nZXRfdmVydGV4RGF0YSA9IG51bGw7XG4gICAgX3dsX21lc2hfZ2V0X3ZlcnRleENvdW50ID0gbnVsbDtcbiAgICBfd2xfbWVzaF9nZXRfaW5kZXhEYXRhID0gbnVsbDtcbiAgICBfd2xfbWVzaF91cGRhdGUgPSBudWxsO1xuICAgIF93bF9tZXNoX2dldF9ib3VuZGluZ1NwaGVyZSA9IG51bGw7XG4gICAgX3dsX21lc2hfZ2V0X2F0dHJpYnV0ZSA9IG51bGw7XG4gICAgX3dsX21lc2hfZGVzdHJveSA9IG51bGw7XG4gICAgX3dsX21lc2hfZ2V0X2F0dHJpYnV0ZV92YWx1ZXMgPSBudWxsO1xuICAgIF93bF9tZXNoX3NldF9hdHRyaWJ1dGVfdmFsdWVzID0gbnVsbDtcbiAgICBfd2xfbWF0ZXJpYWxfY3JlYXRlID0gbnVsbDtcbiAgICBfd2xfbWF0ZXJpYWxfZ2V0X2RlZmluaXRpb24gPSBudWxsO1xuICAgIF93bF9tYXRlcmlhbF9kZWZpbml0aW9uX2dldF9jb3VudCA9IG51bGw7XG4gICAgX3dsX21hdGVyaWFsX2RlZmluaXRpb25fZ2V0X3BhcmFtX25hbWUgPSBudWxsO1xuICAgIF93bF9tYXRlcmlhbF9kZWZpbml0aW9uX2dldF9wYXJhbV90eXBlID0gbnVsbDtcbiAgICBfd2xfbWF0ZXJpYWxfZ2V0X3BpcGVsaW5lID0gbnVsbDtcbiAgICBfd2xfbWF0ZXJpYWxfY2xvbmUgPSBudWxsO1xuICAgIF93bF9tYXRlcmlhbF9nZXRfcGFyYW1faW5kZXggPSBudWxsO1xuICAgIF93bF9tYXRlcmlhbF9nZXRfcGFyYW1fdHlwZSA9IG51bGw7XG4gICAgX3dsX21hdGVyaWFsX2dldF9wYXJhbV92YWx1ZSA9IG51bGw7XG4gICAgX3dsX21hdGVyaWFsX3NldF9wYXJhbV92YWx1ZV91aW50ID0gbnVsbDtcbiAgICBfd2xfbWF0ZXJpYWxfc2V0X3BhcmFtX3ZhbHVlX2Zsb2F0ID0gbnVsbDtcbiAgICBfd2xfcmVuZGVyZXJfYWRkSW1hZ2UgPSBudWxsO1xuICAgIF93bF90ZXh0dXJlX3dpZHRoID0gbnVsbDtcbiAgICBfd2xfdGV4dHVyZV9oZWlnaHQgPSBudWxsO1xuICAgIF93bF9yZW5kZXJlcl91cGRhdGVJbWFnZSA9IG51bGw7XG4gICAgX3dsX3RleHR1cmVfZGVzdHJveSA9IG51bGw7XG4gICAgX3dsX2FuaW1hdGlvbl9nZXRfZHVyYXRpb24gPSBudWxsO1xuICAgIF93bF9hbmltYXRpb25fZ2V0X3RyYWNrQ291bnQgPSBudWxsO1xuICAgIF93bF9hbmltYXRpb25fcmV0YXJnZXRUb1NraW4gPSBudWxsO1xuICAgIF93bF9hbmltYXRpb25fcmV0YXJnZXQgPSBudWxsO1xuICAgIF93bF9vYmplY3RfbmFtZSA9IG51bGw7XG4gICAgX3dsX29iamVjdF9zZXRfbmFtZSA9IG51bGw7XG4gICAgX3dsX29iamVjdF9wYXJlbnQgPSBudWxsO1xuICAgIF93bF9vYmplY3RfZ2V0X2NoaWxkcmVuX2NvdW50ID0gbnVsbDtcbiAgICBfd2xfb2JqZWN0X2dldF9jaGlsZHJlbiA9IG51bGw7XG4gICAgX3dsX29iamVjdF9zZXRfcGFyZW50ID0gbnVsbDtcbiAgICBfd2xfb2JqZWN0X3Jlc2V0X3NjYWxpbmcgPSBudWxsO1xuICAgIF93bF9vYmplY3RfcmVzZXRfdHJhbnNsYXRpb25fcm90YXRpb24gPSBudWxsO1xuICAgIF93bF9vYmplY3RfcmVzZXRfcm90YXRpb24gPSBudWxsO1xuICAgIF93bF9vYmplY3RfcmVzZXRfdHJhbnNsYXRpb24gPSBudWxsO1xuICAgIF93bF9vYmplY3RfdHJhbnNsYXRlID0gbnVsbDtcbiAgICBfd2xfb2JqZWN0X3RyYW5zbGF0ZV9vYmogPSBudWxsO1xuICAgIF93bF9vYmplY3RfdHJhbnNsYXRlX3dvcmxkID0gbnVsbDtcbiAgICBfd2xfb2JqZWN0X3JvdGF0ZV9heGlzX2FuZ2xlID0gbnVsbDtcbiAgICBfd2xfb2JqZWN0X3JvdGF0ZV9heGlzX2FuZ2xlX3JhZCA9IG51bGw7XG4gICAgX3dsX29iamVjdF9yb3RhdGVfYXhpc19hbmdsZV9vYmogPSBudWxsO1xuICAgIF93bF9vYmplY3Rfcm90YXRlX2F4aXNfYW5nbGVfcmFkX29iaiA9IG51bGw7XG4gICAgX3dsX29iamVjdF9yb3RhdGVfcXVhdCA9IG51bGw7XG4gICAgX3dsX29iamVjdF9yb3RhdGVfcXVhdF9vYmogPSBudWxsO1xuICAgIF93bF9vYmplY3Rfc2NhbGUgPSBudWxsO1xuICAgIF93bF9vYmplY3RfdHJhbnNfbG9jYWwgPSBudWxsO1xuICAgIF93bF9vYmplY3RfZ2V0X3RyYW5zbGF0aW9uX2xvY2FsID0gbnVsbDtcbiAgICBfd2xfb2JqZWN0X3NldF90cmFuc2xhdGlvbl9sb2NhbCA9IG51bGw7XG4gICAgX3dsX29iamVjdF9nZXRfdHJhbnNsYXRpb25fd29ybGQgPSBudWxsO1xuICAgIF93bF9vYmplY3Rfc2V0X3RyYW5zbGF0aW9uX3dvcmxkID0gbnVsbDtcbiAgICBfd2xfb2JqZWN0X3RyYW5zX3dvcmxkID0gbnVsbDtcbiAgICBfd2xfb2JqZWN0X3RyYW5zX3dvcmxkX3RvX2xvY2FsID0gbnVsbDtcbiAgICBfd2xfb2JqZWN0X3NjYWxpbmdfbG9jYWwgPSBudWxsO1xuICAgIF93bF9vYmplY3Rfc2NhbGluZ193b3JsZCA9IG51bGw7XG4gICAgX3dsX29iamVjdF9zZXRfc2NhbGluZ19sb2NhbCA9IG51bGw7XG4gICAgX3dsX29iamVjdF9zZXRfc2NhbGluZ193b3JsZCA9IG51bGw7XG4gICAgX3dsX29iamVjdF9zY2FsaW5nX3dvcmxkX3RvX2xvY2FsID0gbnVsbDtcbiAgICBfd2xfb2JqZWN0X3NldF9yb3RhdGlvbl9sb2NhbCA9IG51bGw7XG4gICAgX3dsX29iamVjdF9zZXRfcm90YXRpb25fd29ybGQgPSBudWxsO1xuICAgIF93bF9vYmplY3RfdHJhbnNmb3JtVmVjdG9yV29ybGQgPSBudWxsO1xuICAgIF93bF9vYmplY3RfdHJhbnNmb3JtVmVjdG9yTG9jYWwgPSBudWxsO1xuICAgIF93bF9vYmplY3RfdHJhbnNmb3JtUG9pbnRXb3JsZCA9IG51bGw7XG4gICAgX3dsX29iamVjdF90cmFuc2Zvcm1Qb2ludExvY2FsID0gbnVsbDtcbiAgICBfd2xfb2JqZWN0X3RyYW5zZm9ybVZlY3RvckludmVyc2VXb3JsZCA9IG51bGw7XG4gICAgX3dsX29iamVjdF90cmFuc2Zvcm1WZWN0b3JJbnZlcnNlTG9jYWwgPSBudWxsO1xuICAgIF93bF9vYmplY3RfdHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQgPSBudWxsO1xuICAgIF93bF9vYmplY3RfdHJhbnNmb3JtUG9pbnRJbnZlcnNlTG9jYWwgPSBudWxsO1xuICAgIF93bF9vYmplY3RfdG9Xb3JsZFNwYWNlVHJhbnNmb3JtID0gbnVsbDtcbiAgICBfd2xfb2JqZWN0X3RvT2JqZWN0U3BhY2VUcmFuc2Zvcm0gPSBudWxsO1xuICAgIF93bF9vYmplY3RfbG9va0F0ID0gbnVsbDtcbiAgICBfd2xfc2NlbmVfcmVtb3ZlX29iamVjdCA9IG51bGw7XG4gICAgX3dsX29iamVjdF9zZXRfZGlydHkgPSBudWxsO1xuICAgIF93bF9nZXRfY29tcG9uZW50X21hbmFnZXJfaW5kZXggPSBudWxsO1xuICAgIF93bF9nZXRfanNfY29tcG9uZW50X2luZGV4ID0gbnVsbDtcbiAgICBfd2xfZ2V0X2pzX2NvbXBvbmVudF9pbmRleF9mb3JfaWQgPSBudWxsO1xuICAgIF93bF9nZXRfY29tcG9uZW50X2lkID0gbnVsbDtcbiAgICBfd2xfb2JqZWN0X2dldF9jb21wb25lbnRzID0gbnVsbDtcbiAgICBfd2xfb2JqZWN0X2dldF9jb21wb25lbnRfdHlwZXMgPSBudWxsO1xuICAgIF93bF9vYmplY3RfYWRkX2pzX2NvbXBvbmVudCA9IG51bGw7XG4gICAgX3dsX29iamVjdF9hZGRfY29tcG9uZW50ID0gbnVsbDtcbiAgICBfd2xfb2JqZWN0X2lzX2NoYW5nZWQgPSBudWxsO1xuICAgIF93bF9jb21wb25lbnRfbWFuYWdlcl9uYW1lID0gbnVsbDtcbiAgICBfd2xfc2tpbl9nZXRfam9pbnRfY291bnQgPSBudWxsO1xuICAgIF93bF9za2luX2pvaW50X2lkcyA9IG51bGw7XG4gICAgX3dsX3NraW5faW52ZXJzZV9iaW5kX3RyYW5zZm9ybXMgPSBudWxsO1xuICAgIF93bF9za2luX2ludmVyc2VfYmluZF9zY2FsaW5ncyA9IG51bGw7XG4gICAgX3dsX21hdGhfY3ViaWNIZXJtaXRlID0gbnVsbDtcbiAgICBfd2xfaTE4bl9zZXRMYW5ndWFnZSA9IG51bGw7XG4gICAgX3dsX2kxOG5fY3VycmVudExhbmd1YWdlID0gbnVsbDtcbiAgICBfd2xfaTE4bl90cmFuc2xhdGUgPSBudWxsO1xuICAgIF93bF9pMThuX2xhbmd1YWdlQ291bnQgPSBudWxsO1xuICAgIF93bF9pMThuX2xhbmd1YWdlSW5kZXggPSBudWxsO1xuICAgIF93bF9pMThuX2xhbmd1YWdlQ29kZSA9IG51bGw7XG4gICAgX3dsX2kxOG5fbGFuZ3VhZ2VOYW1lID0gbnVsbDtcbn1cbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBDb21wb25lbnQsIFRleHR1cmUsIE1lc2hDb21wb25lbnQgfSBmcm9tIFwiQHdvbmRlcmxhbmRlbmdpbmUvYXBpXCI7XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qc1wiO1xuY2xhc3MgRHluYW1pY1RleHR1cmVDYWNoZSB7XG4gICAgdGV4dHVyZXM7XG4gICAgZW5naW5lO1xuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSkge1xuICAgICAgICB0aGlzLnRleHR1cmVzID0ge307XG4gICAgICAgIHRoaXMuZW5naW5lID0gZW5naW5lO1xuICAgIH1cbiAgICBsb2FkVGV4dHVyZXModXJsLCBjb2x1bW5zLCByb3dzKSB7XG4gICAgICAgIGlmICghdGhpcy50ZXh0dXJlcy5oYXNPd25Qcm9wZXJ0eSh1cmwpKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzW3VybF0gPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgbGV0IHRleHR1cmVzID0gW107XG4gICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gdXJsO1xuICAgICAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQgPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChcIkNvdWxkIG5vdCBnZXQgY29udGV4dFwiKTtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNwcml0ZVdpZHRoID0gaW1hZ2Uud2lkdGggLyBjb2x1bW5zO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3ByaXRlSGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0IC8gcm93cztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCByb3dzOyB5KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgY29sdW1uczsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBjID0gdGhpcy5jb3B5UGFydE9mQ2FudmFzKGNhbnZhcywgeCAqIHNwcml0ZVdpZHRoLCB5ICogc3ByaXRlSGVpZ2h0LCBzcHJpdGVXaWR0aCwgc3ByaXRlSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dHVyZVBjID0gbmV3IFRleHR1cmUodGhpcy5lbmdpbmUsIHBjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKHRleHR1cmVQYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0ZXh0dXJlcyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRleHR1cmVzW3VybF07XG4gICAgfVxuICAgIGNvcHlQYXJ0T2ZDYW52YXMoY2FudmFzLCB4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGxldCBjb3B5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgY29weS53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjb3B5LmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgbGV0IGN0eDIgPSBjb3B5LmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgY3R4Mi5kcmF3SW1hZ2UoY2FudmFzLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgfVxufVxubGV0IHRleHR1cmVDYWNoZTtcbmV4cG9ydCBjbGFzcyBGbGlwYm9vayBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gXCJmbGlwYm9va1wiO1xuICAgIGJhc2U7XG4gICAgdXJsID0gXCJcIjtcbiAgICB1cmxFbWlzc2l2ZSA9IFwiXCI7XG4gICAgY29sdW1ucyA9IDQ7XG4gICAgcm93cyA9IDQ7XG4gICAgc3BlZWQgPSA4LjA7XG4gICAgdGV4dHVyZXMgPSBbXTtcbiAgICBsb2FkZWQgPSBmYWxzZTtcbiAgICBpbmRleCA9IDA7XG4gICAgaW5pdCgpIHtcbiAgICAgICAgaWYgKCF0ZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgICAgIHRleHR1cmVDYWNoZSA9IG5ldyBEeW5hbWljVGV4dHVyZUNhY2hlKHRoaXMuZW5naW5lKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGV4dHVyZXNQcm9taXNlcyA9IFtdO1xuICAgICAgICB0ZXh0dXJlc1Byb21pc2VzLnB1c2godGV4dHVyZUNhY2hlLmxvYWRUZXh0dXJlcyh0aGlzLnVybCwgdGhpcy5jb2x1bW5zLCB0aGlzLnJvd3MpKTtcbiAgICAgICAgaWYgKHRoaXMudXJsRW1pc3NpdmUpIHtcbiAgICAgICAgICAgIHRleHR1cmVzUHJvbWlzZXMucHVzaCh0ZXh0dXJlQ2FjaGUubG9hZFRleHR1cmVzKHRoaXMudXJsRW1pc3NpdmUsIHRoaXMuY29sdW1ucywgdGhpcy5yb3dzKSk7XG4gICAgICAgIH1cbiAgICAgICAgUHJvbWlzZS5hbGwodGV4dHVyZXNQcm9taXNlcykudGhlbigodGV4KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzID0gW107XG4gICAgICAgICAgICBpZiAodGhpcy51cmxFbWlzc2l2ZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4WzBdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZXMucHVzaCh0aGlzLmNyZWF0ZU1hdGVyaWFsKHRoaXMuYmFzZSwgdGV4WzBdW2ldLCB0ZXhbMV1baV0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleFswXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVzLnB1c2godGhpcy5jcmVhdGVNYXRlcmlhbCh0aGlzLmJhc2UsIHRleFswXVtpXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLnRleHR1cmVzLmxlbmd0aCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjcmVhdGVNYXRlcmlhbChiYXNlLCB0ZXh0dXJlLCBlbWlzc2l2ZVRleHR1cmUgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1hdCA9IGJhc2UuY2xvbmUoKTtcbiAgICAgICAgaWYgKCFtYXQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgY2xvbmUgbWF0ZXJpYWxcIik7XG4gICAgICAgIGlmIChtYXQucGlwZWxpbmUgPT0gXCJGbGF0IE9wYXF1ZSBUZXh0dXJlZFwiXG4gICAgICAgICAgICB8fCBtYXQucGlwZWxpbmUuc3RhcnRzV2l0aChcIkZsYXRTb3Jza29vdFwiKSkge1xuICAgICAgICAgICAgY29uc3QgZmxhdE1hdCA9IG1hdDtcbiAgICAgICAgICAgIGZsYXRNYXQuZmxhdFRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICAgICAgaWYgKG1hdC5waXBlbGluZSA9PSBcIkZsYXRTb3Jza29vdCBFbWlzc2l2ZVwiKSB7XG4gICAgICAgICAgICAgICAgZmxhdE1hdC5mbGF0VGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgICAgICAgICAgaWYgKGVtaXNzaXZlVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBmbGF0TWF0LmVtaXNzaXZlVGV4dHVyZSA9IGVtaXNzaXZlVGV4dHVyZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBQaXBlbGluZSAke21hdC5waXBlbGluZX0gbm90IHN1cHBvcnRlZCBieSBmbGlwYm9va2ApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXQ7XG4gICAgfVxuICAgIG1hdCA9IG51bGw7XG4gICAgdCA9IDA7XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMubWF0ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KE1lc2hDb21wb25lbnQpO1xuICAgICAgICB0aGlzLnQgPSBNYXRoLnJhbmRvbSgpICogdGhpcy5zcGVlZDtcbiAgICB9XG4gICAgcHJldmlvdXNJbmRleCA9IC0xO1xuICAgIHVwZGF0ZShkdCkge1xuICAgICAgICBpZiAoIXRoaXMubG9hZGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnQgKz0gZHQgKiB0aGlzLnNwZWVkO1xuICAgICAgICB0aGlzLmluZGV4ID0gfn50aGlzLnQgJSB0aGlzLnRleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMudGV4dHVyZXMgJiZcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZXMubGVuZ3RoICYmXG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzSW5kZXggIT0gdGhpcy5pbmRleCAmJlxuICAgICAgICAgICAgdGhpcy5tYXQpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNJbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgICAgICB0aGlzLm1hdC5tYXRlcmlhbCA9IHRoaXMudGV4dHVyZXNbdGhpcy5pbmRleF07XG4gICAgICAgIH1cbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5tYXRlcmlhbCgpXG5dLCBGbGlwYm9vay5wcm90b3R5cGUsIFwiYmFzZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuc3RyaW5nKFwiXCIpXG5dLCBGbGlwYm9vay5wcm90b3R5cGUsIFwidXJsXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5zdHJpbmcoXCJcIilcbl0sIEZsaXBib29rLnByb3RvdHlwZSwgXCJ1cmxFbWlzc2l2ZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuaW50KDQpXG5dLCBGbGlwYm9vay5wcm90b3R5cGUsIFwiY29sdW1uc1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuaW50KDQpXG5dLCBGbGlwYm9vay5wcm90b3R5cGUsIFwicm93c1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuZmxvYXQoOC4wKVxuXSwgRmxpcGJvb2sucHJvdG90eXBlLCBcInNwZWVkXCIsIHZvaWQgMCk7XG4iLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSBcIkB3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzXCI7XG5leHBvcnQgY2xhc3MgUHJlZmFiIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAncHJlZmFiJztcbiAgICBuYW1lO1xufVxuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuc3RyaW5nKClcbl0sIFByZWZhYi5wcm90b3R5cGUsIFwibmFtZVwiLCB2b2lkIDApO1xuO1xuIiwgImltcG9ydCB7IENvbXBvbmVudCwgTWVzaENvbXBvbmVudCwgQ29sbGlzaW9uQ29tcG9uZW50LCB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGlcIjtcbmltcG9ydCB7IFByZWZhYiB9IGZyb20gXCIuL3ByZWZhYi5qc1wiO1xuZXhwb3J0IGNsYXNzIFByZWZhYlN0b3JhZ2UgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9IFwicHJlZmFiLXN0b3JhZ2VcIjtcbiAgICBwcmVmYWJzID0ge307XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IHRoaXMub2JqZWN0LmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGxldCBjaGlsZFByZWZhYiA9IGNoaWxkLmdldENvbXBvbmVudChQcmVmYWIpO1xuICAgICAgICAgICAgaWYgKGNoaWxkUHJlZmFiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmVmYWJzW2NoaWxkUHJlZmFiLm5hbWVdID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgY2hpbGQuc2V0UG9zaXRpb25Xb3JsZChbLTEwMDAsIC0xMDAwLCAtMTAwMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgcHJlZmFiLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByZWZhYk5hbWUgTmFtZSBvZiB0aGUgcHJlZmFiIHRvIGluc3RhbnRpYXRlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0M0R9IHBhcmVudE9iamVjdCBUaGUgb2JqZWN0IHRvIHBhcmVudCB0aGUgcHJlZmFiIHRvIGFmdGVyIGluc3RhbnRpYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdDNEfHVuZGVmaW5lZH0gVGhlIHJvb3Qgb2YgdGhlIGluc3RhbnRpYXRlZCBwcmVmYWIuXG4gICAgICovXG4gICAgaW5zdGFudGlhdGUocHJlZmFiTmFtZSwgcGFyZW50T2JqZWN0KSB7XG4gICAgICAgIGxldCBwcmVmYWIgPSB0aGlzLnByZWZhYnNbcHJlZmFiTmFtZV07XG4gICAgICAgIGlmICghcHJlZmFiKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwidHJ5aW5nIHRvIGNyZWF0ZSBcIiArIHByZWZhYk5hbWUgKyBcIiBidXQgdGhhdCBpcyBub3QgYSByZWdpc3RlcmQgcHJlZmFiXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvYmogPSB0aGlzLmVuZ2luZS5zY2VuZS5hZGRPYmplY3QocGFyZW50T2JqZWN0KTtcbiAgICAgICAgb2JqLm5hbWUgPSBwcmVmYWJOYW1lO1xuICAgICAgICBvYmouc2NhbGVMb2NhbChwcmVmYWIuZ2V0U2NhbGluZ0xvY2FsKCkpO1xuICAgICAgICBvYmouc2V0VHJhbnNmb3JtTG9jYWwocHJlZmFiLmdldFRyYW5zZm9ybUxvY2FsKCkpO1xuICAgICAgICB2YXIgcHJlZmFiTWVzaCA9IHByZWZhYi5nZXRDb21wb25lbnQoTWVzaENvbXBvbmVudCk7XG4gICAgICAgIGlmIChwcmVmYWJNZXNoKSB7XG4gICAgICAgICAgICBsZXQgbmV3TWVzaCA9IG9iai5hZGRDb21wb25lbnQoTWVzaENvbXBvbmVudCk7XG4gICAgICAgICAgICBpZiAoIW5ld01lc2gpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwibWVzaCBjb21wb25lbnQgY291bGQgbm90IGJlIGFkZGVkIHRvIG9iamVjdFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdNZXNoLm1lc2ggPSBwcmVmYWJNZXNoLm1lc2g7XG4gICAgICAgICAgICBuZXdNZXNoLm1hdGVyaWFsID0gcHJlZmFiTWVzaC5tYXRlcmlhbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJlZmFiQ29sbGlzaW9uID0gcHJlZmFiLmdldENvbXBvbmVudChDb2xsaXNpb25Db21wb25lbnQpO1xuICAgICAgICBpZiAocHJlZmFiQ29sbGlzaW9uKSB7XG4gICAgICAgICAgICBsZXQgbmV3Q29sbGlzaW9uID0gb2JqLmFkZENvbXBvbmVudChDb2xsaXNpb25Db21wb25lbnQpO1xuICAgICAgICAgICAgaWYgKCFuZXdDb2xsaXNpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiY29sbGlzaW9uIGNvbXBvbmVudCBjb3VsZCBub3QgYmUgYWRkZWQgdG8gb2JqZWN0XCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0NvbGxpc2lvbi5jb2xsaWRlciA9IHByZWZhYkNvbGxpc2lvbi5jb2xsaWRlcjtcbiAgICAgICAgICAgIG5ld0NvbGxpc2lvbi5leHRlbnRzID0gcHJlZmFiQ29sbGlzaW9uLmV4dGVudHM7XG4gICAgICAgICAgICBuZXdDb2xsaXNpb24uZ3JvdXAgPSBwcmVmYWJDb2xsaXNpb24uZ3JvdXA7XG4gICAgICAgIH1cbiAgICAgICAgb2JqLnNldERpcnR5KCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxufVxuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qc1wiO1xuY29uc3QgaGFuZGVkbmVzcyA9IFsnbGVmdCcsICdyaWdodCddO1xuZXhwb3J0IGNsYXNzIFNob290QmFzZSBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3Nob290LWJhc2UnO1xuICAgIGhhcHRpY3MgPSB0cnVlO1xuICAgIGhhbmRlZG5lc3MgPSAwO1xuICAgIGluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQoKHNlc3Npb24pID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxpemVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0JywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKGUuaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PT0gaGFuZGVkbmVzc1t0aGlzLmhhbmRlZG5lc3NdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhcHRpY3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHVsc2UoZS5pbnB1dFNvdXJjZS5nYW1lcGFkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB0b2RvIHBhc3MgY3VycmVudCBwb3NpdGlvbiBhbmQgcm90YXRpb24gdG8gc2hvb3RcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG9vdCh0aGlzLm9iamVjdC5nZXRQb3NpdGlvbldvcmxkKCksIHRoaXMub2JqZWN0LmdldFJvdGF0aW9uV29ybGQoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHB1bHNlKGdhbWVwYWQpIHtcbiAgICAgICAgdmFyIGFjdHVhdG9yO1xuICAgICAgICBpZiAoIWdhbWVwYWQgfHwgIWdhbWVwYWQuaGFwdGljQWN0dWF0b3JzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWN0dWF0b3IgPSBnYW1lcGFkLmhhcHRpY0FjdHVhdG9yc1swXTtcbiAgICAgICAgaWYgKCFhY3R1YXRvcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgYWN0dWF0b3IucHVsc2UoMSwgMTAwKTtcbiAgICB9XG4gICAgc2hvb3QodHJhbnNmb3JtLCByb3RhdGlvbikgeyB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5ib29sKHRydWUpXG5dLCBTaG9vdEJhc2UucHJvdG90eXBlLCBcImhhcHRpY3NcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LmVudW0oWydMZWZ0JywgJ1JpZ2h0J10pXG5dLCBTaG9vdEJhc2UucHJvdG90eXBlLCBcImhhbmRlZG5lc3NcIiwgdm9pZCAwKTtcbjtcbiIsICIvKipcbiAqIENvbW1vbiB1dGlsaXRpZXNcbiAqIEBtb2R1bGUgZ2xNYXRyaXhcbiAqL1xuLy8gQ29uZmlndXJhdGlvbiBDb25zdGFudHNcbmV4cG9ydCB2YXIgRVBTSUxPTiA9IDAuMDAwMDAxO1xuZXhwb3J0IHZhciBBUlJBWV9UWVBFID0gdHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBGbG9hdDMyQXJyYXkgOiBBcnJheTtcbmV4cG9ydCB2YXIgUkFORE9NID0gTWF0aC5yYW5kb207XG4vKipcbiAqIFNldHMgdGhlIHR5cGUgb2YgYXJyYXkgdXNlZCB3aGVuIGNyZWF0aW5nIG5ldyB2ZWN0b3JzIGFuZCBtYXRyaWNlc1xuICpcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5Q29uc3RydWN0b3IgfCBBcnJheUNvbnN0cnVjdG9yfSB0eXBlIEFycmF5IHR5cGUsIHN1Y2ggYXMgRmxvYXQzMkFycmF5IG9yIEFycmF5XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldE1hdHJpeEFycmF5VHlwZSh0eXBlKSB7XG4gIEFSUkFZX1RZUEUgPSB0eXBlO1xufVxudmFyIGRlZ3JlZSA9IE1hdGguUEkgLyAxODA7XG4vKipcbiAqIENvbnZlcnQgRGVncmVlIFRvIFJhZGlhblxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIEFuZ2xlIGluIERlZ3JlZXNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9SYWRpYW4oYSkge1xuICByZXR1cm4gYSAqIGRlZ3JlZTtcbn1cbi8qKlxuICogVGVzdHMgd2hldGhlciBvciBub3QgdGhlIGFyZ3VtZW50cyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgdmFsdWUsIHdpdGhpbiBhbiBhYnNvbHV0ZVxuICogb3IgcmVsYXRpdmUgdG9sZXJhbmNlIG9mIGdsTWF0cml4LkVQU0lMT04gKGFuIGFic29sdXRlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciB2YWx1ZXMgbGVzc1xuICogdGhhbiBvciBlcXVhbCB0byAxLjAsIGFuZCBhIHJlbGF0aXZlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciBsYXJnZXIgdmFsdWVzKVxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIFRoZSBmaXJzdCBudW1iZXIgdG8gdGVzdC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBiIFRoZSBzZWNvbmQgbnVtYmVyIHRvIHRlc3QuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbnVtYmVycyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpIDw9IEVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEpLCBNYXRoLmFicyhiKSk7XG59XG5pZiAoIU1hdGguaHlwb3QpIE1hdGguaHlwb3QgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB5ID0gMCxcbiAgICAgIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICB5ICs9IGFyZ3VtZW50c1tpXSAqIGFyZ3VtZW50c1tpXTtcbiAgfVxuXG4gIHJldHVybiBNYXRoLnNxcnQoeSk7XG59OyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogM3gzIE1hdHJpeFxuICogQG1vZHVsZSBtYXQzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDNcbiAqXG4gKiBAcmV0dXJucyB7bWF0M30gYSBuZXcgM3gzIG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgICBvdXRbNV0gPSAwO1xuICAgIG91dFs2XSA9IDA7XG4gICAgb3V0WzddID0gMDtcbiAgfVxuXG4gIG91dFswXSA9IDE7XG4gIG91dFs0XSA9IDE7XG4gIG91dFs4XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcGllcyB0aGUgdXBwZXItbGVmdCAzeDMgdmFsdWVzIGludG8gdGhlIGdpdmVuIG1hdDMuXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyAzeDMgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSAgIHRoZSBzb3VyY2UgNHg0IG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0NChvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVs0XTtcbiAgb3V0WzRdID0gYVs1XTtcbiAgb3V0WzVdID0gYVs2XTtcbiAgb3V0WzZdID0gYVs4XTtcbiAgb3V0WzddID0gYVs5XTtcbiAgb3V0WzhdID0gYVsxMF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWF0MyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIG1hdHJpeCB0byBjbG9uZVxuICogQHJldHVybnMge21hdDN9IGEgbmV3IDN4MyBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBtYXQzIHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG1hdDMgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA1KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA2KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA3KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA4KVxuICogQHJldHVybnMge21hdDN9IEEgbmV3IG1hdDNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMTAsIG0xMSwgbTEyLCBtMjAsIG0yMSwgbTIyKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTEwO1xuICBvdXRbNF0gPSBtMTE7XG4gIG91dFs1XSA9IG0xMjtcbiAgb3V0WzZdID0gbTIwO1xuICBvdXRbN10gPSBtMjE7XG4gIG91dFs4XSA9IG0yMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgbWF0MyB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgbTAwLCBtMDEsIG0wMiwgbTEwLCBtMTEsIG0xMiwgbTIwLCBtMjEsIG0yMikge1xuICBvdXRbMF0gPSBtMDA7XG4gIG91dFsxXSA9IG0wMTtcbiAgb3V0WzJdID0gbTAyO1xuICBvdXRbM10gPSBtMTA7XG4gIG91dFs0XSA9IG0xMTtcbiAgb3V0WzVdID0gbTEyO1xuICBvdXRbNl0gPSBtMjA7XG4gIG91dFs3XSA9IG0yMTtcbiAgb3V0WzhdID0gbTIyO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBtYXQzIHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNwb3NlIHRoZSB2YWx1ZXMgb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsIGEpIHtcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xuICBpZiAob3V0ID09PSBhKSB7XG4gICAgdmFyIGEwMSA9IGFbMV0sXG4gICAgICAgIGEwMiA9IGFbMl0sXG4gICAgICAgIGExMiA9IGFbNV07XG4gICAgb3V0WzFdID0gYVszXTtcbiAgICBvdXRbMl0gPSBhWzZdO1xuICAgIG91dFszXSA9IGEwMTtcbiAgICBvdXRbNV0gPSBhWzddO1xuICAgIG91dFs2XSA9IGEwMjtcbiAgICBvdXRbN10gPSBhMTI7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzNdO1xuICAgIG91dFsyXSA9IGFbNl07XG4gICAgb3V0WzNdID0gYVsxXTtcbiAgICBvdXRbNF0gPSBhWzRdO1xuICAgIG91dFs1XSA9IGFbN107XG4gICAgb3V0WzZdID0gYVsyXTtcbiAgICBvdXRbN10gPSBhWzVdO1xuICAgIG91dFs4XSA9IGFbOF07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBJbnZlcnRzIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl07XG4gIHZhciBhMTAgPSBhWzNdLFxuICAgICAgYTExID0gYVs0XSxcbiAgICAgIGExMiA9IGFbNV07XG4gIHZhciBhMjAgPSBhWzZdLFxuICAgICAgYTIxID0gYVs3XSxcbiAgICAgIGEyMiA9IGFbOF07XG4gIHZhciBiMDEgPSBhMjIgKiBhMTEgLSBhMTIgKiBhMjE7XG4gIHZhciBiMTEgPSAtYTIyICogYTEwICsgYTEyICogYTIwO1xuICB2YXIgYjIxID0gYTIxICogYTEwIC0gYTExICogYTIwOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgdmFyIGRldCA9IGEwMCAqIGIwMSArIGEwMSAqIGIxMSArIGEwMiAqIGIyMTtcblxuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZGV0ID0gMS4wIC8gZGV0O1xuICBvdXRbMF0gPSBiMDEgKiBkZXQ7XG4gIG91dFsxXSA9ICgtYTIyICogYTAxICsgYTAyICogYTIxKSAqIGRldDtcbiAgb3V0WzJdID0gKGExMiAqIGEwMSAtIGEwMiAqIGExMSkgKiBkZXQ7XG4gIG91dFszXSA9IGIxMSAqIGRldDtcbiAgb3V0WzRdID0gKGEyMiAqIGEwMCAtIGEwMiAqIGEyMCkgKiBkZXQ7XG4gIG91dFs1XSA9ICgtYTEyICogYTAwICsgYTAyICogYTEwKSAqIGRldDtcbiAgb3V0WzZdID0gYjIxICogZGV0O1xuICBvdXRbN10gPSAoLWEyMSAqIGEwMCArIGEwMSAqIGEyMCkgKiBkZXQ7XG4gIG91dFs4XSA9IChhMTEgKiBhMDAgLSBhMDEgKiBhMTApICogZGV0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRqb2ludChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXTtcbiAgdmFyIGExMCA9IGFbM10sXG4gICAgICBhMTEgPSBhWzRdLFxuICAgICAgYTEyID0gYVs1XTtcbiAgdmFyIGEyMCA9IGFbNl0sXG4gICAgICBhMjEgPSBhWzddLFxuICAgICAgYTIyID0gYVs4XTtcbiAgb3V0WzBdID0gYTExICogYTIyIC0gYTEyICogYTIxO1xuICBvdXRbMV0gPSBhMDIgKiBhMjEgLSBhMDEgKiBhMjI7XG4gIG91dFsyXSA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgb3V0WzNdID0gYTEyICogYTIwIC0gYTEwICogYTIyO1xuICBvdXRbNF0gPSBhMDAgKiBhMjIgLSBhMDIgKiBhMjA7XG4gIG91dFs1XSA9IGEwMiAqIGExMCAtIGEwMCAqIGExMjtcbiAgb3V0WzZdID0gYTEwICogYTIxIC0gYTExICogYTIwO1xuICBvdXRbN10gPSBhMDEgKiBhMjAgLSBhMDAgKiBhMjE7XG4gIG91dFs4XSA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdO1xuICB2YXIgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdO1xuICB2YXIgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdO1xuICByZXR1cm4gYTAwICogKGEyMiAqIGExMSAtIGExMiAqIGEyMSkgKyBhMDEgKiAoLWEyMiAqIGExMCArIGExMiAqIGEyMCkgKyBhMDIgKiAoYTIxICogYTEwIC0gYTExICogYTIwKTtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gbWF0MydzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl07XG4gIHZhciBhMTAgPSBhWzNdLFxuICAgICAgYTExID0gYVs0XSxcbiAgICAgIGExMiA9IGFbNV07XG4gIHZhciBhMjAgPSBhWzZdLFxuICAgICAgYTIxID0gYVs3XSxcbiAgICAgIGEyMiA9IGFbOF07XG4gIHZhciBiMDAgPSBiWzBdLFxuICAgICAgYjAxID0gYlsxXSxcbiAgICAgIGIwMiA9IGJbMl07XG4gIHZhciBiMTAgPSBiWzNdLFxuICAgICAgYjExID0gYls0XSxcbiAgICAgIGIxMiA9IGJbNV07XG4gIHZhciBiMjAgPSBiWzZdLFxuICAgICAgYjIxID0gYls3XSxcbiAgICAgIGIyMiA9IGJbOF07XG4gIG91dFswXSA9IGIwMCAqIGEwMCArIGIwMSAqIGExMCArIGIwMiAqIGEyMDtcbiAgb3V0WzFdID0gYjAwICogYTAxICsgYjAxICogYTExICsgYjAyICogYTIxO1xuICBvdXRbMl0gPSBiMDAgKiBhMDIgKyBiMDEgKiBhMTIgKyBiMDIgKiBhMjI7XG4gIG91dFszXSA9IGIxMCAqIGEwMCArIGIxMSAqIGExMCArIGIxMiAqIGEyMDtcbiAgb3V0WzRdID0gYjEwICogYTAxICsgYjExICogYTExICsgYjEyICogYTIxO1xuICBvdXRbNV0gPSBiMTAgKiBhMDIgKyBiMTEgKiBhMTIgKyBiMTIgKiBhMjI7XG4gIG91dFs2XSA9IGIyMCAqIGEwMCArIGIyMSAqIGExMCArIGIyMiAqIGEyMDtcbiAgb3V0WzddID0gYjIwICogYTAxICsgYjIxICogYTExICsgYjIyICogYTIxO1xuICBvdXRbOF0gPSBiMjAgKiBhMDIgKyBiMjEgKiBhMTIgKyBiMjIgKiBhMjI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zbGF0ZSBhIG1hdDMgYnkgdGhlIGdpdmVuIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHRyYW5zbGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUob3V0LCBhLCB2KSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMTAgPSBhWzNdLFxuICAgICAgYTExID0gYVs0XSxcbiAgICAgIGExMiA9IGFbNV0sXG4gICAgICBhMjAgPSBhWzZdLFxuICAgICAgYTIxID0gYVs3XSxcbiAgICAgIGEyMiA9IGFbOF0sXG4gICAgICB4ID0gdlswXSxcbiAgICAgIHkgPSB2WzFdO1xuICBvdXRbMF0gPSBhMDA7XG4gIG91dFsxXSA9IGEwMTtcbiAgb3V0WzJdID0gYTAyO1xuICBvdXRbM10gPSBhMTA7XG4gIG91dFs0XSA9IGExMTtcbiAgb3V0WzVdID0gYTEyO1xuICBvdXRbNl0gPSB4ICogYTAwICsgeSAqIGExMCArIGEyMDtcbiAgb3V0WzddID0geCAqIGEwMSArIHkgKiBhMTEgKyBhMjE7XG4gIG91dFs4XSA9IHggKiBhMDIgKyB5ICogYTEyICsgYTIyO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0MyBieSB0aGUgZ2l2ZW4gYW5nbGVcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIHJhZCkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdLFxuICAgICAgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdLFxuICAgICAgcyA9IE1hdGguc2luKHJhZCksXG4gICAgICBjID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYyAqIGEwMCArIHMgKiBhMTA7XG4gIG91dFsxXSA9IGMgKiBhMDEgKyBzICogYTExO1xuICBvdXRbMl0gPSBjICogYTAyICsgcyAqIGExMjtcbiAgb3V0WzNdID0gYyAqIGExMCAtIHMgKiBhMDA7XG4gIG91dFs0XSA9IGMgKiBhMTEgLSBzICogYTAxO1xuICBvdXRbNV0gPSBjICogYTEyIC0gcyAqIGEwMjtcbiAgb3V0WzZdID0gYTIwO1xuICBvdXRbN10gPSBhMjE7XG4gIG91dFs4XSA9IGEyMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIHRoZSBtYXQzIGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMyXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiB0aGUgdmVjMiB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV07XG4gIG91dFswXSA9IHggKiBhWzBdO1xuICBvdXRbMV0gPSB4ICogYVsxXTtcbiAgb3V0WzJdID0geCAqIGFbMl07XG4gIG91dFszXSA9IHkgKiBhWzNdO1xuICBvdXRbNF0gPSB5ICogYVs0XTtcbiAgb3V0WzVdID0geSAqIGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciB0cmFuc2xhdGlvblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0My50cmFuc2xhdGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAxO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSB2WzBdO1xuICBvdXRbN10gPSB2WzFdO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZVxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0My5yb3RhdGUoZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpLFxuICAgICAgYyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IHM7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IC1zO1xuICBvdXRbNF0gPSBjO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3Igc2NhbGluZ1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0My5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCwgdikge1xuICBvdXRbMF0gPSB2WzBdO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB2WzFdO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3BpZXMgdGhlIHZhbHVlcyBmcm9tIGEgbWF0MmQgaW50byBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJkfSBhIHRoZSBtYXRyaXggdG8gY29weVxuICogQHJldHVybnMge21hdDN9IG91dFxuICoqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbU1hdDJkKG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSBhWzJdO1xuICBvdXRbNF0gPSBhWzNdO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSBhWzRdO1xuICBvdXRbN10gPSBhWzVdO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgM3gzIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cbiAqXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHl4ID0geSAqIHgyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB6eCA9IHogKiB4MjtcbiAgdmFyIHp5ID0geiAqIHkyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSB5eSAtIHp6O1xuICBvdXRbM10gPSB5eCAtIHd6O1xuICBvdXRbNl0gPSB6eCArIHd5O1xuICBvdXRbMV0gPSB5eCArIHd6O1xuICBvdXRbNF0gPSAxIC0geHggLSB6ejtcbiAgb3V0WzddID0genkgLSB3eDtcbiAgb3V0WzJdID0genggLSB3eTtcbiAgb3V0WzVdID0genkgKyB3eDtcbiAgb3V0WzhdID0gMSAtIHh4IC0geXk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgYSAzeDMgbm9ybWFsIG1hdHJpeCAodHJhbnNwb3NlIGludmVyc2UpIGZyb20gdGhlIDR4NCBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBNYXQ0IHRvIGRlcml2ZSB0aGUgbm9ybWFsIG1hdHJpeCBmcm9tXG4gKlxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxGcm9tTWF0NChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcblxuICB2YXIgZGV0ID0gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xuXG4gIGlmICghZGV0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBkZXQgPSAxLjAgLyBkZXQ7XG4gIG91dFswXSA9IChhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDkpICogZGV0O1xuICBvdXRbMV0gPSAoYTEyICogYjA4IC0gYTEwICogYjExIC0gYTEzICogYjA3KSAqIGRldDtcbiAgb3V0WzJdID0gKGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNikgKiBkZXQ7XG4gIG91dFszXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xuICBvdXRbNF0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcbiAgb3V0WzVdID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gIG91dFs2XSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xuICBvdXRbN10gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcbiAgb3V0WzhdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIDJEIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB5b3VyIGdsIGNvbnRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IG9mIGdsIGNvbnRleHRcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdGlvbihvdXQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgb3V0WzBdID0gMiAvIHdpZHRoO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAtMiAvIGhlaWdodDtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gLTE7XG4gIG91dFs3XSA9IDE7XG4gIG91dFs4XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgbWF0cml4IHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwibWF0MyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcbiAgcmV0dXJuIE1hdGguaHlwb3QoYVswXSwgYVsxXSwgYVsyXSwgYVszXSwgYVs0XSwgYVs1XSwgYVs2XSwgYVs3XSwgYVs4XSk7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDMnc1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIG91dFs0XSA9IGFbNF0gLSBiWzRdO1xuICBvdXRbNV0gPSBhWzVdIC0gYls1XTtcbiAgb3V0WzZdID0gYVs2XSAtIGJbNl07XG4gIG91dFs3XSA9IGFbN10gLSBiWzddO1xuICBvdXRbOF0gPSBhWzhdIC0gYls4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgb3V0WzhdID0gYVs4XSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDMncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiJ3MgZWxlbWVudHMgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdICogc2NhbGU7XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdICogc2NhbGU7XG4gIG91dFs3XSA9IGFbN10gKyBiWzddICogc2NhbGU7XG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XSAmJiBhWzhdID09PSBiWzhdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdLFxuICAgICAgYTQgPSBhWzRdLFxuICAgICAgYTUgPSBhWzVdLFxuICAgICAgYTYgPSBhWzZdLFxuICAgICAgYTcgPSBhWzddLFxuICAgICAgYTggPSBhWzhdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdLFxuICAgICAgYjQgPSBiWzRdLFxuICAgICAgYjUgPSBiWzVdLFxuICAgICAgYjYgPSBiWzZdLFxuICAgICAgYjcgPSBiWzddLFxuICAgICAgYjggPSBiWzhdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpICYmIE1hdGguYWJzKGE0IC0gYjQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE0KSwgTWF0aC5hYnMoYjQpKSAmJiBNYXRoLmFicyhhNSAtIGI1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNSksIE1hdGguYWJzKGI1KSkgJiYgTWF0aC5hYnMoYTYgLSBiNikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTYpLCBNYXRoLmFicyhiNikpICYmIE1hdGguYWJzKGE3IC0gYjcpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE3KSwgTWF0aC5hYnMoYjcpKSAmJiBNYXRoLmFicyhhOCAtIGI4KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOCksIE1hdGguYWJzKGI4KSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0My5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0My5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiA0eDQgTWF0cml4PGJyPkZvcm1hdDogY29sdW1uLW1ham9yLCB3aGVuIHR5cGVkIG91dCBpdCBsb29rcyBsaWtlIHJvdy1tYWpvcjxicj5UaGUgbWF0cmljZXMgYXJlIGJlaW5nIHBvc3QgbXVsdGlwbGllZC5cbiAqIEBtb2R1bGUgbWF0NFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQ0XG4gKlxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgICBvdXRbM10gPSAwO1xuICAgIG91dFs0XSA9IDA7XG4gICAgb3V0WzZdID0gMDtcbiAgICBvdXRbN10gPSAwO1xuICAgIG91dFs4XSA9IDA7XG4gICAgb3V0WzldID0gMDtcbiAgICBvdXRbMTFdID0gMDtcbiAgICBvdXRbMTJdID0gMDtcbiAgICBvdXRbMTNdID0gMDtcbiAgICBvdXRbMTRdID0gMDtcbiAgfVxuXG4gIG91dFswXSA9IDE7XG4gIG91dFs1XSA9IDE7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgbWF0cml4XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgbWF0cml4IHRvIGNsb25lXG4gKiBAcmV0dXJucyB7bWF0NH0gYSBuZXcgNHg0IG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBtYXQ0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgb3V0WzldID0gYVs5XTtcbiAgb3V0WzEwXSA9IGFbMTBdO1xuICBvdXRbMTFdID0gYVsxMV07XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG1hdDQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA1KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMyBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAzIHBvc2l0aW9uIChpbmRleCA3KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA4KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjMgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMSBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzIgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxuICogQHJldHVybnMge21hdDR9IEEgbmV3IG1hdDRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTAzO1xuICBvdXRbNF0gPSBtMTA7XG4gIG91dFs1XSA9IG0xMTtcbiAgb3V0WzZdID0gbTEyO1xuICBvdXRbN10gPSBtMTM7XG4gIG91dFs4XSA9IG0yMDtcbiAgb3V0WzldID0gbTIxO1xuICBvdXRbMTBdID0gbTIyO1xuICBvdXRbMTFdID0gbTIzO1xuICBvdXRbMTJdID0gbTMwO1xuICBvdXRbMTNdID0gbTMxO1xuICBvdXRbMTRdID0gbTMyO1xuICBvdXRbMTVdID0gbTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQ0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA1KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMyBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAzIHBvc2l0aW9uIChpbmRleCA3KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA4KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjMgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMSBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzIgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCBtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTAzO1xuICBvdXRbNF0gPSBtMTA7XG4gIG91dFs1XSA9IG0xMTtcbiAgb3V0WzZdID0gbTEyO1xuICBvdXRbN10gPSBtMTM7XG4gIG91dFs4XSA9IG0yMDtcbiAgb3V0WzldID0gbTIxO1xuICBvdXRbMTBdID0gbTIyO1xuICBvdXRbMTFdID0gbTIzO1xuICBvdXRbMTJdID0gbTMwO1xuICBvdXRbMTNdID0gbTMxO1xuICBvdXRbMTRdID0gbTMyO1xuICBvdXRbMTVdID0gbTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBtYXQ0IHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNwb3NlIHRoZSB2YWx1ZXMgb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsIGEpIHtcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xuICBpZiAob3V0ID09PSBhKSB7XG4gICAgdmFyIGEwMSA9IGFbMV0sXG4gICAgICAgIGEwMiA9IGFbMl0sXG4gICAgICAgIGEwMyA9IGFbM107XG4gICAgdmFyIGExMiA9IGFbNl0sXG4gICAgICAgIGExMyA9IGFbN107XG4gICAgdmFyIGEyMyA9IGFbMTFdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhMDE7XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhMDI7XG4gICAgb3V0WzldID0gYTEyO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYTAzO1xuICAgIG91dFsxM10gPSBhMTM7XG4gICAgb3V0WzE0XSA9IGEyMztcbiAgfSBlbHNlIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhWzFdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhWzJdO1xuICAgIG91dFs5XSA9IGFbNl07XG4gICAgb3V0WzEwXSA9IGFbMTBdO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYVszXTtcbiAgICBvdXRbMTNdID0gYVs3XTtcbiAgICBvdXRbMTRdID0gYVsxMV07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogSW52ZXJ0cyBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHZhciBkZXQgPSBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XG5cbiAgaWYgKCFkZXQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGRldCA9IDEuMCAvIGRldDtcbiAgb3V0WzBdID0gKGExMSAqIGIxMSAtIGExMiAqIGIxMCArIGExMyAqIGIwOSkgKiBkZXQ7XG4gIG91dFsxXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xuICBvdXRbMl0gPSAoYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzKSAqIGRldDtcbiAgb3V0WzNdID0gKGEyMiAqIGIwNCAtIGEyMSAqIGIwNSAtIGEyMyAqIGIwMykgKiBkZXQ7XG4gIG91dFs0XSA9IChhMTIgKiBiMDggLSBhMTAgKiBiMTEgLSBhMTMgKiBiMDcpICogZGV0O1xuICBvdXRbNV0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcbiAgb3V0WzZdID0gKGEzMiAqIGIwMiAtIGEzMCAqIGIwNSAtIGEzMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs3XSA9IChhMjAgKiBiMDUgLSBhMjIgKiBiMDIgKyBhMjMgKiBiMDEpICogZGV0O1xuICBvdXRbOF0gPSAoYTEwICogYjEwIC0gYTExICogYjA4ICsgYTEzICogYjA2KSAqIGRldDtcbiAgb3V0WzldID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gIG91dFsxMF0gPSAoYTMwICogYjA0IC0gYTMxICogYjAyICsgYTMzICogYjAwKSAqIGRldDtcbiAgb3V0WzExXSA9IChhMjEgKiBiMDIgLSBhMjAgKiBiMDQgLSBhMjMgKiBiMDApICogZGV0O1xuICBvdXRbMTJdID0gKGExMSAqIGIwNyAtIGExMCAqIGIwOSAtIGExMiAqIGIwNikgKiBkZXQ7XG4gIG91dFsxM10gPSAoYTAwICogYjA5IC0gYTAxICogYjA3ICsgYTAyICogYjA2KSAqIGRldDtcbiAgb3V0WzE0XSA9IChhMzEgKiBiMDEgLSBhMzAgKiBiMDMgLSBhMzIgKiBiMDApICogZGV0O1xuICBvdXRbMTVdID0gKGEyMCAqIGIwMyAtIGEyMSAqIGIwMSArIGEyMiAqIGIwMCkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGFkanVnYXRlIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGpvaW50KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgb3V0WzBdID0gYTExICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMSAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpO1xuICBvdXRbMV0gPSAtKGEwMSAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIxICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzEgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSk7XG4gIG91dFsyXSA9IGEwMSAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpIC0gYTExICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzEgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKTtcbiAgb3V0WzNdID0gLShhMDEgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSAtIGExMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpICsgYTIxICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xuICBvdXRbNF0gPSAtKGExMCAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIwICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgKyBhMzAgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSk7XG4gIG91dFs1XSA9IGEwMCAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIwICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzAgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKTtcbiAgb3V0WzZdID0gLShhMDAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSAtIGExMCAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMwICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xuICBvdXRbN10gPSBhMDAgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSAtIGExMCAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpICsgYTIwICogKGEwMiAqIGExMyAtIGEwMyAqIGExMik7XG4gIG91dFs4XSA9IGExMCAqIChhMjEgKiBhMzMgLSBhMjMgKiBhMzEpIC0gYTIwICogKGExMSAqIGEzMyAtIGExMyAqIGEzMSkgKyBhMzAgKiAoYTExICogYTIzIC0gYTEzICogYTIxKTtcbiAgb3V0WzldID0gLShhMDAgKiAoYTIxICogYTMzIC0gYTIzICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMyAtIGEwMyAqIGEyMSkpO1xuICBvdXRbMTBdID0gYTAwICogKGExMSAqIGEzMyAtIGExMyAqIGEzMSkgLSBhMTAgKiAoYTAxICogYTMzIC0gYTAzICogYTMxKSArIGEzMCAqIChhMDEgKiBhMTMgLSBhMDMgKiBhMTEpO1xuICBvdXRbMTFdID0gLShhMDAgKiAoYTExICogYTIzIC0gYTEzICogYTIxKSAtIGExMCAqIChhMDEgKiBhMjMgLSBhMDMgKiBhMjEpICsgYTIwICogKGEwMSAqIGExMyAtIGEwMyAqIGExMSkpO1xuICBvdXRbMTJdID0gLShhMTAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMTEgKiBhMzIgLSBhMTIgKiBhMzEpICsgYTMwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkpO1xuICBvdXRbMTNdID0gYTAwICogKGEyMSAqIGEzMiAtIGEyMiAqIGEzMSkgLSBhMjAgKiAoYTAxICogYTMyIC0gYTAyICogYTMxKSArIGEzMCAqIChhMDEgKiBhMjIgLSBhMDIgKiBhMjEpO1xuICBvdXRbMTRdID0gLShhMDAgKiAoYTExICogYTMyIC0gYTEyICogYTMxKSAtIGExMCAqIChhMDEgKiBhMzIgLSBhMDIgKiBhMzEpICsgYTMwICogKGEwMSAqIGExMiAtIGEwMiAqIGExMSkpO1xuICBvdXRbMTVdID0gYTAwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkgLSBhMTAgKiAoYTAxICogYTIyIC0gYTAyICogYTIxKSArIGEyMCAqIChhMDEgKiBhMTIgLSBhMDIgKiBhMTEpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkZXRlcm1pbmFudCBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge051bWJlcn0gZGV0ZXJtaW5hbnQgb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgcmV0dXJuIGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gbWF0NHNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07IC8vIENhY2hlIG9ubHkgdGhlIGN1cnJlbnQgbGluZSBvZiB0aGUgc2Vjb25kIG1hdHJpeFxuXG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIG91dFswXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbMV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzJdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFszXSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbNF07XG4gIGIxID0gYls1XTtcbiAgYjIgPSBiWzZdO1xuICBiMyA9IGJbN107XG4gIG91dFs0XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbNV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzZdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFs3XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbOF07XG4gIGIxID0gYls5XTtcbiAgYjIgPSBiWzEwXTtcbiAgYjMgPSBiWzExXTtcbiAgb3V0WzhdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFs5XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMTBdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFsxMV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzEyXTtcbiAgYjEgPSBiWzEzXTtcbiAgYjIgPSBiWzE0XTtcbiAgYjMgPSBiWzE1XTtcbiAgb3V0WzEyXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbMTNdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsxNF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzE1XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2xhdGUgYSBtYXQ0IGJ5IHRoZSBnaXZlbiB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byB0cmFuc2xhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXSxcbiAgICAgIHogPSB2WzJdO1xuICB2YXIgYTAwLCBhMDEsIGEwMiwgYTAzO1xuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xuXG4gIGlmIChhID09PSBvdXQpIHtcbiAgICBvdXRbMTJdID0gYVswXSAqIHggKyBhWzRdICogeSArIGFbOF0gKiB6ICsgYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMV0gKiB4ICsgYVs1XSAqIHkgKyBhWzldICogeiArIGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzJdICogeCArIGFbNl0gKiB5ICsgYVsxMF0gKiB6ICsgYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbM10gKiB4ICsgYVs3XSAqIHkgKyBhWzExXSAqIHogKyBhWzE1XTtcbiAgfSBlbHNlIHtcbiAgICBhMDAgPSBhWzBdO1xuICAgIGEwMSA9IGFbMV07XG4gICAgYTAyID0gYVsyXTtcbiAgICBhMDMgPSBhWzNdO1xuICAgIGExMCA9IGFbNF07XG4gICAgYTExID0gYVs1XTtcbiAgICBhMTIgPSBhWzZdO1xuICAgIGExMyA9IGFbN107XG4gICAgYTIwID0gYVs4XTtcbiAgICBhMjEgPSBhWzldO1xuICAgIGEyMiA9IGFbMTBdO1xuICAgIGEyMyA9IGFbMTFdO1xuICAgIG91dFswXSA9IGEwMDtcbiAgICBvdXRbMV0gPSBhMDE7XG4gICAgb3V0WzJdID0gYTAyO1xuICAgIG91dFszXSA9IGEwMztcbiAgICBvdXRbNF0gPSBhMTA7XG4gICAgb3V0WzVdID0gYTExO1xuICAgIG91dFs2XSA9IGExMjtcbiAgICBvdXRbN10gPSBhMTM7XG4gICAgb3V0WzhdID0gYTIwO1xuICAgIG91dFs5XSA9IGEyMTtcbiAgICBvdXRbMTBdID0gYTIyO1xuICAgIG91dFsxMV0gPSBhMjM7XG4gICAgb3V0WzEyXSA9IGEwMCAqIHggKyBhMTAgKiB5ICsgYTIwICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhMDEgKiB4ICsgYTExICogeSArIGEyMSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYTAyICogeCArIGExMiAqIHkgKyBhMjIgKiB6ICsgYVsxNF07XG4gICAgb3V0WzE1XSA9IGEwMyAqIHggKyBhMTMgKiB5ICsgYTIzICogeiArIGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIHRoZSBtYXQ0IGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMzIG5vdCB1c2luZyB2ZWN0b3JpemF0aW9uXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHRoZSB2ZWMzIHRvIHNjYWxlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXSxcbiAgICAgIHogPSB2WzJdO1xuICBvdXRbMF0gPSBhWzBdICogeDtcbiAgb3V0WzFdID0gYVsxXSAqIHg7XG4gIG91dFsyXSA9IGFbMl0gKiB4O1xuICBvdXRbM10gPSBhWzNdICogeDtcbiAgb3V0WzRdID0gYVs0XSAqIHk7XG4gIG91dFs1XSA9IGFbNV0gKiB5O1xuICBvdXRbNl0gPSBhWzZdICogeTtcbiAgb3V0WzddID0gYVs3XSAqIHk7XG4gIG91dFs4XSA9IGFbOF0gKiB6O1xuICBvdXRbOV0gPSBhWzldICogejtcbiAgb3V0WzEwXSA9IGFbMTBdICogejtcbiAgb3V0WzExXSA9IGFbMTFdICogejtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0NCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBnaXZlbiBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUob3V0LCBhLCByYWQsIGF4aXMpIHtcbiAgdmFyIHggPSBheGlzWzBdLFxuICAgICAgeSA9IGF4aXNbMV0sXG4gICAgICB6ID0gYXhpc1syXTtcbiAgdmFyIGxlbiA9IE1hdGguaHlwb3QoeCwgeSwgeik7XG4gIHZhciBzLCBjLCB0O1xuICB2YXIgYTAwLCBhMDEsIGEwMiwgYTAzO1xuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xuICB2YXIgYjAwLCBiMDEsIGIwMjtcbiAgdmFyIGIxMCwgYjExLCBiMTI7XG4gIHZhciBiMjAsIGIyMSwgYjIyO1xuXG4gIGlmIChsZW4gPCBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZW4gPSAxIC8gbGVuO1xuICB4ICo9IGxlbjtcbiAgeSAqPSBsZW47XG4gIHogKj0gbGVuO1xuICBzID0gTWF0aC5zaW4ocmFkKTtcbiAgYyA9IE1hdGguY29zKHJhZCk7XG4gIHQgPSAxIC0gYztcbiAgYTAwID0gYVswXTtcbiAgYTAxID0gYVsxXTtcbiAgYTAyID0gYVsyXTtcbiAgYTAzID0gYVszXTtcbiAgYTEwID0gYVs0XTtcbiAgYTExID0gYVs1XTtcbiAgYTEyID0gYVs2XTtcbiAgYTEzID0gYVs3XTtcbiAgYTIwID0gYVs4XTtcbiAgYTIxID0gYVs5XTtcbiAgYTIyID0gYVsxMF07XG4gIGEyMyA9IGFbMTFdOyAvLyBDb25zdHJ1Y3QgdGhlIGVsZW1lbnRzIG9mIHRoZSByb3RhdGlvbiBtYXRyaXhcblxuICBiMDAgPSB4ICogeCAqIHQgKyBjO1xuICBiMDEgPSB5ICogeCAqIHQgKyB6ICogcztcbiAgYjAyID0geiAqIHggKiB0IC0geSAqIHM7XG4gIGIxMCA9IHggKiB5ICogdCAtIHogKiBzO1xuICBiMTEgPSB5ICogeSAqIHQgKyBjO1xuICBiMTIgPSB6ICogeSAqIHQgKyB4ICogcztcbiAgYjIwID0geCAqIHogKiB0ICsgeSAqIHM7XG4gIGIyMSA9IHkgKiB6ICogdCAtIHggKiBzO1xuICBiMjIgPSB6ICogeiAqIHQgKyBjOyAvLyBQZXJmb3JtIHJvdGF0aW9uLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGEwMCAqIGIwMCArIGExMCAqIGIwMSArIGEyMCAqIGIwMjtcbiAgb3V0WzFdID0gYTAxICogYjAwICsgYTExICogYjAxICsgYTIxICogYjAyO1xuICBvdXRbMl0gPSBhMDIgKiBiMDAgKyBhMTIgKiBiMDEgKyBhMjIgKiBiMDI7XG4gIG91dFszXSA9IGEwMyAqIGIwMCArIGExMyAqIGIwMSArIGEyMyAqIGIwMjtcbiAgb3V0WzRdID0gYTAwICogYjEwICsgYTEwICogYjExICsgYTIwICogYjEyO1xuICBvdXRbNV0gPSBhMDEgKiBiMTAgKyBhMTEgKiBiMTEgKyBhMjEgKiBiMTI7XG4gIG91dFs2XSA9IGEwMiAqIGIxMCArIGExMiAqIGIxMSArIGEyMiAqIGIxMjtcbiAgb3V0WzddID0gYTAzICogYjEwICsgYTEzICogYjExICsgYTIzICogYjEyO1xuICBvdXRbOF0gPSBhMDAgKiBiMjAgKyBhMTAgKiBiMjEgKyBhMjAgKiBiMjI7XG4gIG91dFs5XSA9IGEwMSAqIGIyMCArIGExMSAqIGIyMSArIGEyMSAqIGIyMjtcbiAgb3V0WzEwXSA9IGEwMiAqIGIyMCArIGExMiAqIGIyMSArIGEyMiAqIGIyMjtcbiAgb3V0WzExXSA9IGEwMyAqIGIyMCArIGExMyAqIGIyMSArIGEyMyAqIGIyMjtcblxuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgbGFzdCByb3dcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdO1xuICB2YXIgYTIxID0gYVs5XTtcbiAgdmFyIGEyMiA9IGFbMTBdO1xuICB2YXIgYTIzID0gYVsxMV07XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbNF0gPSBhMTAgKiBjICsgYTIwICogcztcbiAgb3V0WzVdID0gYTExICogYyArIGEyMSAqIHM7XG4gIG91dFs2XSA9IGExMiAqIGMgKyBhMjIgKiBzO1xuICBvdXRbN10gPSBhMTMgKiBjICsgYTIzICogcztcbiAgb3V0WzhdID0gYTIwICogYyAtIGExMCAqIHM7XG4gIG91dFs5XSA9IGEyMSAqIGMgLSBhMTEgKiBzO1xuICBvdXRbMTBdID0gYTIyICogYyAtIGExMiAqIHM7XG4gIG91dFsxMV0gPSBhMjMgKiBjIC0gYTEzICogcztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBZIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMDAgPSBhWzBdO1xuICB2YXIgYTAxID0gYVsxXTtcbiAgdmFyIGEwMiA9IGFbMl07XG4gIHZhciBhMDMgPSBhWzNdO1xuICB2YXIgYTIwID0gYVs4XTtcbiAgdmFyIGEyMSA9IGFbOV07XG4gIHZhciBhMjIgPSBhWzEwXTtcbiAgdmFyIGEyMyA9IGFbMTFdO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCByb3dzXG4gICAgb3V0WzRdID0gYVs0XTtcbiAgICBvdXRbNV0gPSBhWzVdO1xuICAgIG91dFs2XSA9IGFbNl07XG4gICAgb3V0WzddID0gYVs3XTtcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG5cbiAgb3V0WzBdID0gYTAwICogYyAtIGEyMCAqIHM7XG4gIG91dFsxXSA9IGEwMSAqIGMgLSBhMjEgKiBzO1xuICBvdXRbMl0gPSBhMDIgKiBjIC0gYTIyICogcztcbiAgb3V0WzNdID0gYTAzICogYyAtIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEwMCAqIHMgKyBhMjAgKiBjO1xuICBvdXRbOV0gPSBhMDEgKiBzICsgYTIxICogYztcbiAgb3V0WzEwXSA9IGEwMiAqIHMgKyBhMjIgKiBjO1xuICBvdXRbMTFdID0gYTAzICogcyArIGEyMyAqIGM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWiBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTAwID0gYVswXTtcbiAgdmFyIGEwMSA9IGFbMV07XG4gIHZhciBhMDIgPSBhWzJdO1xuICB2YXIgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzhdID0gYVs4XTtcbiAgICBvdXRbOV0gPSBhWzldO1xuICAgIG91dFsxMF0gPSBhWzEwXTtcbiAgICBvdXRbMTFdID0gYVsxMV07XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuXG4gIG91dFswXSA9IGEwMCAqIGMgKyBhMTAgKiBzO1xuICBvdXRbMV0gPSBhMDEgKiBjICsgYTExICogcztcbiAgb3V0WzJdID0gYTAyICogYyArIGExMiAqIHM7XG4gIG91dFszXSA9IGEwMyAqIGMgKyBhMTMgKiBzO1xuICBvdXRbNF0gPSBhMTAgKiBjIC0gYTAwICogcztcbiAgb3V0WzVdID0gYTExICogYyAtIGEwMSAqIHM7XG4gIG91dFs2XSA9IGExMiAqIGMgLSBhMDIgKiBzO1xuICBvdXRbN10gPSBhMTMgKiBjIC0gYTAzICogcztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVHJhbnNsYXRpb24ob3V0LCB2KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciBzY2FsaW5nXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgU2NhbGluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LCB2KSB7XG4gIG91dFswXSA9IHZbMF07XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IHZbMV07XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSB2WzJdO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIGdpdmVuIGFuZ2xlIGFyb3VuZCBhIGdpdmVuIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlKGRlc3QsIGRlc3QsIHJhZCwgYXhpcyk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7IC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0geCAqIHggKiB0ICsgYztcbiAgb3V0WzFdID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIG91dFsyXSA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4ICogeSAqIHQgLSB6ICogcztcbiAgb3V0WzVdID0geSAqIHkgKiB0ICsgYztcbiAgb3V0WzZdID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHggKiB6ICogdCArIHkgKiBzO1xuICBvdXRbOV0gPSB5ICogeiAqIHQgLSB4ICogcztcbiAgb3V0WzEwXSA9IHogKiB6ICogdCArIGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGVYKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVhSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGM7XG4gIG91dFs2XSA9IHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IC1zO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZVkoZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWVJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gLXM7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHM7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlWihkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21aUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAtcztcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiBhbmQgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIHEsIHYpIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgb3V0WzBdID0gMSAtICh5eSArIHp6KTtcbiAgb3V0WzFdID0geHkgKyB3ejtcbiAgb3V0WzJdID0geHogLSB3eTtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geHkgLSB3ejtcbiAgb3V0WzVdID0gMSAtICh4eCArIHp6KTtcbiAgb3V0WzZdID0geXogKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geHogKyB3eTtcbiAgb3V0WzldID0geXogLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSAoeHggKyB5eSk7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGZyb20gYSBkdWFsIHF1YXQuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgTWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7bWF0NH0gbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdDIob3V0LCBhKSB7XG4gIHZhciB0cmFuc2xhdGlvbiA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICB2YXIgYnggPSAtYVswXSxcbiAgICAgIGJ5ID0gLWFbMV0sXG4gICAgICBieiA9IC1hWzJdLFxuICAgICAgYncgPSBhWzNdLFxuICAgICAgYXggPSBhWzRdLFxuICAgICAgYXkgPSBhWzVdLFxuICAgICAgYXogPSBhWzZdLFxuICAgICAgYXcgPSBhWzddO1xuICB2YXIgbWFnbml0dWRlID0gYnggKiBieCArIGJ5ICogYnkgKyBieiAqIGJ6ICsgYncgKiBidzsgLy9Pbmx5IHNjYWxlIGlmIGl0IG1ha2VzIHNlbnNlXG5cbiAgaWYgKG1hZ25pdHVkZSA+IDApIHtcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDIgLyBtYWduaXR1ZGU7XG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMiAvIG1hZ25pdHVkZTtcbiAgfSBlbHNlIHtcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDI7XG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMjtcbiAgfVxuXG4gIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgYSwgdHJhbnNsYXRpb24pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cbiAqICBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGggZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sXG4gKiAgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlIHRoZSBzYW1lIGFzIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3JcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHRyYW5zbGF0aW9uIGNvbXBvbmVudFxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybiB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKG91dCwgbWF0KSB7XG4gIG91dFswXSA9IG1hdFsxMl07XG4gIG91dFsxXSA9IG1hdFsxM107XG4gIG91dFsyXSA9IG1hdFsxNF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVcbiAqICB3aXRoIGEgbm9ybWFsaXplZCBRdWF0ZXJuaW9uIHBhcmFtdGVyLCB0aGUgcmV0dXJuZWQgdmVjdG9yIHdpbGwgYmVcbiAqICB0aGUgc2FtZSBhcyB0aGUgc2NhbGluZyB2ZWN0b3JcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudFxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybiB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjYWxpbmcob3V0LCBtYXQpIHtcbiAgdmFyIG0xMSA9IG1hdFswXTtcbiAgdmFyIG0xMiA9IG1hdFsxXTtcbiAgdmFyIG0xMyA9IG1hdFsyXTtcbiAgdmFyIG0yMSA9IG1hdFs0XTtcbiAgdmFyIG0yMiA9IG1hdFs1XTtcbiAgdmFyIG0yMyA9IG1hdFs2XTtcbiAgdmFyIG0zMSA9IG1hdFs4XTtcbiAgdmFyIG0zMiA9IG1hdFs5XTtcbiAgdmFyIG0zMyA9IG1hdFsxMF07XG4gIG91dFswXSA9IE1hdGguaHlwb3QobTExLCBtMTIsIG0xMyk7XG4gIG91dFsxXSA9IE1hdGguaHlwb3QobTIxLCBtMjIsIG0yMyk7XG4gIG91dFsyXSA9IE1hdGguaHlwb3QobTMxLCBtMzIsIG0zMyk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBxdWF0ZXJuaW9uIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb25hbCBjb21wb25lbnRcbiAqICBvZiBhIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aFxuICogIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uLCB0aGUgcmV0dXJuZWQgcXVhdGVybmlvbiB3aWxsIGJlIHRoZVxuICogIHNhbWUgYXMgdGhlIHF1YXRlcm5pb24gb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSB7cXVhdH0gb3V0IFF1YXRlcm5pb24gdG8gcmVjZWl2ZSB0aGUgcm90YXRpb24gY29tcG9uZW50XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb3RhdGlvbihvdXQsIG1hdCkge1xuICB2YXIgc2NhbGluZyA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBnZXRTY2FsaW5nKHNjYWxpbmcsIG1hdCk7XG4gIHZhciBpczEgPSAxIC8gc2NhbGluZ1swXTtcbiAgdmFyIGlzMiA9IDEgLyBzY2FsaW5nWzFdO1xuICB2YXIgaXMzID0gMSAvIHNjYWxpbmdbMl07XG4gIHZhciBzbTExID0gbWF0WzBdICogaXMxO1xuICB2YXIgc20xMiA9IG1hdFsxXSAqIGlzMjtcbiAgdmFyIHNtMTMgPSBtYXRbMl0gKiBpczM7XG4gIHZhciBzbTIxID0gbWF0WzRdICogaXMxO1xuICB2YXIgc20yMiA9IG1hdFs1XSAqIGlzMjtcbiAgdmFyIHNtMjMgPSBtYXRbNl0gKiBpczM7XG4gIHZhciBzbTMxID0gbWF0WzhdICogaXMxO1xuICB2YXIgc20zMiA9IG1hdFs5XSAqIGlzMjtcbiAgdmFyIHNtMzMgPSBtYXRbMTBdICogaXMzO1xuICB2YXIgdHJhY2UgPSBzbTExICsgc20yMiArIHNtMzM7XG4gIHZhciBTID0gMDtcblxuICBpZiAodHJhY2UgPiAwKSB7XG4gICAgUyA9IE1hdGguc3FydCh0cmFjZSArIDEuMCkgKiAyO1xuICAgIG91dFszXSA9IDAuMjUgKiBTO1xuICAgIG91dFswXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dFsxXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFsyXSA9IChzbTEyIC0gc20yMSkgLyBTO1xuICB9IGVsc2UgaWYgKHNtMTEgPiBzbTIyICYmIHNtMTEgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTExIC0gc20yMiAtIHNtMzMpICogMjtcbiAgICBvdXRbM10gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMF0gPSAwLjI1ICogUztcbiAgICBvdXRbMV0gPSAoc20xMiArIHNtMjEpIC8gUztcbiAgICBvdXRbMl0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgfSBlbHNlIGlmIChzbTIyID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20yMiAtIHNtMTEgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzFdID0gMC4yNSAqIFM7XG4gICAgb3V0WzJdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gIH0gZWxzZSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTMzIC0gc20xMSAtIHNtMjIpICogMjtcbiAgICBvdXRbM10gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgICBvdXRbMF0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgICBvdXRbMV0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgICBvdXRbMl0gPSAwLjI1ICogUztcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24sIHZlY3RvciB0cmFuc2xhdGlvbiBhbmQgdmVjdG9yIHNjYWxlXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlKG91dCwgcSwgdiwgcykge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICB2YXIgc3ggPSBzWzBdO1xuICB2YXIgc3kgPSBzWzFdO1xuICB2YXIgc3ogPSBzWzJdO1xuICBvdXRbMF0gPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgb3V0WzFdID0gKHh5ICsgd3opICogc3g7XG4gIG91dFsyXSA9ICh4eiAtIHd5KSAqIHN4O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAoeHkgLSB3eikgKiBzeTtcbiAgb3V0WzVdID0gKDEgLSAoeHggKyB6eikpICogc3k7XG4gIG91dFs2XSA9ICh5eiArIHd4KSAqIHN5O1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAoeHogKyB3eSkgKiBzejtcbiAgb3V0WzldID0gKHl6IC0gd3gpICogc3o7XG4gIG91dFsxMF0gPSAoMSAtICh4eCArIHl5KSkgKiBzejtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uLCB2ZWN0b3IgdHJhbnNsYXRpb24gYW5kIHZlY3RvciBzY2FsZSwgcm90YXRpbmcgYW5kIHNjYWxpbmcgYXJvdW5kIHRoZSBnaXZlbiBvcmlnaW5cbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgb3JpZ2luKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBzY2FsZSlcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBuZWdhdGl2ZU9yaWdpbik7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBzIFNjYWxpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gbyBUaGUgb3JpZ2luIHZlY3RvciBhcm91bmQgd2hpY2ggdG8gc2NhbGUgYW5kIHJvdGF0ZVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlT3JpZ2luKG91dCwgcSwgdiwgcywgbykge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICB2YXIgc3ggPSBzWzBdO1xuICB2YXIgc3kgPSBzWzFdO1xuICB2YXIgc3ogPSBzWzJdO1xuICB2YXIgb3ggPSBvWzBdO1xuICB2YXIgb3kgPSBvWzFdO1xuICB2YXIgb3ogPSBvWzJdO1xuICB2YXIgb3V0MCA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xuICB2YXIgb3V0MSA9ICh4eSArIHd6KSAqIHN4O1xuICB2YXIgb3V0MiA9ICh4eiAtIHd5KSAqIHN4O1xuICB2YXIgb3V0NCA9ICh4eSAtIHd6KSAqIHN5O1xuICB2YXIgb3V0NSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICB2YXIgb3V0NiA9ICh5eiArIHd4KSAqIHN5O1xuICB2YXIgb3V0OCA9ICh4eiArIHd5KSAqIHN6O1xuICB2YXIgb3V0OSA9ICh5eiAtIHd4KSAqIHN6O1xuICB2YXIgb3V0MTAgPSAoMSAtICh4eCArIHl5KSkgKiBzejtcbiAgb3V0WzBdID0gb3V0MDtcbiAgb3V0WzFdID0gb3V0MTtcbiAgb3V0WzJdID0gb3V0MjtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gb3V0NDtcbiAgb3V0WzVdID0gb3V0NTtcbiAgb3V0WzZdID0gb3V0NjtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gb3V0ODtcbiAgb3V0WzldID0gb3V0OTtcbiAgb3V0WzEwXSA9IG91dDEwO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF0gKyBveCAtIChvdXQwICogb3ggKyBvdXQ0ICogb3kgKyBvdXQ4ICogb3opO1xuICBvdXRbMTNdID0gdlsxXSArIG95IC0gKG91dDEgKiBveCArIG91dDUgKiBveSArIG91dDkgKiBveik7XG4gIG91dFsxNF0gPSB2WzJdICsgb3ogLSAob3V0MiAqIG94ICsgb3V0NiAqIG95ICsgb3V0MTAgKiBveik7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgNHg0IG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cbiAqXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHl4ID0geSAqIHgyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB6eCA9IHogKiB4MjtcbiAgdmFyIHp5ID0geiAqIHkyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSB5eSAtIHp6O1xuICBvdXRbMV0gPSB5eCArIHd6O1xuICBvdXRbMl0gPSB6eCAtIHd5O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB5eCAtIHd6O1xuICBvdXRbNV0gPSAxIC0geHggLSB6ejtcbiAgb3V0WzZdID0genkgKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0genggKyB3eTtcbiAgb3V0WzldID0genkgLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSB4eCAtIHl5O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIGZydXN0dW0gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcnVzdHVtKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIHJsID0gMSAvIChyaWdodCAtIGxlZnQpO1xuICB2YXIgdGIgPSAxIC8gKHRvcCAtIGJvdHRvbSk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IG5lYXIgKiAyICogcmw7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IG5lYXIgKiAyICogdGI7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IChyaWdodCArIGxlZnQpICogcmw7XG4gIG91dFs5XSA9ICh0b3AgKyBib3R0b20pICogdGI7XG4gIG91dFsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSBmYXIgKiBuZWFyICogMiAqIG5mO1xuICBvdXRbMTVdID0gMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR0wvT3BlbkdMJ3MgY2xpcCB2b2x1bWUuXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVOTyhvdXQsIGZvdnksIGFzcGVjdCwgbmVhciwgZmFyKSB7XG4gIHZhciBmID0gMS4wIC8gTWF0aC50YW4oZm92eSAvIDIpLFxuICAgICAgbmY7XG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGY7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTVdID0gMDtcblxuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gICAgb3V0WzE0XSA9IDIgKiBmYXIgKiBuZWFyICogbmY7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzEwXSA9IC0xO1xuICAgIG91dFsxNF0gPSAtMiAqIG5lYXI7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQucGVyc3BlY3RpdmVOT31cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgcGVyc3BlY3RpdmUgPSBwZXJzcGVjdGl2ZU5PO1xuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCBzdWl0YWJsZSBmb3IgV2ViR1BVIHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFswLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR1BVL1Z1bGthbi9EaXJlY3RYL01ldGFsJ3MgY2xpcCB2b2x1bWUuXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVaTyhvdXQsIGZvdnksIGFzcGVjdCwgbmVhciwgZmFyKSB7XG4gIHZhciBmID0gMS4wIC8gTWF0aC50YW4oZm92eSAvIDIpLFxuICAgICAgbmY7XG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGY7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTVdID0gMDtcblxuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgICBvdXRbMTBdID0gZmFyICogbmY7XG4gICAgb3V0WzE0XSA9IGZhciAqIG5lYXIgKiBuZjtcbiAgfSBlbHNlIHtcbiAgICBvdXRbMTBdID0gLTE7XG4gICAgb3V0WzE0XSA9IC1uZWFyO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZmllbGQgb2Ygdmlldy5cbiAqIFRoaXMgaXMgcHJpbWFyaWx5IHVzZWZ1bCBmb3IgZ2VuZXJhdGluZyBwcm9qZWN0aW9uIG1hdHJpY2VzIHRvIGJlIHVzZWRcbiAqIHdpdGggdGhlIHN0aWxsIGV4cGVyaWVtZW50YWwgV2ViVlIgQVBJLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBmb3YgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyB2YWx1ZXM6IHVwRGVncmVlcywgZG93bkRlZ3JlZXMsIGxlZnREZWdyZWVzLCByaWdodERlZ3JlZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3KG91dCwgZm92LCBuZWFyLCBmYXIpIHtcbiAgdmFyIHVwVGFuID0gTWF0aC50YW4oZm92LnVwRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBkb3duVGFuID0gTWF0aC50YW4oZm92LmRvd25EZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIGxlZnRUYW4gPSBNYXRoLnRhbihmb3YubGVmdERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgcmlnaHRUYW4gPSBNYXRoLnRhbihmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHhTY2FsZSA9IDIuMCAvIChsZWZ0VGFuICsgcmlnaHRUYW4pO1xuICB2YXIgeVNjYWxlID0gMi4wIC8gKHVwVGFuICsgZG93blRhbik7XG4gIG91dFswXSA9IHhTY2FsZTtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIG91dFszXSA9IDAuMDtcbiAgb3V0WzRdID0gMC4wO1xuICBvdXRbNV0gPSB5U2NhbGU7XG4gIG91dFs2XSA9IDAuMDtcbiAgb3V0WzddID0gMC4wO1xuICBvdXRbOF0gPSAtKChsZWZ0VGFuIC0gcmlnaHRUYW4pICogeFNjYWxlICogMC41KTtcbiAgb3V0WzldID0gKHVwVGFuIC0gZG93blRhbikgKiB5U2NhbGUgKiAwLjU7XG4gIG91dFsxMF0gPSBmYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxMV0gPSAtMS4wO1xuICBvdXRbMTJdID0gMC4wO1xuICBvdXRbMTNdID0gMC4wO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzE1XSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgb3J0aG9nb25hbCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbLTEsIDFdLFxuICogd2hpY2ggbWF0Y2hlcyBXZWJHTC9PcGVuR0wncyBjbGlwIHZvbHVtZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gb3J0aG9OTyhvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBsciA9IDEgLyAobGVmdCAtIHJpZ2h0KTtcbiAgdmFyIGJ0ID0gMSAvIChib3R0b20gLSB0b3ApO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSAtMiAqIGxyO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAtMiAqIGJ0O1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMiAqIG5mO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xuICBvdXRbMTRdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQub3J0aG9OT31cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgb3J0aG8gPSBvcnRob05PO1xuLyoqXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFswLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR1BVL1Z1bGthbi9EaXJlY3RYL01ldGFsJ3MgY2xpcCB2b2x1bWUuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvWk8ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XG4gIHZhciBidCA9IDEgLyAoYm90dG9tIC0gdG9wKTtcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzBdID0gLTIgKiBscjtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gLTIgKiBidDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IG5mO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xuICBvdXRbMTRdID0gbmVhciAqIG5mO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgbG9vay1hdCBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZXllIHBvc2l0aW9uLCBmb2NhbCBwb2ludCwgYW5kIHVwIGF4aXMuXG4gKiBJZiB5b3Ugd2FudCBhIG1hdHJpeCB0aGF0IGFjdHVhbGx5IG1ha2VzIGFuIG9iamVjdCBsb29rIGF0IGFub3RoZXIgb2JqZWN0LCB5b3Ugc2hvdWxkIHVzZSB0YXJnZXRUbyBpbnN0ZWFkLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBleWUgUG9zaXRpb24gb2YgdGhlIHZpZXdlclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGNlbnRlciBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxvb2tBdChvdXQsIGV5ZSwgY2VudGVyLCB1cCkge1xuICB2YXIgeDAsIHgxLCB4MiwgeTAsIHkxLCB5MiwgejAsIHoxLCB6MiwgbGVuO1xuICB2YXIgZXlleCA9IGV5ZVswXTtcbiAgdmFyIGV5ZXkgPSBleWVbMV07XG4gIHZhciBleWV6ID0gZXllWzJdO1xuICB2YXIgdXB4ID0gdXBbMF07XG4gIHZhciB1cHkgPSB1cFsxXTtcbiAgdmFyIHVweiA9IHVwWzJdO1xuICB2YXIgY2VudGVyeCA9IGNlbnRlclswXTtcbiAgdmFyIGNlbnRlcnkgPSBjZW50ZXJbMV07XG4gIHZhciBjZW50ZXJ6ID0gY2VudGVyWzJdO1xuXG4gIGlmIChNYXRoLmFicyhleWV4IC0gY2VudGVyeCkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXkgLSBjZW50ZXJ5KSA8IGdsTWF0cml4LkVQU0lMT04gJiYgTWF0aC5hYnMoZXlleiAtIGNlbnRlcnopIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBpZGVudGl0eShvdXQpO1xuICB9XG5cbiAgejAgPSBleWV4IC0gY2VudGVyeDtcbiAgejEgPSBleWV5IC0gY2VudGVyeTtcbiAgejIgPSBleWV6IC0gY2VudGVyejtcbiAgbGVuID0gMSAvIE1hdGguaHlwb3QoejAsIHoxLCB6Mik7XG4gIHowICo9IGxlbjtcbiAgejEgKj0gbGVuO1xuICB6MiAqPSBsZW47XG4gIHgwID0gdXB5ICogejIgLSB1cHogKiB6MTtcbiAgeDEgPSB1cHogKiB6MCAtIHVweCAqIHoyO1xuICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XG4gIGxlbiA9IE1hdGguaHlwb3QoeDAsIHgxLCB4Mik7XG5cbiAgaWYgKCFsZW4pIHtcbiAgICB4MCA9IDA7XG4gICAgeDEgPSAwO1xuICAgIHgyID0gMDtcbiAgfSBlbHNlIHtcbiAgICBsZW4gPSAxIC8gbGVuO1xuICAgIHgwICo9IGxlbjtcbiAgICB4MSAqPSBsZW47XG4gICAgeDIgKj0gbGVuO1xuICB9XG5cbiAgeTAgPSB6MSAqIHgyIC0gejIgKiB4MTtcbiAgeTEgPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgeTIgPSB6MCAqIHgxIC0gejEgKiB4MDtcbiAgbGVuID0gTWF0aC5oeXBvdCh5MCwgeTEsIHkyKTtcblxuICBpZiAoIWxlbikge1xuICAgIHkwID0gMDtcbiAgICB5MSA9IDA7XG4gICAgeTIgPSAwO1xuICB9IGVsc2Uge1xuICAgIGxlbiA9IDEgLyBsZW47XG4gICAgeTAgKj0gbGVuO1xuICAgIHkxICo9IGxlbjtcbiAgICB5MiAqPSBsZW47XG4gIH1cblxuICBvdXRbMF0gPSB4MDtcbiAgb3V0WzFdID0geTA7XG4gIG91dFsyXSA9IHowO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4MTtcbiAgb3V0WzVdID0geTE7XG4gIG91dFs2XSA9IHoxO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4MjtcbiAgb3V0WzldID0geTI7XG4gIG91dFsxMF0gPSB6MjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAtKHgwICogZXlleCArIHgxICogZXlleSArIHgyICogZXlleik7XG4gIG91dFsxM10gPSAtKHkwICogZXlleCArIHkxICogZXlleSArIHkyICogZXlleik7XG4gIG91dFsxNF0gPSAtKHowICogZXlleCArIHoxICogZXlleSArIHoyICogZXlleik7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBtYXRyaXggdGhhdCBtYWtlcyBzb21ldGhpbmcgbG9vayBhdCBzb21ldGhpbmcgZWxzZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgdmVjMyBwb2ludGluZyB1cFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0YXJnZXRUbyhvdXQsIGV5ZSwgdGFyZ2V0LCB1cCkge1xuICB2YXIgZXlleCA9IGV5ZVswXSxcbiAgICAgIGV5ZXkgPSBleWVbMV0sXG4gICAgICBleWV6ID0gZXllWzJdLFxuICAgICAgdXB4ID0gdXBbMF0sXG4gICAgICB1cHkgPSB1cFsxXSxcbiAgICAgIHVweiA9IHVwWzJdO1xuICB2YXIgejAgPSBleWV4IC0gdGFyZ2V0WzBdLFxuICAgICAgejEgPSBleWV5IC0gdGFyZ2V0WzFdLFxuICAgICAgejIgPSBleWV6IC0gdGFyZ2V0WzJdO1xuICB2YXIgbGVuID0gejAgKiB6MCArIHoxICogejEgKyB6MiAqIHoyO1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIHowICo9IGxlbjtcbiAgICB6MSAqPSBsZW47XG4gICAgejIgKj0gbGVuO1xuICB9XG5cbiAgdmFyIHgwID0gdXB5ICogejIgLSB1cHogKiB6MSxcbiAgICAgIHgxID0gdXB6ICogejAgLSB1cHggKiB6MixcbiAgICAgIHgyID0gdXB4ICogejEgLSB1cHkgKiB6MDtcbiAgbGVuID0geDAgKiB4MCArIHgxICogeDEgKyB4MiAqIHgyO1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIHgwICo9IGxlbjtcbiAgICB4MSAqPSBsZW47XG4gICAgeDIgKj0gbGVuO1xuICB9XG5cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHgxO1xuICBvdXRbMl0gPSB4MjtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gejEgKiB4MiAtIHoyICogeDE7XG4gIG91dFs1XSA9IHoyICogeDAgLSB6MCAqIHgyO1xuICBvdXRbNl0gPSB6MCAqIHgxIC0gejEgKiB4MDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gejA7XG4gIG91dFs5XSA9IHoxO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gZXlleDtcbiAgb3V0WzEzXSA9IGV5ZXk7XG4gIG91dFsxNF0gPSBleWV6O1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJtYXQ0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiLCBcIiArIGFbNF0gKyBcIiwgXCIgKyBhWzVdICsgXCIsIFwiICsgYVs2XSArIFwiLCBcIiArIGFbN10gKyBcIiwgXCIgKyBhWzhdICsgXCIsIFwiICsgYVs5XSArIFwiLCBcIiArIGFbMTBdICsgXCIsIFwiICsgYVsxMV0gKyBcIiwgXCIgKyBhWzEyXSArIFwiLCBcIiArIGFbMTNdICsgXCIsIFwiICsgYVsxNF0gKyBcIiwgXCIgKyBhWzE1XSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcbiAgcmV0dXJuIE1hdGguaHlwb3QoYVswXSwgYVsxXSwgYVsyXSwgYVszXSwgYVs0XSwgYVs1XSwgYVs2XSwgYVs3XSwgYVs4XSwgYVs5XSwgYVsxMF0sIGFbMTFdLCBhWzEyXSwgYVsxM10sIGFbMTRdLCBhWzE1XSk7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDQnc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyBtYXRyaXggYiBmcm9tIG1hdHJpeCBhXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICBvdXRbNF0gPSBhWzRdIC0gYls0XTtcbiAgb3V0WzVdID0gYVs1XSAtIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xuICBvdXRbN10gPSBhWzddIC0gYls3XTtcbiAgb3V0WzhdID0gYVs4XSAtIGJbOF07XG4gIG91dFs5XSA9IGFbOV0gLSBiWzldO1xuICBvdXRbMTBdID0gYVsxMF0gLSBiWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdIC0gYlsxMV07XG4gIG91dFsxMl0gPSBhWzEyXSAtIGJbMTJdO1xuICBvdXRbMTNdID0gYVsxM10gLSBiWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdIC0gYlsxNF07XG4gIG91dFsxNV0gPSBhWzE1XSAtIGJbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNdWx0aXBseSBlYWNoIGVsZW1lbnQgb2YgdGhlIG1hdHJpeCBieSBhIHNjYWxhci5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBtYXRyaXgncyBlbGVtZW50cyBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgb3V0WzNdID0gYVszXSAqIGI7XG4gIG91dFs0XSA9IGFbNF0gKiBiO1xuICBvdXRbNV0gPSBhWzVdICogYjtcbiAgb3V0WzZdID0gYVs2XSAqIGI7XG4gIG91dFs3XSA9IGFbN10gKiBiO1xuICBvdXRbOF0gPSBhWzhdICogYjtcbiAgb3V0WzldID0gYVs5XSAqIGI7XG4gIG91dFsxMF0gPSBhWzEwXSAqIGI7XG4gIG91dFsxMV0gPSBhWzExXSAqIGI7XG4gIG91dFsxMl0gPSBhWzEyXSAqIGI7XG4gIG91dFsxM10gPSBhWzEzXSAqIGI7XG4gIG91dFsxNF0gPSBhWzE0XSAqIGI7XG4gIG91dFsxNV0gPSBhWzE1XSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDQncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiJ3MgZWxlbWVudHMgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdICogc2NhbGU7XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdICogc2NhbGU7XG4gIG91dFs3XSA9IGFbN10gKyBiWzddICogc2NhbGU7XG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdICogc2NhbGU7XG4gIG91dFs5XSA9IGFbOV0gKyBiWzldICogc2NhbGU7XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdICogc2NhbGU7XG4gIG91dFsxMV0gPSBhWzExXSArIGJbMTFdICogc2NhbGU7XG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdICogc2NhbGU7XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdICogc2NhbGU7XG4gIG91dFsxNF0gPSBhWzE0XSArIGJbMTRdICogc2NhbGU7XG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XSAmJiBhWzhdID09PSBiWzhdICYmIGFbOV0gPT09IGJbOV0gJiYgYVsxMF0gPT09IGJbMTBdICYmIGFbMTFdID09PSBiWzExXSAmJiBhWzEyXSA9PT0gYlsxMl0gJiYgYVsxM10gPT09IGJbMTNdICYmIGFbMTRdID09PSBiWzE0XSAmJiBhWzE1XSA9PT0gYlsxNV07XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBhNCA9IGFbNF0sXG4gICAgICBhNSA9IGFbNV0sXG4gICAgICBhNiA9IGFbNl0sXG4gICAgICBhNyA9IGFbN107XG4gIHZhciBhOCA9IGFbOF0sXG4gICAgICBhOSA9IGFbOV0sXG4gICAgICBhMTAgPSBhWzEwXSxcbiAgICAgIGExMSA9IGFbMTFdO1xuICB2YXIgYTEyID0gYVsxMl0sXG4gICAgICBhMTMgPSBhWzEzXSxcbiAgICAgIGExNCA9IGFbMTRdLFxuICAgICAgYTE1ID0gYVsxNV07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIHZhciBiNCA9IGJbNF0sXG4gICAgICBiNSA9IGJbNV0sXG4gICAgICBiNiA9IGJbNl0sXG4gICAgICBiNyA9IGJbN107XG4gIHZhciBiOCA9IGJbOF0sXG4gICAgICBiOSA9IGJbOV0sXG4gICAgICBiMTAgPSBiWzEwXSxcbiAgICAgIGIxMSA9IGJbMTFdO1xuICB2YXIgYjEyID0gYlsxMl0sXG4gICAgICBiMTMgPSBiWzEzXSxcbiAgICAgIGIxNCA9IGJbMTRdLFxuICAgICAgYjE1ID0gYlsxNV07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSkgJiYgTWF0aC5hYnMoYTQgLSBiNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTQpLCBNYXRoLmFicyhiNCkpICYmIE1hdGguYWJzKGE1IC0gYjUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE1KSwgTWF0aC5hYnMoYjUpKSAmJiBNYXRoLmFicyhhNiAtIGI2KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNiksIE1hdGguYWJzKGI2KSkgJiYgTWF0aC5hYnMoYTcgLSBiNykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTcpLCBNYXRoLmFicyhiNykpICYmIE1hdGguYWJzKGE4IC0gYjgpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE4KSwgTWF0aC5hYnMoYjgpKSAmJiBNYXRoLmFicyhhOSAtIGI5KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOSksIE1hdGguYWJzKGI5KSkgJiYgTWF0aC5hYnMoYTEwIC0gYjEwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTApLCBNYXRoLmFicyhiMTApKSAmJiBNYXRoLmFicyhhMTEgLSBiMTEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMSksIE1hdGguYWJzKGIxMSkpICYmIE1hdGguYWJzKGExMiAtIGIxMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEyKSwgTWF0aC5hYnMoYjEyKSkgJiYgTWF0aC5hYnMoYTEzIC0gYjEzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTMpLCBNYXRoLmFicyhiMTMpKSAmJiBNYXRoLmFicyhhMTQgLSBiMTQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNCksIE1hdGguYWJzKGIxNCkpICYmIE1hdGguYWJzKGExNSAtIGIxNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE1KSwgTWF0aC5hYnMoYjE1KSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuaW1wb3J0ICogYXMgbWF0MyBmcm9tIFwiLi9tYXQzLmpzXCI7XG5pbXBvcnQgKiBhcyB2ZWMzIGZyb20gXCIuL3ZlYzMuanNcIjtcbmltcG9ydCAqIGFzIHZlYzQgZnJvbSBcIi4vdmVjNC5qc1wiO1xuLyoqXG4gKiBRdWF0ZXJuaW9uXG4gKiBAbW9kdWxlIHF1YXRcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgcXVhdFxuICpcbiAqIEByZXR1cm5zIHtxdWF0fSBhIG5ldyBxdWF0ZXJuaW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFswXSA9IDA7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICB9XG5cbiAgb3V0WzNdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IGEgcXVhdCB0byB0aGUgaWRlbnRpdHkgcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0cyBhIHF1YXQgZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYW5kIHJvdGF0aW9uIGF4aXMsXG4gKiB0aGVuIHJldHVybnMgaXQuXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyBhcm91bmQgd2hpY2ggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBeGlzQW5nbGUob3V0LCBheGlzLCByYWQpIHtcbiAgcmFkID0gcmFkICogMC41O1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIG91dFswXSA9IHMgKiBheGlzWzBdO1xuICBvdXRbMV0gPSBzICogYXhpc1sxXTtcbiAgb3V0WzJdID0gcyAqIGF4aXNbMl07XG4gIG91dFszXSA9IE1hdGguY29zKHJhZCk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdldHMgdGhlIHJvdGF0aW9uIGF4aXMgYW5kIGFuZ2xlIGZvciBhIGdpdmVuXG4gKiAgcXVhdGVybmlvbi4gSWYgYSBxdWF0ZXJuaW9uIGlzIGNyZWF0ZWQgd2l0aFxuICogIHNldEF4aXNBbmdsZSwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIHNhbWVcbiAqICB2YWx1ZXMgYXMgcHJvdmlkaWVkIGluIHRoZSBvcmlnaW5hbCBwYXJhbWV0ZXIgbGlzdFxuICogIE9SIGZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHZhbHVlcy5cbiAqIEV4YW1wbGU6IFRoZSBxdWF0ZXJuaW9uIGZvcm1lZCBieSBheGlzIFswLCAwLCAxXSBhbmRcbiAqICBhbmdsZSAtOTAgaXMgdGhlIHNhbWUgYXMgdGhlIHF1YXRlcm5pb24gZm9ybWVkIGJ5XG4gKiAgWzAsIDAsIDFdIGFuZCAyNzAuIFRoaXMgbWV0aG9kIGZhdm9ycyB0aGUgbGF0dGVyLlxuICogQHBhcmFtICB7dmVjM30gb3V0X2F4aXMgIFZlY3RvciByZWNlaXZpbmcgdGhlIGF4aXMgb2Ygcm90YXRpb25cbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdH0gcSAgICAgUXVhdGVybmlvbiB0byBiZSBkZWNvbXBvc2VkXG4gKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICBBbmdsZSwgaW4gcmFkaWFucywgb2YgdGhlIHJvdGF0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEF4aXNBbmdsZShvdXRfYXhpcywgcSkge1xuICB2YXIgcmFkID0gTWF0aC5hY29zKHFbM10pICogMi4wO1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCAvIDIuMCk7XG5cbiAgaWYgKHMgPiBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgb3V0X2F4aXNbMF0gPSBxWzBdIC8gcztcbiAgICBvdXRfYXhpc1sxXSA9IHFbMV0gLyBzO1xuICAgIG91dF9heGlzWzJdID0gcVsyXSAvIHM7XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgcyBpcyB6ZXJvLCByZXR1cm4gYW55IGF4aXMgKG5vIHJvdGF0aW9uIC0gYXhpcyBkb2VzIG5vdCBtYXR0ZXIpXG4gICAgb3V0X2F4aXNbMF0gPSAxO1xuICAgIG91dF9heGlzWzFdID0gMDtcbiAgICBvdXRfYXhpc1syXSA9IDA7XG4gIH1cblxuICByZXR1cm4gcmFkO1xufVxuLyoqXG4gKiBHZXRzIHRoZSBhbmd1bGFyIGRpc3RhbmNlIGJldHdlZW4gdHdvIHVuaXQgcXVhdGVybmlvbnNcbiAqXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IGEgICAgIE9yaWdpbiB1bml0IHF1YXRlcm5pb25cbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdH0gYiAgICAgRGVzdGluYXRpb24gdW5pdCBxdWF0ZXJuaW9uXG4gKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICBBbmdsZSwgaW4gcmFkaWFucywgYmV0d2VlbiB0aGUgdHdvIHF1YXRlcm5pb25zXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFuZ2xlKGEsIGIpIHtcbiAgdmFyIGRvdHByb2R1Y3QgPSBkb3QoYSwgYik7XG4gIHJldHVybiBNYXRoLmFjb3MoMiAqIGRvdHByb2R1Y3QgKiBkb3Rwcm9kdWN0IC0gMSk7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHF1YXQnc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGF3ID0gYVszXTtcbiAgdmFyIGJ4ID0gYlswXSxcbiAgICAgIGJ5ID0gYlsxXSxcbiAgICAgIGJ6ID0gYlsyXSxcbiAgICAgIGJ3ID0gYlszXTtcbiAgb3V0WzBdID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieTtcbiAgb3V0WzFdID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBiejtcbiAgb3V0WzJdID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieDtcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIHF1YXRlcm5pb24gYnkgdGhlIGdpdmVuIGFuZ2xlIGFib3V0IHRoZSBYIGF4aXNcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBxdWF0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBhbmdsZSAoaW4gcmFkaWFucykgdG8gcm90YXRlXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcbiAgcmFkICo9IDAuNTtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGF3ID0gYVszXTtcbiAgdmFyIGJ4ID0gTWF0aC5zaW4ocmFkKSxcbiAgICAgIGJ3ID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYXggKiBidyArIGF3ICogYng7XG4gIG91dFsxXSA9IGF5ICogYncgKyBheiAqIGJ4O1xuICBvdXRbMl0gPSBheiAqIGJ3IC0gYXkgKiBieDtcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF4ICogYng7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBxdWF0ZXJuaW9uIGJ5IHRoZSBnaXZlbiBhbmdsZSBhYm91dCB0aGUgWSBheGlzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byByb3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHJvdGF0ZVxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgcmFkKSB7XG4gIHJhZCAqPSAwLjU7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBhdyA9IGFbM107XG4gIHZhciBieSA9IE1hdGguc2luKHJhZCksXG4gICAgICBidyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGF4ICogYncgLSBheiAqIGJ5O1xuICBvdXRbMV0gPSBheSAqIGJ3ICsgYXcgKiBieTtcbiAgb3V0WzJdID0gYXogKiBidyArIGF4ICogYnk7XG4gIG91dFszXSA9IGF3ICogYncgLSBheSAqIGJ5O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgcXVhdGVybmlvbiBieSB0aGUgZ2l2ZW4gYW5nbGUgYWJvdXQgdGhlIFogYXhpc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHF1YXQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xuICByYWQgKj0gMC41O1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYXcgPSBhWzNdO1xuICB2YXIgYnogPSBNYXRoLnNpbihyYWQpLFxuICAgICAgYncgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBheCAqIGJ3ICsgYXkgKiBiejtcbiAgb3V0WzFdID0gYXkgKiBidyAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF6ICogYncgKyBhdyAqIGJ6O1xuICBvdXRbM10gPSBhdyAqIGJ3IC0gYXogKiBiejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgVyBjb21wb25lbnQgb2YgYSBxdWF0IGZyb20gdGhlIFgsIFksIGFuZCBaIGNvbXBvbmVudHMuXG4gKiBBc3N1bWVzIHRoYXQgcXVhdGVybmlvbiBpcyAxIHVuaXQgaW4gbGVuZ3RoLlxuICogQW55IGV4aXN0aW5nIFcgY29tcG9uZW50IHdpbGwgYmUgaWdub3JlZC5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIFcgY29tcG9uZW50IG9mXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVcob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIG91dFszXSA9IE1hdGguc3FydChNYXRoLmFicygxLjAgLSB4ICogeCAtIHkgKiB5IC0geiAqIHopKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZiBhIHVuaXQgcXVhdGVybmlvbi5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleHAob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl0sXG4gICAgICB3ID0gYVszXTtcbiAgdmFyIHIgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbiAgdmFyIGV0ID0gTWF0aC5leHAodyk7XG4gIHZhciBzID0gciA+IDAgPyBldCAqIE1hdGguc2luKHIpIC8gciA6IDA7XG4gIG91dFswXSA9IHggKiBzO1xuICBvdXRbMV0gPSB5ICogcztcbiAgb3V0WzJdID0geiAqIHM7XG4gIG91dFszXSA9IGV0ICogTWF0aC5jb3Mocik7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgYSB1bml0IHF1YXRlcm5pb24uXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSB0aGUgZXhwb25lbnRpYWwgb2ZcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbG4ob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl0sXG4gICAgICB3ID0gYVszXTtcbiAgdmFyIHIgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbiAgdmFyIHQgPSByID4gMCA/IE1hdGguYXRhbjIociwgdykgLyByIDogMDtcbiAgb3V0WzBdID0geCAqIHQ7XG4gIG91dFsxXSA9IHkgKiB0O1xuICBvdXRbMl0gPSB6ICogdDtcbiAgb3V0WzNdID0gMC41ICogTWF0aC5sb2coeCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHcpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHNjYWxhciBwb3dlciBvZiBhIHVuaXQgcXVhdGVybmlvbi5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZlxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBxdWF0ZXJuaW9uIGJ5XG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBvdyhvdXQsIGEsIGIpIHtcbiAgbG4ob3V0LCBhKTtcbiAgc2NhbGUob3V0LCBvdXQsIGIpO1xuICBleHAob3V0LCBvdXQpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byBxdWF0XG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNsZXJwKG91dCwgYSwgYiwgdCkge1xuICAvLyBiZW5jaG1hcmtzOlxuICAvLyAgICBodHRwOi8vanNwZXJmLmNvbS9xdWF0ZXJuaW9uLXNsZXJwLWltcGxlbWVudGF0aW9uc1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYXcgPSBhWzNdO1xuICB2YXIgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdLFxuICAgICAgYncgPSBiWzNdO1xuICB2YXIgb21lZ2EsIGNvc29tLCBzaW5vbSwgc2NhbGUwLCBzY2FsZTE7IC8vIGNhbGMgY29zaW5lXG5cbiAgY29zb20gPSBheCAqIGJ4ICsgYXkgKiBieSArIGF6ICogYnogKyBhdyAqIGJ3OyAvLyBhZGp1c3Qgc2lnbnMgKGlmIG5lY2Vzc2FyeSlcblxuICBpZiAoY29zb20gPCAwLjApIHtcbiAgICBjb3NvbSA9IC1jb3NvbTtcbiAgICBieCA9IC1ieDtcbiAgICBieSA9IC1ieTtcbiAgICBieiA9IC1iejtcbiAgICBidyA9IC1idztcbiAgfSAvLyBjYWxjdWxhdGUgY29lZmZpY2llbnRzXG5cblxuICBpZiAoMS4wIC0gY29zb20gPiBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgLy8gc3RhbmRhcmQgY2FzZSAoc2xlcnApXG4gICAgb21lZ2EgPSBNYXRoLmFjb3MoY29zb20pO1xuICAgIHNpbm9tID0gTWF0aC5zaW4ob21lZ2EpO1xuICAgIHNjYWxlMCA9IE1hdGguc2luKCgxLjAgLSB0KSAqIG9tZWdhKSAvIHNpbm9tO1xuICAgIHNjYWxlMSA9IE1hdGguc2luKHQgKiBvbWVnYSkgLyBzaW5vbTtcbiAgfSBlbHNlIHtcbiAgICAvLyBcImZyb21cIiBhbmQgXCJ0b1wiIHF1YXRlcm5pb25zIGFyZSB2ZXJ5IGNsb3NlXG4gICAgLy8gIC4uLiBzbyB3ZSBjYW4gZG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvblxuICAgIHNjYWxlMCA9IDEuMCAtIHQ7XG4gICAgc2NhbGUxID0gdDtcbiAgfSAvLyBjYWxjdWxhdGUgZmluYWwgdmFsdWVzXG5cblxuICBvdXRbMF0gPSBzY2FsZTAgKiBheCArIHNjYWxlMSAqIGJ4O1xuICBvdXRbMV0gPSBzY2FsZTAgKiBheSArIHNjYWxlMSAqIGJ5O1xuICBvdXRbMl0gPSBzY2FsZTAgKiBheiArIHNjYWxlMSAqIGJ6O1xuICBvdXRbM10gPSBzY2FsZTAgKiBhdyArIHNjYWxlMSAqIGJ3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdW5pdCBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQpIHtcbiAgLy8gSW1wbGVtZW50YXRpb24gb2YgaHR0cDovL3BsYW5uaW5nLmNzLnVpdWMuZWR1L25vZGUxOTguaHRtbFxuICAvLyBUT0RPOiBDYWxsaW5nIHJhbmRvbSAzIHRpbWVzIGlzIHByb2JhYmx5IG5vdCB0aGUgZmFzdGVzdCBzb2x1dGlvblxuICB2YXIgdTEgPSBnbE1hdHJpeC5SQU5ET00oKTtcbiAgdmFyIHUyID0gZ2xNYXRyaXguUkFORE9NKCk7XG4gIHZhciB1MyA9IGdsTWF0cml4LlJBTkRPTSgpO1xuICB2YXIgc3FydDFNaW51c1UxID0gTWF0aC5zcXJ0KDEgLSB1MSk7XG4gIHZhciBzcXJ0VTEgPSBNYXRoLnNxcnQodTEpO1xuICBvdXRbMF0gPSBzcXJ0MU1pbnVzVTEgKiBNYXRoLnNpbigyLjAgKiBNYXRoLlBJICogdTIpO1xuICBvdXRbMV0gPSBzcXJ0MU1pbnVzVTEgKiBNYXRoLmNvcygyLjAgKiBNYXRoLlBJICogdTIpO1xuICBvdXRbMl0gPSBzcXJ0VTEgKiBNYXRoLnNpbigyLjAgKiBNYXRoLlBJICogdTMpO1xuICBvdXRbM10gPSBzcXJ0VTEgKiBNYXRoLmNvcygyLjAgKiBNYXRoLlBJICogdTMpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBpbnZlcnNlIG9mIGEgcXVhdFxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgaW52ZXJzZSBvZlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBkb3QgPSBhMCAqIGEwICsgYTEgKiBhMSArIGEyICogYTIgKyBhMyAqIGEzO1xuICB2YXIgaW52RG90ID0gZG90ID8gMS4wIC8gZG90IDogMDsgLy8gVE9ETzogV291bGQgYmUgZmFzdGVyIHRvIHJldHVybiBbMCwwLDAsMF0gaW1tZWRpYXRlbHkgaWYgZG90ID09IDBcblxuICBvdXRbMF0gPSAtYTAgKiBpbnZEb3Q7XG4gIG91dFsxXSA9IC1hMSAqIGludkRvdDtcbiAgb3V0WzJdID0gLWEyICogaW52RG90O1xuICBvdXRbM10gPSBhMyAqIGludkRvdDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgY29uanVnYXRlIG9mIGEgcXVhdFxuICogSWYgdGhlIHF1YXRlcm5pb24gaXMgbm9ybWFsaXplZCwgdGhpcyBmdW5jdGlvbiBpcyBmYXN0ZXIgdGhhbiBxdWF0LmludmVyc2UgYW5kIHByb2R1Y2VzIHRoZSBzYW1lIHJlc3VsdC5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIGNvbmp1Z2F0ZSBvZlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb25qdWdhdGUob3V0LCBhKSB7XG4gIG91dFswXSA9IC1hWzBdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgb3V0WzJdID0gLWFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIDN4MyByb3RhdGlvbiBtYXRyaXguXG4gKlxuICogTk9URTogVGhlIHJlc3VsdGFudCBxdWF0ZXJuaW9uIGlzIG5vdCBub3JtYWxpemVkLCBzbyB5b3Ugc2hvdWxkIGJlIHN1cmVcbiAqIHRvIHJlbm9ybWFsaXplIHRoZSBxdWF0ZXJuaW9uIHlvdXJzZWxmIHdoZXJlIG5lY2Vzc2FyeS5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIHJvdGF0aW9uIG1hdHJpeFxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQzKG91dCwgbSkge1xuICAvLyBBbGdvcml0aG0gaW4gS2VuIFNob2VtYWtlJ3MgYXJ0aWNsZSBpbiAxOTg3IFNJR0dSQVBIIGNvdXJzZSBub3Rlc1xuICAvLyBhcnRpY2xlIFwiUXVhdGVybmlvbiBDYWxjdWx1cyBhbmQgRmFzdCBBbmltYXRpb25cIi5cbiAgdmFyIGZUcmFjZSA9IG1bMF0gKyBtWzRdICsgbVs4XTtcbiAgdmFyIGZSb290O1xuXG4gIGlmIChmVHJhY2UgPiAwLjApIHtcbiAgICAvLyB8d3wgPiAxLzIsIG1heSBhcyB3ZWxsIGNob29zZSB3ID4gMS8yXG4gICAgZlJvb3QgPSBNYXRoLnNxcnQoZlRyYWNlICsgMS4wKTsgLy8gMndcblxuICAgIG91dFszXSA9IDAuNSAqIGZSb290O1xuICAgIGZSb290ID0gMC41IC8gZlJvb3Q7IC8vIDEvKDR3KVxuXG4gICAgb3V0WzBdID0gKG1bNV0gLSBtWzddKSAqIGZSb290O1xuICAgIG91dFsxXSA9IChtWzZdIC0gbVsyXSkgKiBmUm9vdDtcbiAgICBvdXRbMl0gPSAobVsxXSAtIG1bM10pICogZlJvb3Q7XG4gIH0gZWxzZSB7XG4gICAgLy8gfHd8IDw9IDEvMlxuICAgIHZhciBpID0gMDtcbiAgICBpZiAobVs0XSA+IG1bMF0pIGkgPSAxO1xuICAgIGlmIChtWzhdID4gbVtpICogMyArIGldKSBpID0gMjtcbiAgICB2YXIgaiA9IChpICsgMSkgJSAzO1xuICAgIHZhciBrID0gKGkgKyAyKSAlIDM7XG4gICAgZlJvb3QgPSBNYXRoLnNxcnQobVtpICogMyArIGldIC0gbVtqICogMyArIGpdIC0gbVtrICogMyArIGtdICsgMS4wKTtcbiAgICBvdXRbaV0gPSAwLjUgKiBmUm9vdDtcbiAgICBmUm9vdCA9IDAuNSAvIGZSb290O1xuICAgIG91dFszXSA9IChtW2ogKiAzICsga10gLSBtW2sgKiAzICsgal0pICogZlJvb3Q7XG4gICAgb3V0W2pdID0gKG1baiAqIDMgKyBpXSArIG1baSAqIDMgKyBqXSkgKiBmUm9vdDtcbiAgICBvdXRba10gPSAobVtrICogMyArIGldICsgbVtpICogMyArIGtdKSAqIGZSb290O1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHF1YXRlcm5pb24gZnJvbSB0aGUgZ2l2ZW4gZXVsZXIgYW5nbGUgeCwgeSwgei5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7eH0gQW5nbGUgdG8gcm90YXRlIGFyb3VuZCBYIGF4aXMgaW4gZGVncmVlcy5cbiAqIEBwYXJhbSB7eX0gQW5nbGUgdG8gcm90YXRlIGFyb3VuZCBZIGF4aXMgaW4gZGVncmVlcy5cbiAqIEBwYXJhbSB7en0gQW5nbGUgdG8gcm90YXRlIGFyb3VuZCBaIGF4aXMgaW4gZGVncmVlcy5cbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXVsZXIob3V0LCB4LCB5LCB6KSB7XG4gIHZhciBoYWxmVG9SYWQgPSAwLjUgKiBNYXRoLlBJIC8gMTgwLjA7XG4gIHggKj0gaGFsZlRvUmFkO1xuICB5ICo9IGhhbGZUb1JhZDtcbiAgeiAqPSBoYWxmVG9SYWQ7XG4gIHZhciBzeCA9IE1hdGguc2luKHgpO1xuICB2YXIgY3ggPSBNYXRoLmNvcyh4KTtcbiAgdmFyIHN5ID0gTWF0aC5zaW4oeSk7XG4gIHZhciBjeSA9IE1hdGguY29zKHkpO1xuICB2YXIgc3ogPSBNYXRoLnNpbih6KTtcbiAgdmFyIGN6ID0gTWF0aC5jb3Moeik7XG4gIG91dFswXSA9IHN4ICogY3kgKiBjeiAtIGN4ICogc3kgKiBzejtcbiAgb3V0WzFdID0gY3ggKiBzeSAqIGN6ICsgc3ggKiBjeSAqIHN6O1xuICBvdXRbMl0gPSBjeCAqIGN5ICogc3ogLSBzeCAqIHN5ICogY3o7XG4gIG91dFszXSA9IGN4ICogY3kgKiBjeiArIHN4ICogc3kgKiBzejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHF1YXRlbmlvblxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcInF1YXQoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIpXCI7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcXVhdCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0ZXJuaW9uIHRvIGNsb25lXG4gKiBAcmV0dXJucyB7cXVhdH0gYSBuZXcgcXVhdGVybmlvblxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBjbG9uZSA9IHZlYzQuY2xvbmU7XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcXVhdCBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gdyBXIGNvbXBvbmVudFxuICogQHJldHVybnMge3F1YXR9IGEgbmV3IHF1YXRlcm5pb25cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZnJvbVZhbHVlcyA9IHZlYzQuZnJvbVZhbHVlcztcbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHF1YXQgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIHNvdXJjZSBxdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGNvcHkgPSB2ZWM0LmNvcHk7XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHF1YXQgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc2V0ID0gdmVjNC5zZXQ7XG4vKipcbiAqIEFkZHMgdHdvIHF1YXQnc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBhZGQgPSB2ZWM0LmFkZDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Lm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogU2NhbGVzIGEgcXVhdCBieSBhIHNjYWxhciBudW1iZXJcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc2NhbGUgPSB2ZWM0LnNjYWxlO1xuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gcXVhdCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkb3QgPSB2ZWM0LmRvdDtcbi8qKlxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byBxdWF0J3NcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbGVycCA9IHZlYzQubGVycDtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgcXVhdFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCB2YXIgbGVuZ3RoID0gdmVjNC5sZW5ndGg7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdC5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSBxdWF0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXVhcmVkTGVuZ3RoID0gdmVjNC5zcXVhcmVkTGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcbi8qKlxuICogTm9ybWFsaXplIGEgcXVhdFxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdGVybmlvbiB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbm9ybWFsaXplID0gdmVjNC5ub3JtYWxpemU7XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHF1YXRlcm5pb25zIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBUaGUgZmlyc3QgcXVhdGVybmlvbi5cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIFRoZSBzZWNvbmQgcXVhdGVybmlvbi5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCB2YXIgZXhhY3RFcXVhbHMgPSB2ZWM0LmV4YWN0RXF1YWxzO1xuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBxdWF0ZXJuaW9ucyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IHZhciBlcXVhbHMgPSB2ZWM0LmVxdWFscztcbi8qKlxuICogU2V0cyBhIHF1YXRlcm5pb24gdG8gcmVwcmVzZW50IHRoZSBzaG9ydGVzdCByb3RhdGlvbiBmcm9tIG9uZVxuICogdmVjdG9yIHRvIGFub3RoZXIuXG4gKlxuICogQm90aCB2ZWN0b3JzIGFyZSBhc3N1bWVkIHRvIGJlIHVuaXQgbGVuZ3RoLlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvbi5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBpbml0aWFsIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIGRlc3RpbmF0aW9uIHZlY3RvclxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCB2YXIgcm90YXRpb25UbyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRtcHZlYzMgPSB2ZWMzLmNyZWF0ZSgpO1xuICB2YXIgeFVuaXRWZWMzID0gdmVjMy5mcm9tVmFsdWVzKDEsIDAsIDApO1xuICB2YXIgeVVuaXRWZWMzID0gdmVjMy5mcm9tVmFsdWVzKDAsIDEsIDApO1xuICByZXR1cm4gZnVuY3Rpb24gKG91dCwgYSwgYikge1xuICAgIHZhciBkb3QgPSB2ZWMzLmRvdChhLCBiKTtcblxuICAgIGlmIChkb3QgPCAtMC45OTk5OTkpIHtcbiAgICAgIHZlYzMuY3Jvc3ModG1wdmVjMywgeFVuaXRWZWMzLCBhKTtcbiAgICAgIGlmICh2ZWMzLmxlbih0bXB2ZWMzKSA8IDAuMDAwMDAxKSB2ZWMzLmNyb3NzKHRtcHZlYzMsIHlVbml0VmVjMywgYSk7XG4gICAgICB2ZWMzLm5vcm1hbGl6ZSh0bXB2ZWMzLCB0bXB2ZWMzKTtcbiAgICAgIHNldEF4aXNBbmdsZShvdXQsIHRtcHZlYzMsIE1hdGguUEkpO1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9IGVsc2UgaWYgKGRvdCA+IDAuOTk5OTk5KSB7XG4gICAgICBvdXRbMF0gPSAwO1xuICAgICAgb3V0WzFdID0gMDtcbiAgICAgIG91dFsyXSA9IDA7XG4gICAgICBvdXRbM10gPSAxO1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmVjMy5jcm9zcyh0bXB2ZWMzLCBhLCBiKTtcbiAgICAgIG91dFswXSA9IHRtcHZlYzNbMF07XG4gICAgICBvdXRbMV0gPSB0bXB2ZWMzWzFdO1xuICAgICAgb3V0WzJdID0gdG1wdmVjM1syXTtcbiAgICAgIG91dFszXSA9IDEgKyBkb3Q7XG4gICAgICByZXR1cm4gbm9ybWFsaXplKG91dCwgb3V0KTtcbiAgICB9XG4gIH07XG59KCk7XG4vKipcbiAqIFBlcmZvcm1zIGEgc3BoZXJpY2FsIGxpbmVhciBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYyB0aGUgdGhpcmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGQgdGhlIGZvdXJ0aCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IHZhciBzcWxlcnAgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0ZW1wMSA9IGNyZWF0ZSgpO1xuICB2YXIgdGVtcDIgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgICBzbGVycCh0ZW1wMSwgYSwgZCwgdCk7XG4gICAgc2xlcnAodGVtcDIsIGIsIGMsIHQpO1xuICAgIHNsZXJwKG91dCwgdGVtcDEsIHRlbXAyLCAyICogdCAqICgxIC0gdCkpO1xuICAgIHJldHVybiBvdXQ7XG4gIH07XG59KCk7XG4vKipcbiAqIFNldHMgdGhlIHNwZWNpZmllZCBxdWF0ZXJuaW9uIHdpdGggdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuXG4gKiBheGVzLiBFYWNoIGF4aXMgaXMgYSB2ZWMzIGFuZCBpcyBleHBlY3RlZCB0byBiZSB1bml0IGxlbmd0aCBhbmRcbiAqIHBlcnBlbmRpY3VsYXIgdG8gYWxsIG90aGVyIHNwZWNpZmllZCBheGVzLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2aWV3ICB0aGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgdmlld2luZyBkaXJlY3Rpb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSByaWdodCB0aGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgbG9jYWwgXCJyaWdodFwiIGRpcmVjdGlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwICAgIHRoZSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBsb2NhbCBcInVwXCIgZGlyZWN0aW9uXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IHZhciBzZXRBeGVzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbWF0ciA9IG1hdDMuY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAob3V0LCB2aWV3LCByaWdodCwgdXApIHtcbiAgICBtYXRyWzBdID0gcmlnaHRbMF07XG4gICAgbWF0clszXSA9IHJpZ2h0WzFdO1xuICAgIG1hdHJbNl0gPSByaWdodFsyXTtcbiAgICBtYXRyWzFdID0gdXBbMF07XG4gICAgbWF0cls0XSA9IHVwWzFdO1xuICAgIG1hdHJbN10gPSB1cFsyXTtcbiAgICBtYXRyWzJdID0gLXZpZXdbMF07XG4gICAgbWF0cls1XSA9IC12aWV3WzFdO1xuICAgIG1hdHJbOF0gPSAtdmlld1syXTtcbiAgICByZXR1cm4gbm9ybWFsaXplKG91dCwgZnJvbU1hdDMob3V0LCBtYXRyKSk7XG4gIH07XG59KCk7IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiAzIERpbWVuc2lvbmFsIFZlY3RvclxuICogQG1vZHVsZSB2ZWMzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMzXG4gKlxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzMgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgc291cmNlIHZlY3RvclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6KSB7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIERpdmlkZXMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gZmxvb3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcm91bmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGgucm91bmQoYVswXSk7XG4gIG91dFsxXSA9IE1hdGgucm91bmQoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGgucm91bmQoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyBhIHZlYzMgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWMzJ3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHopO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBOZWdhdGVzIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbmVnYXRlXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGludmVydFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBOb3JtYWxpemUgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6O1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgLy9UT0RPOiBldmFsdWF0ZSB1c2Ugb2YgZ2xtX2ludnNxcnQgaGVyZT9cbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cblxuICBvdXRbMF0gPSBhWzBdICogbGVuO1xuICBvdXRbMV0gPSBhWzFdICogbGVuO1xuICBvdXRbMl0gPSBhWzJdICogbGVuO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSArIGFbMl0gKiBiWzJdO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCBhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl07XG4gIHZhciBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl07XG4gIG91dFswXSA9IGF5ICogYnogLSBheiAqIGJ5O1xuICBvdXRbMV0gPSBheiAqIGJ4IC0gYXggKiBiejtcbiAgb3V0WzJdID0gYXggKiBieSAtIGF5ICogYng7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBoZXJtaXRlIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBoZXJtaXRlKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICB2YXIgZmFjdG9yVGltZXMyID0gdCAqIHQ7XG4gIHZhciBmYWN0b3IxID0gZmFjdG9yVGltZXMyICogKDIgKiB0IC0gMykgKyAxO1xuICB2YXIgZmFjdG9yMiA9IGZhY3RvclRpbWVzMiAqICh0IC0gMikgKyB0O1xuICB2YXIgZmFjdG9yMyA9IGZhY3RvclRpbWVzMiAqICh0IC0gMSk7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogKDMgLSAyICogdCk7XG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgYmV6aWVyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBiZXppZXIob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gIHZhciBpbnZlcnNlRmFjdG9yID0gMSAtIHQ7XG4gIHZhciBpbnZlcnNlRmFjdG9yVGltZXNUd28gPSBpbnZlcnNlRmFjdG9yICogaW52ZXJzZUZhY3RvcjtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGludmVyc2VGYWN0b3JUaW1lc1R3byAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3IyID0gMyAqIHQgKiBpbnZlcnNlRmFjdG9yVGltZXNUd287XG4gIHZhciBmYWN0b3IzID0gMyAqIGZhY3RvclRpbWVzMiAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogdDtcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9tbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7XG4gIHZhciByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICB2YXIgeiA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wIC0gMS4wO1xuICB2YXIgelNjYWxlID0gTWF0aC5zcXJ0KDEuMCAtIHogKiB6KSAqIHNjYWxlO1xuICBvdXRbMF0gPSBNYXRoLmNvcyhyKSAqIHpTY2FsZTtcbiAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiB6U2NhbGU7XG4gIG91dFsyXSA9IHogKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgbWF0NC5cbiAqIDR0aCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzEnXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgdmFyIHcgPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV07XG4gIHcgPSB3IHx8IDEuMDtcbiAgb3V0WzBdID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdKSAvIHc7XG4gIG91dFsxXSA9IChtWzFdICogeCArIG1bNV0gKiB5ICsgbVs5XSAqIHogKyBtWzEzXSkgLyB3O1xuICBvdXRbMl0gPSAobVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdKSAvIHc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDMuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSB0aGUgM3gzIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICBvdXRbMF0gPSB4ICogbVswXSArIHkgKiBtWzNdICsgeiAqIG1bNl07XG4gIG91dFsxXSA9IHggKiBtWzFdICsgeSAqIG1bNF0gKyB6ICogbVs3XTtcbiAgb3V0WzJdID0geCAqIG1bMl0gKyB5ICogbVs1XSArIHogKiBtWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBxdWF0XG4gKiBDYW4gYWxzbyBiZSB1c2VkIGZvciBkdWFsIHF1YXRlcm5pb25zLiAoTXVsdGlwbHkgaXQgd2l0aCB0aGUgcmVhbCBwYXJ0KVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCwgYSwgcSkge1xuICAvLyBiZW5jaG1hcmtzOiBodHRwczovL2pzcGVyZi5jb20vcXVhdGVybmlvbi10cmFuc2Zvcm0tdmVjMy1pbXBsZW1lbnRhdGlvbnMtZml4ZWRcbiAgdmFyIHF4ID0gcVswXSxcbiAgICAgIHF5ID0gcVsxXSxcbiAgICAgIHF6ID0gcVsyXSxcbiAgICAgIHF3ID0gcVszXTtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTsgLy8gdmFyIHF2ZWMgPSBbcXgsIHF5LCBxel07XG4gIC8vIHZhciB1diA9IHZlYzMuY3Jvc3MoW10sIHF2ZWMsIGEpO1xuXG4gIHZhciB1dnggPSBxeSAqIHogLSBxeiAqIHksXG4gICAgICB1dnkgPSBxeiAqIHggLSBxeCAqIHosXG4gICAgICB1dnogPSBxeCAqIHkgLSBxeSAqIHg7IC8vIHZhciB1dXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCB1dik7XG5cbiAgdmFyIHV1dnggPSBxeSAqIHV2eiAtIHF6ICogdXZ5LFxuICAgICAgdXV2eSA9IHF6ICogdXZ4IC0gcXggKiB1dnosXG4gICAgICB1dXZ6ID0gcXggKiB1dnkgLSBxeSAqIHV2eDsgLy8gdmVjMy5zY2FsZSh1diwgdXYsIDIgKiB3KTtcblxuICB2YXIgdzIgPSBxdyAqIDI7XG4gIHV2eCAqPSB3MjtcbiAgdXZ5ICo9IHcyO1xuICB1dnogKj0gdzI7IC8vIHZlYzMuc2NhbGUodXV2LCB1dXYsIDIpO1xuXG4gIHV1dnggKj0gMjtcbiAgdXV2eSAqPSAyO1xuICB1dXZ6ICo9IDI7IC8vIHJldHVybiB2ZWMzLmFkZChvdXQsIGEsIHZlYzMuYWRkKG91dCwgdXYsIHV1dikpO1xuXG4gIG91dFswXSA9IHggKyB1dnggKyB1dXZ4O1xuICBvdXRbMV0gPSB5ICsgdXZ5ICsgdXV2eTtcbiAgb3V0WzJdID0geiArIHV2eiArIHV1dno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdO1xuICByWzFdID0gcFsxXSAqIE1hdGguY29zKHJhZCkgLSBwWzJdICogTWF0aC5zaW4ocmFkKTtcbiAgclsyXSA9IHBbMV0gKiBNYXRoLnNpbihyYWQpICsgcFsyXSAqIE1hdGguY29zKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB5LWF4aXNcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFsyXSAqIE1hdGguc2luKHJhZCkgKyBwWzBdICogTWF0aC5jb3MocmFkKTtcbiAgclsxXSA9IHBbMV07XG4gIHJbMl0gPSBwWzJdICogTWF0aC5jb3MocmFkKSAtIHBbMF0gKiBNYXRoLnNpbihyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgei1heGlzXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIGIsIHJhZCkge1xuICB2YXIgcCA9IFtdLFxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG5cbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xuICBwWzFdID0gYVsxXSAtIGJbMV07XG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXG5cbiAgclswXSA9IHBbMF0gKiBNYXRoLmNvcyhyYWQpIC0gcFsxXSAqIE1hdGguc2luKHJhZCk7XG4gIHJbMV0gPSBwWzBdICogTWF0aC5zaW4ocmFkKSArIHBbMV0gKiBNYXRoLmNvcyhyYWQpO1xuICByWzJdID0gcFsyXTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYW5nbGUoYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdLFxuICAgICAgbWFnMSA9IE1hdGguc3FydChheCAqIGF4ICsgYXkgKiBheSArIGF6ICogYXopLFxuICAgICAgbWFnMiA9IE1hdGguc3FydChieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnopLFxuICAgICAgbWFnID0gbWFnMSAqIG1hZzIsXG4gICAgICBjb3NpbmUgPSBtYWcgJiYgZG90KGEsIGIpIC8gbWFnO1xuICByZXR1cm4gTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSk7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gemVyb1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJ2ZWMzKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZGl2ID0gZGl2aWRlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpc3QgPSBkaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmxlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcbi8qKlxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWMzcyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxuICogQHJldHVybnMge0FycmF5fSBhXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcbiAgICB2YXIgaSwgbDtcblxuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSAzO1xuICAgIH1cblxuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIGlmIChjb3VudCkge1xuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9O1xufSgpOyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogNCBEaW1lbnNpb25hbCBWZWN0b3JcbiAqIEBtb2R1bGUgdmVjNFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldywgZW1wdHkgdmVjNFxuICpcbiAqIEByZXR1cm5zIHt2ZWM0fSBhIG5ldyA0RCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzBdID0gMDtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjNCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWM0IGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSwgeiwgdykge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIG91dFszXSA9IHc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWM0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHksIHosIHcpIHtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgb3V0WzNdID0gdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICBvdXRbM10gPSBhWzNdICsgYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICBvdXRbM10gPSBhWzNdICogYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC8gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAvIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLyBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC8gYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICBvdXRbM10gPSBNYXRoLmNlaWwoYVszXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBmbG9vclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmbG9vcihvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5mbG9vcihhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5mbG9vcihhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5mbG9vcihhWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5mbG9vcihhWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xuICBvdXRbM10gPSBNYXRoLm1pbihhWzNdLCBiWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xuICBvdXRbM10gPSBNYXRoLm1heChhWzNdLCBiWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5yb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIHJvdW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLnJvdW5kKGFbMl0pO1xuICBvdXRbM10gPSBNYXRoLnJvdW5kKGFbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTY2FsZXMgYSB2ZWM0IGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgb3V0WzNdID0gYVszXSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzQncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgdmFyIHcgPSBiWzNdIC0gYVszXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeiwgdyk7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHZhciB3ID0gYlszXSAtIGFbM107XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgdyA9IGFbM107XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHosIHcpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgdyA9IGFbM107XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcbn1cbi8qKlxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBuZWdhdGUob3V0LCBhKSB7XG4gIG91dFswXSA9IC1hWzBdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgb3V0WzJdID0gLWFbMl07XG4gIG91dFszXSA9IC1hWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gaW52ZXJ0XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XG4gIG91dFswXSA9IDEuMCAvIGFbMF07XG4gIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gIG91dFsyXSA9IDEuMCAvIGFbMl07XG4gIG91dFszXSA9IDEuMCAvIGFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE5vcm1hbGl6ZSBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciB3ID0gYVszXTtcbiAgdmFyIGxlbiA9IHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3O1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICB9XG5cbiAgb3V0WzBdID0geCAqIGxlbjtcbiAgb3V0WzFdID0geSAqIGxlbjtcbiAgb3V0WzJdID0geiAqIGxlbjtcbiAgb3V0WzNdID0gdyAqIGxlbjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXSArIGFbM10gKiBiWzNdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjcm9zcy1wcm9kdWN0IG9mIHRocmVlIHZlY3RvcnMgaW4gYSA0LWRpbWVuc2lvbmFsIHNwYWNlXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IHJlc3VsdCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFUgdGhlIGZpcnN0IHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFYgdGhlIHNlY29uZCB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBXIHRoZSB0aGlyZCB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWM0fSByZXN1bHRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCB1LCB2LCB3KSB7XG4gIHZhciBBID0gdlswXSAqIHdbMV0gLSB2WzFdICogd1swXSxcbiAgICAgIEIgPSB2WzBdICogd1syXSAtIHZbMl0gKiB3WzBdLFxuICAgICAgQyA9IHZbMF0gKiB3WzNdIC0gdlszXSAqIHdbMF0sXG4gICAgICBEID0gdlsxXSAqIHdbMl0gLSB2WzJdICogd1sxXSxcbiAgICAgIEUgPSB2WzFdICogd1szXSAtIHZbM10gKiB3WzFdLFxuICAgICAgRiA9IHZbMl0gKiB3WzNdIC0gdlszXSAqIHdbMl07XG4gIHZhciBHID0gdVswXTtcbiAgdmFyIEggPSB1WzFdO1xuICB2YXIgSSA9IHVbMl07XG4gIHZhciBKID0gdVszXTtcbiAgb3V0WzBdID0gSCAqIEYgLSBJICogRSArIEogKiBEO1xuICBvdXRbMV0gPSAtKEcgKiBGKSArIEkgKiBDIC0gSiAqIEI7XG4gIG91dFsyXSA9IEcgKiBFIC0gSCAqIEMgKyBKICogQTtcbiAgb3V0WzNdID0gLShHICogRCkgKyBIICogQiAtIEkgKiBBO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAob3V0LCBhLCBiLCB0KSB7XG4gIHZhciBheCA9IGFbMF07XG4gIHZhciBheSA9IGFbMV07XG4gIHZhciBheiA9IGFbMl07XG4gIHZhciBhdyA9IGFbM107XG4gIG91dFswXSA9IGF4ICsgdCAqIChiWzBdIC0gYXgpO1xuICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcbiAgb3V0WzJdID0gYXogKyB0ICogKGJbMl0gLSBheik7XG4gIG91dFszXSA9IGF3ICsgdCAqIChiWzNdIC0gYXcpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb20ob3V0LCBzY2FsZSkge1xuICBzY2FsZSA9IHNjYWxlIHx8IDEuMDsgLy8gTWFyc2FnbGlhLCBHZW9yZ2UuIENob29zaW5nIGEgUG9pbnQgZnJvbSB0aGUgU3VyZmFjZSBvZiBhXG4gIC8vIFNwaGVyZS4gQW5uLiBNYXRoLiBTdGF0aXN0LiA0MyAoMTk3MiksIG5vLiAyLCA2NDUtLTY0Ni5cbiAgLy8gaHR0cDovL3Byb2plY3RldWNsaWQub3JnL2V1Y2xpZC5hb21zLzExNzc2OTI2NDQ7XG5cbiAgdmFyIHYxLCB2MiwgdjMsIHY0O1xuICB2YXIgczEsIHMyO1xuXG4gIGRvIHtcbiAgICB2MSA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XG4gICAgdjIgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xuICAgIHMxID0gdjEgKiB2MSArIHYyICogdjI7XG4gIH0gd2hpbGUgKHMxID49IDEpO1xuXG4gIGRvIHtcbiAgICB2MyA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XG4gICAgdjQgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xuICAgIHMyID0gdjMgKiB2MyArIHY0ICogdjQ7XG4gIH0gd2hpbGUgKHMyID49IDEpO1xuXG4gIHZhciBkID0gTWF0aC5zcXJ0KCgxIC0gczEpIC8gczIpO1xuICBvdXRbMF0gPSBzY2FsZSAqIHYxO1xuICBvdXRbMV0gPSBzY2FsZSAqIHYyO1xuICBvdXRbMl0gPSBzY2FsZSAqIHYzICogZDtcbiAgb3V0WzNdID0gc2NhbGUgKiB2NCAqIGQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzQgd2l0aCBhIG1hdDQuXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXSxcbiAgICAgIHcgPSBhWzNdO1xuICBvdXRbMF0gPSBtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSAqIHc7XG4gIG91dFsxXSA9IG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdICogdztcbiAgb3V0WzJdID0gbVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdICogdztcbiAgb3V0WzNdID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdICogdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjNCB3aXRoIGEgcXVhdFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCwgYSwgcSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICB2YXIgcXggPSBxWzBdLFxuICAgICAgcXkgPSBxWzFdLFxuICAgICAgcXogPSBxWzJdLFxuICAgICAgcXcgPSBxWzNdOyAvLyBjYWxjdWxhdGUgcXVhdCAqIHZlY1xuXG4gIHZhciBpeCA9IHF3ICogeCArIHF5ICogeiAtIHF6ICogeTtcbiAgdmFyIGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6O1xuICB2YXIgaXogPSBxdyAqIHogKyBxeCAqIHkgLSBxeSAqIHg7XG4gIHZhciBpdyA9IC1xeCAqIHggLSBxeSAqIHkgLSBxeiAqIHo7IC8vIGNhbGN1bGF0ZSByZXN1bHQgKiBpbnZlcnNlIHF1YXRcblxuICBvdXRbMF0gPSBpeCAqIHF3ICsgaXcgKiAtcXggKyBpeSAqIC1xeiAtIGl6ICogLXF5O1xuICBvdXRbMV0gPSBpeSAqIHF3ICsgaXcgKiAtcXkgKyBpeiAqIC1xeCAtIGl4ICogLXF6O1xuICBvdXRbMl0gPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4O1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0IHRvIHplcm9cbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xuICBvdXRbMF0gPSAwLjA7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICBvdXRbM10gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJ2ZWM0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5kaXZpZGV9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LmRpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zcXVhcmVkRGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWM0cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWM0LiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjNHMgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cbiAqIEByZXR1cm5zIHtBcnJheX0gYVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBmb3JFYWNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdmVjID0gY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAoYSwgc3RyaWRlLCBvZmZzZXQsIGNvdW50LCBmbiwgYXJnKSB7XG4gICAgdmFyIGksIGw7XG5cbiAgICBpZiAoIXN0cmlkZSkge1xuICAgICAgc3RyaWRlID0gNDtcbiAgICB9XG5cbiAgICBpZiAoIW9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoY291bnQpIHtcbiAgICAgIGwgPSBNYXRoLm1pbihjb3VudCAqIHN0cmlkZSArIG9mZnNldCwgYS5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIHZlY1swXSA9IGFbaV07XG4gICAgICB2ZWNbMV0gPSBhW2kgKyAxXTtcbiAgICAgIHZlY1syXSA9IGFbaSArIDJdO1xuICAgICAgdmVjWzNdID0gYVtpICsgM107XG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xuICAgICAgYVtpICsgM10gPSB2ZWNbM107XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH07XG59KCk7IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuaW1wb3J0ICogYXMgcXVhdCBmcm9tIFwiLi9xdWF0LmpzXCI7XG5pbXBvcnQgKiBhcyBtYXQ0IGZyb20gXCIuL21hdDQuanNcIjtcbi8qKlxuICogRHVhbCBRdWF0ZXJuaW9uPGJyPlxuICogRm9ybWF0OiBbcmVhbCwgZHVhbF08YnI+XG4gKiBRdWF0ZXJuaW9uIGZvcm1hdDogWFlaVzxicj5cbiAqIE1ha2Ugc3VyZSB0byBoYXZlIG5vcm1hbGl6ZWQgZHVhbCBxdWF0ZXJuaW9ucywgb3RoZXJ3aXNlIHRoZSBmdW5jdGlvbnMgbWF5IG5vdCB3b3JrIGFzIGludGVuZGVkLjxicj5cbiAqIEBtb2R1bGUgcXVhdDJcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgZHVhbCBxdWF0XG4gKlxuICogQHJldHVybnMge3F1YXQyfSBhIG5ldyBkdWFsIHF1YXRlcm5pb24gW3JlYWwgLT4gcm90YXRpb24sIGR1YWwgLT4gdHJhbnNsYXRpb25dXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIGRxID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOCk7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgZHFbMF0gPSAwO1xuICAgIGRxWzFdID0gMDtcbiAgICBkcVsyXSA9IDA7XG4gICAgZHFbNF0gPSAwO1xuICAgIGRxWzVdID0gMDtcbiAgICBkcVs2XSA9IDA7XG4gICAgZHFbN10gPSAwO1xuICB9XG5cbiAgZHFbM10gPSAxO1xuICByZXR1cm4gZHE7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcXVhdCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgZHVhbCBxdWF0ZXJuaW9uIHRvIGNsb25lXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG5ldyBkdWFsIHF1YXRlcm5pb25cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBkcSA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO1xuICBkcVswXSA9IGFbMF07XG4gIGRxWzFdID0gYVsxXTtcbiAgZHFbMl0gPSBhWzJdO1xuICBkcVszXSA9IGFbM107XG4gIGRxWzRdID0gYVs0XTtcbiAgZHFbNV0gPSBhWzVdO1xuICBkcVs2XSA9IGFbNl07XG4gIGRxWzddID0gYVs3XTtcbiAgcmV0dXJuIGRxO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGR1YWwgcXVhdCBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geDEgWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5MSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHoxIFogY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gdzEgVyBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB4MiBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkyIFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gejIgWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3MiBXIGNvbXBvbmVudFxuICogQHJldHVybnMge3F1YXQyfSBuZXcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4MSwgeTEsIHoxLCB3MSwgeDIsIHkyLCB6MiwgdzIpIHtcbiAgdmFyIGRxID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOCk7XG4gIGRxWzBdID0geDE7XG4gIGRxWzFdID0geTE7XG4gIGRxWzJdID0gejE7XG4gIGRxWzNdID0gdzE7XG4gIGRxWzRdID0geDI7XG4gIGRxWzVdID0geTI7XG4gIGRxWzZdID0gejI7XG4gIGRxWzddID0gdzI7XG4gIHJldHVybiBkcTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBkdWFsIHF1YXQgZnJvbSB0aGUgZ2l2ZW4gdmFsdWVzIChxdWF0IGFuZCB0cmFuc2xhdGlvbilcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geDEgWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5MSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHoxIFogY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gdzEgVyBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB4MiBYIGNvbXBvbmVudCAodHJhbnNsYXRpb24pXG4gKiBAcGFyYW0ge051bWJlcn0geTIgWSBjb21wb25lbnQgKHRyYW5zbGF0aW9uKVxuICogQHBhcmFtIHtOdW1iZXJ9IHoyIFogY29tcG9uZW50ICh0cmFuc2xhdGlvbilcbiAqIEByZXR1cm5zIHtxdWF0Mn0gbmV3IGR1YWwgcXVhdGVybmlvblxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uVmFsdWVzKHgxLCB5MSwgejEsIHcxLCB4MiwgeTIsIHoyKSB7XG4gIHZhciBkcSA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO1xuICBkcVswXSA9IHgxO1xuICBkcVsxXSA9IHkxO1xuICBkcVsyXSA9IHoxO1xuICBkcVszXSA9IHcxO1xuICB2YXIgYXggPSB4MiAqIDAuNSxcbiAgICAgIGF5ID0geTIgKiAwLjUsXG4gICAgICBheiA9IHoyICogMC41O1xuICBkcVs0XSA9IGF4ICogdzEgKyBheSAqIHoxIC0gYXogKiB5MTtcbiAgZHFbNV0gPSBheSAqIHcxICsgYXogKiB4MSAtIGF4ICogejE7XG4gIGRxWzZdID0gYXogKiB3MSArIGF4ICogeTEgLSBheSAqIHgxO1xuICBkcVs3XSA9IC1heCAqIHgxIC0gYXkgKiB5MSAtIGF6ICogejE7XG4gIHJldHVybiBkcTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGR1YWwgcXVhdCBmcm9tIGEgcXVhdGVybmlvbiBhbmQgYSB0cmFuc2xhdGlvblxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBhIG5vcm1hbGl6ZWQgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHQgdHJhbmxhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHtxdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBxLCB0KSB7XG4gIHZhciBheCA9IHRbMF0gKiAwLjUsXG4gICAgICBheSA9IHRbMV0gKiAwLjUsXG4gICAgICBheiA9IHRbMl0gKiAwLjUsXG4gICAgICBieCA9IHFbMF0sXG4gICAgICBieSA9IHFbMV0sXG4gICAgICBieiA9IHFbMl0sXG4gICAgICBidyA9IHFbM107XG4gIG91dFswXSA9IGJ4O1xuICBvdXRbMV0gPSBieTtcbiAgb3V0WzJdID0gYno7XG4gIG91dFszXSA9IGJ3O1xuICBvdXRbNF0gPSBheCAqIGJ3ICsgYXkgKiBieiAtIGF6ICogYnk7XG4gIG91dFs1XSA9IGF5ICogYncgKyBheiAqIGJ4IC0gYXggKiBiejtcbiAgb3V0WzZdID0gYXogKiBidyArIGF4ICogYnkgLSBheSAqIGJ4O1xuICBvdXRbN10gPSAtYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgZHVhbCBxdWF0IGZyb20gYSB0cmFuc2xhdGlvblxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdCB0cmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHtxdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdCkge1xuICBvdXRbMF0gPSAwO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAxO1xuICBvdXRbNF0gPSB0WzBdICogMC41O1xuICBvdXRbNV0gPSB0WzFdICogMC41O1xuICBvdXRbNl0gPSB0WzJdICogMC41O1xuICBvdXRbN10gPSAwO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgZHVhbCBxdWF0IGZyb20gYSBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBkdWFsIHF1YXRlcm5pb24gcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHRoZSBxdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7cXVhdDJ9IGR1YWwgcXVhdGVybmlvbiByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHEpIHtcbiAgb3V0WzBdID0gcVswXTtcbiAgb3V0WzFdID0gcVsxXTtcbiAgb3V0WzJdID0gcVsyXTtcbiAgb3V0WzNdID0gcVszXTtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBkdWFsIHF1YXQgZnJvbSBhIG1hdHJpeCAoNHg0KVxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4XG4gKiBAcmV0dXJucyB7cXVhdDJ9IGR1YWwgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21NYXQ0KG91dCwgYSkge1xuICAvL1RPRE8gT3B0aW1pemUgdGhpc1xuICB2YXIgb3V0ZXIgPSBxdWF0LmNyZWF0ZSgpO1xuICBtYXQ0LmdldFJvdGF0aW9uKG91dGVyLCBhKTtcbiAgdmFyIHQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgbWF0NC5nZXRUcmFuc2xhdGlvbih0LCBhKTtcbiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBvdXRlciwgdCk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBkdWFsIHF1YXQgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBzb3VyY2UgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCBhIGR1YWwgcXVhdCB0byB0aGUgaWRlbnRpdHkgZHVhbCBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XG4gIG91dFswXSA9IDA7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDE7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDA7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIGR1YWwgcXVhdCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHgxIFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geTEgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MSBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcxIFcgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geDIgWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5MiBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHoyIFogY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gdzIgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeDEsIHkxLCB6MSwgdzEsIHgyLCB5MiwgejIsIHcyKSB7XG4gIG91dFswXSA9IHgxO1xuICBvdXRbMV0gPSB5MTtcbiAgb3V0WzJdID0gejE7XG4gIG91dFszXSA9IHcxO1xuICBvdXRbNF0gPSB4MjtcbiAgb3V0WzVdID0geTI7XG4gIG91dFs2XSA9IHoyO1xuICBvdXRbN10gPSB3MjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2V0cyB0aGUgcmVhbCBwYXJ0IG9mIGEgZHVhbCBxdWF0XG4gKiBAcGFyYW0gIHtxdWF0fSBvdXQgcmVhbCBwYXJ0XG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvblxuICogQHJldHVybiB7cXVhdH0gcmVhbCBwYXJ0XG4gKi9cblxuZXhwb3J0IHZhciBnZXRSZWFsID0gcXVhdC5jb3B5O1xuLyoqXG4gKiBHZXRzIHRoZSBkdWFsIHBhcnQgb2YgYSBkdWFsIHF1YXRcbiAqIEBwYXJhbSAge3F1YXR9IG91dCBkdWFsIHBhcnRcbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXG4gKiBAcmV0dXJuIHtxdWF0fSBkdWFsIHBhcnRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RHVhbChvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVs0XTtcbiAgb3V0WzFdID0gYVs1XTtcbiAgb3V0WzJdID0gYVs2XTtcbiAgb3V0WzNdID0gYVs3XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSByZWFsIGNvbXBvbmVudCBvZiBhIGR1YWwgcXVhdCB0byB0aGUgZ2l2ZW4gcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJlYWwgcGFydFxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc2V0UmVhbCA9IHF1YXQuY29weTtcbi8qKlxuICogU2V0IHRoZSBkdWFsIGNvbXBvbmVudCBvZiBhIGR1YWwgcXVhdCB0byB0aGUgZ2l2ZW4gcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIGR1YWwgcGFydFxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXREdWFsKG91dCwgcSkge1xuICBvdXRbNF0gPSBxWzBdO1xuICBvdXRbNV0gPSBxWzFdO1xuICBvdXRbNl0gPSBxWzJdO1xuICBvdXRbN10gPSBxWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZXRzIHRoZSB0cmFuc2xhdGlvbiBvZiBhIG5vcm1hbGl6ZWQgZHVhbCBxdWF0XG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgdHJhbnNsYXRpb25cbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uIHRvIGJlIGRlY29tcG9zZWRcbiAqIEByZXR1cm4ge3ZlYzN9IHRyYW5zbGF0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKG91dCwgYSkge1xuICB2YXIgYXggPSBhWzRdLFxuICAgICAgYXkgPSBhWzVdLFxuICAgICAgYXogPSBhWzZdLFxuICAgICAgYXcgPSBhWzddLFxuICAgICAgYnggPSAtYVswXSxcbiAgICAgIGJ5ID0gLWFbMV0sXG4gICAgICBieiA9IC1hWzJdLFxuICAgICAgYncgPSBhWzNdO1xuICBvdXRbMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyO1xuICBvdXRbMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyO1xuICBvdXRbMl0gPSAoYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCkgKiAyO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2xhdGVzIGEgZHVhbCBxdWF0IGJ5IHRoZSBnaXZlbiB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHRyYW5zbGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xuICB2YXIgYXgxID0gYVswXSxcbiAgICAgIGF5MSA9IGFbMV0sXG4gICAgICBhejEgPSBhWzJdLFxuICAgICAgYXcxID0gYVszXSxcbiAgICAgIGJ4MSA9IHZbMF0gKiAwLjUsXG4gICAgICBieTEgPSB2WzFdICogMC41LFxuICAgICAgYnoxID0gdlsyXSAqIDAuNSxcbiAgICAgIGF4MiA9IGFbNF0sXG4gICAgICBheTIgPSBhWzVdLFxuICAgICAgYXoyID0gYVs2XSxcbiAgICAgIGF3MiA9IGFbN107XG4gIG91dFswXSA9IGF4MTtcbiAgb3V0WzFdID0gYXkxO1xuICBvdXRbMl0gPSBhejE7XG4gIG91dFszXSA9IGF3MTtcbiAgb3V0WzRdID0gYXcxICogYngxICsgYXkxICogYnoxIC0gYXoxICogYnkxICsgYXgyO1xuICBvdXRbNV0gPSBhdzEgKiBieTEgKyBhejEgKiBieDEgLSBheDEgKiBiejEgKyBheTI7XG4gIG91dFs2XSA9IGF3MSAqIGJ6MSArIGF4MSAqIGJ5MSAtIGF5MSAqIGJ4MSArIGF6MjtcbiAgb3V0WzddID0gLWF4MSAqIGJ4MSAtIGF5MSAqIGJ5MSAtIGF6MSAqIGJ6MSArIGF3MjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBhcm91bmQgdGhlIFggYXhpc1xuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGhvdyBmYXIgc2hvdWxkIHRoZSByb3RhdGlvbiBiZVxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIHJhZCkge1xuICB2YXIgYnggPSAtYVswXSxcbiAgICAgIGJ5ID0gLWFbMV0sXG4gICAgICBieiA9IC1hWzJdLFxuICAgICAgYncgPSBhWzNdLFxuICAgICAgYXggPSBhWzRdLFxuICAgICAgYXkgPSBhWzVdLFxuICAgICAgYXogPSBhWzZdLFxuICAgICAgYXcgPSBhWzddLFxuICAgICAgYXgxID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSxcbiAgICAgIGF5MSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnosXG4gICAgICBhejEgPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4LFxuICAgICAgYXcxID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcbiAgcXVhdC5yb3RhdGVYKG91dCwgYSwgcmFkKTtcbiAgYnggPSBvdXRbMF07XG4gIGJ5ID0gb3V0WzFdO1xuICBieiA9IG91dFsyXTtcbiAgYncgPSBvdXRbM107XG4gIG91dFs0XSA9IGF4MSAqIGJ3ICsgYXcxICogYnggKyBheTEgKiBieiAtIGF6MSAqIGJ5O1xuICBvdXRbNV0gPSBheTEgKiBidyArIGF3MSAqIGJ5ICsgYXoxICogYnggLSBheDEgKiBiejtcbiAgb3V0WzZdID0gYXoxICogYncgKyBhdzEgKiBieiArIGF4MSAqIGJ5IC0gYXkxICogYng7XG4gIG91dFs3XSA9IGF3MSAqIGJ3IC0gYXgxICogYnggLSBheTEgKiBieSAtIGF6MSAqIGJ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgZHVhbCBxdWF0IGFyb3VuZCB0aGUgWSBheGlzXG4gKlxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgaG93IGZhciBzaG91bGQgdGhlIHJvdGF0aW9uIGJlXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgcmFkKSB7XG4gIHZhciBieCA9IC1hWzBdLFxuICAgICAgYnkgPSAtYVsxXSxcbiAgICAgIGJ6ID0gLWFbMl0sXG4gICAgICBidyA9IGFbM10sXG4gICAgICBheCA9IGFbNF0sXG4gICAgICBheSA9IGFbNV0sXG4gICAgICBheiA9IGFbNl0sXG4gICAgICBhdyA9IGFbN10sXG4gICAgICBheDEgPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5LFxuICAgICAgYXkxID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieixcbiAgICAgIGF6MSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngsXG4gICAgICBhdzEgPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xuICBxdWF0LnJvdGF0ZVkob3V0LCBhLCByYWQpO1xuICBieCA9IG91dFswXTtcbiAgYnkgPSBvdXRbMV07XG4gIGJ6ID0gb3V0WzJdO1xuICBidyA9IG91dFszXTtcbiAgb3V0WzRdID0gYXgxICogYncgKyBhdzEgKiBieCArIGF5MSAqIGJ6IC0gYXoxICogYnk7XG4gIG91dFs1XSA9IGF5MSAqIGJ3ICsgYXcxICogYnkgKyBhejEgKiBieCAtIGF4MSAqIGJ6O1xuICBvdXRbNl0gPSBhejEgKiBidyArIGF3MSAqIGJ6ICsgYXgxICogYnkgLSBheTEgKiBieDtcbiAgb3V0WzddID0gYXcxICogYncgLSBheDEgKiBieCAtIGF5MSAqIGJ5IC0gYXoxICogYno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYXJvdW5kIHRoZSBaIGF4aXNcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBob3cgZmFyIHNob3VsZCB0aGUgcm90YXRpb24gYmVcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCByYWQpIHtcbiAgdmFyIGJ4ID0gLWFbMF0sXG4gICAgICBieSA9IC1hWzFdLFxuICAgICAgYnogPSAtYVsyXSxcbiAgICAgIGJ3ID0gYVszXSxcbiAgICAgIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XSxcbiAgICAgIGF4MSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnksXG4gICAgICBheTEgPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6LFxuICAgICAgYXoxID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCxcbiAgICAgIGF3MSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XG4gIHF1YXQucm90YXRlWihvdXQsIGEsIHJhZCk7XG4gIGJ4ID0gb3V0WzBdO1xuICBieSA9IG91dFsxXTtcbiAgYnogPSBvdXRbMl07XG4gIGJ3ID0gb3V0WzNdO1xuICBvdXRbNF0gPSBheDEgKiBidyArIGF3MSAqIGJ4ICsgYXkxICogYnogLSBhejEgKiBieTtcbiAgb3V0WzVdID0gYXkxICogYncgKyBhdzEgKiBieSArIGF6MSAqIGJ4IC0gYXgxICogYno7XG4gIG91dFs2XSA9IGF6MSAqIGJ3ICsgYXcxICogYnogKyBheDEgKiBieSAtIGF5MSAqIGJ4O1xuICBvdXRbN10gPSBhdzEgKiBidyAtIGF4MSAqIGJ4IC0gYXkxICogYnkgLSBhejEgKiBiejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBieSBhIGdpdmVuIHF1YXRlcm5pb24gKGEgKiBxKVxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHJvdGF0ZSBieVxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQnlRdWF0QXBwZW5kKG91dCwgYSwgcSkge1xuICB2YXIgcXggPSBxWzBdLFxuICAgICAgcXkgPSBxWzFdLFxuICAgICAgcXogPSBxWzJdLFxuICAgICAgcXcgPSBxWzNdLFxuICAgICAgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYXcgPSBhWzNdO1xuICBvdXRbMF0gPSBheCAqIHF3ICsgYXcgKiBxeCArIGF5ICogcXogLSBheiAqIHF5O1xuICBvdXRbMV0gPSBheSAqIHF3ICsgYXcgKiBxeSArIGF6ICogcXggLSBheCAqIHF6O1xuICBvdXRbMl0gPSBheiAqIHF3ICsgYXcgKiBxeiArIGF4ICogcXkgLSBheSAqIHF4O1xuICBvdXRbM10gPSBhdyAqIHF3IC0gYXggKiBxeCAtIGF5ICogcXkgLSBheiAqIHF6O1xuICBheCA9IGFbNF07XG4gIGF5ID0gYVs1XTtcbiAgYXogPSBhWzZdO1xuICBhdyA9IGFbN107XG4gIG91dFs0XSA9IGF4ICogcXcgKyBhdyAqIHF4ICsgYXkgKiBxeiAtIGF6ICogcXk7XG4gIG91dFs1XSA9IGF5ICogcXcgKyBhdyAqIHF5ICsgYXogKiBxeCAtIGF4ICogcXo7XG4gIG91dFs2XSA9IGF6ICogcXcgKyBhdyAqIHF6ICsgYXggKiBxeSAtIGF5ICogcXg7XG4gIG91dFs3XSA9IGF3ICogcXcgLSBheCAqIHF4IC0gYXkgKiBxeSAtIGF6ICogcXo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYnkgYSBnaXZlbiBxdWF0ZXJuaW9uIChxICogYSlcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gcm90YXRlIGJ5XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUJ5UXVhdFByZXBlbmQob3V0LCBxLCBhKSB7XG4gIHZhciBxeCA9IHFbMF0sXG4gICAgICBxeSA9IHFbMV0sXG4gICAgICBxeiA9IHFbMl0sXG4gICAgICBxdyA9IHFbM10sXG4gICAgICBieCA9IGFbMF0sXG4gICAgICBieSA9IGFbMV0sXG4gICAgICBieiA9IGFbMl0sXG4gICAgICBidyA9IGFbM107XG4gIG91dFswXSA9IHF4ICogYncgKyBxdyAqIGJ4ICsgcXkgKiBieiAtIHF6ICogYnk7XG4gIG91dFsxXSA9IHF5ICogYncgKyBxdyAqIGJ5ICsgcXogKiBieCAtIHF4ICogYno7XG4gIG91dFsyXSA9IHF6ICogYncgKyBxdyAqIGJ6ICsgcXggKiBieSAtIHF5ICogYng7XG4gIG91dFszXSA9IHF3ICogYncgLSBxeCAqIGJ4IC0gcXkgKiBieSAtIHF6ICogYno7XG4gIGJ4ID0gYVs0XTtcbiAgYnkgPSBhWzVdO1xuICBieiA9IGFbNl07XG4gIGJ3ID0gYVs3XTtcbiAgb3V0WzRdID0gcXggKiBidyArIHF3ICogYnggKyBxeSAqIGJ6IC0gcXogKiBieTtcbiAgb3V0WzVdID0gcXkgKiBidyArIHF3ICogYnkgKyBxeiAqIGJ4IC0gcXggKiBiejtcbiAgb3V0WzZdID0gcXogKiBidyArIHF3ICogYnogKyBxeCAqIGJ5IC0gcXkgKiBieDtcbiAgb3V0WzddID0gcXcgKiBidyAtIHF4ICogYnggLSBxeSAqIGJ5IC0gcXogKiBiejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBhcm91bmQgYSBnaXZlbiBheGlzLiBEb2VzIHRoZSBub3JtYWxpc2F0aW9uIGF1dG9tYXRpY2FsbHlcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBob3cgZmFyIHRoZSByb3RhdGlvbiBzaG91bGQgYmVcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUFyb3VuZEF4aXMob3V0LCBhLCBheGlzLCByYWQpIHtcbiAgLy9TcGVjaWFsIGNhc2UgZm9yIHJhZCA9IDBcbiAgaWYgKE1hdGguYWJzKHJhZCkgPCBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgcmV0dXJuIGNvcHkob3V0LCBhKTtcbiAgfVxuXG4gIHZhciBheGlzTGVuZ3RoID0gTWF0aC5oeXBvdChheGlzWzBdLCBheGlzWzFdLCBheGlzWzJdKTtcbiAgcmFkID0gcmFkICogMC41O1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBieCA9IHMgKiBheGlzWzBdIC8gYXhpc0xlbmd0aDtcbiAgdmFyIGJ5ID0gcyAqIGF4aXNbMV0gLyBheGlzTGVuZ3RoO1xuICB2YXIgYnogPSBzICogYXhpc1syXSAvIGF4aXNMZW5ndGg7XG4gIHZhciBidyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBheDEgPSBhWzBdLFxuICAgICAgYXkxID0gYVsxXSxcbiAgICAgIGF6MSA9IGFbMl0sXG4gICAgICBhdzEgPSBhWzNdO1xuICBvdXRbMF0gPSBheDEgKiBidyArIGF3MSAqIGJ4ICsgYXkxICogYnogLSBhejEgKiBieTtcbiAgb3V0WzFdID0gYXkxICogYncgKyBhdzEgKiBieSArIGF6MSAqIGJ4IC0gYXgxICogYno7XG4gIG91dFsyXSA9IGF6MSAqIGJ3ICsgYXcxICogYnogKyBheDEgKiBieSAtIGF5MSAqIGJ4O1xuICBvdXRbM10gPSBhdzEgKiBidyAtIGF4MSAqIGJ4IC0gYXkxICogYnkgLSBhejEgKiBiejtcbiAgdmFyIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XTtcbiAgb3V0WzRdID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieTtcbiAgb3V0WzVdID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBiejtcbiAgb3V0WzZdID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieDtcbiAgb3V0WzddID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gZHVhbCBxdWF0J3NcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICBvdXRbN10gPSBhWzddICsgYls3XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gZHVhbCBxdWF0J3NcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBheDAgPSBhWzBdLFxuICAgICAgYXkwID0gYVsxXSxcbiAgICAgIGF6MCA9IGFbMl0sXG4gICAgICBhdzAgPSBhWzNdLFxuICAgICAgYngxID0gYls0XSxcbiAgICAgIGJ5MSA9IGJbNV0sXG4gICAgICBiejEgPSBiWzZdLFxuICAgICAgYncxID0gYls3XSxcbiAgICAgIGF4MSA9IGFbNF0sXG4gICAgICBheTEgPSBhWzVdLFxuICAgICAgYXoxID0gYVs2XSxcbiAgICAgIGF3MSA9IGFbN10sXG4gICAgICBieDAgPSBiWzBdLFxuICAgICAgYnkwID0gYlsxXSxcbiAgICAgIGJ6MCA9IGJbMl0sXG4gICAgICBidzAgPSBiWzNdO1xuICBvdXRbMF0gPSBheDAgKiBidzAgKyBhdzAgKiBieDAgKyBheTAgKiBiejAgLSBhejAgKiBieTA7XG4gIG91dFsxXSA9IGF5MCAqIGJ3MCArIGF3MCAqIGJ5MCArIGF6MCAqIGJ4MCAtIGF4MCAqIGJ6MDtcbiAgb3V0WzJdID0gYXowICogYncwICsgYXcwICogYnowICsgYXgwICogYnkwIC0gYXkwICogYngwO1xuICBvdXRbM10gPSBhdzAgKiBidzAgLSBheDAgKiBieDAgLSBheTAgKiBieTAgLSBhejAgKiBiejA7XG4gIG91dFs0XSA9IGF4MCAqIGJ3MSArIGF3MCAqIGJ4MSArIGF5MCAqIGJ6MSAtIGF6MCAqIGJ5MSArIGF4MSAqIGJ3MCArIGF3MSAqIGJ4MCArIGF5MSAqIGJ6MCAtIGF6MSAqIGJ5MDtcbiAgb3V0WzVdID0gYXkwICogYncxICsgYXcwICogYnkxICsgYXowICogYngxIC0gYXgwICogYnoxICsgYXkxICogYncwICsgYXcxICogYnkwICsgYXoxICogYngwIC0gYXgxICogYnowO1xuICBvdXRbNl0gPSBhejAgKiBidzEgKyBhdzAgKiBiejEgKyBheDAgKiBieTEgLSBheTAgKiBieDEgKyBhejEgKiBidzAgKyBhdzEgKiBiejAgKyBheDEgKiBieTAgLSBheTEgKiBieDA7XG4gIG91dFs3XSA9IGF3MCAqIGJ3MSAtIGF4MCAqIGJ4MSAtIGF5MCAqIGJ5MSAtIGF6MCAqIGJ6MSArIGF3MSAqIGJ3MCAtIGF4MSAqIGJ4MCAtIGF5MSAqIGJ5MCAtIGF6MSAqIGJ6MDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Mi5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIFNjYWxlcyBhIGR1YWwgcXVhdCBieSBhIHNjYWxhciBudW1iZXJcbiAqXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0IHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIGR1YWwgcXVhdCBieVxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgb3V0WzNdID0gYVszXSAqIGI7XG4gIG91dFs0XSA9IGFbNF0gKiBiO1xuICBvdXRbNV0gPSBhWzVdICogYjtcbiAgb3V0WzZdID0gYVs2XSAqIGI7XG4gIG91dFs3XSA9IGFbN10gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gZHVhbCBxdWF0J3MgKFRoZSBkb3QgcHJvZHVjdCBvZiB0aGUgcmVhbCBwYXJ0cylcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZG90ID0gcXVhdC5kb3Q7XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gZHVhbCBxdWF0cydzXG4gKiBOT1RFOiBUaGUgcmVzdWx0aW5nIGR1YWwgcXVhdGVybmlvbnMgd29uJ3QgYWx3YXlzIGJlIG5vcm1hbGl6ZWQgKFRoZSBlcnJvciBpcyBtb3N0IG5vdGljZWFibGUgd2hlbiB0ID0gMC41KVxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xuICB2YXIgbXQgPSAxIC0gdDtcbiAgaWYgKGRvdChhLCBiKSA8IDApIHQgPSAtdDtcbiAgb3V0WzBdID0gYVswXSAqIG10ICsgYlswXSAqIHQ7XG4gIG91dFsxXSA9IGFbMV0gKiBtdCArIGJbMV0gKiB0O1xuICBvdXRbMl0gPSBhWzJdICogbXQgKyBiWzJdICogdDtcbiAgb3V0WzNdID0gYVszXSAqIG10ICsgYlszXSAqIHQ7XG4gIG91dFs0XSA9IGFbNF0gKiBtdCArIGJbNF0gKiB0O1xuICBvdXRbNV0gPSBhWzVdICogbXQgKyBiWzVdICogdDtcbiAgb3V0WzZdID0gYVs2XSAqIG10ICsgYls2XSAqIHQ7XG4gIG91dFs3XSA9IGFbN10gKiBtdCArIGJbN10gKiB0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBpbnZlcnNlIG9mIGEgZHVhbCBxdWF0LiBJZiB0aGV5IGFyZSBub3JtYWxpemVkLCBjb25qdWdhdGUgaXMgY2hlYXBlclxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdCB0byBjYWxjdWxhdGUgaW52ZXJzZSBvZlxuICogQHJldHVybnMge3F1YXQyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xuICB2YXIgc3FsZW4gPSBzcXVhcmVkTGVuZ3RoKGEpO1xuICBvdXRbMF0gPSAtYVswXSAvIHNxbGVuO1xuICBvdXRbMV0gPSAtYVsxXSAvIHNxbGVuO1xuICBvdXRbMl0gPSAtYVsyXSAvIHNxbGVuO1xuICBvdXRbM10gPSBhWzNdIC8gc3FsZW47XG4gIG91dFs0XSA9IC1hWzRdIC8gc3FsZW47XG4gIG91dFs1XSA9IC1hWzVdIC8gc3FsZW47XG4gIG91dFs2XSA9IC1hWzZdIC8gc3FsZW47XG4gIG91dFs3XSA9IGFbN10gLyBzcWxlbjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgY29uanVnYXRlIG9mIGEgZHVhbCBxdWF0XG4gKiBJZiB0aGUgZHVhbCBxdWF0ZXJuaW9uIGlzIG5vcm1hbGl6ZWQsIHRoaXMgZnVuY3Rpb24gaXMgZmFzdGVyIHRoYW4gcXVhdDIuaW52ZXJzZSBhbmQgcHJvZHVjZXMgdGhlIHNhbWUgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBxdWF0IHRvIGNhbGN1bGF0ZSBjb25qdWdhdGUgb2ZcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbmp1Z2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gLWFbNF07XG4gIG91dFs1XSA9IC1hWzVdO1xuICBvdXRbNl0gPSAtYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgZHVhbCBxdWF0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdCB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBsZW5ndGggPSBxdWF0Lmxlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Mi5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSBkdWFsIHF1YXRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgZHVhbCBxdWF0IHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXVhcmVkTGVuZ3RoID0gcXVhdC5zcXVhcmVkTGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQyLnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIE5vcm1hbGl6ZSBhIGR1YWwgcXVhdFxuICpcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdGVybmlvbiB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgbWFnbml0dWRlID0gc3F1YXJlZExlbmd0aChhKTtcblxuICBpZiAobWFnbml0dWRlID4gMCkge1xuICAgIG1hZ25pdHVkZSA9IE1hdGguc3FydChtYWduaXR1ZGUpO1xuICAgIHZhciBhMCA9IGFbMF0gLyBtYWduaXR1ZGU7XG4gICAgdmFyIGExID0gYVsxXSAvIG1hZ25pdHVkZTtcbiAgICB2YXIgYTIgPSBhWzJdIC8gbWFnbml0dWRlO1xuICAgIHZhciBhMyA9IGFbM10gLyBtYWduaXR1ZGU7XG4gICAgdmFyIGIwID0gYVs0XTtcbiAgICB2YXIgYjEgPSBhWzVdO1xuICAgIHZhciBiMiA9IGFbNl07XG4gICAgdmFyIGIzID0gYVs3XTtcbiAgICB2YXIgYV9kb3RfYiA9IGEwICogYjAgKyBhMSAqIGIxICsgYTIgKiBiMiArIGEzICogYjM7XG4gICAgb3V0WzBdID0gYTA7XG4gICAgb3V0WzFdID0gYTE7XG4gICAgb3V0WzJdID0gYTI7XG4gICAgb3V0WzNdID0gYTM7XG4gICAgb3V0WzRdID0gKGIwIC0gYTAgKiBhX2RvdF9iKSAvIG1hZ25pdHVkZTtcbiAgICBvdXRbNV0gPSAoYjEgLSBhMSAqIGFfZG90X2IpIC8gbWFnbml0dWRlO1xuICAgIG91dFs2XSA9IChiMiAtIGEyICogYV9kb3RfYikgLyBtYWduaXR1ZGU7XG4gICAgb3V0WzddID0gKGIzIC0gYTMgKiBhX2RvdF9iKSAvIG1hZ25pdHVkZTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBkdWFsIHF1YXRlbmlvblxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXRlcm5pb24gdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGR1YWwgcXVhdFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJxdWF0MihcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGR1YWwgcXVhdGVybmlvbnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3QgZHVhbCBxdWF0ZXJuaW9uLlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBiIHRoZSBzZWNvbmQgZHVhbCBxdWF0ZXJuaW9uLlxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgdGhlIGR1YWwgcXVhdGVybmlvbnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgZHVhbCBxdWF0ZXJuaW9ucyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBmaXJzdCBkdWFsIHF1YXQuXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGIgdGhlIHNlY29uZCBkdWFsIHF1YXQuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgZHVhbCBxdWF0cyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXSxcbiAgICAgIGE0ID0gYVs0XSxcbiAgICAgIGE1ID0gYVs1XSxcbiAgICAgIGE2ID0gYVs2XSxcbiAgICAgIGE3ID0gYVs3XTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXSxcbiAgICAgIGI0ID0gYls0XSxcbiAgICAgIGI1ID0gYls1XSxcbiAgICAgIGI2ID0gYls2XSxcbiAgICAgIGI3ID0gYls3XTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJiBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiYgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJiBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSk7XG59IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiAyIERpbWVuc2lvbmFsIFZlY3RvclxuICogQG1vZHVsZSB2ZWMyXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMyXG4gKlxuICogQHJldHVybnMge3ZlYzJ9IGEgbmV3IDJEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgyKTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzIgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gY2xvbmVcbiAqIEByZXR1cm5zIHt2ZWMyfSBhIG5ldyAyRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMik7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMiBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWMyfSBhIG5ldyAyRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgyKTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzIgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgc291cmNlIHZlY3RvclxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyIHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHkpIHtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyB2ZWN0b3IgYiBmcm9tIHZlY3RvciBhXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC8gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAvIGJbMV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguY2VpbCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzJcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIGNlaWxcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHZlY3RvciB0byBmbG9vclxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmbG9vcihvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5mbG9vcihhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5mbG9vcihhWzFdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMlxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gcm91bmRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGgucm91bmQoYVswXSk7XG4gIG91dFsxXSA9IE1hdGgucm91bmQoYVsxXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyBhIHZlYzIgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzIncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXSxcbiAgICAgIHkgPSBiWzFdIC0gYVsxXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSk7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF0sXG4gICAgICB5ID0gYlsxXSAtIGFbMV07XG4gIHJldHVybiB4ICogeCArIHkgKiB5O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5KTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV07XG4gIHJldHVybiB4ICogeCArIHkgKiB5O1xufVxuLyoqXG4gKiBOZWdhdGVzIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMlxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gbmVnYXRlXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMlxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gaW52ZXJ0XG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XG4gIG91dFswXSA9IDEuMCAvIGFbMF07XG4gIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE5vcm1hbGl6ZSBhIHZlYzJcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeTtcblxuICBpZiAobGVuID4gMCkge1xuICAgIC8vVE9ETzogZXZhbHVhdGUgdXNlIG9mIGdsbV9pbnZzcXJ0IGhlcmU/XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICB9XG5cbiAgb3V0WzBdID0gYVswXSAqIGxlbjtcbiAgb3V0WzFdID0gYVsxXSAqIGxlbjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV07XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHR3byB2ZWMyJ3NcbiAqIE5vdGUgdGhhdCB0aGUgY3Jvc3MgcHJvZHVjdCBtdXN0IGJ5IGRlZmluaXRpb24gcHJvZHVjZSBhIDNEIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgYSwgYikge1xuICB2YXIgeiA9IGFbMF0gKiBiWzFdIC0gYVsxXSAqIGJbMF07XG4gIG91dFswXSA9IG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb20ob3V0LCBzY2FsZSkge1xuICBzY2FsZSA9IHNjYWxlIHx8IDEuMDtcbiAgdmFyIHIgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIuMCAqIE1hdGguUEk7XG4gIG91dFswXSA9IE1hdGguY29zKHIpICogc2NhbGU7XG4gIG91dFsxXSA9IE1hdGguc2luKHIpICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzIgd2l0aCBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQyKG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXTtcbiAgb3V0WzBdID0gbVswXSAqIHggKyBtWzJdICogeTtcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzNdICogeTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMiB3aXRoIGEgbWF0MmRcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MmQob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdO1xuICBvdXRbMF0gPSBtWzBdICogeCArIG1bMl0gKiB5ICsgbVs0XTtcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzNdICogeSArIG1bNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzIgd2l0aCBhIG1hdDNcbiAqIDNyZCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzEnXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV07XG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVszXSAqIHkgKyBtWzZdO1xuICBvdXRbMV0gPSBtWzFdICogeCArIG1bNF0gKiB5ICsgbVs3XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMiB3aXRoIGEgbWF0NFxuICogM3JkIHZlY3RvciBjb21wb25lbnQgaXMgaW1wbGljaXRseSAnMCdcbiAqIDR0aCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzEnXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzEyXTtcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzVdICogeSArIG1bMTNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAyRCB2ZWN0b3JcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IFRoZSByZWNlaXZpbmcgdmVjMlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgVGhlIHZlYzIgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUob3V0LCBhLCBiLCByYWQpIHtcbiAgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuICB2YXIgcDAgPSBhWzBdIC0gYlswXSxcbiAgICAgIHAxID0gYVsxXSAtIGJbMV0sXG4gICAgICBzaW5DID0gTWF0aC5zaW4ocmFkKSxcbiAgICAgIGNvc0MgPSBNYXRoLmNvcyhyYWQpOyAvL3BlcmZvcm0gcm90YXRpb24gYW5kIHRyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gcDAgKiBjb3NDIC0gcDEgKiBzaW5DICsgYlswXTtcbiAgb3V0WzFdID0gcDAgKiBzaW5DICsgcDEgKiBjb3NDICsgYlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2V0IHRoZSBhbmdsZSBiZXR3ZWVuIHR3byAyRCB2ZWN0b3JzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSBUaGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgVGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYW5nbGUgaW4gcmFkaWFuc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhbmdsZShhLCBiKSB7XG4gIHZhciB4MSA9IGFbMF0sXG4gICAgICB5MSA9IGFbMV0sXG4gICAgICB4MiA9IGJbMF0sXG4gICAgICB5MiA9IGJbMV0sXG4gICAgICAvLyBtYWcgaXMgdGhlIHByb2R1Y3Qgb2YgdGhlIG1hZ25pdHVkZXMgb2YgYSBhbmQgYlxuICBtYWcgPSBNYXRoLnNxcnQoeDEgKiB4MSArIHkxICogeTEpICogTWF0aC5zcXJ0KHgyICogeDIgKyB5MiAqIHkyKSxcbiAgICAgIC8vIG1hZyAmJi4uIHNob3J0IGNpcmN1aXRzIGlmIG1hZyA9PSAwXG4gIGNvc2luZSA9IG1hZyAmJiAoeDEgKiB4MiArIHkxICogeTIpIC8gbWFnOyAvLyBNYXRoLm1pbihNYXRoLm1heChjb3NpbmUsIC0xKSwgMSkgY2xhbXBzIHRoZSBjb3NpbmUgYmV0d2VlbiAtMSBhbmQgMVxuXG4gIHJldHVybiBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgoY29zaW5lLCAtMSksIDEpKTtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMiB0byB6ZXJvXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gemVybyhvdXQpIHtcbiAgb3V0WzBdID0gMC4wO1xuICBvdXRbMV0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJ2ZWMyKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIilcIjtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBleGFjdGx5IGhhdmUgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpO1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzIubGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMi5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMi5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMi5kaXZpZGV9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLmRpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMi5zcXVhcmVkRGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMi5zcXVhcmVkTGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuLyoqXG4gKiBQZXJmb3JtIHNvbWUgb3BlcmF0aW9uIG92ZXIgYW4gYXJyYXkgb2YgdmVjMnMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgYXJyYXkgb2YgdmVjdG9ycyB0byBpdGVyYXRlIG92ZXJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdHJpZGUgTnVtYmVyIG9mIGVsZW1lbnRzIGJldHdlZW4gdGhlIHN0YXJ0IG9mIGVhY2ggdmVjMi4gSWYgMCBhc3N1bWVzIHRpZ2h0bHkgcGFja2VkXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XG4gKiBAcGFyYW0ge051bWJlcn0gY291bnQgTnVtYmVyIG9mIHZlYzJzIHRvIGl0ZXJhdGUgb3Zlci4gSWYgMCBpdGVyYXRlcyBvdmVyIGVudGlyZSBhcnJheVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCB2ZWN0b3IgaW4gdGhlIGFycmF5XG4gKiBAcGFyYW0ge09iamVjdH0gW2FyZ10gYWRkaXRpb25hbCBhcmd1bWVudCB0byBwYXNzIHRvIGZuXG4gKiBAcmV0dXJucyB7QXJyYXl9IGFcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgIHZhciBpLCBsO1xuXG4gICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgIHN0cmlkZSA9IDI7XG4gICAgfVxuXG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IGEubGVuZ3RoO1xuICAgIH1cblxuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGw7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2ZWNbMF0gPSBhW2ldO1xuICAgICAgdmVjWzFdID0gYVtpICsgMV07XG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfTtcbn0oKTsiLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dENvbXBvbmVudCB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGlcIjtcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSBcIkB3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzXCI7XG5pbXBvcnQgeyB2ZWMzIH0gZnJvbSBcImdsLW1hdHJpeFwiO1xuZXhwb3J0IGNsYXNzIFNuYXBSb3RhdGUgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9IFwic25hcC1yb3RhdGVcIjtcbiAgICBwbGF5ZXI7XG4gICAgZGVncmVlcztcbiAgICBpbnB1dCA9IG51bGw7XG4gICAgc25hcHBlZCA9IGZhbHNlO1xuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmlucHV0ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KElucHV0Q29tcG9uZW50KTtcbiAgICAgICAgdGhpcy5zbmFwcGVkID0gZmFsc2U7XG4gICAgfVxuICAgIHVwZGF0ZShkdCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5wdXQgfHxcbiAgICAgICAgICAgICF0aGlzLmlucHV0LnhySW5wdXRTb3VyY2UgfHxcbiAgICAgICAgICAgICF0aGlzLmlucHV0LnhySW5wdXRTb3VyY2UuZ2FtZXBhZCB8fFxuICAgICAgICAgICAgIXRoaXMuaW5wdXQueHJJbnB1dFNvdXJjZS5nYW1lcGFkLmF4ZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50QXhpcyA9IHRoaXMuaW5wdXQueHJJbnB1dFNvdXJjZS5nYW1lcGFkLmF4ZXNbMl07XG4gICAgICAgIGlmIChjdXJyZW50QXhpcyA+IC0wLjIgJiYgY3VycmVudEF4aXMgPCAwLjIpIHtcbiAgICAgICAgICAgIHRoaXMuc25hcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNYXRoLmFicyhjdXJyZW50QXhpcykgPCAwLjgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGFzdEhlYWRQb3MgPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMCk7XG4gICAgICAgIHRoaXMucGxheWVyLmdldFBvc2l0aW9uV29ybGQobGFzdEhlYWRQb3MpO1xuICAgICAgICBpZiAoY3VycmVudEF4aXMgPCAtMC44ICYmICF0aGlzLnNuYXBwZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnJvdGF0ZUF4aXNBbmdsZURlZ0xvY2FsKFswLCAxLCAwXSwgdGhpcy5kZWdyZWVzKTtcbiAgICAgICAgICAgIHRoaXMuc25hcHBlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRBeGlzID4gMC44ICYmICF0aGlzLnNuYXBwZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnJvdGF0ZUF4aXNBbmdsZURlZ0xvY2FsKFswLCAxLCAwXSwgLXRoaXMuZGVncmVlcyk7XG4gICAgICAgICAgICB0aGlzLnNuYXBwZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdXJyZW50SGVhZFBvcyA9IHZlYzMuZnJvbVZhbHVlcygwLCAwLCAwKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuZ2V0UG9zaXRpb25Xb3JsZChjdXJyZW50SGVhZFBvcyk7XG4gICAgICAgIGxldCBuZXdQb3MgPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMCk7XG4gICAgICAgIHZlYzMuc3ViKG5ld1BvcywgbGFzdEhlYWRQb3MsIGN1cnJlbnRIZWFkUG9zKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIudHJhbnNsYXRlTG9jYWwobmV3UG9zKTtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5vYmplY3QoKVxuXSwgU25hcFJvdGF0ZS5wcm90b3R5cGUsIFwicGxheWVyXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5pbnQoMzApXG5dLCBTbmFwUm90YXRlLnByb3RvdHlwZSwgXCJkZWdyZWVzXCIsIHZvaWQgMCk7XG4iLCAidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgQ29tcG9uZW50LCBNZXNoQ29tcG9uZW50IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSBcIkB3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzXCI7XG5pbXBvcnQgeyBxdWF0MiwgdmVjMyB9IGZyb20gJ2dsLW1hdHJpeCc7XG5leHBvcnQgY2xhc3MgU25vd1BhcnRpY2xlcyBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3Nub3ctcGFydGljbGVzJztcbiAgICBtZXNoO1xuICAgIG1hdGVyaWFsO1xuICAgIGRlbGF5O1xuICAgIG1heFBhcnRpY2xlcztcbiAgICBpbml0aWFsU3BlZWQ7XG4gICAgcGFydGljbGVTY2FsZTtcbiAgICBzaXplO1xuICAgIHRpbWUgPSAwLjA7XG4gICAgY291bnQgPSAwO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3QzRFtdfVxuICAgICAqL1xuICAgICNvYmplY3RzID0gW107XG4gICAgLyoqXG4gICAgKiBAdHlwZSB7bnVtYmVyW11bXX1cbiAgICAqL1xuICAgICN2ZWxvY2l0aWVzID0gW107XG4gICAgI3NwZWVkcyA9IFtdO1xuICAgICNkaXJlY3Rpb24gPSBbMCwgMCwgMF07XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuI29iamVjdHMgPSB0aGlzLmVuZ2luZS5zY2VuZS5hZGRPYmplY3RzKHRoaXMubWF4UGFydGljbGVzLCBudWxsLCB0aGlzLm1heFBhcnRpY2xlcyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tYXhQYXJ0aWNsZXM7ICsraSkge1xuICAgICAgICAgICAgdGhpcy4jdmVsb2NpdGllcy5wdXNoKFtNYXRoLnJhbmRvbSgpIC8gNCAtIC4xMjUsIC1NYXRoLnJhbmRvbSgpIC0gLjIsIE1hdGgucmFuZG9tKCkgLyA0IC0gLjEyNV0pO1xuICAgICAgICAgICAgbGV0IG9iaiA9IHRoaXMuI29iamVjdHNbaV07XG4gICAgICAgICAgICBvYmoubmFtZSA9IFwicGFydGljbGVcIiArIHRoaXMuY291bnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGxldCBtZXNoID0gb2JqLmFkZENvbXBvbmVudChNZXNoQ29tcG9uZW50KTtcbiAgICAgICAgICAgIG1lc2gubWVzaCA9IHRoaXMubWVzaDtcbiAgICAgICAgICAgIG1lc2gubWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsO1xuICAgICAgICAgICAgLyogTW9zdCBlZmZpY2llbnQgd2F5IHRvIGhpZGUgdGhlIG1lc2ggKi9cbiAgICAgICAgICAgIG9iai5zY2FsZUxvY2FsKFswLCAwLCAwXSk7XG4gICAgICAgIH1cbiAgICAgICAgLyogVGltZSB0byBzcGF3biBwYXJ0aWNsZXMgKi9cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1heFBhcnRpY2xlczsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLnNwYXduKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlKGR0KSB7XG4gICAgICAgIC8qIFRhcmdldCBmb3IgcmV0cmlldmluZyBwYXJ0aWNsZXMgd29ybGQgbG9jYXRpb25zICovXG4gICAgICAgIGxldCBvcmlnaW4gPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMCk7XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IHZlYzMuZnJvbVZhbHVlcygwLCAwLCAwKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1pbih0aGlzLmNvdW50LCB0aGlzLiNvYmplY3RzLmxlbmd0aCk7ICsraSkge1xuICAgICAgICAgICAgLyogR2V0IHRyYW5zbGF0aW9uIGZpcnN0LCBhcyBvYmplY3QudHJhbnNsYXRlKCkgd2lsbCBtYXJrXG4gICAgICAgICAgICAgKiB0aGUgb2JqZWN0IGFzIGRpcnR5LCB3aGljaCB3aWxsIGNhdXNlIGl0IHRvIHJlY2FsY3VsYXRlXG4gICAgICAgICAgICAgKiBvYmoudHJhbnNmb3JtV29ybGQgb24gYWNjZXNzLiBXZSB3YW50IHRvIGF2b2lkIHRoaXMgYW5kXG4gICAgICAgICAgICAgKiBoYXZlIGl0IGJlIHJlY2FsY3VsYXRlZCBpbiBiYXRjaCBhdCB0aGUgZW5kIG9mIGZyYW1lXG4gICAgICAgICAgICAgKiBpbnN0ZWFkICovXG4gICAgICAgICAgICBxdWF0Mi5nZXRUcmFuc2xhdGlvbihvcmlnaW4sIHRoaXMuI29iamVjdHNbaV0uZ2V0VHJhbnNmb3JtV29ybGQoKSk7XG4gICAgICAgICAgICAvKiBBcHBseSBncmF2aXR5ICovXG4gICAgICAgICAgICBjb25zdCB2ZWwgPSB0aGlzLiN2ZWxvY2l0aWVzW2ldO1xuICAgICAgICAgICAgLyogQ2hlY2sgaWYgcGFydGljbGUgd291bGQgY29sbGlkZSAqL1xuICAgICAgICAgICAgaWYgKChvcmlnaW5bMF0gKyB2ZWxbMF0gKiBkdCkgPiA4KVxuICAgICAgICAgICAgICAgIG9yaWdpblswXSAtPSAxNjtcbiAgICAgICAgICAgIGVsc2UgaWYgKChvcmlnaW5bMF0gKyB2ZWxbMF0gKiBkdCkgPD0gLTgpXG4gICAgICAgICAgICAgICAgb3JpZ2luWzBdICs9IDE2O1xuICAgICAgICAgICAgaWYgKChvcmlnaW5bMl0gKyB2ZWxbMl0gKiBkdCkgPiA4KVxuICAgICAgICAgICAgICAgIG9yaWdpblsyXSAtPSAxNjtcbiAgICAgICAgICAgIGVsc2UgaWYgKChvcmlnaW5bMl0gKyB2ZWxbMl0gKiBkdCkgPD0gLTgpXG4gICAgICAgICAgICAgICAgb3JpZ2luWzJdICs9IDE2O1xuICAgICAgICAgICAgaWYgKChvcmlnaW5bMV0gKyB2ZWxbMV0gKiBkdCkgPD0gMCkge1xuICAgICAgICAgICAgICAgIC8qIFBzZXVkbyBmcmljdGlvbiAqL1xuICAgICAgICAgICAgICAgIG9yaWdpblsxXSA9IDU7XG4gICAgICAgICAgICAgICAgdGhpcy4jb2JqZWN0c1tpXS5zZXRQb3NpdGlvbldvcmxkKG9yaWdpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1pbih0aGlzLmNvdW50LCB0aGlzLiNvYmplY3RzLmxlbmd0aCk7ICsraSkge1xuICAgICAgICAgICAgLyogQXBwbHkgdmVsb2NpdHkgKi9cbiAgICAgICAgICAgIHZlYzMuc2NhbGUoZGlzdGFuY2UsIHRoaXMuI3ZlbG9jaXRpZXNbaV0sIGR0KTtcbiAgICAgICAgICAgIHRoaXMuI29iamVjdHNbaV0udHJhbnNsYXRlV29ybGQoZGlzdGFuY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBTcGF3biBhIHBhcnRpY2xlICovXG4gICAgc3Bhd24oKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuY291bnQgJSB0aGlzLm1heFBhcnRpY2xlcztcbiAgICAgICAgbGV0IG9iaiA9IHRoaXMuI29iamVjdHNbaW5kZXhdO1xuICAgICAgICBvYmoucmVzZXRUcmFuc2Zvcm0oKTtcbiAgICAgICAgb2JqLnNjYWxlTG9jYWwoW3RoaXMucGFydGljbGVTY2FsZSwgdGhpcy5wYXJ0aWNsZVNjYWxlLCB0aGlzLnBhcnRpY2xlU2NhbGVdKTtcbiAgICAgICAgLyogQWN0aXZhdGUgY29tcG9uZW50LCBvdGhlcndpc2UgaXQgd2lsbCBub3Qgc2hvdyB1cCEgKi9cbiAgICAgICAgb2JqLmdldENvbXBvbmVudChNZXNoQ29tcG9uZW50KS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICBvYmoudHJhbnNsYXRlV29ybGQoWyhNYXRoLnJhbmRvbSgpICogdGhpcy5zaXplKSAtICh0aGlzLnNpemUgLyAyKSwgKE1hdGgucmFuZG9tKCkgKiA1KSwgKE1hdGgucmFuZG9tKCkgKiB0aGlzLnNpemUpIC0gKHRoaXMuc2l6ZSAvIDIpXSk7XG4gICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5tZXNoKClcbl0sIFNub3dQYXJ0aWNsZXMucHJvdG90eXBlLCBcIm1lc2hcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5Lm1hdGVyaWFsKClcbl0sIFNub3dQYXJ0aWNsZXMucHJvdG90eXBlLCBcIm1hdGVyaWFsXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5mbG9hdCgwLjEpXG5dLCBTbm93UGFydGljbGVzLnByb3RvdHlwZSwgXCJkZWxheVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuaW50KDE1MDApXG5dLCBTbm93UGFydGljbGVzLnByb3RvdHlwZSwgXCJtYXhQYXJ0aWNsZXNcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LmZsb2F0KDE1KVxuXSwgU25vd1BhcnRpY2xlcy5wcm90b3R5cGUsIFwiaW5pdGlhbFNwZWVkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5mbG9hdCgwLjAxKVxuXSwgU25vd1BhcnRpY2xlcy5wcm90b3R5cGUsIFwicGFydGljbGVTY2FsZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuaW50KDE2KVxuXSwgU25vd1BhcnRpY2xlcy5wcm90b3R5cGUsIFwic2l6ZVwiLCB2b2lkIDApO1xuO1xuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qc1wiO1xuZXhwb3J0IGNsYXNzIFRhZ3MgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd0YWdzJztcbiAgICB0YWdzO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgdGhlIHRhZyB0byB0ZXN0XG4gICAgICovXG4gICAgaGFzVGFnKHRhZykge1xuICAgICAgICBjb25zdCB0YWdzID0gdGhpcy50YWdzLnNwbGl0KC9cXFcrL2cpO1xuICAgICAgICByZXR1cm4gISF+dGFncy5pbmRleE9mKHRhZyk7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuc3RyaW5nKClcbl0sIFRhZ3MucHJvdG90eXBlLCBcInRhZ3NcIiwgdm9pZCAwKTtcbjtcbiIsICIvKipcbiAqIFRoaXMgY29kZSBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBBbGVhIGFsZ29yaXRobTsgKEMpIDIwMTAgSm9oYW5uZXMgQmFhZ1x1MDBGOGUuXG4gKiBBbGVhIGlzIGxpY2Vuc2VkIGFjY29yZGluZyB0byB0aGUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9NSVRfTGljZW5zZS5cbiAqL1xuY29uc3QgRlJBQyA9IDIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7IC8qIDJeLTMyICovXG5leHBvcnQgY2xhc3MgUk5HIHtcbiAgICBfc2VlZCA9IDA7XG4gICAgX3MwID0gMDtcbiAgICBfczEgPSAwO1xuICAgIF9zMiA9IDA7XG4gICAgX2MgPSAwO1xuICAgIGdldFNlZWQoKSB7IHJldHVybiB0aGlzLl9zZWVkOyB9XG4gICAgLyoqXG4gICAgICogU2VlZCB0aGUgbnVtYmVyIGdlbmVyYXRvclxuICAgICAqIEB0eXBlIHtudW1iZXJ9IHNlZWQgLSBTZWVkIHZhbHVlXG4gICAgICovXG4gICAgc2V0U2VlZChzZWVkKSB7XG4gICAgICAgIHNlZWQgPSAoc2VlZCA8IDEgPyAxIC8gc2VlZCA6IHNlZWQpO1xuICAgICAgICB0aGlzLl9zZWVkID0gc2VlZDtcbiAgICAgICAgdGhpcy5fczAgPSAoc2VlZCA+Pj4gMCkgKiBGUkFDO1xuICAgICAgICBzZWVkID0gKHNlZWQgKiA2OTA2OSArIDEpID4+PiAwO1xuICAgICAgICB0aGlzLl9zMSA9IHNlZWQgKiBGUkFDO1xuICAgICAgICBzZWVkID0gKHNlZWQgKiA2OTA2OSArIDEpID4+PiAwO1xuICAgICAgICB0aGlzLl9zMiA9IHNlZWQgKiBGUkFDO1xuICAgICAgICB0aGlzLl9jID0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIFBzZXVkb3JhbmRvbSB2YWx1ZSBbMCwxKSwgdW5pZm9ybWx5IGRpc3RyaWJ1dGVkXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybSgpIHtcbiAgICAgICAgbGV0IHQgPSAyMDkxNjM5ICogdGhpcy5fczAgKyB0aGlzLl9jICogRlJBQztcbiAgICAgICAgdGhpcy5fczAgPSB0aGlzLl9zMTtcbiAgICAgICAgdGhpcy5fczEgPSB0aGlzLl9zMjtcbiAgICAgICAgdGhpcy5fYyA9IHQgfCAwO1xuICAgICAgICB0aGlzLl9zMiA9IHQgLSB0aGlzLl9jO1xuICAgICAgICByZXR1cm4gdGhpcy5fczI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsb3dlckJvdW5kIFRoZSBsb3dlciBlbmQgb2YgdGhlIHJhbmdlIHRvIHJldHVybiBhIHZhbHVlIGZyb20sIGluY2x1c2l2ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlckJvdW5kIFRoZSB1cHBlciBlbmQgb2YgdGhlIHJhbmdlIHRvIHJldHVybiBhIHZhbHVlIGZyb20sIGluY2x1c2l2ZVxuICAgICAqIEByZXR1cm5zIFBzZXVkb3JhbmRvbSB2YWx1ZSBbbG93ZXJCb3VuZCwgdXBwZXJCb3VuZF0sIHVzaW5nIFJPVC5STkcuZ2V0VW5pZm9ybSgpIHRvIGRpc3RyaWJ1dGUgdGhlIHZhbHVlXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUludChsb3dlckJvdW5kLCB1cHBlckJvdW5kKSB7XG4gICAgICAgIGxldCBtYXggPSBNYXRoLm1heChsb3dlckJvdW5kLCB1cHBlckJvdW5kKTtcbiAgICAgICAgbGV0IG1pbiA9IE1hdGgubWluKGxvd2VyQm91bmQsIHVwcGVyQm91bmQpO1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLmdldFVuaWZvcm0oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBtZWFuIE1lYW4gdmFsdWVcbiAgICAgKiBAcGFyYW0gc3RkZGV2IFN0YW5kYXJkIGRldmlhdGlvbi4gfjk1JSBvZiB0aGUgYWJzb2x1dGUgdmFsdWVzIHdpbGwgYmUgbG93ZXIgdGhhbiAyKnN0ZGRldi5cbiAgICAgKiBAcmV0dXJucyBBIG5vcm1hbGx5IGRpc3RyaWJ1dGVkIHBzZXVkb3JhbmRvbSB2YWx1ZVxuICAgICAqL1xuICAgIGdldE5vcm1hbChtZWFuID0gMCwgc3RkZGV2ID0gMSkge1xuICAgICAgICBsZXQgdSwgdiwgcjtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdSA9IDIgKiB0aGlzLmdldFVuaWZvcm0oKSAtIDE7XG4gICAgICAgICAgICB2ID0gMiAqIHRoaXMuZ2V0VW5pZm9ybSgpIC0gMTtcbiAgICAgICAgICAgIHIgPSB1ICogdSArIHYgKiB2O1xuICAgICAgICB9IHdoaWxlIChyID4gMSB8fCByID09IDApO1xuICAgICAgICBsZXQgZ2F1c3MgPSB1ICogTWF0aC5zcXJ0KC0yICogTWF0aC5sb2cocikgLyByKTtcbiAgICAgICAgcmV0dXJuIG1lYW4gKyBnYXVzcyAqIHN0ZGRldjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgUHNldWRvcmFuZG9tIHZhbHVlIFsxLDEwMF0gaW5jbHVzaXZlLCB1bmlmb3JtbHkgZGlzdHJpYnV0ZWRcbiAgICAgKi9cbiAgICBnZXRQZXJjZW50YWdlKCkge1xuICAgICAgICByZXR1cm4gMSArIE1hdGguZmxvb3IodGhpcy5nZXRVbmlmb3JtKCkgKiAxMDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBBcnJheSB0byBwaWNrIGEgcmFuZG9tIGl0ZW0gZnJvbVxuICAgICAqIEByZXR1cm5zIFJhbmRvbWx5IHBpY2tlZCBpdGVtLCBudWxsIHdoZW4gbGVuZ3RoPTBcbiAgICAgKi9cbiAgICBnZXRJdGVtKGFycmF5KSB7XG4gICAgICAgIGlmICghYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXlbTWF0aC5mbG9vcih0aGlzLmdldFVuaWZvcm0oKSAqIGFycmF5Lmxlbmd0aCldO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBBcnJheSB0byByYW5kb21pemVcbiAgICAgKiBAcmV0dXJucyBOZXcgYXJyYXkgd2l0aCByYW5kb21pemVkIGl0ZW1zXG4gICAgICovXG4gICAgc2h1ZmZsZShhcnJheSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBjbG9uZSA9IGFycmF5LnNsaWNlKCk7XG4gICAgICAgIHdoaWxlIChjbG9uZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IGNsb25lLmluZGV4T2YodGhpcy5nZXRJdGVtKGNsb25lKSk7XG4gICAgICAgICAgICByZXN1bHQucHVzaChjbG9uZS5zcGxpY2UoaW5kZXgsIDEpWzBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBrZXkgPSB3aGF0ZXZlciwgdmFsdWU9d2VpZ2h0IChyZWxhdGl2ZSBwcm9iYWJpbGl0eSlcbiAgICAgKiBAcmV0dXJucyB3aGF0ZXZlclxuICAgICAqL1xuICAgIGdldFdlaWdodGVkVmFsdWUoZGF0YSkge1xuICAgICAgICBsZXQgdG90YWwgPSAwO1xuICAgICAgICBmb3IgKGxldCBpZCBpbiBkYXRhKSB7XG4gICAgICAgICAgICB0b3RhbCArPSBkYXRhW2lkXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmFuZG9tID0gdGhpcy5nZXRVbmlmb3JtKCkgKiB0b3RhbDtcbiAgICAgICAgbGV0IGlkLCBwYXJ0ID0gMDtcbiAgICAgICAgZm9yIChpZCBpbiBkYXRhKSB7XG4gICAgICAgICAgICBwYXJ0ICs9IGRhdGFbaWRdO1xuICAgICAgICAgICAgaWYgKHJhbmRvbSA8IHBhcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYnkgc29tZSBmbG9hdGluZy1wb2ludCBhbm5veWFuY2Ugd2UgaGF2ZVxuICAgICAgICAvLyByYW5kb20gPj0gdG90YWwsIGp1c3QgcmV0dXJuIHRoZSBsYXN0IGlkLlxuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBSTkcgc3RhdGUuIFVzZWZ1bCBmb3Igc3RvcmluZyB0aGUgc3RhdGUgYW5kIHJlLXNldHRpbmcgaXQgdmlhIHNldFN0YXRlLlxuICAgICAqIEByZXR1cm5zIEludGVybmFsIHN0YXRlXG4gICAgICovXG4gICAgZ2V0U3RhdGUoKSB7IHJldHVybiBbdGhpcy5fczAsIHRoaXMuX3MxLCB0aGlzLl9zMiwgdGhpcy5fY107IH1cbiAgICAvKipcbiAgICAgKiBTZXQgYSBwcmV2aW91c2x5IHJldHJpZXZlZCBzdGF0ZS5cbiAgICAgKi9cbiAgICBzZXRTdGF0ZShzdGF0ZSkge1xuICAgICAgICB0aGlzLl9zMCA9IHN0YXRlWzBdO1xuICAgICAgICB0aGlzLl9zMSA9IHN0YXRlWzFdO1xuICAgICAgICB0aGlzLl9zMiA9IHN0YXRlWzJdO1xuICAgICAgICB0aGlzLl9jID0gc3RhdGVbM107XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgY2xvbmVkIFJOR1xuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICBsZXQgY2xvbmUgPSBuZXcgUk5HKCk7XG4gICAgICAgIHJldHVybiBjbG9uZS5zZXRTdGF0ZSh0aGlzLmdldFN0YXRlKCkpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBybmcgPSBuZXcgUk5HKCkuc2V0U2VlZChEYXRlLm5vdygpKTtcbiIsICJleHBvcnQgY2xhc3MgT2JqZWN0Q2FjaGUge1xuICAgICNvYmplY3RzO1xuICAgIGVuZ2luZTtcbiAgICBuYW1lO1xuICAgIGNhY2hlU2l6ZTtcbiAgICBpbmRleDtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V29uZGVybGFuZEVuZ2luZX0gZW5naW5lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY2FjaGVTaXplXG4gICAgICogQHBhcmFtIHtPYmplY3QzRH0gcGFyZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbXBvbmVudHNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIG5hbWUsIGNhY2hlU2l6ZSwgcGFyZW50LCBjb21wb25lbnRzKSB7XG4gICAgICAgIHRoaXMuZW5naW5lID0gZW5naW5lO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICBjb25zb2xlLmxvZyhgY3JlYXRpbmcgY2FjaGU6ICR7bmFtZX0gd2l0aCAke2NhY2hlU2l6ZX0gZWxlbWVudHNgKTtcbiAgICAgICAgdGhpcy5jYWNoZVNpemUgPSBjYWNoZVNpemU7XG4gICAgICAgIHRoaXMuI29iamVjdHMgPSB0aGlzLmVuZ2luZS5zY2VuZS5hZGRPYmplY3RzKGNhY2hlU2l6ZSwgcGFyZW50LCBjb21wb25lbnRzKTtcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgICAgdGhpcy4jb2JqZWN0cy5mb3JFYWNoKG9iaiA9PiB7XG4gICAgICAgICAgICBvYmouZ2V0Q29tcG9uZW50cygpLmZvckVhY2goYyA9PiB7XG4gICAgICAgICAgICAgICAgYy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb2JqLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICBvYmoucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRJdGVtKCkge1xuICAgICAgICBpZiAodGhpcy5pbmRleCA+PSB0aGlzLmNhY2hlU2l6ZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBDYWNoZSAke3RoaXMubmFtZX0gcmFuIG91dCBvZiBzcGFjZWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvYmogPSB0aGlzLiNvYmplY3RzW3RoaXMuaW5kZXhdO1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IEZsaXBib29rLCBUYWdzIH0gZnJvbSBcIi4uL2luZGV4LmpzXCI7XG4vKipcbiAgKiBAZGVzY3JpcHRpb24gY2xvbmVzIHRoZSBwYXNzZWQgb2JqZWN0XG4gICBAcGFyYW0ge1dvbmRlcmxhbmRFbmdpbmV9IGVuZ2luZSAtIHRoZSBlbmdpbmVcbiAgKiBAcGFyYW0ge09iamVjdDNEfSBvYmplY3QgLSB0aGUgb2JqZWN0IHRvIGNsb25lXG4gICogQHBhcmFtIHtPYmplY3RDYWNoZX0gY2FjaGUgYW4gb3B0aW9uYWwgY2FjaGUgdG8gdXNlIGZvciBjbG9uaW5nXG4gICogQHJldHVybnMge09iamVjdDNEfSB0aGUgY2xvbmVkIG9iamVjdFxuICAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lT2JqZWN0KGVuZ2luZSwgb2JqZWN0LCBjYWNoZSkge1xuICAgIGlmICghb2JqZWN0IHx8ICFvYmplY3QucGFyZW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2FuJ3QgY2xvbmUgdW5kZWZpbmVkIG9iamVjdFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0M0R9IHRoZSBvYmplY3QgdGhhdCBpcyBjbG9uZWRcbiAgICAgKi9cbiAgICBsZXQgY2xvbmVkO1xuICAgIGlmIChjYWNoZSkge1xuICAgICAgICBjbG9uZWQgPSBjYWNoZS5nZXRJdGVtKCk7XG4gICAgfVxuICAgIGlmICghY2xvbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJubyBjYWNoZSBhdmFpbGFibGUsIGNsb25pbmcgb2JqZWN0XCIpO1xuICAgICAgICBjbG9uZWQgPSBlbmdpbmUuc2NlbmUuYWRkT2JqZWN0KG9iamVjdC5wYXJlbnQpO1xuICAgIH1cbiAgICBsZXQgY29tcG9uZW50cyA9IG9iamVjdC5nZXRDb21wb25lbnRzKCk7XG4gICAgY29uc3QgY29tcCA9IGNsb25lZC5nZXRDb21wb25lbnRzKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChjb21wb25lbnRzW2ldLnR5cGUgPT0gXCJtZXNoXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IG0gPSBjb21wLmZpbmQoKGMpID0+IGMudHlwZSA9PSBcIm1lc2hcIiAmJiBjLmFjdGl2ZSA9PSBmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IGNvbXBvbmVudHNbaV07XG4gICAgICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgICAgIG0ubWVzaCA9IG9yaWdpbmFsLm1lc2g7XG4gICAgICAgICAgICAgICAgbS5tYXRlcmlhbCA9IG9yaWdpbmFsLm1hdGVyaWFsO1xuICAgICAgICAgICAgICAgIG0uc2tpbiA9IG9yaWdpbmFsLnNraW47XG4gICAgICAgICAgICAgICAgbS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xvbmVkLmFkZENvbXBvbmVudChcIm1lc2hcIiwge1xuICAgICAgICAgICAgICAgICAgICBtZXNoOiBvcmlnaW5hbC5tZXNoLFxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogb3JpZ2luYWwubWF0ZXJpYWwsXG4gICAgICAgICAgICAgICAgICAgIHNraW46IG9yaWdpbmFsLnNraW4sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29tcG9uZW50c1tpXS50eXBlID09IFwiY29sbGlzaW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjb21wLmZpbmQoKGMpID0+IGMudHlwZSA9PSBcImNvbGxpc2lvblwiICYmIGMuYWN0aXZlID09IGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gY29tcG9uZW50c1tpXTtcbiAgICAgICAgICAgIGlmIChjKSB7XG4gICAgICAgICAgICAgICAgYy5jb2xsaWRlciA9IG9yaWdpbmFsLmNvbGxpZGVyO1xuICAgICAgICAgICAgICAgIGMuZXh0ZW50cyA9IG9yaWdpbmFsLmV4dGVudHM7XG4gICAgICAgICAgICAgICAgYy5ncm91cCA9IG9yaWdpbmFsLmdyb3VwO1xuICAgICAgICAgICAgICAgIGMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsb25lZC5hZGRDb21wb25lbnQoXCJjb2xsaXNpb25cIiwge1xuICAgICAgICAgICAgICAgICAgICBjb2xsaWRlcjogb3JpZ2luYWwuY29sbGlkZXIsXG4gICAgICAgICAgICAgICAgICAgIGV4dGVudHM6IG9yaWdpbmFsLmV4dGVudHMsXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBvcmlnaW5hbC5ncm91cCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb21wb25lbnRzW2ldLnR5cGUgPT0gXCJhbmltYXRpb25cIikge1xuICAgICAgICAgICAgY29uc3QgYyA9IGNvbXAuZmluZCgoYykgPT4gYy50eXBlID09IFwiYW5pbWF0aW9uXCIgJiYgYy5hY3RpdmUgPT0gZmFsc2UpO1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSBjb21wb25lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKGMpIHtcbiAgICAgICAgICAgICAgICBjLmFuaW1hdGlvbiA9IG9yaWdpbmFsLmFuaW1hdGlvbjtcbiAgICAgICAgICAgICAgICBjLnBsYXlDb3VudCA9IG9yaWdpbmFsLnBsYXlDb3VudDtcbiAgICAgICAgICAgICAgICBjLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY2xvbmVkLmFkZENvbXBvbmVudChcImFuaW1hdGlvblwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogb3JpZ2luYWwuYW5pbWF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBwbGF5Q291bnQ6IG9yaWdpbmFsLnBsYXlDb3VudCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb21wb25lbnRzW2ldLnR5cGUgPT0gXCJ0YWdzXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjb21wLmZpbmQoKGMpID0+IGMudHlwZSA9PSBcInRhZ3NcIiAmJiBjLmFjdGl2ZSA9PSBmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IGNvbXBvbmVudHNbaV07XG4gICAgICAgICAgICBpZiAoYykge1xuICAgICAgICAgICAgICAgIGMudGFncyA9IG9yaWdpbmFsLnRhZ3M7XG4gICAgICAgICAgICAgICAgYy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGNsb25lZC5hZGRDb21wb25lbnQoVGFncywge1xuICAgICAgICAgICAgICAgICAgICB0YWdzOiBvcmlnaW5hbC50YWdzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbXBvbmVudHNbaV0udHlwZSA9PSBcImZsaXBib29rXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjb21wLmZpbmQoKGMpID0+IGMudHlwZSA9PSBcImZsaXBib29rXCIgJiYgYy5hY3RpdmUgPT0gZmFsc2UpO1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSBjb21wb25lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKGMpIHtcbiAgICAgICAgICAgICAgICBjLmJhc2UgPSBvcmlnaW5hbC5iYXNlO1xuICAgICAgICAgICAgICAgIGMudXJsID0gb3JpZ2luYWwudXJsO1xuICAgICAgICAgICAgICAgIGMudXJsRW1pc3NpdmUgPSBvcmlnaW5hbC51cmxFbWlzc2l2ZTtcbiAgICAgICAgICAgICAgICBjLmNvbHVtbnMgPSBvcmlnaW5hbC5jb2x1bW5zO1xuICAgICAgICAgICAgICAgIGMucm93cyA9IG9yaWdpbmFsLnJvd3M7XG4gICAgICAgICAgICAgICAgYy5zcGVlZCA9IG9yaWdpbmFsLnNwZWVkO1xuICAgICAgICAgICAgICAgIGMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjbG9uZWQuYWRkQ29tcG9uZW50KEZsaXBib29rLCB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2U6IG9yaWdpbmFsLmJhc2UsXG4gICAgICAgICAgICAgICAgICAgIHVybDogb3JpZ2luYWwudXJsLFxuICAgICAgICAgICAgICAgICAgICB1cmxFbWlzc2l2ZTogb3JpZ2luYWwudXJsRW1pc3NpdmUsXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6IG9yaWdpbmFsLmNvbHVtbnMsXG4gICAgICAgICAgICAgICAgICAgIHJvd3M6IG9yaWdpbmFsLnJvd3MsXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiBvcmlnaW5hbC5zcGVlZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjb21wLmZpbmQoKGMpID0+IGMudHlwZSA9PSBjb21wb25lbnRzW2ldLnR5cGUgJiYgYy5hY3RpdmUgPT0gZmFsc2UpO1xuICAgICAgICAgICAgaWYgKGMpIHtcbiAgICAgICAgICAgICAgICBjLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbG9uZWQuYWRkQ29tcG9uZW50KGNvbXBvbmVudHNbaV0udHlwZSwgY29tcG9uZW50c1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB2YXIgYyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY29tcG9uZW50c1tpXSkpXG4gICAgICAgICAgICAvLyBkZWxldGUoYywnX2lkJyk7XG4gICAgICAgICAgICAvLyBkZWxldGUoYywnX21hbmFnZXInKTtcbiAgICAgICAgICAgIC8vIGRlbGV0ZShjLCdfdHlwZScpO1xuICAgICAgICAgICAgLy8gY2xvbmVkLmFkZENvbXBvbmVudChjb21wb25lbnRzW2ldLnR5cGUsIGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBwb3MgPSBbXTtcbiAgICBsZXQgcm90ID0gW107XG4gICAgbGV0IHNjYWxlID0gW107XG4gICAgb2JqZWN0LmdldFBvc2l0aW9uTG9jYWwocG9zKTtcbiAgICBvYmplY3QuZ2V0Um90YXRpb25Mb2NhbChyb3QpO1xuICAgIG9iamVjdC5nZXRTY2FsaW5nTG9jYWwoc2NhbGUpO1xuICAgIGNsb25lZC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcbiAgICBjbG9uZWQuc2V0UG9zaXRpb25Mb2NhbChwb3MpO1xuICAgIGNsb25lZC5zZXRSb3RhdGlvbkxvY2FsKHJvdCk7XG4gICAgY2xvbmVkLnNldFNjYWxpbmdMb2NhbChzY2FsZSk7XG4gICAgY2xvbmVkLm5hbWUgPSBvYmplY3QubmFtZTtcbiAgICBpZiAob2JqZWN0LmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmplY3QuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZENsb25lID0gY2xvbmVPYmplY3QoZW5naW5lLCBvYmplY3QuY2hpbGRyZW5baV0sIGNhY2hlKTtcbiAgICAgICAgICAgIGNoaWxkQ2xvbmUucGFyZW50ID0gY2xvbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsb25lZC5zZXREaXJ0eSgpO1xuICAgIHJldHVybiBjbG9uZWQ7XG59XG4vKipcbiAqIEZpbmRzIGEgY2hpbGQgb2JqZWN0IGJ5IG5hbWVcbiAqIEBwYXJhbSB7T2JqZWN0M0R9IG9iamVjdCBPYmplY3QgdG8gZ2V0IHRoZSBjaGlsZCBmcm9tXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hpbGROYW1lIFRoZSBuYW1lIG9mIHRoZSBjaGlsZCB0byBmaW5kXG4gKiBAcmV0dXJucyB7T2JqZWN0M0R9IFRoZSBjaGlsZCBvYmplY3Q7IG9yIHVuZGVmaW5lZCBpZiBub3QgZm91bmRcbiAqL1xuZnVuY3Rpb24gZmluZENoaWxkKG9iamVjdCwgY2hpbGROYW1lKSB7XG4gICAgcmV0dXJuIG9iamVjdC5jaGlsZHJlbi5maWx0ZXIoKG8pID0+IG8ubmFtZSA9PSBjaGlsZE5hbWUpWzBdO1xufVxuLyoqXG4gKiBSZXBsYWNlcyBhIHN0cmluZyBpbnNpZGUgYW5vdGhlciBzdHJpbmcgYnkgaW5kZXhcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgb3JpZ2luYWwgc3RyaW5nIHRvIHJlcGxhY2UgYSBjaGFyYWN0ZXIgaW5cbiAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCB0aGUgcG9zaXRpb24gb2YgdGhlIHN0YXJ0IG9mIHJlcGxhY2VtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gcmVwbGFjZW1lbnQgdGhlIHJlcGxhY2VtZW50IHN0cmluZ1xuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gcmVwbGFjZUF0KHN0cmluZywgaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgcmV0dXJuIChzdHJpbmcuc2xpY2UoMCwgaW5kZXgpICtcbiAgICAgICAgcmVwbGFjZW1lbnQgK1xuICAgICAgICBzdHJpbmcuc2xpY2UoaW5kZXggKyByZXBsYWNlbWVudC5sZW5ndGgpKTtcbn1cbmV4cG9ydCBjb25zdCB3bFV0aWxzID0ge1xuICAgIGNsb25lT2JqZWN0LFxuICAgIGZpbmRDaGlsZCxcbiAgICByZXBsYWNlQXQsXG59O1xuIiwgImltcG9ydCB7IHJuZyB9IGZyb20gXCIuL3JuZy5qc1wiO1xuLyoqXG4gKiBTaHVmZmxlcyBhcnJheSBpbiBwbGFjZS4gRVM2IHZlcnNpb25cbiAqIEBwYXJhbSB7W119IGFyciBhcnJheSB0byBzaHVmZmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaHVmZmxlQXJyYXkoYXJyKSB7XG4gICAgZm9yIChsZXQgaSA9IGFyci5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGogPSBybmcuZ2V0VW5pZm9ybUludCgwLCBpICsgMSk7XG4gICAgICAgIFthcnJbaV0sIGFycltqXV0gPSBbYXJyW2pdLCBhcnJbaV1dO1xuICAgIH1cbn1cbiIsICJleHBvcnQgY29uc3QgRWFzaW5nID0ge1xuICAgIC8qKlxuICAgICAqIExpbmVhciBlYXNpbmcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHQgQSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEgcmVwcmVzZW50aW5nIHRoZSBwcm9ncmVzcyBvZiB0aGUgYW5pbWF0aW9uLlxuICAgICAqIEByZXR1cm5zIFRoZSBzYW1lIHZhbHVlIGFzIGB0YCwgcHJvdmlkaW5nIGEgbGluZWFyIHByb2dyZXNzaW9uLlxuICAgICAqL1xuICAgIExpbmVhcjogKHQpID0+IHQsXG4gICAgLyoqXG4gICAgICogUXVhZHJhdGljIGVhc2UtaW4gZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHQgQSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEgcmVwcmVzZW50aW5nIHRoZSBwcm9ncmVzcyBvZiB0aGUgYW5pbWF0aW9uLlxuICAgICAqIEByZXR1cm5zIEEgdmFsdWUgcmVwcmVzZW50aW5nIGFuIGFjY2VsZXJhdGVkIChxdWFkcmF0aWMpIHByb2dyZXNzaW9uIGZyb20gMCB0byAxLlxuICAgICAqL1xuICAgIEluUXVhZDogKHQpID0+IHQgKiB0LFxuICAgIC8qKlxuICAgICAqIFF1YWRyYXRpYyBlYXNlLW91dCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0gdCBBIHZhbHVlIGJldHdlZW4gMCBhbmQgMSByZXByZXNlbnRpbmcgdGhlIHByb2dyZXNzIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICogQHJldHVybnMgQSB2YWx1ZSByZXByZXNlbnRpbmcgYSBkZWNlbGVyYXRlZCAocXVhZHJhdGljKSBwcm9ncmVzc2lvbiBmcm9tIDAgdG8gMS5cbiAgICAgKi9cbiAgICBPdXRRdWFkOiAodCkgPT4gMSAtICgxIC0gdCkgKiAoMSAtIHQpLFxuICAgIC8qKlxuICAgICAqIFF1YWRyYXRpYyBlYXNlLWluLW91dCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0gdCBBIHZhbHVlIGJldHdlZW4gMCBhbmQgMSByZXByZXNlbnRpbmcgdGhlIHByb2dyZXNzIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICogQHJldHVybnMgQSB2YWx1ZSB0aGF0IGFjY2VsZXJhdGVzIGluLCB0aGVuIGRlY2VsZXJhdGVzIG91dCwgcHJvdmlkaW5nIGEgc21vb3RoIHRyYW5zaXRpb24gYmV0d2VlbiBtb3Rpb24gc3RhdGVzLlxuICAgICAqL1xuICAgIEluT3V0UXVhZDogKHQpID0+IHQgPCAwLjUgPyAyICogdCAqIHQgOiAxIC0gTWF0aC5wb3coLTIgKiB0ICsgMiwgMikgLyAyLFxuICAgIC8qKlxuICAgICAqIEN1YmljIGVhc2UtaW4gZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHQgQSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEgcmVwcmVzZW50aW5nIHRoZSBwcm9ncmVzcyBvZiB0aGUgYW5pbWF0aW9uLlxuICAgICAqIEByZXR1cm5zIEEgdmFsdWUgcmVwcmVzZW50aW5nIGFuIGFjY2VsZXJhdGVkIChjdWJpYykgcHJvZ3Jlc3Npb24gZnJvbSAwIHRvIDEuXG4gICAgICovXG4gICAgSW5DdWJpYzogKHQpID0+IE1hdGgucG93KHQsIDMpLFxuICAgIC8qKlxuICAgICAqIEN1YmljIGVhc2Utb3V0IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB0IEEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxIHJlcHJlc2VudGluZyB0aGUgcHJvZ3Jlc3Mgb2YgdGhlIGFuaW1hdGlvbi5cbiAgICAgKiBAcmV0dXJucyBBIHZhbHVlIHJlcHJlc2VudGluZyBhbiBkZWNlbGVyYXRlZCAoY3ViaWMpIHByb2dyZXNzaW9uIGZyb20gMCB0byAxLlxuICAgICAqL1xuICAgIE91dEN1YmljOiAodCkgPT4gTWF0aC5wb3codCAtIDEsIDMpICsgMSxcbiAgICAvKipcbiAgICAgKiBDdWJpYyBlYXNlLWluLW91dCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0gdCBBIHZhbHVlIGJldHdlZW4gMCBhbmQgMSByZXByZXNlbnRpbmcgdGhlIHByb2dyZXNzIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICogQHJldHVybnMgQSB2YWx1ZSB0aGF0IGFjY2VsZXJhdGVzIGluLCB0aGVuIGRlY2VsZXJhdGVzIG91dCwgcHJvdmlkaW5nIGEgc21vb3RoIHRyYW5zaXRpb24gYmV0d2VlbiBtb3Rpb24gc3RhdGVzLlxuICAgICAqL1xuICAgIEluT3V0Q3ViaWM6ICh0KSA9PiB7XG4gICAgICAgIGlmICh0IDwgMC41KSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5wb3coMiAqIHQsIDMpIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAoTWF0aC5wb3coMiAqIHQgLSAyLCAzKSArIDIpIC8gMjtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuLyoqXG4gKiBQZXJmb3JtcyBsaW5lYXIgaW50ZXJwb2xhdGlvbiB3aXRoIG9wdGlvbmFsIGVhc2luZyBmdW5jdGlvbiBvbiB0d28gbnVtZXJpYyB2YWx1ZXNcbiAqIEBwYXJhbSBzdGFydCBTdGFydGluZyBudW1lcmljIHZhbHVlXG4gKiBAcGFyYW0gZW5kIEVuZGluZyBudW1lcmljIHZhbHVlXG4gKiBAcGFyYW0gdCBQcm9ncmVzcyBpbmRpY2F0b3IgYmV0d2VlbiBzdGFydGluZyBhbmQgZW5kaW5nIG51bWVyaWMgdmFsdWVzLCB0eXBpY2FsbHkgcmVwcmVzZW50ZWQgYXMgYSBkZWNpbWFsIHdpdGhpbiByYW5nZSBbMCwxXVxuICogQHBhcmFtIGVhc2luZyBPcHRpb25hbCBlYXNpbmcgZnVuY3Rpb24gdG8gYXBwbHkuIERlZmF1bHRzIHRvIEVhc2luZy5MaW5lYXIgaWYgbm90IHByb3ZpZGVkIG9yIGludmFsaWQgdHlwZSBzdXBwbGllZFxuICogQHJldHVybiBJbnRlcnBvbGF0ZWQgcmVzdWx0IGJhc2VkIG9uIHByb3ZpZGVkIGlucHV0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gbGVycChzdGFydCwgZW5kLCB0LCBlYXNpbmcgPSBFYXNpbmcuTGluZWFyKSB7XG4gICAgaWYgKHR5cGVvZiBlYXNpbmcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBlYXNpbmcgPSBnZXRFYXNpbmdGdW5jdGlvbihlYXNpbmcpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnQgKiAoMSAtIGVhc2luZyh0KSkgKyBlbmQgKiBlYXNpbmcodCk7XG59XG5mdW5jdGlvbiBnZXRFYXNpbmdGdW5jdGlvbih0eXBlKSB7XG4gICAgLy8gRGVmYXVsdCB0byBsaW5lYXIgaW50ZXJwb2xhdGlvblxuICAgIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gXCJmdW5jdGlvblwiID8gdHlwZSA6IEVhc2luZy5MaW5lYXI7XG59XG4vKipcbiAqIENsYW1wcyBpbnB1dCB2YWx1ZSB0byBwcm92aWRlZCBtaW5pbXVtICYgbWF4aW11bSByYW5nZVxuICogQHBhcmFtIHZhbHVlIE51bWVyaWMgaW5wdXQgZm9yIGNsYW1waW5nIG9wZXJhdGlvblxuICogQHBhcmFtIG1pbiBNaW5pbXVtIGFsbG93ZWQgcmVzdWx0IGFmdGVyIGNsYW1waW5nIClcbiAqIEBwYXJhbSBtYXggTWF4aW11bSBhbGxvd2VkIHJlc3VsdCBhZnRlciBjbGFtcGluZ1xuICogQHJldHVybiBSZXN1bHRpbmcgb3V0cHV0IHdpdGhpbiBzcGVjaWZpZWQgY29uc3RyYWludCByYW5nZSBbbWluLG1heF1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKHZhbHVlLCBtaW4sIG1heCkge1xuICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgbWluKSwgbWF4KTtcbn1cbiIsICJleHBvcnQgY2xhc3MgUXVldWUge1xuICAgIGl0ZW1zID0gW107XG4gICAgZW5xdWV1ZShpdGVtKSB7XG4gICAgICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTtcbiAgICB9XG4gICAgZGVxdWV1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuc2hpZnQoKTtcbiAgICB9XG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoID09PSAwO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBybmcgfSBmcm9tIFwiLi9ybmcuanNcIjtcbi8qKlxuICogR2V0cyBhIHJhbmRvbSBlbGVtZW50IGZyb20gdGhlIGdpdmVuIGFycmF5IHdpdGggdGhlIGdpdmVuIHdlaWdodHMuXG4gKiBAcGFyYW0ge1tdfSBhcnJheSBhcnJheSB3aXRoIGVsZW1lbnRzXG4gKiBAcGFyYW0ge1tdfSBpdGVtc1dpdGhXZWlnaHRzIGFycmF5IG9mIHdlaWdodHMsIHNob3VsZCBiZSBhcyBsb25ncyBhcyB0aGUgYXJyYXlcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBybmdXaXRoV2VpZ2h0KGFycmF5LCBpdGVtc1dpdGhXZWlnaHRzKSB7XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSB0b3RhbCB3ZWlnaHQgb2YgYWxsIGl0ZW1zLlxuICAgIGxldCB0b3RhbFdlaWdodCA9IGl0ZW1zV2l0aFdlaWdodHMucmVkdWNlKCh0b3RhbCwgaXRlbVdpdGhXZWlnaHQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvdGFsICsgaXRlbVdpdGhXZWlnaHQ7XG4gICAgfSwgMCk7XG4gICAgLy8gR2VuZXJhdGUgYSByYW5kb20gdmFsdWUgYmV0d2VlbiAwIGFuZCB0aGUgdG90YWwgd2VpZ2h0LlxuICAgIGxldCByYW5kb21WYWx1ZSA9IHJuZy5nZXRVbmlmb3JtSW50KDAsIHRvdGFsV2VpZ2h0KTtcbiAgICAvLyBJdGVyYXRlIHRocm91Z2ggaXRlbXMgYW5kIHN1YnRyYWN0IHRoZWlyIHdlaWdodCBmcm9tIHRoZSByYW5kb20gdmFsdWUuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtc1dpdGhXZWlnaHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJhbmRvbVZhbHVlIC09IGl0ZW1zV2l0aFdlaWdodHNbaV07XG4gICAgICAgIC8vIFdoZW4gdGhlIHZhbHVlIGJlY29tZXMgbmVnYXRpdmUgb3IgemVybyxcbiAgICAgICAgLy8gcmV0dXJuIHRoZSBjdXJyZW50IGVsZW1lbnQgYXMgaXQncyBub3cgXCJzZWxlY3RlZFwiLlxuICAgICAgICBpZiAocmFuZG9tVmFsdWUgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGFycmF5W2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJldHVybiBudWxsIGlmIG5vIGVsZW1lbnRzIGZvdW5kLCB0aG91Z2ggaXQgc2hvdWxkIG5vdCBoYXBwZW4gaW4gcHJhY3RpY2UuXG4gICAgcmV0dXJuIG51bGw7XG59XG4iLCAiZXhwb3J0ICogZnJvbSAnLi84dGh3YWxsLWNhbWVyYS5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2FuY2hvci5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2N1cnNvci10YXJnZXQuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9jdXJzb3IuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9kZWJ1Zy1vYmplY3QuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9kZXZpY2Utb3JpZW50YXRpb24tbG9vay5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2Zpbmdlci1jdXJzb3IuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9maXhlZC1mb3ZlYXRpb24uanMnO1xuZXhwb3J0ICogZnJvbSAnLi9oYW5kLXRyYWNraW5nLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vaGl0LXRlc3QtbG9jYXRpb24uanMnO1xuZXhwb3J0ICogZnJvbSAnLi9ob3dsZXItYXVkaW8tbGlzdGVuZXIuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9ob3dsZXItYXVkaW8tc291cmNlLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vaW1hZ2UtdGV4dHVyZS5qcyc7XG5leHBvcnQgKiBmcm9tICcuL21vdXNlLWxvb2suanMnO1xuZXhwb3J0ICogZnJvbSAnLi9wbGF5ZXItaGVpZ2h0LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vdGFyZ2V0LWZyYW1lcmF0ZS5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3RlbGVwb3J0LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vdHJhaWwuanMnO1xuZXhwb3J0ICogZnJvbSAnLi90d28tam9pbnQtaWstc29sdmVyLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vdmlkZW8tdGV4dHVyZS5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3ZyLW1vZGUtYWN0aXZlLXN3aXRjaC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3BsYW5lLWRldGVjdGlvbi5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3ZybS5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3dhc2QtY29udHJvbHMuanMnO1xuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG4vKipcbiAqIDh0aHdhbGwgY2FtZXJhIGNvbXBvbmVudC5cbiAqXG4gKiBTZXRzIHVwIHRoZSA4dGh3YWxsIHBpcGVsaW5lIGFuZCByZXRyaWV2ZXMgdHJhY2tpbmcgZXZlbnRzIHRvIHBsYWNlIGFuXG4gKiBvYmplY3QgYXQgdGhlIGxvY2F0aW9uIG9mIHRoZSB0cmFja2VkIEFSIGNhbWVyYSAvIG1vYmlsZSBkZXZpY2UuXG4gKlxuICogVXNlIHRoaXMgZm9yIFNMQU0gdHJhY2tpbmcgYmFzZWQgb24gOHRod2FsbC5cbiAqXG4gKiBNYWtlIHN1cmUgdG8gZW5hYmxlIDh0aHdhbGwgaW4gXCJQcm9qZWN0IFNldHRpbmdzXCIgPiBcIkFSXCIuIFNlZSBhbHNvIHRoZVxuICogW0FSIEdldHRpbmcgU3RhcnRlZCBHdWlkZV0oL2dldHRpbmctc3RhcnRlZC9xdWljay1zdGFydC1hcilcbiAqXG4gKlxuICogQ3VycmVudGx5IG9ubHkgc3VwcG9ydHMgd29ybGQtdHJhY2tpbmcgKFNMQU0pIHVzaW5nIEJBQ0sgY2FtZXJhLlxuICpcbiAqIC0gcmVtb3ZlIGFueSBvY2N1cnJlbmNlcyBvZiB0aGUgb2xkIDh0aHdhbGwtY2FtZXJhIGNvbXBvbmVudCBpbiB0aGUgZWRpdG9yXG4gKiAtIEFkZCB0aGlzIGNvbXBvbmVudCB0byBOb25WckNhbWVyYVxuICpcbiAqIElNUE9SVEFOVCFcbiAqIC0gdW50aWwgaXQgZ2V0J3MgZml4ZWQsIHNlbGVjdCAnY3VzdG9tSW5kZXhIdG1sJyBpbiB0aGUgcHJvamVjdCBzZXR0aW5nc1xuICogLSBvcGVuIGEgZ2VuZXJhdGVkIGluZGV4Lmh0bWwgYW5kIGNyb3Nzb3JpZ2luPVwiYW5vbnltb3VzXCIgYXR0cmlidXRlIHRvIHRoZSA8c2NyaXB0PiB0YWcgd2hlcmUgLy9hcHBzLjh0aHdhbGwuY29tL3hyd2ViIGlzIGxvYWRlZFxuICpcbiAqXG4gKiAjIyMjIyMjIyMgVXNpbmcgVUkgb3ZlcmxheXMgIyMjIyMjIyMjIyMjI1xuICogQnkgZGVmYXVsdCwgdGhpcyBjb21wb25lbnQgcmVuZGVycyBvd24gVUkgdG8gZ2l2ZSB0aGUgdXNlciBmZWVkYmFjayBhYm91dCByZWplY3RlZCBwZXJtaXNzaW9ucyBvciB0cmFja2luZyBlcnJvcnMuXG4gKiBJdCBjYW4gYmUgY2hhbmdlZCBieSBlbmFibGluZyB1c2VDdXN0b21VSU92ZXJsYXlzIGZsYWcuXG4gKlxuICogSWYgdXNlQ3VzdG9tVUlPdmVybGF5cyBpcyBlbmFibGVkLCB5b3UgYXJlIGV4cGVjdGVkIGhhbmRsZSB0aGUgZm9sbG93aW5nIGV2ZW50cyBkaXNwYXRjaGVkIGJ5IHRoZSB3aW5kb3cgb2JqZWN0OlxuICogLSBcIjh0aHdhbGwtcmVxdWVzdC11c2VyLWludGVyYWN0aW9uXCIgLSB1c2VkIG9ubHkgb24gaU9TIHNhZmFyaS4gUmVxdWVzdCBhIHVzZXIgdG8gcGVyZm9ybSBhbmQgaW50ZXJhY3Rpb24gd2l0aCB0aGUgcGFnZSBzbyB0aGF0IGphdmFzY3JpcHQgaXMgYWxsb3dlZCB0byBhbGxvd2VkIHRvIHJlcXVlc3QgYSBtb3Rpb24vY2FtZXJhL21pYyBwZXJtaXNzaW9ucy5cbiAqICBNYWtlIHN1cmUgdGhlIHdpbmRvdyBvYmplY3QgaXMgZGlzcGF0Y2hpbmcgYW4gJzh0aHdhbGwtc2FmZS10by1yZXF1ZXN0LXBlcm1pc3Npb25zJyBldmVudCBhZnRlciBpbnRlcmFjdGlvbiBoYXMgaGFwcGVuZWQuXG4gKiBgYGBcbiAqIDxidXR0b24gb25jbGljaz1cIndpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnOHRod2FsbC1zYWZlLXRvLXJlcXVlc3QtcGVybWlzc2lvbnMnKSlcIj5BbGxvdyBTZW5zb3JzPC9idXR0b24+XG4gKiBgYGBcbiAqXG4gKiAtIFwiOHRod2FsbC1wZXJtaXNzaW9uLWZhaWxcIiAtIHVzZXIgcmVqZWN0ZWQgYW55IG9mIHRoZSBwZXJtaXNzaW9uc1xuICpcbiAqIC0gXCI4dGh3YWxsLWVycm9yXCIgLSBydW50aW1lIDh0aHdhbGwgZXJyb3Igb2NjdXJyZWRcbiAqL1xuY2xhc3MgQVJDYW1lcmE4dGh3YWxsIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnOHRod2FsbC1jYW1lcmEnO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICAvKiogT3ZlcnJpZGUgdGhlIFdMIGh0bWwgb3ZlcmxheXMgZm9yIGhhbmRsaW5nIGNhbWVyYS9tb3Rpb24gcGVybWlzc2lvbnMgYW5kIGVycm9yIGhhbmRsaW5nICovXG4gICAgICAgIHVzZUN1c3RvbVVJT3ZlcmxheXM6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiBmYWxzZSB9LFxuICAgIH07XG4gICAgLyogOHRod2FsbCBjYW1lcmEgcGlwZWxpbmUgbW9kdWxlIG5hbWUgKi9cbiAgICBuYW1lID0gJ3dvbmRlcmxhbmQtZW5naW5lLTh0aHdhbGwtY2FtZXJhJztcbiAgICBzdGFydGVkID0gZmFsc2U7XG4gICAgdmlldyA9IG51bGw7IC8vIGNhY2hlIGNhbWVyYVxuICAgIHBvc2l0aW9uID0gWzAsIDAsIDBdOyAvLyBjYWNoZSA4dGh3YWxsIGNhbSBwb3NpdGlvblxuICAgIHJvdGF0aW9uID0gWzAsIDAsIDAsIC0xXTsgLy8gY2FjaGUgOHRod2FsbCBjYW0gcm90YXRpb25cbiAgICBnbFRleHR1cmVSZW5kZXJlciA9IG51bGw7IC8vIGNhY2hlIFhSOC5HbFRleHR1cmVSZW5kZXJlci5waXBlbGluZU1vZHVsZVxuICAgIHByb21wdEZvckRldmljZU1vdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFRlbGwgYW55b25lIHdobydzIGludGVyZXN0ZWQgdGhhdCB3ZSB3YW50IHRvIGdldCBzb21lIHVzZXIgaW50ZXJhY3Rpb25cbiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnOHRod2FsbC1yZXF1ZXN0LXVzZXItaW50ZXJhY3Rpb24nKSk7XG4gICAgICAgICAgICAvLyBXYWl0IHVudGlsIHNvbWVvbmUgcmVzcG9uc2UgdGhhdCB1c2VyIGludGVyYWN0aW9uIGhhcHBlbmVkXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignOHRod2FsbC1zYWZlLXRvLXJlcXVlc3QtcGVybWlzc2lvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW90aW9uRXZlbnQgPSBhd2FpdCBEZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG1vdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXhjZXB0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGdldFBlcm1pc3Npb25zKCkge1xuICAgICAgICAvLyBpT1MgXCJmZWF0dXJlXCIuIElmIHdlIHdhbnQgdG8gcmVxdWVzdCB0aGUgRGV2aWNlTW90aW9uIHBlcm1pc3Npb24sIHVzZXIgaGFzIHRvIGludGVyYWN0IHdpdGggdGhlIHBhZ2UgYXQgZmlyc3QgKHRvdWNoIGl0KS5cbiAgICAgICAgLy8gSWYgdGhlcmUgd2FzIG5vIGludGVyYWN0aW9uIGRvbmUgc28gZmFyLCB3ZSB3aWxsIHJlbmRlciBhIEhUTUwgb3ZlcmxheSB3aXRoIHdvdWxkIGdldCB0aGUgdXNlciB0byBpbnRlcmFjdCB3aXRoIHRoZSBzY3JlZW5cbiAgICAgICAgaWYgKERldmljZU1vdGlvbkV2ZW50ICYmIERldmljZU1vdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IERldmljZU1vdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHVzZXIgbXVzdCBoYXZlIHJlamVjdGVkIHRoZSBtb3Rpb24gZXZlbnQgb24gcHJldmlvdXMgcGFnZSBsb2FkLiAoc2FmYXJpIHJlbWVtYmVycyB0aGlzIGNob2ljZSkuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gJ2dyYW50ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTW90aW9uRXZlbnQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlciBoYWQgbm8gaW50ZXJhY3Rpb24gd2l0aCB0aGUgcGFnZSBzbyBmYXJcbiAgICAgICAgICAgICAgICBpZiAoZXhjZXB0aW9uLm5hbWUgPT09ICdOb3RBbGxvd2VkRXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdGlvbkV2ZW50ID0gYXdhaXQgdGhpcy5wcm9tcHRGb3JEZXZpY2VNb3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdGlvbkV2ZW50ICE9PSAnZ3JhbnRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTW90aW9uRXZlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNb3Rpb25FdmVudCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGdldCB0aGUgY2FtZXJhIHN0cmVhbVxuICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICAgICAgICAgIHZpZGVvOiB0cnVlLFxuICAgICAgICAgICAgICAgIGF1ZGlvOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBJZiB3ZSBzdWNjZXNzZnVsbHkgYWNxdWlyZWQgdGhlIGNhbWVyYSBzdHJlYW0gLSB3ZSBjYW4gc3RvcCBpdCBhbmQgd2FpdCB1bnRpbCA4dGh3YWxsIHJlcXVlc3RzIGl0IGFnYWluXG4gICAgICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgICAgICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbWVyYScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMudmlldyA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgndmlldycpO1xuICAgICAgICB0aGlzLm9uVXBkYXRlID0gdGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uQXR0YWNoID0gdGhpcy5vbkF0dGFjaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uRXhjZXB0aW9uID0gdGhpcy5vbkV4Y2VwdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uQ2FtZXJhU3RhdHVzQ2hhbmdlID0gdGhpcy5vbkNhbWVyYVN0YXR1c0NoYW5nZS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCd2aWV3Jyk7XG4gICAgICAgIGlmICghdGhpcy51c2VDdXN0b21VSU92ZXJsYXlzKSB7XG4gICAgICAgICAgICBPdmVybGF5c0hhbmRsZXIuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmdldFBlcm1pc3Npb25zKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBVc2VyIGRpZCBub3QgZ3JhbnQgdGhlIGNhbWVyYSBvciBtb3Rpb25FdmVudCBwZXJtaXNzaW9uc1xuICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCc4dGh3YWxsLXBlcm1pc3Npb24tZmFpbCcsIHsgZGV0YWlsOiBlcnJvciB9KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yWFI4KCk7XG4gICAgICAgIFhSOC5YckNvbnRyb2xsZXIuY29uZmlndXJlKHtcbiAgICAgICAgICAgIGRpc2FibGVXb3JsZFRyYWNraW5nOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2xUZXh0dXJlUmVuZGVyZXIgPSBYUjguR2xUZXh0dXJlUmVuZGVyZXIucGlwZWxpbmVNb2R1bGUoKTtcbiAgICAgICAgWFI4LmFkZENhbWVyYVBpcGVsaW5lTW9kdWxlcyhbXG4gICAgICAgICAgICB0aGlzLmdsVGV4dHVyZVJlbmRlcmVyLFxuICAgICAgICAgICAgWFI4LlhyQ29udHJvbGxlci5waXBlbGluZU1vZHVsZSgpLFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgXSk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZzoge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogWFI4LlhyQ29uZmlnLmNhbWVyYSgpLkJBQ0ssXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FudmFzOiBNb2R1bGUuY2FudmFzLFxuICAgICAgICAgICAgYWxsb3dlZERldmljZXM6IFhSOC5YckNvbmZpZy5kZXZpY2UoKS5BTlksXG4gICAgICAgICAgICBvd25SdW5Mb29wOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgICAgWFI4LnJ1bihjb25maWcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIDh0aHdhbGwgcGlwZWxpbmUgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBvbkF0dGFjaChwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbmdpbmUuc2NlbmUuY29sb3JDbGVhckVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgZ2wgPSBNb2R1bGUuY3R4O1xuICAgICAgICBjb25zdCByb3QgPSB0aGlzLm9iamVjdC5yb3RhdGlvbldvcmxkO1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKFtdKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IEFycmF5LmZyb20ocG9zKTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IEFycmF5LmZyb20ocm90KTtcbiAgICAgICAgWFI4LlhyQ29udHJvbGxlci51cGRhdGVDYW1lcmFQcm9qZWN0aW9uTWF0cml4KHtcbiAgICAgICAgICAgIG9yaWdpbjogeyB4OiBwb3NbMF0sIHk6IHBvc1sxXSwgejogcG9zWzJdIH0sXG4gICAgICAgICAgICBmYWNpbmc6IHsgeDogcm90WzBdLCB5OiByb3RbMV0sIHo6IHJvdFsyXSwgdzogcm90WzNdIH0sXG4gICAgICAgICAgICBjYW06IHtcbiAgICAgICAgICAgICAgICBwaXhlbFJlY3RXaWR0aDogTW9kdWxlLmNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgICAgICBwaXhlbFJlY3RIZWlnaHQ6IE1vZHVsZS5jYW52YXMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIG5lYXJDbGlwUGxhbmU6IHRoaXMudmlldy5uZWFyLFxuICAgICAgICAgICAgICAgIGZhckNsaXBQbGFuZTogdGhpcy52aWV3LmZhcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVuZ2luZS5zY2VuZS5vblByZVJlbmRlci5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5EUkFXX0ZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgICAgIFhSOC5ydW5QcmVSZW5kZXIoRGF0ZS5ub3coKSk7XG4gICAgICAgICAgICBYUjgucnVuUmVuZGVyKCk7IC8vIDwtLS0gdGVsbCA4dGh3YWxsIHRvIGRvIGl0J3MgdGhpbmcgKGFsdGVybmF0aXZlbHkgY2FsbCB0aGlzLmdsVGV4dHVyZVJlbmRlcmVyLm9uUmVuZGVyKCkgaWYgeW91IG9ubHkgY2FyZSBhYm91dCBjYW1lcmEgZmVlZCApXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVuZ2luZS5zY2VuZS5vblBvc3RSZW5kZXIucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICBYUjgucnVuUG9zdFJlbmRlcihEYXRlLm5vdygpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogOHRod2FsbCBwaXBlbGluZSBmdW5jdGlvblxuICAgICAqL1xuICAgIG9uQ2FtZXJhU3RhdHVzQ2hhbmdlKGUpIHtcbiAgICAgICAgaWYgKGUgJiYgZS5zdGF0dXMgPT09ICdmYWlsZWQnKSB7XG4gICAgICAgICAgICB0aGlzLm9uRXhjZXB0aW9uKG5ldyBFcnJvcihgQ2FtZXJhIGZhaWxlZCB3aXRoIHN0YXR1czogJHtlLnN0YXR1c31gKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiA4dGh3YWxsIHBpcGVsaW5lIGZ1bmN0aW9uXG4gICAgICovXG4gICAgb25VcGRhdGUoZSkge1xuICAgICAgICBpZiAoIWUucHJvY2Vzc0NwdVJlc3VsdC5yZWFsaXR5KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IHJvdGF0aW9uLCBwb3NpdGlvbiwgaW50cmluc2ljcyB9ID0gZS5wcm9jZXNzQ3B1UmVzdWx0LnJlYWxpdHk7XG4gICAgICAgIHRoaXMucm90YXRpb25bMF0gPSByb3RhdGlvbi54O1xuICAgICAgICB0aGlzLnJvdGF0aW9uWzFdID0gcm90YXRpb24ueTtcbiAgICAgICAgdGhpcy5yb3RhdGlvblsyXSA9IHJvdGF0aW9uLno7XG4gICAgICAgIHRoaXMucm90YXRpb25bM10gPSByb3RhdGlvbi53O1xuICAgICAgICB0aGlzLnBvc2l0aW9uWzBdID0gcG9zaXRpb24ueDtcbiAgICAgICAgdGhpcy5wb3NpdGlvblsxXSA9IHBvc2l0aW9uLnk7XG4gICAgICAgIHRoaXMucG9zaXRpb25bMl0gPSBwb3NpdGlvbi56O1xuICAgICAgICBpZiAoaW50cmluc2ljcykge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdGlvbk1hdHJpeCA9IHRoaXMudmlldy5wcm9qZWN0aW9uTWF0cml4O1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLyogU29tZSBwcm9jZXNzQ3B1UmVzdWx0LnJlYWxpdHkuaW50cmluc2ljcyBhcmUgc2V0IHRvIEluZmluaXR5LFxuICAgICAgICAgICAgICAgICAqIHdoaWNoIGJyYWtlcyBvdXIgcHJvamVjdGlvbk1hdHJpeC4gU28gd2UganVzdCBmaWx0ZXIgdGhvc2UgZWxlbWVudHMgb3V0LiAqL1xuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoaW50cmluc2ljc1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbk1hdHJpeFtpXSA9IGludHJpbnNpY3NbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvbiAmJiByb3RhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5vYmplY3Qucm90YXRpb25Xb3JsZCA9IHRoaXMucm90YXRpb247XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5zZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMucG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogOHRod2FsbCBwaXBlbGluZSBmdW5jdGlvblxuICAgICAqL1xuICAgIG9uRXhjZXB0aW9uKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJzh0aHdhbGwgZXhjZXB0aW9uOicsIGVycm9yKTtcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCc4dGh3YWxsLWVycm9yJywgeyBkZXRhaWw6IGVycm9yIH0pKTtcbiAgICB9XG4gICAgd2FpdEZvclhSOCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCBfcmVqKSA9PiB7XG4gICAgICAgICAgICBpZiAod2luZG93LlhSOCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd4cmxvYWRlZCcsICgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCB7IEFSQ2FtZXJhOHRod2FsbCB9O1xuY29uc3QgT3ZlcmxheXNIYW5kbGVyID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0VXNlckludGVyYWN0aW9uID0gdGhpcy5oYW5kbGVSZXF1ZXN0VXNlckludGVyYWN0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlUGVybWlzc2lvbkZhaWwgPSB0aGlzLmhhbmRsZVBlcm1pc3Npb25GYWlsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlRXJyb3IgPSB0aGlzLmhhbmRsZUVycm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCc4dGh3YWxsLXJlcXVlc3QtdXNlci1pbnRlcmFjdGlvbicsIHRoaXMuaGFuZGxlUmVxdWVzdFVzZXJJbnRlcmFjdGlvbik7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCc4dGh3YWxsLXBlcm1pc3Npb24tZmFpbCcsIHRoaXMuaGFuZGxlUGVybWlzc2lvbkZhaWwpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignOHRod2FsbC1lcnJvcicsIHRoaXMuaGFuZGxlRXJyb3IpO1xuICAgIH0sXG4gICAgaGFuZGxlUmVxdWVzdFVzZXJJbnRlcmFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5zaG93T3ZlcmxheShyZXF1ZXN0UGVybWlzc2lvbk92ZXJsYXkpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignOHRod2FsbC1zYWZlLXRvLXJlcXVlc3QtcGVybWlzc2lvbnMnLCAoKSA9PiB7XG4gICAgICAgICAgICBvdmVybGF5LnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGhhbmRsZVBlcm1pc3Npb25GYWlsOiBmdW5jdGlvbiAoX3JlYXNvbikge1xuICAgICAgICB0aGlzLnNob3dPdmVybGF5KGZhaWxlZFBlcm1pc3Npb25PdmVybGF5KTtcbiAgICB9LFxuICAgIGhhbmRsZUVycm9yOiBmdW5jdGlvbiAoX2Vycm9yKSB7XG4gICAgICAgIHRoaXMuc2hvd092ZXJsYXkocnVudGltZUVycm9yT3ZlcmxheSk7XG4gICAgfSxcbiAgICBzaG93T3ZlcmxheTogZnVuY3Rpb24gKGh0bWxDb250ZW50KSB7XG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgb3ZlcmxheS5pbm5lckhUTUwgPSBodG1sQ29udGVudDtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdmVybGF5KTtcbiAgICAgICAgcmV0dXJuIG92ZXJsYXk7XG4gICAgfSxcbn07XG5jb25zdCByZXF1ZXN0UGVybWlzc2lvbk92ZXJsYXkgPSBgXG48c3R5bGU+XG4gICNyZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB6LWluZGV4OiA5OTk7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgfVxuXG4gIC5yZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheV90aXRsZSB7XG4gICAgbWFyZ2luOiAzMHB4O1xuICAgIGZvbnQtc2l6ZTogMzJweDtcbiAgfVxuXG4gIC5yZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheV9idXR0b24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlODAwODY7XG4gICAgZm9udC1zaXplOiAyMnB4O1xuICAgIHBhZGRpbmc6IDEwcHggMzBweDtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgIGJvcmRlcjogbm9uZTtcbiAgfVxuPC9zdHlsZT5cblxuPGRpdiBpZD1cInJlcXVlc3QtcGVybWlzc2lvbi1vdmVybGF5XCI+XG4gIDxkaXYgY2xhc3M9XCJyZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheV90aXRsZVwiPlRoaXMgYXBwIHJlcXVpcmVzIHRvIHVzZSB5b3VyIGNhbWVyYSBhbmQgbW90aW9uIHNlbnNvcnM8L2Rpdj5cblxuICA8YnV0dG9uIGNsYXNzPVwicmVxdWVzdC1wZXJtaXNzaW9uLW92ZXJsYXlfYnV0dG9uXCIgb25jbGljaz1cIndpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnOHRod2FsbC1zYWZlLXRvLXJlcXVlc3QtcGVybWlzc2lvbnMnKSlcIj5PSzwvYnV0dG9uPlxuPC9kaXY+YDtcbmNvbnN0IGZhaWxlZFBlcm1pc3Npb25PdmVybGF5ID0gYFxuPHN0eWxlPlxuICAjZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB6LWluZGV4OiA5OTk7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgfVxuXG4gIC5mYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5X3RpdGxlIHtcbiAgICBtYXJnaW46IDMwcHg7XG4gICAgZm9udC1zaXplOiAzMnB4O1xuICB9XG5cbiAgLmZhaWxlZC1wZXJtaXNzaW9uLW92ZXJsYXlfYnV0dG9uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTgwMDg2O1xuICAgIGZvbnQtc2l6ZTogMjJweDtcbiAgICBwYWRkaW5nOiAxMHB4IDMwcHg7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICBib3JkZXI6IG5vbmU7XG4gIH1cbjwvc3R5bGU+XG5cbjxkaXYgaWQ9XCJmYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5XCI+XG4gIDxkaXYgY2xhc3M9XCJmYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5X3RpdGxlXCI+RmFpbGVkIHRvIGdyYW50IHBlcm1pc3Npb25zLiBSZXNldCB0aGUgdGhlIHBlcm1pc3Npb25zIGFuZCByZWZyZXNoIHRoZSBwYWdlLjwvZGl2PlxuXG4gIDxidXR0b24gY2xhc3M9XCJmYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5X2J1dHRvblwiIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcIj5SZWZyZXNoIHRoZSBwYWdlPC9idXR0b24+XG48L2Rpdj5gO1xuY29uc3QgcnVudGltZUVycm9yT3ZlcmxheSA9IGBcbjxzdHlsZT5cbiAgI3dhbGwtZXJyb3Itb3ZlcmxheSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB6LWluZGV4OiA5OTk7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgfVxuXG4gIC53YWxsLWVycm9yLW92ZXJsYXlfdGl0bGUge1xuICAgIG1hcmdpbjogMzBweDtcbiAgICBmb250LXNpemU6IDMycHg7XG4gIH1cblxuICAud2FsbC1lcnJvci1vdmVybGF5X2J1dHRvbiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U4MDA4NjtcbiAgICBmb250LXNpemU6IDIycHg7XG4gICAgcGFkZGluZzogMTBweCAzMHB4O1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgYm9yZGVyOiBub25lO1xuICB9XG48L3N0eWxlPlxuXG48ZGl2IGlkPVwid2FsbC1lcnJvci1vdmVybGF5XCI+XG4gIDxkaXYgY2xhc3M9XCJ3YWxsLWVycm9yLW92ZXJsYXlfdGl0bGVcIj5FcnJvciBoYXMgb2NjdXJyZWQuIFBsZWFzZSByZWxvYWQgdGhlIHBhZ2U8L2Rpdj5cblxuICA8YnV0dG9uIGNsYXNzPVwid2FsbC1lcnJvci1vdmVybGF5X2J1dHRvblwiIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcIj5SZWxvYWQ8L2J1dHRvbj5cbjwvZGl2PmA7XG4iLCAiY29uc3QgdGVtcFZlYyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG5jb25zdCB0ZW1wUXVhdCA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG5leHBvcnQgZnVuY3Rpb24gc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsKG8sIHRyYW5zZm9ybSkge1xuICAgIGNvbnN0IHIgPSB0cmFuc2Zvcm0ub3JpZW50YXRpb247XG4gICAgdGVtcFF1YXRbMF0gPSByLng7XG4gICAgdGVtcFF1YXRbMV0gPSByLnk7XG4gICAgdGVtcFF1YXRbMl0gPSByLno7XG4gICAgdGVtcFF1YXRbM10gPSByLnc7XG4gICAgY29uc3QgdCA9IHRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICB0ZW1wVmVjWzBdID0gdC54O1xuICAgIHRlbXBWZWNbMV0gPSB0Lnk7XG4gICAgdGVtcFZlY1syXSA9IHQuejtcbiAgICBvLnJlc2V0VHJhbnNsYXRpb25Sb3RhdGlvbigpO1xuICAgIG8udHJhbnNmb3JtTG9jYWwuc2V0KHRlbXBRdWF0KTtcbiAgICBvLnRyYW5zbGF0ZSh0ZW1wVmVjKTtcbn1cbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBDb21wb25lbnQsIEVtaXR0ZXIgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwgfSBmcm9tICcuL3V0aWxzL3dlYnhyLmpzJztcbnZhciB0ZW1wVmVjMyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG52YXIgdGVtcFF1YXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuLyoqXG4gKiBTZXRzIHRoZSBsb2NhdGlvbiBvZiB0aGUgb2JqZWN0IHRvIHRoZSBsb2NhdGlvbiBvZiBhbiBYUkFuY2hvclxuICpcbiAqIENyZWF0ZSBhbmNob3JzIHVzaW5nIHRoZSBgQW5jaG9yLmNyZWF0ZSgpYCBzdGF0aWMgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZSBmb3IgdXNlIHdpdGggY3Vyc29yOlxuICogYGBganNcbiAqIGN1cnNvclRhcmdldC5vbkNsaWNrLmFkZCgob2JqZWN0LCBjdXJzb3IsIG9yaWdpbmFsRXZlbnQpID0+IHtcbiAqICAgICAvKiBPbmx5IGV2ZW50cyBpbiBYUiB3aWxsIGhhdmUgYSBmcmFtZSBhdHRhY2hlZCAqXFwvXG4gKiAgICAgaWYoIW9yaWdpbmFsRXZlbnQuZnJhbWUpIHJldHVybjtcbiAqICAgICBBbmNob3IuY3JlYXRlKGFuY2hvck9iamVjdCwge3V1aWQ6IGlkLCBwZXJzaXN0OiB0cnVlfSwgb3JpZ2luYWxFdmVudC5mcmFtZSk7XG4gKiB9KTtcbiAqIGBgYFxuICovXG5jbGFzcyBBbmNob3IgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdhbmNob3InO1xuICAgIC8qIFN0YXRpYyBtYW5hZ2VtZW50IG9mIGFsbCBhbmNob3JzICovXG4gICAgc3RhdGljICNhbmNob3JzID0gW107XG4gICAgcGVyc2lzdCA9IGZhbHNlO1xuICAgIC8qKiBVbmlxdWUgaWRlbnRpZmllciB0byBsb2FkIGEgcGVyc2lzdGVudCBhbmNob3IgZnJvbSwgb3IgZW1wdHkvbnVsbCBpZiB1bmtub3duICovXG4gICAgdXVpZCA9IG51bGw7XG4gICAgLyoqIFRoZSB4ckFuY2hvciwgaWYgY3JlYXRlZCAqL1xuICAgIHhyQW5jaG9yID0gbnVsbDtcbiAgICAvKiogRW1pdHMgZXZlbnRzIHdoZW4gdGhlIGFuY2hvciBpcyBjcmVhdGVkIGVpdGhlciBieSBiZWluZyByZXN0b3JlZCBvciBuZXdseSBjcmVhdGVkICovXG4gICAgb25DcmVhdGUgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBXaGV0aGVyIHRoZSBhbmNob3IgaXMgY3VycmVudGx5IGJlaW5nIHRyYWNrZWQgKi9cbiAgICB2aXNpYmxlID0gZmFsc2U7XG4gICAgLyoqIEVtaXRzIGFuIGV2ZW50IHdoZW4gdGhpcyBhbmNob3Igc3RhcnRzIHRyYWNraW5nICovXG4gICAgb25UcmFja2luZ0ZvdW5kID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogRW1pdHMgYW4gZXZlbnQgd2hlbiB0aGlzIGFuY2hvciBzdG9wcyB0cmFja2luZyAqL1xuICAgIG9uVHJhY2tpbmdMb3N0ID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogWFJGcmFtZSB0byB1c2UgZm9yIGNyZWF0aW5nIHRoZSBhbmNob3IgKi9cbiAgICB4ckZyYW1lID0gbnVsbDtcbiAgICAvKiogWFJIaXRUZXN0UmVzdWx0IHRvIHVzZSBmb3IgY3JlYXRpbmcgdGhlIGFuY2hvciAqL1xuICAgIHhySGl0UmVzdWx0ID0gbnVsbDtcbiAgICAvKiogUmV0cmlldmUgYWxsIGFuY2hvcnMgb2YgdGhlIGN1cnJlbnQgc2NlbmUgKi9cbiAgICBzdGF0aWMgZ2V0QWxsQW5jaG9ycygpIHtcbiAgICAgICAgcmV0dXJuIEFuY2hvci4jYW5jaG9ycztcbiAgICB9XG4gICAgc3RhdGljICNhZGRBbmNob3IoYW5jaG9yKSB7XG4gICAgICAgIEFuY2hvci4jYW5jaG9ycy5wdXNoKGFuY2hvcik7XG4gICAgfVxuICAgIHN0YXRpYyAjcmVtb3ZlQW5jaG9yKGFuY2hvcikge1xuICAgICAgICBjb25zdCBpbmRleCA9IEFuY2hvci4jYW5jaG9ycy5pbmRleE9mKGFuY2hvcik7XG4gICAgICAgIGlmIChpbmRleCA8IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIEFuY2hvci4jYW5jaG9ycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgYW5jaG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbyBPYmplY3QgdG8gYXR0YWNoIHRoZSBjb21wb25lbnQgdG9cbiAgICAgKiBAcGFyYW0gcGFyYW1zIFBhcmFtZXRlcnMgZm9yIHRoZSBhbmNob3IgY29tcG9uZW50XG4gICAgICogQHBhcmFtIGZyYW1lIFhSRnJhbWUgdG8gdXNlIGZvciBhbmNob3IgY3JhdGlvbiwgaWYgbnVsbCwgd2lsbCB1c2UgdGhlIGN1cnJlbnQgZnJhbWUgaWYgYXZhaWxhYmxlXG4gICAgICogQHBhcmFtIGhpdFJlc3VsdCBPcHRpb25hbCBoaXQtdGVzdCByZXN1bHQgdG8gY3JlYXRlIHRoZSBhbmNob3Igd2l0aFxuICAgICAqIEByZXR1cm5zIFByb21pc2UgZm9yIHRoZSBuZXdseSBjcmVhdGVkIGFuY2hvciBjb21wb25lbnRcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKG8sIHBhcmFtcywgZnJhbWUsIGhpdFJlc3VsdCkge1xuICAgICAgICBjb25zdCBhID0gby5hZGRDb21wb25lbnQoQW5jaG9yLCB7IC4uLnBhcmFtcywgYWN0aXZlOiBmYWxzZSB9KTtcbiAgICAgICAgaWYgKGEgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgYS54ckhpdFJlc3VsdCA9IGhpdFJlc3VsdCA/PyBudWxsO1xuICAgICAgICBhLnhyRnJhbWUgPSBmcmFtZSA/PyBudWxsO1xuICAgICAgICBhLm9uQ3JlYXRlLm9uY2UoKCkgPT4gKChhLnhyRnJhbWUgPSBudWxsKSwgKGEueHJIaXRSZXN1bHQgPSBudWxsKSkpO1xuICAgICAgICBhLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHJldHVybiBhLm9uQ3JlYXRlLnByb21pc2UoKTtcbiAgICB9XG4gICAgI2dldEZyYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy54ckZyYW1lIHx8IHRoaXMuZW5naW5lLnhyLmZyYW1lO1xuICAgIH1cbiAgICBhc3luYyAjY3JlYXRlQW5jaG9yKCkge1xuICAgICAgICBpZiAoIXRoaXMuI2dldEZyYW1lKCkuY3JlYXRlQW5jaG9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGFuY2hvciAtIGFuY2hvcnMgbm90IHN1cHBvcnRlZCwgZGlkIHlvdSBlbmFibGUgdGhlICdhbmNob3JzJyBXZWJYUiBmZWF0dXJlP1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy54ckhpdFJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMueHJIaXRSZXN1bHQuY3JlYXRlQW5jaG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVlc3RlZCBhbmNob3Igb24gWFJIaXRUZXN0UmVzdWx0LCBidXQgV2ViWFIgaGl0LXRlc3QgZmVhdHVyZSBpcyBub3QgYXZhaWxhYmxlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueHJIaXRSZXN1bHQuY3JlYXRlQW5jaG9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRlbXBWZWMzKTtcbiAgICAgICAgICAgIHRlbXBRdWF0LnNldCh0aGlzLm9iamVjdC5yb3RhdGlvbldvcmxkKTtcbiAgICAgICAgICAgIGNvbnN0IHJvdGF0aW9uID0gdGVtcFF1YXQ7XG4gICAgICAgICAgICBjb25zdCBhbmNob3JQb3NlID0gbmV3IFhSUmlnaWRUcmFuc2Zvcm0oeyB4OiB0ZW1wVmVjM1swXSwgeTogdGVtcFZlYzNbMV0sIHo6IHRlbXBWZWMzWzJdIH0sIHsgeDogcm90YXRpb25bMF0sIHk6IHJvdGF0aW9uWzFdLCB6OiByb3RhdGlvblsyXSwgdzogcm90YXRpb25bM10gfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4jZ2V0RnJhbWUoKT8uY3JlYXRlQW5jaG9yKGFuY2hvclBvc2UsIHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgI29uQWRkQW5jaG9yKGFuY2hvcikge1xuICAgICAgICBpZiAoIWFuY2hvcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMucGVyc2lzdCkge1xuICAgICAgICAgICAgaWYgKGFuY2hvci5yZXF1ZXN0UGVyc2lzdGVudEhhbmRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yLnJlcXVlc3RQZXJzaXN0ZW50SGFuZGxlKCkudGhlbigodXVpZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnV1aWQgPSB1dWlkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNvbkNyZWF0ZShhbmNob3IpO1xuICAgICAgICAgICAgICAgICAgICBBbmNob3IuI2FkZEFuY2hvcih0aGlzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2FuY2hvcjogUGVyc2lzdGVudCBhbmNob3JzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgY2xpZW50LiBJZ25vcmluZyBwZXJzaXN0IHByb3BlcnR5LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuI29uQ3JlYXRlKGFuY2hvcik7XG4gICAgfVxuICAgICNvblJlc3RvcmVBbmNob3IoYW5jaG9yKSB7XG4gICAgICAgIHRoaXMuI29uQ3JlYXRlKGFuY2hvcik7XG4gICAgfVxuICAgICNvbkNyZWF0ZShhbmNob3IpIHtcbiAgICAgICAgdGhpcy54ckFuY2hvciA9IGFuY2hvcjtcbiAgICAgICAgdGhpcy5vbkNyZWF0ZS5ub3RpZnkodGhpcyk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAodGhpcy51dWlkICYmIHRoaXMuZW5naW5lLnhyKSB7XG4gICAgICAgICAgICB0aGlzLnBlcnNpc3QgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5naW5lLnhyLnNlc3Npb24ucmVzdG9yZVBlcnNpc3RlbnRBbmNob3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignYW5jaG9yOiBQZXJzaXN0ZW50IGFuY2hvcnMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBjbGllbnQuIElnbm9yaW5nIHBlcnNpc3QgcHJvcGVydHkuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLnJlc3RvcmVQZXJzaXN0ZW50QW5jaG9yKHRoaXMudXVpZCkudGhlbih0aGlzLiNvblJlc3RvcmVBbmNob3IuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy4jZ2V0RnJhbWUoKSkge1xuICAgICAgICAgICAgdGhpcy4jY3JlYXRlQW5jaG9yKCkudGhlbih0aGlzLiNvbkFkZEFuY2hvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQW5jaG9ycyBjYW4gb25seSBiZSBjcmVhdGVkIGR1cmluZyB0aGUgWFIgZnJhbWUgaW4gYW4gYWN0aXZlIFhSIHNlc3Npb24nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy54ckFuY2hvciB8fCAhdGhpcy5lbmdpbmUueHIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8qIFdlIG5lZWQgdG8gdXNlIHRoZSBhY3R1YWwgZnJhbWUgZnJvbSB0aGUgZHJhdyBjYWxsYmFjayBoZXJlICovXG4gICAgICAgIGNvbnN0IHBvc2UgPSB0aGlzLmVuZ2luZS54ci5mcmFtZS5nZXRQb3NlKHRoaXMueHJBbmNob3IuYW5jaG9yU3BhY2UsIHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XG4gICAgICAgIGNvbnN0IHZpc2libGUgPSAhIXBvc2U7XG4gICAgICAgIGlmICh2aXNpYmxlICE9IHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZTtcbiAgICAgICAgICAgICh2aXNpYmxlID8gdGhpcy5vblRyYWNraW5nRm91bmQgOiB0aGlzLm9uVHJhY2tpbmdMb3N0KS5ub3RpZnkodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvc2UpIHtcbiAgICAgICAgICAgIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCh0aGlzLm9iamVjdCwgcG9zZS50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uRGVzdHJveSgpIHtcbiAgICAgICAgQW5jaG9yLiNyZW1vdmVBbmNob3IodGhpcyk7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuYm9vbChmYWxzZSlcbl0sIEFuY2hvci5wcm90b3R5cGUsIFwicGVyc2lzdFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuc3RyaW5nKClcbl0sIEFuY2hvci5wcm90b3R5cGUsIFwidXVpZFwiLCB2b2lkIDApO1xuZXhwb3J0IHsgQW5jaG9yIH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBFbWl0dGVyIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbi8qKlxuICogQ2xpY2svaG92ZXIvbW92ZS9idXR0b24gdGFyZ2V0IGZvciBbY3Vyc29yXSgjY3Vyc29yKS5cbiAqXG4gKiBUbyB0cmlnZ2VyIGNvZGUgd2hlbiBjbGlja2luZywgaG92ZXJpbmcsIHVuaG92ZXJpbmcsIG1vdmluZyBjdXJzb3IsIHByZXNzaW5nXG4gKiBjdXJzb3IgYnV0dG9uIG9yIHJlbGVhc2luZyBjdXJzb3IgYnV0dG9uLCB1c2UgYC5hZGRDbGlja0Z1bmN0aW9uKGYpYCxcbiAqIGAuYWRkSG92ZXJGdW5jdGlvbihmKWAsIGAuYWRkVW5Ib3ZlckZ1bmN0aW9uKGYpYCxcbiAqIGAuYWRkTW92ZUZ1bmN0aW9uKGYpYCwgYC5hZGREb3duRnVuY3Rpb24oZilgIGFuZFxuICogYC5hZGRVcEZ1bmN0aW9uKGYpYCByZXNwZWN0aXZlbHkgd2l0aCBhbnkgYGZ1bmN0aW9uIGYoKSB7fWAuXG4gKlxuICogVG8gY2FsbCBtZW1iZXJzIG9uIGEgZGlmZmVyZW50IGNvbXBvbmVudCwgeW91IGNhbiBzZXQgdXAgYSBjdXJzb3IgdGFyZ2V0IGxpa2VcbiAqIHNvOlxuICpcbiAqIGBgYGpzXG4gKiBzdGFydDogZnVuY3Rpb24oKSB7XG4gKiAgIGxldCB0YXJnZXQgPSB0aGlzLm9iamVjdC5hZGRDb21wb25lbnQoJ2N1cnNvci10YXJnZXQnKTtcbiAqICAgdGFyZ2V0Lm9uQ2xpY2suYWRkKHRoaXMub25DbGljay5iaW5kKHRoaXMpKTtcbiAqIH0sXG4gKiBvbkNsaWNrOiBmdW5jdGlvbigpIHtcbiAqICAgY29uc29sZS5sb2codGhpcy5vYmplY3QubmFtZSwgXCJ3YXMgY2xpY2tlZCFcIik7XG4gKiB9XG4gKiBgYGBcbiAqICoqRnVuY3Rpb25zOioqXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHRhcmdldCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudChDdXJzb3JUYXJnZXQpO1xuICogY29uc3QgY2FsbGJhY2sgPSBmdW5jdGlvbihvYmplY3QsIGN1cnNvckNvbXBvbmVudCkge307XG4gKlxuICogdGFyZ2V0Lm9uSG92ZXIuYWRkKGNhbGxiYWNrKTtcbiAqIHRhcmdldC5vbkhvdmVyLnJlbW92ZShjYWxsYmFjayk7XG4gKlxuICogdGFyZ2V0Lm9uVW5Ib3Zlci5hZGQoY2FsbGJhY2spO1xuICogdGFyZ2V0Lm9uVW5Ib3Zlci5yZW1vdmUoY2FsbGJhY2spO1xuICpcbiAqIHRhcmdldC5vbkNsaWNrLmFkZChjYWxsYmFjayk7XG4gKiB0YXJnZXQub25DbGljay5yZW1vdmUoY2FsbGJhY2spO1xuICpcbiAqIHRhcmdldC5vbk1vdmUuYWRkKGNhbGxiYWNrKTtcbiAqIHRhcmdldC5vbk1vdmUucmVtb3ZlKGNhbGxiYWNrKTtcbiAqXG4gKiB0YXJnZXQub25Eb3duLmFkZChjYWxsYmFjayk7XG4gKiB0YXJnZXQub25Eb3duLnJlbW92ZShjYWxsYmFjayk7XG4gKlxuICogdGFyZ2V0Lm9uVXAuYWRkKGNhbGxiYWNrKTtcbiAqIHRhcmdldC5vblVwLnJlbW92ZShjYWxsYmFjayk7XG4gKiBgYGBcbiAqXG4gKiAqKlJlcXVpcmVtZW50czoqKlxuICogLSBhIGBjb2xsaXNpb25gIGNvbXBvbmVudCB0byBiZSBhdHRhY2hlZCB0byB0aGUgc2FtZSBvYmplY3QuXG4gKlxuICogU2VlIFtBbmltYXRpb24gRXhhbXBsZV0oL3Nob3djYXNlL2FuaW1hdGlvbikuXG4gKi9cbmNsYXNzIEN1cnNvclRhcmdldCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2N1cnNvci10YXJnZXQnO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge307XG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB0YXJnZXQgaXMgaG92ZXJlZCAqL1xuICAgIG9uSG92ZXIgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIHVuaG92ZXJlZCAqL1xuICAgIG9uVW5ob3ZlciA9IG5ldyBFbWl0dGVyKCk7XG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSB0YXJnZXQgaXMgY2xpY2tlZCAqL1xuICAgIG9uQ2xpY2sgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgY3Vyc29yIG1vdmVzIG9uIHRoZSB0YXJnZXQgKi9cbiAgICBvbk1vdmUgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdXNlciBwcmVzc2VkIHRoZSBzZWxlY3QgYnV0dG9uIG9uIHRoZSB0YXJnZXQgKi9cbiAgICBvbkRvd24gPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdXNlciB1bnByZXNzZWQgdGhlIHNlbGVjdCBidXR0b24gb24gdGhlIHRhcmdldCAqL1xuICAgIG9uVXAgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICB0aGlzLm9uSG92ZXIuYWRkKGYpO1xuICAgICAqL1xuICAgIGFkZEhvdmVyRnVuY3Rpb24oZikge1xuICAgICAgICB0aGlzLm9uSG92ZXIuYWRkKGYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICAgdGhpcy5vbkhvdmVyLnJlbW92ZShmKTtcbiAgICAgKi9cbiAgICByZW1vdmVIb3ZlckZ1bmN0aW9uKGYpIHtcbiAgICAgICAgdGhpcy5vbkhvdmVyLnJlbW92ZShmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIHRoaXMub25VbmhvdmVyLmFkZChmKTtcbiAgICAgKi9cbiAgICBhZGRVbkhvdmVyRnVuY3Rpb24oZikge1xuICAgICAgICB0aGlzLm9uVW5ob3Zlci5hZGQoZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICB0aGlzLm9uVW5ob3Zlci5yZW1vdmUoZik7XG4gICAgICovXG4gICAgcmVtb3ZlVW5Ib3ZlckZ1bmN0aW9uKGYpIHtcbiAgICAgICAgdGhpcy5vblVuaG92ZXIucmVtb3ZlKGYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICAgdGhpcy5vbkNsaWNrLmFkZChmKTtcbiAgICAgKi9cbiAgICBhZGRDbGlja0Z1bmN0aW9uKGYpIHtcbiAgICAgICAgdGhpcy5vbkNsaWNrLmFkZChmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIGNvbXBvbmVudC5vbkNsaWNrLnJlbW92ZShmKTtcbiAgICAgKi9cbiAgICByZW1vdmVDbGlja0Z1bmN0aW9uKGYpIHtcbiAgICAgICAgdGhpcy5vbkNsaWNrLnJlbW92ZShmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIGNvbXBvbmVudC5vbk1vdmUuYWRkKGYpO1xuICAgICAqL1xuICAgIGFkZE1vdmVGdW5jdGlvbihmKSB7XG4gICAgICAgIHRoaXMub25Nb3ZlLmFkZChmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIGNvbXBvbmVudC5vbk1vdmUucmVtb3ZlKGYpO1xuICAgICAqL1xuICAgIHJlbW92ZU1vdmVGdW5jdGlvbihmKSB7XG4gICAgICAgIHRoaXMub25Nb3ZlLnJlbW92ZShmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIGNvbXBvbmVudC5vbkRvd24uYWRkKGYpO1xuICAgICAqL1xuICAgIGFkZERvd25GdW5jdGlvbihmKSB7XG4gICAgICAgIHRoaXMub25Eb3duLmFkZChmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIGNvbXBvbmVudC5vbkRvd24ucmVtb3ZlKGYpO1xuICAgICAqL1xuICAgIHJlbW92ZURvd25GdW5jdGlvbihmKSB7XG4gICAgICAgIHRoaXMub25Eb3duLnJlbW92ZShmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIGNvbXBvbmVudC5vblVwLmFkZChmKTtcbiAgICAgKi9cbiAgICBhZGRVcEZ1bmN0aW9uKGYpIHtcbiAgICAgICAgdGhpcy5vblVwLmFkZChmKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgIGNvbXBvbmVudC5vblVwLnJlbW92ZShmKTtcbiAgICAgKi9cbiAgICByZW1vdmVVcEZ1bmN0aW9uKGYpIHtcbiAgICAgICAgdGhpcy5vblVwLnJlbW92ZShmKTtcbiAgICB9XG59XG5leHBvcnQgeyBDdXJzb3JUYXJnZXQgfTtcbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBDb21wb25lbnQsIEVtaXR0ZXIgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwgfSBmcm9tICcuL3V0aWxzL3dlYnhyLmpzJztcbi8qKlxuICogU2V0cyB1cCBhIFtXZWJYUiBEZXZpY2UgQVBJIFwiSGl0IFRlc3RcIl0oaHR0cHM6Ly9pbW1lcnNpdmUtd2ViLmdpdGh1Yi5pby9oaXQtdGVzdC8pXG4gKiBhbmQgcGxhY2VzIHRoZSBvYmplY3QgdG8gdGhlIGhpdCBsb2NhdGlvbi5cbiAqXG4gKiAqKlJlcXVpcmVtZW50czoqKlxuICogIC0gU3BlY2lmeSBgJ2hpdC10ZXN0J2AgaW4gdGhlIHJlcXVpcmVkIG9yIG9wdGlvbmFsIGZlYXR1cmVzIG9uIHRoZSBBUiBidXR0b24gaW4geW91ciBodG1sIGZpbGUuXG4gKiAgICBTZWUgW1dhc3RlcGFwZXJiaW4gQVJdKC9zaG93Y2FzZS93cGItYXIpIGFzIGFuIGV4YW1wbGUuXG4gKi9cbmNsYXNzIEhpdFRlc3RMb2NhdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2hpdC10ZXN0LWxvY2F0aW9uJztcbiAgICB0ZW1wU2NhbGluZyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgdmlzaWJsZSA9IGZhbHNlO1xuICAgIHhySGl0VGVzdFNvdXJjZSA9IG51bGw7XG4gICAgLyoqIFJlZmVyZW5jZSBzcGFjZSBmb3IgY3JlYXRpbmcgdGhlIGhpdCB0ZXN0IHdoZW4gdGhlIHNlc3Npb24gc3RhcnRzICovXG4gICAgeHJSZWZlcmVuY2VTcGFjZSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogRm9yIG1haW50YWluaW5nIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5OiBXaGV0aGVyIHRvIHNjYWxlIHRoZSBvYmplY3QgdG8gMCBhbmQgYmFjay5cbiAgICAgKiBAZGVwcmVjYXRlZCBVc2Ugb25IaXRMb3N0IGFuZCBvbkhpdEZvdW5kIGluc3RlYWQuXG4gICAgICovXG4gICAgc2NhbGVPYmplY3QgPSB0cnVlO1xuICAgIC8qKiBFbWl0cyBhbiBldmVudCB3aGVuIHRoZSBoaXQgdGVzdCBzd2l0Y2hlcyBmcm9tIHZpc2libGUgdG8gaW52aXNpYmxlICovXG4gICAgb25IaXRMb3N0ID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogRW1pdHMgYW4gZXZlbnQgd2hlbiB0aGUgaGl0IHRlc3Qgc3dpdGNoZXMgZnJvbSBpbnZpc2libGUgdG8gdmlzaWJsZSAqL1xuICAgIG9uSGl0Rm91bmQgPSBuZXcgRW1pdHRlcigpO1xuICAgIG9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSBudWxsO1xuICAgIG9uU2Vzc2lvbkVuZENhbGxiYWNrID0gbnVsbDtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5vblhSU2Vzc2lvblN0YXJ0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uRW5kLmJpbmQodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLnNjYWxlT2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnRlbXBTY2FsaW5nLnNldCh0aGlzLm9iamVjdC5zY2FsaW5nTG9jYWwpO1xuICAgICAgICAgICAgdGhpcy5vYmplY3Quc2NhbGUoWzAsIDAsIDBdKTtcbiAgICAgICAgICAgIHRoaXMub25IaXRMb3N0LmFkZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wU2NhbGluZy5zZXQodGhpcy5vYmplY3Quc2NhbGluZ0xvY2FsKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5zY2FsZShbMCwgMCwgMF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm9uSGl0Rm91bmQuYWRkKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5zY2FsaW5nTG9jYWwuc2V0KHRoaXMudGVtcFNjYWxpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnNldERpcnR5KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvbkVuZC5hZGQodGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayk7XG4gICAgfVxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQucmVtb3ZlKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGNvbnN0IHdhc1Zpc2libGUgPSB0aGlzLnZpc2libGU7XG4gICAgICAgIGlmICh0aGlzLnhySGl0VGVzdFNvdXJjZSkge1xuICAgICAgICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLmVuZ2luZS54ckZyYW1lO1xuICAgICAgICAgICAgaWYgKCFmcmFtZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgaGl0VGVzdFJlc3VsdHMgPSBmcmFtZS5nZXRIaXRUZXN0UmVzdWx0cyh0aGlzLnhySGl0VGVzdFNvdXJjZSk7XG4gICAgICAgICAgICBpZiAoaGl0VGVzdFJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBwb3NlID0gaGl0VGVzdFJlc3VsdHNbMF0uZ2V0UG9zZSh0aGlzLmVuZ2luZS54ci5jdXJyZW50UmVmZXJlbmNlU3BhY2UpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9ICEhcG9zZTtcbiAgICAgICAgICAgICAgICBpZiAocG9zZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwodGhpcy5vYmplY3QsIHBvc2UudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBFbWl0IGV2ZW50cyBmb3IgdmlzaWJsZSBzdGF0ZSBjaGFuZ2UgKi9cbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSAhPSB3YXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAodGhpcy52aXNpYmxlID8gdGhpcy5vbkhpdEZvdW5kIDogdGhpcy5vbkhpdExvc3QpLm5vdGlmeSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRIaXRUZXN0UmVzdWx0cyhmcmFtZSA9IHRoaXMuZW5naW5lLnhyPy5mcmFtZSA/PyBudWxsKSB7XG4gICAgICAgIGlmICghZnJhbWUpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIC8qIE1heSBoYXBwZW4gaWYgdGhlIGhpdCB0ZXN0IHNvdXJjZSBjb3VsZG4ndCBiZSBjcmVhdGVkICovXG4gICAgICAgIGlmICghdGhpcy54ckhpdFRlc3RTb3VyY2UpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIHJldHVybiBmcmFtZS5nZXRIaXRUZXN0UmVzdWx0cyh0aGlzLnhySGl0VGVzdFNvdXJjZSk7XG4gICAgfVxuICAgIG9uWFJTZXNzaW9uU3RhcnQoc2Vzc2lvbikge1xuICAgICAgICBpZiAoc2Vzc2lvbi5yZXF1ZXN0SGl0VGVzdFNvdXJjZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdoaXQtdGVzdC1sb2NhdGlvbjogaGl0IHRlc3QgZmVhdHVyZSBub3QgYXZhaWxhYmxlLiBEZWFjdGl2YXRpbmcgY29tcG9uZW50LicpO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXNzaW9uXG4gICAgICAgICAgICAucmVxdWVzdEhpdFRlc3RTb3VyY2Uoe1xuICAgICAgICAgICAgc3BhY2U6IHRoaXMueHJSZWZlcmVuY2VTcGFjZSA/P1xuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLnhyLnJlZmVyZW5jZVNwYWNlRm9yVHlwZSgndmlld2VyJyksXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoaGl0VGVzdFNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy54ckhpdFRlc3RTb3VyY2UgPSBoaXRUZXN0U291cmNlO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgIH1cbiAgICBvblhSU2Vzc2lvbkVuZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnhySGl0VGVzdFNvdXJjZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy54ckhpdFRlc3RTb3VyY2UuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMueHJIaXRUZXN0U291cmNlID0gbnVsbDtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5ib29sKHRydWUpXG5dLCBIaXRUZXN0TG9jYXRpb24ucHJvdG90eXBlLCBcInNjYWxlT2JqZWN0XCIsIHZvaWQgMCk7XG5leHBvcnQgeyBIaXRUZXN0TG9jYXRpb24gfTtcbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBDb21wb25lbnQsIFZpZXdDb21wb25lbnQsIEVtaXR0ZXIsIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgdmVjMywgbWF0NCB9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgeyBDdXJzb3JUYXJnZXQgfSBmcm9tICcuL2N1cnNvci10YXJnZXQuanMnO1xuaW1wb3J0IHsgSGl0VGVzdExvY2F0aW9uIH0gZnJvbSAnLi9oaXQtdGVzdC1sb2NhdGlvbi5qcyc7XG5jb25zdCB0ZW1wVmVjID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbi8qKiBHbG9iYWwgdGFyZ2V0IGZvciB7QGxpbmsgQ3Vyc29yfSAqL1xuY2xhc3MgQ3Vyc29yVGFyZ2V0RW1pdHRlcnMge1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIGhvdmVyZWQgKi9cbiAgICBvbkhvdmVyID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHRhcmdldCBpcyB1bmhvdmVyZWQgKi9cbiAgICBvblVuaG92ZXIgPSBuZXcgRW1pdHRlcigpO1xuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIGNsaWNrZWQgKi9cbiAgICBvbkNsaWNrID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIGN1cnNvciBtb3ZlcyBvbiB0aGUgdGFyZ2V0ICovXG4gICAgb25Nb3ZlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHVzZXIgcHJlc3NlZCB0aGUgc2VsZWN0IGJ1dHRvbiBvbiB0aGUgdGFyZ2V0ICovXG4gICAgb25Eb3duID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHVzZXIgdW5wcmVzc2VkIHRoZSBzZWxlY3QgYnV0dG9uIG9uIHRoZSB0YXJnZXQgKi9cbiAgICBvblVwID0gbmV3IEVtaXR0ZXIoKTtcbn1cbi8qKlxuICogM0QgY3Vyc29yIGZvciBkZXNrdG9wL21vYmlsZS9WUi5cbiAqXG4gKiBJbXBsZW1lbnRzIGEgcmF5LWNhc3RpbmcgY3Vyc29yIGludG8gdGhlIHNjZW5lLiBUbyByZWFjdCB0b1xuICogY2xpY2tpbmcvaG92ZXIvdW5ob3Zlci9jdXJzb3IgZG93bi9jdXJzb3IgdXAvbW92ZSB1c2UgYVxuICogW2N1cnNvci10YXJnZXRdKCNjdXJzb3ItdGFyZ2V0KS5cbiAqXG4gKiBGb3IgVlIsIHRoZSByYXkgaXMgY2FzdCBpbiBkaXJlY3Rpb24gb2ZcbiAqIFt0aGlzLm9iamVjdC5nZXRGb3J3YXJkKCldKC9qc2FwaS9vYmplY3QvI2dldGZvcndhcmQpLiBGb3IgZGVza3RvcCBhbmQgbW9iaWxlLCB0aGVcbiAqIGZvcndhcmQgdmVjdG9yIGlzIGludmVyc2UtcHJvamVjdGVkIHRvIGFjY291bnQgZm9yIHdoZXJlIG9uIHNjcmVlbiB0aGUgdXNlciBjbGlja2VkLlxuICpcbiAqIGAuZ2xvYmFsVGFyZ2V0YCBjYW4gYmUgdXNlZCB0byBjYWxsIGNhbGxiYWNrcyBmb3IgYWxsIG9iamVjdHMsIGV2ZW4gdGhvc2UgdGhhdFxuICogZG8gbm90IGhhdmUgYSBjdXJzb3IgdGFyZ2V0IGF0dGFjaGVkLCBidXQgbWF0Y2ggdGhlIGNvbGxpc2lvbiBncm91cC5cbiAqXG4gKiBgLmhpdFRlc3RUYXJnZXRgIGNhbiBiZSB1c2VkIHRvIGNhbGwgY2FsbGJhY2tzIFdlYlhSIGhpdCB0ZXN0IHJlc3VsdHMsXG4gKlxuICogU2VlIFtBbmltYXRpb24gRXhhbXBsZV0oL3Nob3djYXNlL2FuaW1hdGlvbikuXG4gKi9cbmNsYXNzIEN1cnNvciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2N1cnNvcic7XG4gICAgLyogRGVwZW5kZW5jaWVzIGlzIGRlcHJlY2F0ZWQsIGJ1dCB3ZSBrZWVwIGl0IGhlcmUgZm9yIGNvbXBhdGliaWxpdHlcbiAgICAgKiB3aXRoIDEuMC4wLXJjMiB1bnRpbCAxLjAuMCBpcyByZWxlYXNlZCAqL1xuICAgIHN0YXRpYyBEZXBlbmRlbmNpZXMgPSBbSGl0VGVzdExvY2F0aW9uXTtcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcbiAgICAgICAgZW5naW5lLnJlZ2lzdGVyQ29tcG9uZW50KEhpdFRlc3RMb2NhdGlvbik7XG4gICAgfVxuICAgIF9jb2xsaXNpb25NYXNrID0gMDtcbiAgICBfb25EZWFjdGl2YXRlQ2FsbGJhY2tzID0gW107XG4gICAgX2lucHV0ID0gbnVsbDtcbiAgICBfb3JpZ2luID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICBfY3Vyc29yT2JqU2NhbGUgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIF9kaXJlY3Rpb24gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIF9wcm9qZWN0aW9uTWF0cml4ID0gbmV3IEZsb2F0MzJBcnJheSgxNik7XG4gICAgX3ZpZXdDb21wb25lbnQgPSBudWxsO1xuICAgIF9pc0Rvd24gPSBmYWxzZTtcbiAgICBfbGFzdElzRG93biA9IGZhbHNlO1xuICAgIF9hclRvdWNoRG93biA9IGZhbHNlO1xuICAgIF9sYXN0UG9pbnRlclBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG4gICAgX2xhc3RDdXJzb3JQb3NPblRhcmdldCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgX2N1cnNvclJheVNjYWxlID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICBfaGl0VGVzdExvY2F0aW9uID0gbnVsbDtcbiAgICBfaGl0VGVzdE9iamVjdCA9IG51bGw7XG4gICAgX29uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGN1cnNvciAoYW5kIGN1cnNvck9iamVjdCkgaXMgdmlzaWJsZSwgaS5lLiBwb2ludGluZyBhdCBhbiBvYmplY3RcbiAgICAgKiB0aGF0IG1hdGNoZXMgdGhlIGNvbGxpc2lvbiBncm91cFxuICAgICAqL1xuICAgIHZpc2libGUgPSB0cnVlO1xuICAgIC8qKiBNYXhpbXVtIGRpc3RhbmNlIGZvciB0aGUgY3Vyc29yJ3MgcmF5IGNhc3QgKi9cbiAgICBtYXhEaXN0YW5jZSA9IDEwMDtcbiAgICAvKiogQ3VycmVudGx5IGhvdmVyZWQgb2JqZWN0ICovXG4gICAgaG92ZXJpbmdPYmplY3QgPSBudWxsO1xuICAgIC8qKiBDdXJzb3JUYXJnZXQgY29tcG9uZW50IG9mIHRoZSBjdXJyZW50bHkgaG92ZXJlZCBvYmplY3QgKi9cbiAgICBob3ZlcmluZ09iamVjdFRhcmdldCA9IG51bGw7XG4gICAgLyoqIFdoZXRoZXIgdGhlIGN1cnNvciBpcyBob3ZlcmluZyByZWFsaXR5IHZpYSBoaXQtdGVzdCAqL1xuICAgIGhvdmVyaW5nUmVhbGl0eSA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEdsb2JhbCB0YXJnZXQgbGV0cyB5b3UgcmVjZWl2ZSBnbG9iYWwgY3Vyc29yIGV2ZW50cyBvbiBhbnkgb2JqZWN0LlxuICAgICAqL1xuICAgIGdsb2JhbFRhcmdldCA9IG5ldyBDdXJzb3JUYXJnZXRFbWl0dGVycygpO1xuICAgIC8qKlxuICAgICAqIEhpdCB0ZXN0IHRhcmdldCBsZXRzIHlvdSByZWNlaXZlIGN1cnNvciBldmVudHMgZm9yIFwicmVhbGl0eVwiLCBpZlxuICAgICAqIGB1c2VXZWJYUkhpdFRlc3RgIGlzIHNldCB0byBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYGpzXG4gICAgICogY3Vyc29yLmhpdFRlc3RUYXJnZXQub25DbGljay5hZGQoKGhpdCwgY3Vyc29yKSA9PiB7XG4gICAgICogICAgIC8vIFVzZXIgY2xpY2tlZCBvbiByZWFsaXR5XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgaGl0VGVzdFRhcmdldCA9IG5ldyBDdXJzb3JUYXJnZXRFbWl0dGVycygpO1xuICAgIC8qKiBXb3JsZCBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yICovXG4gICAgY3Vyc29yUG9zID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAvKiogQ29sbGlzaW9uIGdyb3VwIGZvciB0aGUgcmF5IGNhc3QuIE9ubHkgb2JqZWN0cyBpbiB0aGlzIGdyb3VwIHdpbGwgYmUgYWZmZWN0ZWQgYnkgdGhpcyBjdXJzb3IuICovXG4gICAgY29sbGlzaW9uR3JvdXAgPSAxO1xuICAgIC8qKiAob3B0aW9uYWwpIE9iamVjdCB0aGF0IHZpc3VhbGl6ZXMgdGhlIGN1cnNvcidzIHJheS4gKi9cbiAgICBjdXJzb3JSYXlPYmplY3QgPSBudWxsO1xuICAgIC8qKiBBeGlzIGFsb25nIHdoaWNoIHRvIHNjYWxlIHRoZSBgY3Vyc29yUmF5T2JqZWN0YC4gKi9cbiAgICBjdXJzb3JSYXlTY2FsaW5nQXhpcyA9IDI7XG4gICAgLyoqIChvcHRpb25hbCkgT2JqZWN0IHRoYXQgdmlzdWFsaXplcyB0aGUgY3Vyc29yJ3MgaGl0IGxvY2F0aW9uLiAqL1xuICAgIGN1cnNvck9iamVjdCA9IG51bGw7XG4gICAgLyoqIEhhbmRlZG5lc3MgZm9yIFZSIGN1cnNvcnMgdG8gYWNjZXB0IHRyaWdnZXIgZXZlbnRzIG9ubHkgZnJvbSByZXNwZWN0aXZlIGNvbnRyb2xsZXIuICovXG4gICAgaGFuZGVkbmVzcyA9IDA7XG4gICAgLyoqIE1vZGUgZm9yIHJheWNhc3RpbmcsIHdoZXRoZXIgdG8gdXNlIFBoeXNYIG9yIHNpbXBsZSBjb2xsaXNpb24gY29tcG9uZW50cyAqL1xuICAgIHJheUNhc3RNb2RlID0gMDtcbiAgICAvKiogV2hldGhlciB0byBzZXQgdGhlIENTUyBzdHlsZSBvZiB0aGUgbW91c2UgY3Vyc29yIG9uIGRlc2t0b3AgKi9cbiAgICBzdHlsZUN1cnNvciA9IHRydWU7XG4gICAgLyoqXG4gICAgICogVXNlIFdlYlhSIGhpdC10ZXN0IGlmIGF2YWlsYWJsZS5cbiAgICAgKlxuICAgICAqIEF0dGFjaGVzIGEgaGl0LXRlc3QtbG9jYXRpb24gY29tcG9uZW50IHRvIHRoZSBjdXJzb3JPYmplY3QsIHdoaWNoIHdpbGwgYmUgdXNlZFxuICAgICAqIGJ5IHRoZSBjdXJzb3IgdG8gc2VuZCBldmVudHMgdG8gdGhlIGhpdFRlc3RUYXJnZXQgd2l0aCBIaXRUZXN0UmVzdWx0LlxuICAgICAqL1xuICAgIHVzZVdlYlhSSGl0VGVzdCA9IGZhbHNlO1xuICAgIF9vblZpZXdwb3J0UmVzaXplID0gKCkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuX3ZpZXdDb21wb25lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8qIFByb2plY3Rpb24gbWF0cml4IHdpbGwgY2hhbmdlIGlmIHRoZSB2aWV3cG9ydCBpcyByZXNpemVkLCB3aGljaCB3aWxsIGFmZmVjdCB0aGVcbiAgICAgICAgICogcHJvamVjdGlvbiBtYXRyaXggYmVjYXVzZSBvZiB0aGUgYXNwZWN0IHJhdGlvLiAqL1xuICAgICAgICBtYXQ0LmludmVydCh0aGlzLl9wcm9qZWN0aW9uTWF0cml4LCB0aGlzLl92aWV3Q29tcG9uZW50LnByb2plY3Rpb25NYXRyaXgpO1xuICAgIH07XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuX2NvbGxpc2lvbk1hc2sgPSAxIDw8IHRoaXMuY29sbGlzaW9uR3JvdXA7XG4gICAgICAgIGlmICh0aGlzLmhhbmRlZG5lc3MgPT0gMCkge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRDb21wID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgaWYgKCFpbnB1dENvbXApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2N1cnNvciBjb21wb25lbnQgb24gb2JqZWN0JywgdGhpcy5vYmplY3QubmFtZSwgJ3dhcyBjb25maWd1cmVkIHdpdGggaGFuZGVkbmVzcyBcImlucHV0IGNvbXBvbmVudFwiLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2J1dCBvYmplY3QgaGFzIG5vIGlucHV0IGNvbXBvbmVudC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IGlucHV0Q29tcC5oYW5kZWRuZXNzIHx8ICdub25lJztcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0Q29tcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IFsnbGVmdCcsICdyaWdodCcsICdub25lJ11bdGhpcy5oYW5kZWRuZXNzIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlld0NvbXBvbmVudCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudChWaWV3Q29tcG9uZW50KTtcbiAgICAgICAgaWYgKHRoaXMudXNlV2ViWFJIaXRUZXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9oaXRUZXN0T2JqZWN0ID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0KHRoaXMub2JqZWN0KTtcbiAgICAgICAgICAgIHRoaXMuX2hpdFRlc3RMb2NhdGlvbiA9XG4gICAgICAgICAgICAgICAgdGhpcy5faGl0VGVzdE9iamVjdC5hZGRDb21wb25lbnQoSGl0VGVzdExvY2F0aW9uLCB7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlT2JqZWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9KSA/PyBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLnNldHVwVlJFdmVudHMuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgb25BY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5fb25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uUmVzaXplLmFkZCh0aGlzLl9vblZpZXdwb3J0UmVzaXplKTtcbiAgICAgICAgdGhpcy5fc2V0Q3Vyc29yVmlzaWJpbGl0eSh0cnVlKTtcbiAgICAgICAgLyogSWYgdGhpcyBvYmplY3QgYWxzbyBoYXMgYSB2aWV3IGNvbXBvbmVudCwgd2Ugd2lsbCBlbmFibGUgaW52ZXJzZS1wcm9qZWN0ZWQgbW91c2UgY2xpY2tzLFxuICAgICAgICAgKiBvdGhlcndpc2UganVzdCB1c2UgdGhlIG9iamVjdHMgdHJhbnNmb3JtYXRpb24gKi9cbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdDb21wb25lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5lbmdpbmUuY2FudmFzO1xuICAgICAgICAgICAgY29uc3Qgb25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgY29uc3Qgb25Qb2ludGVyTW92ZSA9IHRoaXMub25Qb2ludGVyTW92ZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgY29uc3Qgb25Qb2ludGVyRG93biA9IHRoaXMub25Qb2ludGVyRG93bi5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgY29uc3Qgb25Qb2ludGVyVXAgPSB0aGlzLm9uUG9pbnRlclVwLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrKTtcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIG9uUG9pbnRlck1vdmUpO1xuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25Qb2ludGVyRG93bik7XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgb25Qb2ludGVyVXApO1xuICAgICAgICAgICAgdGhpcy5fb25EZWFjdGl2YXRlQ2FsbGJhY2tzLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIG9uUG9pbnRlck1vdmUpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIG9uUG9pbnRlckRvd24pO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBvblBvaW50ZXJVcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vblZpZXdwb3J0UmVzaXplKCk7XG4gICAgfVxuICAgIF9zZXRDdXJzb3JSYXlUcmFuc2Zvcm0oaGl0UG9zaXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnNvclJheU9iamVjdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgZGlzdCA9IHZlYzMuZGlzdCh0aGlzLl9vcmlnaW4sIGhpdFBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5jdXJzb3JSYXlPYmplY3Quc2V0VHJhbnNsYXRpb25Mb2NhbChbMC4wLCAwLjAsIC1kaXN0IC8gMl0pO1xuICAgICAgICBpZiAodGhpcy5jdXJzb3JSYXlTY2FsaW5nQXhpcyAhPSA0KSB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvclJheU9iamVjdC5yZXNldFNjYWxpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnNvclJheVNjYWxlW3RoaXMuY3Vyc29yUmF5U2NhbGluZ0F4aXNdID0gZGlzdCAvIDI7XG4gICAgICAgICAgICB0aGlzLmN1cnNvclJheU9iamVjdC5zY2FsZSh0aGlzLl9jdXJzb3JSYXlTY2FsZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3NldEN1cnNvclZpc2liaWxpdHkodmlzaWJsZSkge1xuICAgICAgICBpZiAodGhpcy52aXNpYmxlID09IHZpc2libGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHZpc2libGU7XG4gICAgICAgIGlmICghdGhpcy5jdXJzb3JPYmplY3QpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvck9iamVjdC5zZXRTY2FsaW5nV29ybGQodGhpcy5fY3Vyc29yT2JqU2NhbGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jdXJzb3JPYmplY3QuZ2V0U2NhbGluZ0xvY2FsKHRoaXMuX2N1cnNvck9ialNjYWxlKTtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yT2JqZWN0LnNjYWxlKFswLCAwLCAwXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICAvKiBJZiBpbiBWUiwgc2V0IHRoZSBjdXJzb3IgcmF5IGJhc2VkIG9uIG9iamVjdCB0cmFuc2Zvcm0gKi9cbiAgICAgICAgLyogU2luY2UgR29vZ2xlIENhcmRib2FyZCB0YXAgaXMgcmVnaXN0ZXJlZCBhcyBhclRvdWNoRG93biB3aXRob3V0IGEgZ2FtZXBhZCwgd2UgbmVlZCB0byBjaGVjayBmb3IgZ2FtZXBhZCBwcmVzZW5jZSAqL1xuICAgICAgICBpZiAodGhpcy5lbmdpbmUueHIgJiZcbiAgICAgICAgICAgIHRoaXMuX2FyVG91Y2hEb3duICYmXG4gICAgICAgICAgICB0aGlzLl9pbnB1dCAmJlxuICAgICAgICAgICAgdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5pbnB1dFNvdXJjZXNbMF0uaGFuZGVkbmVzcyA9PT0gJ25vbmUnICYmXG4gICAgICAgICAgICB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLmlucHV0U291cmNlc1swXS5nYW1lcGFkKSB7XG4gICAgICAgICAgICAvKiBXZWJYUiBBUiBpbnB1dCAqL1xuICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMuZW5naW5lLnhyLnNlc3Npb24uaW5wdXRTb3VyY2VzWzBdLmdhbWVwYWQuYXhlcztcbiAgICAgICAgICAgIC8qIFNjcmVlbnNwYWNlIFkgaXMgaW52ZXJ0ZWQgKi9cbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblswXSA9IHBbMF07XG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMV0gPSAtcFsxXTtcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblsyXSA9IC0xLjA7XG4gICAgICAgICAgICB0aGlzLmFwcGx5VHJhbnNmb3JtQW5kUHJvamVjdERpcmVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZW5naW5lLnhyICYmIHRoaXMuX2lucHV0ICYmIHRoaXMuX2lucHV0LnhySW5wdXRTb3VyY2UpIHtcbiAgICAgICAgICAgIC8qIFdlYlhSIFZSIGlucHV0ICovXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMF0gPSAwO1xuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzFdID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblsyXSA9IC0xLjA7XG4gICAgICAgICAgICB0aGlzLmFwcGx5VHJhbnNmb3JtVG9EaXJlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl92aWV3Q29tcG9uZW50KSB7XG4gICAgICAgICAgICAvKiBBcHBseSBwb3RlbnRpYWxseSBjaGFuZ2VkIHRyYW5zZm9ybSB0byBsYXN0IHN0b3JlZCBwb2ludGVyXG4gICAgICAgICAgICAgKiBwb3NpdGlvbiAqL1xuICAgICAgICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJheUNhc3QobnVsbCwgdGhpcy5lbmdpbmUueHI/LmZyYW1lKTtcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29yT2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3ZlcmluZ09iamVjdCAmJlxuICAgICAgICAgICAgICAgICh0aGlzLmN1cnNvclBvc1swXSAhPSAwIHx8IHRoaXMuY3Vyc29yUG9zWzFdICE9IDAgfHwgdGhpcy5jdXJzb3JQb3NbMl0gIT0gMCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRDdXJzb3JWaXNpYmlsaXR5KHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yT2JqZWN0LnNldFRyYW5zbGF0aW9uV29ybGQodGhpcy5jdXJzb3JQb3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldEN1cnNvclJheVRyYW5zZm9ybSh0aGlzLmN1cnNvclBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRDdXJzb3JWaXNpYmlsaXR5KGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiBSZXR1cm5zIHRoZSBob3ZlcmVkIGN1cnNvciB0YXJnZXQsIGlmIGF2YWlsYWJsZSAqL1xuICAgIG5vdGlmeShldmVudCwgb3JpZ2luYWxFdmVudCkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLmhvdmVyaW5nT2JqZWN0O1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBjb25zdCBjdXJzb3JUYXJnZXQgPSB0aGlzLmhvdmVyaW5nT2JqZWN0VGFyZ2V0O1xuICAgICAgICAgICAgaWYgKGN1cnNvclRhcmdldClcbiAgICAgICAgICAgICAgICBjdXJzb3JUYXJnZXRbZXZlbnRdLm5vdGlmeSh0YXJnZXQsIHRoaXMsIG9yaWdpbmFsRXZlbnQgPz8gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsVGFyZ2V0W2V2ZW50XS5ub3RpZnkodGFyZ2V0LCB0aGlzLCBvcmlnaW5hbEV2ZW50ID8/IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaG92ZXJCZWhhdmlvdXIocmF5SGl0LCBoaXRUZXN0UmVzdWx0LCBkb0NsaWNrLCBvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIC8qIE9sZCBBUEkgdmVyc2lvbiBkb2VzIG5vdCByZXR1cm4gbnVsbCBmb3Igb2JqZWN0c1swXSBpZiBubyBoaXQgKi9cbiAgICAgICAgY29uc3QgaGl0ID0gIXRoaXMuaG92ZXJpbmdSZWFsaXR5ICYmIHJheUhpdC5oaXRDb3VudCA+IDAgPyByYXlIaXQub2JqZWN0c1swXSA6IG51bGw7XG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5ob3ZlcmluZ09iamVjdCB8fCAhdGhpcy5ob3ZlcmluZ09iamVjdC5lcXVhbHMoaGl0KSkge1xuICAgICAgICAgICAgICAgIC8qIFVuaG92ZXIgcHJldmlvdXMsIGlmIGV4aXN0cyAqL1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvdmVyaW5nT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KCdvblVuaG92ZXInLCBvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogSG92ZXIgbmV3IG9iamVjdCAqL1xuICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJpbmdPYmplY3QgPSBoaXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5ob3ZlcmluZ09iamVjdFRhcmdldCA9IHRoaXMuaG92ZXJpbmdPYmplY3QuZ2V0Q29tcG9uZW50KEN1cnNvclRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3R5bGVDdXJzb3IpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoJ29uSG92ZXInLCBvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmhvdmVyaW5nT2JqZWN0KSB7XG4gICAgICAgICAgICAvKiBQcmV2aW91c2x5IGhvdmVyaW5nIG9iamVjdCwgbm93IGhvdmVyaW5nIG5vdGhpbmcgKi9cbiAgICAgICAgICAgIHRoaXMubm90aWZ5KCdvblVuaG92ZXInLCBvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMuaG92ZXJpbmdPYmplY3QgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ob3ZlcmluZ09iamVjdFRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZUN1cnNvcilcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhvdmVyaW5nT2JqZWN0KSB7XG4gICAgICAgICAgICAvKiBvbkRvd24vb25VcCBmb3Igb2JqZWN0ICovXG4gICAgICAgICAgICBpZiAodGhpcy5faXNEb3duICE9PSB0aGlzLl9sYXN0SXNEb3duKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkodGhpcy5faXNEb3duID8gJ29uRG93bicgOiAnb25VcCcsIG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogb25DbGljayBmb3Igb2JqZWN0ICovXG4gICAgICAgICAgICBpZiAoZG9DbGljaylcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSgnb25DbGljaycsIG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaG92ZXJpbmdSZWFsaXR5KSB7XG4gICAgICAgICAgICAvKiBvbkRvd24vb25VcCBmb3IgaGl0IHRlc3QgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rvd24gIT09IHRoaXMuX2xhc3RJc0Rvd24pIHtcbiAgICAgICAgICAgICAgICAodGhpcy5faXNEb3duID8gdGhpcy5oaXRUZXN0VGFyZ2V0Lm9uRG93biA6IHRoaXMuaGl0VGVzdFRhcmdldC5vblVwKS5ub3RpZnkoaGl0VGVzdFJlc3VsdCwgdGhpcywgb3JpZ2luYWxFdmVudCA/PyB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogb25DbGljayBmb3IgaGl0IHRlc3QgKi9cbiAgICAgICAgICAgIGlmIChkb0NsaWNrKVxuICAgICAgICAgICAgICAgIHRoaXMuaGl0VGVzdFRhcmdldC5vbkNsaWNrLm5vdGlmeShoaXRUZXN0UmVzdWx0LCB0aGlzLCBvcmlnaW5hbEV2ZW50ID8/IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogb25Nb3ZlICovXG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhvdmVyaW5nT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ob3ZlcmluZ09iamVjdC50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZCh0ZW1wVmVjLCB0aGlzLmN1cnNvclBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZW1wVmVjLnNldCh0aGlzLmN1cnNvclBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXZlYzMuZXF1YWxzKHRoaXMuX2xhc3RDdXJzb3JQb3NPblRhcmdldCwgdGVtcFZlYykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSgnb25Nb3ZlJywgb3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEN1cnNvclBvc09uVGFyZ2V0LnNldCh0ZW1wVmVjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmhvdmVyaW5nUmVhbGl0eSkge1xuICAgICAgICAgICAgaWYgKCF2ZWMzLmVxdWFscyh0aGlzLl9sYXN0Q3Vyc29yUG9zT25UYXJnZXQsIHRoaXMuY3Vyc29yUG9zKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0VGVzdFRhcmdldC5vbk1vdmUubm90aWZ5KGhpdFRlc3RSZXN1bHQsIHRoaXMsIG9yaWdpbmFsRXZlbnQgPz8gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0Q3Vyc29yUG9zT25UYXJnZXQuc2V0KHRoaXMuY3Vyc29yUG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RDdXJzb3JQb3NPblRhcmdldC5zZXQodGhpcy5jdXJzb3JQb3MpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xhc3RJc0Rvd24gPSB0aGlzLl9pc0Rvd247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHVwIGV2ZW50IGxpc3RlbmVycyBvbiBzZXNzaW9uIG9iamVjdFxuICAgICAqIEBwYXJhbSBzIFdlYlhSIHNlc3Npb25cbiAgICAgKlxuICAgICAqIFNldHMgdXAgJ3NlbGVjdCcgYW5kICdlbmQnIGV2ZW50cy5cbiAgICAgKi9cbiAgICBzZXR1cFZSRXZlbnRzKHMpIHtcbiAgICAgICAgaWYgKCFzKVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignc2V0dXBWUkV2ZW50cyBjYWxsZWQgd2l0aG91dCBhIHZhbGlkIHNlc3Npb24nKTtcbiAgICAgICAgLyogSWYgaW4gVlIsIG9uZS10aW1lIGJpbmQgdGhlIGxpc3RlbmVyICovXG4gICAgICAgIGNvbnN0IG9uU2VsZWN0ID0gdGhpcy5vblNlbGVjdC5iaW5kKHRoaXMpO1xuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIG9uU2VsZWN0KTtcbiAgICAgICAgY29uc3Qgb25TZWxlY3RTdGFydCA9IHRoaXMub25TZWxlY3RTdGFydC5iaW5kKHRoaXMpO1xuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0Jywgb25TZWxlY3RTdGFydCk7XG4gICAgICAgIGNvbnN0IG9uU2VsZWN0RW5kID0gdGhpcy5vblNlbGVjdEVuZC5iaW5kKHRoaXMpO1xuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdGVuZCcsIG9uU2VsZWN0RW5kKTtcbiAgICAgICAgdGhpcy5fb25EZWFjdGl2YXRlQ2FsbGJhY2tzLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmVuZ2luZS54clNlc3Npb24pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWxlY3QnLCBvblNlbGVjdCk7XG4gICAgICAgICAgICBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0Jywgb25TZWxlY3RTdGFydCk7XG4gICAgICAgICAgICBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdGVuZCcsIG9uU2VsZWN0RW5kKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8qIEFmdGVyIEFSIHNlc3Npb24gd2FzIGVudGVyZWQsIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCBjaGFuZ2VkICovXG4gICAgICAgIHRoaXMuX29uVmlld3BvcnRSZXNpemUoKTtcbiAgICB9XG4gICAgb25EZWFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLl9vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5lbmdpbmUub25SZXNpemUucmVtb3ZlKHRoaXMuX29uVmlld3BvcnRSZXNpemUpO1xuICAgICAgICB0aGlzLl9zZXRDdXJzb3JWaXNpYmlsaXR5KGZhbHNlKTtcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJpbmdPYmplY3QpXG4gICAgICAgICAgICB0aGlzLm5vdGlmeSgnb25VbmhvdmVyJywgbnVsbCk7XG4gICAgICAgIGlmICh0aGlzLmN1cnNvclJheU9iamVjdClcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yUmF5T2JqZWN0LnNjYWxlKFswLCAwLCAwXSk7XG4gICAgICAgIC8qIEVuc3VyZSBhbGwgZXZlbnQgbGlzdGVuZXJzIGFyZSByZW1vdmVkICovXG4gICAgICAgIGZvciAoY29uc3QgZiBvZiB0aGlzLl9vbkRlYWN0aXZhdGVDYWxsYmFja3MpXG4gICAgICAgICAgICBmKCk7XG4gICAgICAgIHRoaXMuX29uRGVhY3RpdmF0ZUNhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgIH1cbiAgICBvbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2hpdFRlc3RPYmplY3Q/LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgLyoqICdzZWxlY3QnIGV2ZW50IGxpc3RlbmVyICovXG4gICAgb25TZWxlY3QoZSkge1xuICAgICAgICBpZiAoZS5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzICE9IHRoaXMuaGFuZGVkbmVzcylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5yYXlDYXN0KGUsIGUuZnJhbWUsIHRydWUpO1xuICAgIH1cbiAgICAvKiogJ3NlbGVjdHN0YXJ0JyBldmVudCBsaXN0ZW5lciAqL1xuICAgIG9uU2VsZWN0U3RhcnQoZSkge1xuICAgICAgICB0aGlzLl9hclRvdWNoRG93biA9IHRydWU7XG4gICAgICAgIGlmIChlLmlucHV0U291cmNlLmhhbmRlZG5lc3MgPT0gdGhpcy5oYW5kZWRuZXNzKSB7XG4gICAgICAgICAgICB0aGlzLl9pc0Rvd24gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yYXlDYXN0KGUsIGUuZnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiAnc2VsZWN0ZW5kJyBldmVudCBsaXN0ZW5lciAqL1xuICAgIG9uU2VsZWN0RW5kKGUpIHtcbiAgICAgICAgdGhpcy5fYXJUb3VjaERvd24gPSBmYWxzZTtcbiAgICAgICAgaWYgKGUuaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PSB0aGlzLmhhbmRlZG5lc3MpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yYXlDYXN0KGUsIGUuZnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiAncG9pbnRlcm1vdmUnIGV2ZW50IGxpc3RlbmVyICovXG4gICAgb25Qb2ludGVyTW92ZShlKSB7XG4gICAgICAgIC8qIERvbid0IGNhcmUgYWJvdXQgc2Vjb25kYXJ5IHBvaW50ZXJzICovXG4gICAgICAgIGlmICghZS5pc1ByaW1hcnkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMudXBkYXRlTW91c2VQb3MoZSk7XG4gICAgICAgIHRoaXMucmF5Q2FzdChlLCBudWxsKTtcbiAgICB9XG4gICAgLyoqICdjbGljaycgZXZlbnQgbGlzdGVuZXIgKi9cbiAgICBvbkNsaWNrKGUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVNb3VzZVBvcyhlKTtcbiAgICAgICAgdGhpcy5yYXlDYXN0KGUsIG51bGwsIHRydWUpO1xuICAgIH1cbiAgICAvKiogJ3BvaW50ZXJkb3duJyBldmVudCBsaXN0ZW5lciAqL1xuICAgIG9uUG9pbnRlckRvd24oZSkge1xuICAgICAgICAvKiBEb24ndCBjYXJlIGFib3V0IHNlY29uZGFyeSBwb2ludGVycyBvciBub24tbGVmdCBjbGlja3MgKi9cbiAgICAgICAgaWYgKCFlLmlzUHJpbWFyeSB8fCBlLmJ1dHRvbiAhPT0gMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy51cGRhdGVNb3VzZVBvcyhlKTtcbiAgICAgICAgdGhpcy5faXNEb3duID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yYXlDYXN0KGUpO1xuICAgIH1cbiAgICAvKiogJ3BvaW50ZXJ1cCcgZXZlbnQgbGlzdGVuZXIgKi9cbiAgICBvblBvaW50ZXJVcChlKSB7XG4gICAgICAgIC8qIERvbid0IGNhcmUgYWJvdXQgc2Vjb25kYXJ5IHBvaW50ZXJzIG9yIG5vbi1sZWZ0IGNsaWNrcyAqL1xuICAgICAgICBpZiAoIWUuaXNQcmltYXJ5IHx8IGUuYnV0dG9uICE9PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnVwZGF0ZU1vdXNlUG9zKGUpO1xuICAgICAgICB0aGlzLl9pc0Rvd24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yYXlDYXN0KGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgbW91c2UgcG9zaXRpb24gaW4gbm9uLVZSIG1vZGUgYW5kIHJheWNhc3QgZm9yIG5ldyBwb3NpdGlvblxuICAgICAqIEByZXR1cm5zIEByZWYgV0wuUmF5SGl0IGZvciBuZXcgcG9zaXRpb24uXG4gICAgICovXG4gICAgdXBkYXRlTW91c2VQb3MoZSkge1xuICAgICAgICB0aGlzLl9sYXN0UG9pbnRlclBvc1swXSA9IGUuY2xpZW50WDtcbiAgICAgICAgdGhpcy5fbGFzdFBvaW50ZXJQb3NbMV0gPSBlLmNsaWVudFk7XG4gICAgICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7XG4gICAgfVxuICAgIHVwZGF0ZURpcmVjdGlvbigpIHtcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5lbmdpbmUuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAvKiBHZXQgZGlyZWN0aW9uIGluIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgc3BhY2UgZnJvbSBtb3VzZSBwb3NpdGlvbiAqL1xuICAgICAgICBjb25zdCBsZWZ0ID0gdGhpcy5fbGFzdFBvaW50ZXJQb3NbMF0gLyBib3VuZHMud2lkdGg7XG4gICAgICAgIGNvbnN0IHRvcCA9IHRoaXMuX2xhc3RQb2ludGVyUG9zWzFdIC8gYm91bmRzLmhlaWdodDtcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzBdID0gbGVmdCAqIDIgLSAxO1xuICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMV0gPSAtdG9wICogMiArIDE7XG4gICAgICAgIHRoaXMuX2RpcmVjdGlvblsyXSA9IC0xLjA7XG4gICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm1BbmRQcm9qZWN0RGlyZWN0aW9uKCk7XG4gICAgfVxuICAgIGFwcGx5VHJhbnNmb3JtQW5kUHJvamVjdERpcmVjdGlvbigpIHtcbiAgICAgICAgLyogUmV2ZXJzZS1wcm9qZWN0IHRoZSBkaXJlY3Rpb24gaW50byB2aWV3IHNwYWNlICovXG4gICAgICAgIHZlYzMudHJhbnNmb3JtTWF0NCh0aGlzLl9kaXJlY3Rpb24sIHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fcHJvamVjdGlvbk1hdHJpeCk7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fZGlyZWN0aW9uKTtcbiAgICAgICAgdGhpcy5hcHBseVRyYW5zZm9ybVRvRGlyZWN0aW9uKCk7XG4gICAgfVxuICAgIGFwcGx5VHJhbnNmb3JtVG9EaXJlY3Rpb24oKSB7XG4gICAgICAgIHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLl9kaXJlY3Rpb24sIHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5vYmplY3QudHJhbnNmb3JtV29ybGQpO1xuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX29yaWdpbik7XG4gICAgfVxuICAgIHJheUNhc3Qob3JpZ2luYWxFdmVudCwgZnJhbWUgPSBudWxsLCBkb0NsaWNrID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgcmF5SGl0ID0gdGhpcy5yYXlDYXN0TW9kZSA9PSAwXG4gICAgICAgICAgICA/IHRoaXMuZW5naW5lLnNjZW5lLnJheUNhc3QodGhpcy5fb3JpZ2luLCB0aGlzLl9kaXJlY3Rpb24sIHRoaXMuX2NvbGxpc2lvbk1hc2spXG4gICAgICAgICAgICA6IHRoaXMuZW5naW5lLnBoeXNpY3MucmF5Q2FzdCh0aGlzLl9vcmlnaW4sIHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fY29sbGlzaW9uTWFzaywgdGhpcy5tYXhEaXN0YW5jZSk7XG4gICAgICAgIGxldCBoaXRSZXN1bHREaXN0YW5jZSA9IEluZmluaXR5O1xuICAgICAgICBsZXQgaGl0VGVzdFJlc3VsdCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl9oaXRUZXN0TG9jYXRpb24/LnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hpdFRlc3RPYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLmN1cnNvclBvcyk7XG4gICAgICAgICAgICBoaXRSZXN1bHREaXN0YW5jZSA9IHZlYzMuZGlzdGFuY2UodGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0ZW1wVmVjKSwgdGhpcy5jdXJzb3JQb3MpO1xuICAgICAgICAgICAgaGl0VGVzdFJlc3VsdCA9IHRoaXMuX2hpdFRlc3RMb2NhdGlvbj8uZ2V0SGl0VGVzdFJlc3VsdHMoZnJhbWUpWzBdO1xuICAgICAgICB9XG4gICAgICAgIGxldCBob3ZlcmluZ1JlYWxpdHkgPSBmYWxzZTtcbiAgICAgICAgaWYgKHJheUhpdC5oaXRDb3VudCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGQgPSByYXlIaXQuZGlzdGFuY2VzWzBdO1xuICAgICAgICAgICAgaWYgKGhpdFJlc3VsdERpc3RhbmNlID49IGQpIHtcbiAgICAgICAgICAgICAgICAvKiBPdmVycmlkZSBjdXJzb3JQb3Mgc2V0IGJ5IGhpdCB0ZXN0IGxvY2F0aW9uICovXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3JQb3Muc2V0KHJheUhpdC5sb2NhdGlvbnNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG92ZXJpbmdSZWFsaXR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoaXRSZXN1bHREaXN0YW5jZSA8IEluZmluaXR5KSB7XG4gICAgICAgICAgICAvKiBjdXJzb3JQb3MgYWxyZWFkeSBzZXQgKi9cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yUG9zLmZpbGwoMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhvdmVyaW5nUmVhbGl0eSAmJiAhdGhpcy5ob3ZlcmluZ1JlYWxpdHkpIHtcbiAgICAgICAgICAgIHRoaXMuaGl0VGVzdFRhcmdldC5vbkhvdmVyLm5vdGlmeShoaXRUZXN0UmVzdWx0LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaG92ZXJpbmdSZWFsaXR5ICYmIHRoaXMuaG92ZXJpbmdSZWFsaXR5KSB7XG4gICAgICAgICAgICB0aGlzLmhpdFRlc3RUYXJnZXQub25VbmhvdmVyLm5vdGlmeShoaXRUZXN0UmVzdWx0LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhvdmVyaW5nUmVhbGl0eSA9IGhvdmVyaW5nUmVhbGl0eTtcbiAgICAgICAgdGhpcy5ob3ZlckJlaGF2aW91cihyYXlIaXQsIGhpdFRlc3RSZXN1bHQsIGRvQ2xpY2ssIG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICByZXR1cm4gcmF5SGl0O1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LmludCgxKVxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJjb2xsaXNpb25Hcm91cFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkub2JqZWN0KClcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwiY3Vyc29yUmF5T2JqZWN0XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5lbnVtKFsneCcsICd5JywgJ3onLCAnbm9uZSddLCAneicpXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcImN1cnNvclJheVNjYWxpbmdBeGlzXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5vYmplY3QoKVxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJjdXJzb3JPYmplY3RcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5LmVudW0oWydpbnB1dCBjb21wb25lbnQnLCAnbGVmdCcsICdyaWdodCcsICdub25lJ10sICdpbnB1dCBjb21wb25lbnQnKVxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJoYW5kZWRuZXNzXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5lbnVtKFsnY29sbGlzaW9uJywgJ3BoeXN4J10sICdjb2xsaXNpb24nKVxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJyYXlDYXN0TW9kZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuYm9vbCh0cnVlKVxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJzdHlsZUN1cnNvclwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkuYm9vbChmYWxzZSlcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwidXNlV2ViWFJIaXRUZXN0XCIsIHZvaWQgMCk7XG5leHBvcnQgeyBDdXJzb3IgfTtcbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBxdWF0MiB9IGZyb20gJ2dsLW1hdHJpeCc7XG4vKipcbiAqIFByaW50cyBzb21lIGxpbWl0ZWQgZGVidWcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdC5cbiAqXG4gKiBJbmZvcm1hdGlvbiBjb25zaXN0cyBvZjogVGhpcyBvYmplY3QncyBuYW1lLCBhbiBvYmplY3QgcGFyYW1ldGVyJ3MgbmFtZSxcbiAqIHRoZSBvYmplY3QncyB3b3JsZCB0cmFuc2xhdGlvbiwgd29ybGQgdHJhbnNmb3JtIGFuZCBsb2NhbCB0cmFuc2Zvcm0uXG4gKlxuICogTWFpbmx5IHVzZWQgYnkgZW5naW5lIGRldmVsb3BlcnMgZm9yIGRlYnVnIHB1cnBvc2VzIG9yIGFzIGV4YW1wbGUgY29kZS5cbiAqL1xuY2xhc3MgRGVidWdPYmplY3QgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdkZWJ1Zy1vYmplY3QnO1xuICAgIC8qKiBBIHNlY29uZCBvYmplY3QgdG8gcHJpbnQgdGhlIG5hbWUgb2YgKi9cbiAgICBvYmogPSBudWxsO1xuICAgIHN0YXJ0KCkge1xuICAgICAgICBsZXQgb3JpZ2luID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAgICAgcXVhdDIuZ2V0VHJhbnNsYXRpb24ob3JpZ2luLCB0aGlzLm9iamVjdC50cmFuc2Zvcm1Xb3JsZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdEZWJ1ZyBvYmplY3Q6JywgdGhpcy5vYmplY3QubmFtZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdPdGhlciBvYmplY3Q6JywgdGhpcy5vYmo/Lm5hbWUpO1xuICAgICAgICBjb25zb2xlLmxvZygnXFx0dHJhbnNsYXRpb24nLCBvcmlnaW4pO1xuICAgICAgICBjb25zb2xlLmxvZygnXFx0dHJhbnNmb3JtV29ybGQnLCB0aGlzLm9iamVjdC50cmFuc2Zvcm1Xb3JsZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdcXHR0cmFuc2Zvcm1Mb2NhbCcsIHRoaXMub2JqZWN0LnRyYW5zZm9ybUxvY2FsKTtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5vYmplY3QoKVxuXSwgRGVidWdPYmplY3QucHJvdG90eXBlLCBcIm9ialwiLCB2b2lkIDApO1xuZXhwb3J0IHsgRGVidWdPYmplY3QgfTtcbiIsICJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuLyoqXG4gKiBGdW5jdGlvbiB0byBjb252ZXJ0IGEgRXVsZXIgaW4gWVhaIG9yZGVyIHRvIGEgcXVhdGVybmlvblxuICovXG5mdW5jdGlvbiBxdWF0RnJvbUV1bGVyWVhaKG91dCwgeCwgeSwgeikge1xuICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoeCAvIDIpO1xuICAgIGNvbnN0IGMyID0gTWF0aC5jb3MoeSAvIDIpO1xuICAgIGNvbnN0IGMzID0gTWF0aC5jb3MoeiAvIDIpO1xuICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oeCAvIDIpO1xuICAgIGNvbnN0IHMyID0gTWF0aC5zaW4oeSAvIDIpO1xuICAgIGNvbnN0IHMzID0gTWF0aC5zaW4oeiAvIDIpO1xuICAgIG91dFswXSA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMztcbiAgICBvdXRbMV0gPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7XG4gICAgb3V0WzJdID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzO1xuICAgIG91dFszXSA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMztcbn1cbi8qKlxuICogUmV0cmlldmUgZGV2aWNlIG9yaWVudGF0aW9uIGZyb20gYSBtb2JpbGUgZGV2aWNlIGFuZCBzZXQgdGhlIG9iamVjdCdzXG4gKiBvcmllbnRhdGlvbiBhY2NvcmRpbmdseS5cbiAqXG4gKiBVc2VmdWwgZm9yIG1hZ2ljIHdpbmRvdyBleHBlcmllbmNlcy5cbiAqL1xuY2xhc3MgRGV2aWNlT3JpZW50YXRpb25Mb29rIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZGV2aWNlLW9yaWVudGF0aW9uLWxvb2snO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge307XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMucm90YXRpb25YID0gMDtcbiAgICAgICAgdGhpcy5yb3RhdGlvblkgPSAwO1xuICAgICAgICB0aGlzLmxhc3RDbGllbnRYID0gLTE7XG4gICAgICAgIHRoaXMubGFzdENsaWVudFkgPSAtMTtcbiAgICB9XG4gICAgaW5pdCgpIHtcbiAgICAgICAgLyogSW5pdGlhbGl6ZSBkZXZpY2Ugb3JpZW50YXRpb24gd2l0aCBJZGVudGl0eSBRdWF0ZXJuaW9uICovXG4gICAgICAgIHRoaXMuZGV2aWNlT3JpZW50YXRpb24gPSBbMCwgMCwgMCwgMV07XG4gICAgICAgIHRoaXMuc2NyZWVuT3JpZW50YXRpb24gPSB3aW5kb3cuaW5uZXJIZWlnaHQgPiB3aW5kb3cuaW5uZXJXaWR0aCA/IDAgOiA5MDtcbiAgICAgICAgdGhpcy5fb3JpZ2luID0gWzAsIDAsIDBdO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlb3JpZW50YXRpb24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgbGV0IGFscGhhID0gZS5hbHBoYSB8fCAwO1xuICAgICAgICAgICAgbGV0IGJldGEgPSBlLmJldGEgfHwgMDtcbiAgICAgICAgICAgIGxldCBnYW1tYSA9IGUuZ2FtbWEgfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IHRvUmFkID0gTWF0aC5QSSAvIDE4MDtcbiAgICAgICAgICAgIHF1YXRGcm9tRXVsZXJZWFoodGhpcy5kZXZpY2VPcmllbnRhdGlvbiwgYmV0YSAqIHRvUmFkLCBhbHBoYSAqIHRvUmFkLCAtZ2FtbWEgKiB0b1JhZCk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB0aGlzLnNjcmVlbk9yaWVudGF0aW9uID0gd2luZG93Lm9yaWVudGF0aW9uIHx8IDA7XG4gICAgICAgIH0uYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIC8qIERvbid0IHVzZSBkZXZpY2Ugb3JpZW50YXRpb24gaW4gVlIgKi9cbiAgICAgICAgaWYgKHRoaXMuZW5naW5lLnhyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbkxvY2FsKHRoaXMuX29yaWdpbik7XG4gICAgICAgIHRoaXMub2JqZWN0LnJlc2V0VHJhbnNmb3JtKCk7XG4gICAgICAgIGlmICh0aGlzLnNjcmVlbk9yaWVudGF0aW9uICE9IDApIHtcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnJvdGF0ZUF4aXNBbmdsZURlZyhbMCwgMCwgLTFdLCB0aGlzLnNjcmVlbk9yaWVudGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGUoWy1NYXRoLnNxcnQoMC41KSwgMCwgMCwgTWF0aC5zcXJ0KDAuNSldKTtcbiAgICAgICAgdGhpcy5vYmplY3Qucm90YXRlKHRoaXMuZGV2aWNlT3JpZW50YXRpb24pO1xuICAgICAgICB0aGlzLm9iamVjdC50cmFuc2xhdGUodGhpcy5fb3JpZ2luKTtcbiAgICB9XG59XG5leHBvcnQgeyBEZXZpY2VPcmllbnRhdGlvbkxvb2sgfTtcbiIsICJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuLyoqXG4gKiBFbmFibGVzIGludGVyYWN0aW9uIHdpdGggY3Vyc29yLXRhcmdldHMgdGhyb3VnaCBjb2xsaXNpb24gb3ZlcmxhcHMsXG4gKiBlLmcuIG9uIHRoZSB0aXAgb2YgYSBmaW5nZXIgb24gYSB0cmFja2VkIGhhbmQuXG4gKlxuICogKipSZXF1aXJlbWVudHM6KipcbiAqICAtIEEgY29sbGlzaW9uIGNvbXBvbmVudCAodXN1YWxseSBhIHNwaGVyZSB3aXRoIGAwLjA1YCByYWRpdXMpIG9uIHRoZSBzYW1lIG9iamVjdFxuICpcbiAqIEBzaW5jZSAwLjguNVxuICovXG5jbGFzcyBGaW5nZXJDdXJzb3IgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdmaW5nZXItY3Vyc29yJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHt9O1xuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMubGFzdFRhcmdldCA9IG51bGw7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnRpcCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnY29sbGlzaW9uJyk7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgY29uc3Qgb3ZlcmxhcHMgPSB0aGlzLnRpcC5xdWVyeU92ZXJsYXBzKCk7XG4gICAgICAgIGxldCBvdmVybGFwRm91bmQgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG92ZXJsYXBzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBvID0gb3ZlcmxhcHNbaV0ub2JqZWN0O1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gby5nZXRDb21wb25lbnQoJ2N1cnNvci10YXJnZXQnKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5lcXVhbHModGhpcy5sYXN0VGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQub25Ib3ZlcihvLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Lm9uQ2xpY2sobywgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG92ZXJsYXBGb3VuZCA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW92ZXJsYXBGb3VuZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubGFzdFRhcmdldClcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RUYXJnZXQub25VbmhvdmVyKHRoaXMubGFzdFRhcmdldC5vYmplY3QsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGFzdFRhcmdldCA9IG92ZXJsYXBGb3VuZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCB7IEZpbmdlckN1cnNvciB9O1xuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG4vKipcbiAqIEFwcGxpZXMgW2ZpeGVkIGZvdmVhdGlvbl0oaHR0cHM6Ly93d3cudzMub3JnL1RSL3dlYnhybGF5ZXJzLTEvI2RvbS14cmNvbXBvc2l0aW9ubGF5ZXItZml4ZWRmb3ZlYXRpb24pXG4gKiBvbmNlIGEgV2ViWFIgc2Vzc2lvbiBpcyBzdGFydGVkXG4gKlxuICogRml4ZWQgZm92ZWF0aW9uIHJlZHVjZXMgc2hhZGluZyBjb3N0IGF0IHRoZSBwZXJpcGhlcnkgYnkgcmVuZGVyaW5nIGF0IGxvd2VyIHJlc29sdXRpb25zIGF0IHRoZVxuICogZWRnZXMgb2YgdGhlIHVzZXJzIHZpc2lvbi5cbiAqL1xuY2xhc3MgRml4ZWRGb3ZlYXRpb24gZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdmaXhlZC1mb3ZlYXRpb24nO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICAvKiogQW1vdW50IHRvIGFwcGx5IGZyb20gMCAobm9uZSkgdG8gMSAoZnVsbCkgKi9cbiAgICAgICAgZml4ZWRGb3ZlYXRpb246IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC41IH0sXG4gICAgfTtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5zZXRGaXhlZEZvdmVhdGlvbi5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBvbkFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xuICAgIH1cbiAgICBvbkRlYWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgfVxuICAgIHNldEZpeGVkRm92ZWF0aW9uKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS54ci5iYXNlTGF5ZXIuZml4ZWRGb3ZlYXRpb24gPSB0aGlzLmZpeGVkRm92ZWF0aW9uO1xuICAgIH1cbn1cbmV4cG9ydCB7IEZpeGVkRm92ZWF0aW9uIH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBNZXNoQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHZlYzMsIHF1YXQsIHF1YXQyIH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7IHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCB9IGZyb20gJy4vdXRpbHMvd2VieHIuanMnO1xuY29uc3QgT1JERVJFRF9KT0lOVFMgPSBbXG4gICAgJ3dyaXN0JyxcbiAgICAndGh1bWItbWV0YWNhcnBhbCcsXG4gICAgJ3RodW1iLXBoYWxhbngtcHJveGltYWwnLFxuICAgICd0aHVtYi1waGFsYW54LWRpc3RhbCcsXG4gICAgJ3RodW1iLXRpcCcsXG4gICAgJ2luZGV4LWZpbmdlci1tZXRhY2FycGFsJyxcbiAgICAnaW5kZXgtZmluZ2VyLXBoYWxhbngtcHJveGltYWwnLFxuICAgICdpbmRleC1maW5nZXItcGhhbGFueC1pbnRlcm1lZGlhdGUnLFxuICAgICdpbmRleC1maW5nZXItcGhhbGFueC1kaXN0YWwnLFxuICAgICdpbmRleC1maW5nZXItdGlwJyxcbiAgICAnbWlkZGxlLWZpbmdlci1tZXRhY2FycGFsJyxcbiAgICAnbWlkZGxlLWZpbmdlci1waGFsYW54LXByb3hpbWFsJyxcbiAgICAnbWlkZGxlLWZpbmdlci1waGFsYW54LWludGVybWVkaWF0ZScsXG4gICAgJ21pZGRsZS1maW5nZXItcGhhbGFueC1kaXN0YWwnLFxuICAgICdtaWRkbGUtZmluZ2VyLXRpcCcsXG4gICAgJ3JpbmctZmluZ2VyLW1ldGFjYXJwYWwnLFxuICAgICdyaW5nLWZpbmdlci1waGFsYW54LXByb3hpbWFsJyxcbiAgICAncmluZy1maW5nZXItcGhhbGFueC1pbnRlcm1lZGlhdGUnLFxuICAgICdyaW5nLWZpbmdlci1waGFsYW54LWRpc3RhbCcsXG4gICAgJ3JpbmctZmluZ2VyLXRpcCcsXG4gICAgJ3Bpbmt5LWZpbmdlci1tZXRhY2FycGFsJyxcbiAgICAncGlua3ktZmluZ2VyLXBoYWxhbngtcHJveGltYWwnLFxuICAgICdwaW5reS1maW5nZXItcGhhbGFueC1pbnRlcm1lZGlhdGUnLFxuICAgICdwaW5reS1maW5nZXItcGhhbGFueC1kaXN0YWwnLFxuICAgICdwaW5reS1maW5nZXItdGlwJyxcbl07XG5jb25zdCBpbnZUcmFuc2xhdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG5jb25zdCBpbnZSb3RhdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4vKipcbiAqIEVhc3kgaGFuZCB0cmFja2luZyB0aHJvdWdoIHRoZSBXZWJYUiBEZXZpY2UgQVBJXG4gKiBbXCJIYW5kIElucHV0XCIgQVBJXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL3dlYnhyLWhhbmQtaW5wdXQvKS5cbiAqXG4gKiBBbGxvd3MgZGlzcGxheWluZyBoYW5kcyBlaXRoZXIgYXMgc3BoZXJlLWpvaW50cyBvciBza2lubmVkIG1lc2guXG4gKlxuICogVG8gcmVhY3QgdG8gZ3JhYmJpbmcsIHVzZSBgdGhpcy5pc0dyYWJiaW5nKClgLiBGb3Igb3RoZXIgZ2VzdHVyZXMsIHJlZmVyXG4gKiB0byBgdGhpcy5qb2ludHNgIC0gYW4gYXJyYXkgb2YgW1dMLk9iamVjdF0oL2pzYXBpL29iamVjdCkgYW5kIHVzZSB0aGUgam9pbnRcbiAqIGluZGljZXMgbGlzdGVkIFtpbiB0aGUgV2ViWFIgSGFuZCBJbnB1dCBzcGVjaWZpY2F0aW9uXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL3dlYnhyLWhhbmQtaW5wdXQvI3NrZWxldG9uLWpvaW50cy1zZWN0aW9uKS5cbiAqXG4gKiBJdCBpcyBvZnRlbiBkZXNpcmVkIHRvIHVzZSBlaXRoZXIgaGFuZCB0cmFja2luZyBvciBjb250cm9sbGVycywgbm90IGJvdGguXG4gKiBUaGlzIGNvbXBvbmVudCBwcm92aWRlcyBgZGVhY3RpdmF0ZUNoaWxkcmVuV2l0aG91dFBvc2VgIHRvIGhpZGUgdGhlIGhhbmRcbiAqIHRyYWNraW5nIHZpc3VhbGl6YXRpb24gaWYgbm8gcG9zZSBpcyBhdmFpbGFibGUgYW5kIGBjb250cm9sbGVyVG9EZWFjdGl2YXRlYFxuICogZm9yIGRpc2FibGluZyBhbm90aGVyIG9iamVjdCBvbmNlIGEgaGFuZCB0cmFja2luZyBwb3NlICppcyogYXZhaWxhYmxlLlxuICogT3V0c2lkZSBvZiBYUiBzZXNzaW9ucywgdHJhY2tpbmcgb3IgY29udHJvbGxlcnMgYXJlIG5laXRoZXIgZW5hYmxlZCBub3IgZGlzYWJsZWRcbiAqIHRvIHBsYXkgd2VsbCB3aXRoIHRoZSBbdnItbW9kZS1hY3RpdmUtc3dpdGNoXSgjdnItbW9kZS1hY3RpdmUtc3dpdGNoKSBjb21wb25lbnQuXG4gKlxuICogKipSZXF1aXJlbWVudHM6KipcbiAqICAtIFRvIHVzZSBoYW5kLXRyYWNraW5nLCBlbmFibGUgXCJqb2ludCB0cmFja2luZ1wiIGluIGBjaHJvbWU6Ly9mbGFnc2Agb25cbiAqICAgIE9jdWx1cyBCcm93c2VyIGZvciBPY3VsdXMgUXVlc3QvT2N1bHVzIFF1ZXN0IDIuXG4gKlxuICogU2VlIFtIYW5kIFRyYWNraW5nIEV4YW1wbGVdKC9zaG93Y2FzZS9oYW5kLXRyYWNraW5nKS5cbiAqL1xuY2xhc3MgSGFuZFRyYWNraW5nIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaGFuZC10cmFja2luZyc7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBIYW5kZWRuZXNzIGRldGVybWluaW5nIHdoZXRoZXIgdG8gcmVjZWl2ZSB0cmFja2luZyBpbnB1dCBmcm9tIHJpZ2h0IG9yIGxlZnQgaGFuZCAqL1xuICAgICAgICBoYW5kZWRuZXNzOiB7IHR5cGU6IFR5cGUuRW51bSwgZGVmYXVsdDogJ2xlZnQnLCB2YWx1ZXM6IFsnbGVmdCcsICdyaWdodCddIH0sXG4gICAgICAgIC8qKiAob3B0aW9uYWwpIE1lc2ggdG8gdXNlIHRvIHZpc3VhbGl6ZSBqb2ludHMgKi9cbiAgICAgICAgam9pbnRNZXNoOiB7IHR5cGU6IFR5cGUuTWVzaCwgZGVmYXVsdDogbnVsbCB9LFxuICAgICAgICAvKiogTWF0ZXJpYWwgdG8gdXNlIGZvciBkaXNwbGF5LiBBcHBsaWVkIHRvIGVpdGhlciB0aGUgc3Bhd25lZCBza2lubmVkIG1lc2ggb3IgdGhlIGpvaW50IHNwaGVyZXMuICovXG4gICAgICAgIGpvaW50TWF0ZXJpYWw6IHsgdHlwZTogVHlwZS5NYXRlcmlhbCwgZGVmYXVsdDogbnVsbCB9LFxuICAgICAgICAvKiogKG9wdGlvbmFsKSBTa2luIHRvIGFwcGx5IHRyYWNrZWQgam9pbnQgcG9zZXMgdG8uIElmIG5vdCBwcmVzZW50LCBqb2ludCBzcGhlcmVzIHdpbGwgYmUgdXNlZCBmb3IgZGlzcGxheSBpbnN0ZWFkLiAqL1xuICAgICAgICBoYW5kU2tpbjogeyB0eXBlOiBUeXBlLlNraW4sIGRlZmF1bHQ6IG51bGwgfSxcbiAgICAgICAgLyoqIERlYWN0aXZhdGUgY2hpbGRyZW4gaWYgbm8gcG9zZSB3YXMgdHJhY2tlZCAqL1xuICAgICAgICBkZWFjdGl2YXRlQ2hpbGRyZW5XaXRob3V0UG9zZTogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IHRydWUgfSxcbiAgICAgICAgLyoqIENvbnRyb2xsZXIgb2JqZWN0cyB0byBhY3RpdmF0ZSBpbmNsdWRpbmcgY2hpbGRyZW4gaWYgbm8gcG9zZSBpcyBhdmFpbGFibGUgKi9cbiAgICAgICAgY29udHJvbGxlclRvRGVhY3RpdmF0ZTogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgIH07XG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5oYW5kZWRuZXNzID0gWydsZWZ0JywgJ3JpZ2h0J11bdGhpcy5oYW5kZWRuZXNzXTtcbiAgICB9XG4gICAgam9pbnRzID0ge307XG4gICAgc2Vzc2lvbiA9IG51bGw7XG4gICAgLyogV2hldGhlciBsYXN0IHVwZGF0ZSBoYWQgYSBoYW5kIHBvc2UgKi9cbiAgICBoYXNQb3NlID0gZmFsc2U7XG4gICAgX2NoaWxkcmVuQWN0aXZlID0gdHJ1ZTtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKCEoJ1hSSGFuZCcgaW4gd2luZG93KSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdXZWJYUiBIYW5kIFRyYWNraW5nIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyLicpO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYW5kU2tpbikge1xuICAgICAgICAgICAgbGV0IHNraW4gPSB0aGlzLmhhbmRTa2luO1xuICAgICAgICAgICAgbGV0IGpvaW50SWRzID0gc2tpbi5qb2ludElkcztcbiAgICAgICAgICAgIC8qIE1hcCB0aGUgd3Jpc3QgKi9cbiAgICAgICAgICAgIHRoaXMuam9pbnRzW09SREVSRURfSk9JTlRTWzBdXSA9IHRoaXMuZW5naW5lLndyYXBPYmplY3Qoam9pbnRJZHNbMF0pO1xuICAgICAgICAgICAgLyogSW5kZXggaW4gT1JERVJFRF9KT0lOVFMgdGhhdCB3ZSBhcmUgbWFwcGluZyB0byBvdXIgam9pbnRzICovXG4gICAgICAgICAgICAvKiBTa2lwIHRodW1iMCBqb2ludCwgc3RhcnQgYXQgdGh1bWIxICovXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGpvaW50SWRzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgbGV0IGpvaW50ID0gdGhpcy5lbmdpbmUud3JhcE9iamVjdChqb2ludElkc1tqXSk7XG4gICAgICAgICAgICAgICAgLyogdGlwIGpvaW50cyBhcmUgb25seSBuZWVkZWQgZm9yIGpvaW50IHJlbmRlcmluZywgc28gd2Ugc2tpcCB0aG9zZSB3aGlsZSBtYXBwaW5nICovXG4gICAgICAgICAgICAgICAgdGhpcy5qb2ludHNbam9pbnQubmFtZV0gPSBqb2ludDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIElmIHdlIGhhdmUgYSBoYW5kIHNraW4sIG5vIG5lZWQgdG8gc3Bhd24gdGhlIGpvaW50cy1iYXNlZCBvbmUgKi9cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKiBTcGF3biBqb2ludHMgKi9cbiAgICAgICAgY29uc3Qgam9pbnRPYmplY3RzID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0cyhPUkRFUkVEX0pPSU5UUy5sZW5ndGgsIHRoaXMub2JqZWN0LnBhcmVudCwgT1JERVJFRF9KT0lOVFMubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBPUkRFUkVEX0pPSU5UUy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgbGV0IGpvaW50ID0gam9pbnRPYmplY3RzW2pdO1xuICAgICAgICAgICAgam9pbnQuYWRkQ29tcG9uZW50KE1lc2hDb21wb25lbnQsIHtcbiAgICAgICAgICAgICAgICBtZXNoOiB0aGlzLmpvaW50TWVzaCxcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogdGhpcy5qb2ludE1hdGVyaWFsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmpvaW50c1tPUkRFUkVEX0pPSU5UU1tqXV0gPSBqb2ludDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUoZHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuZ2luZS54cilcbiAgICAgICAgICAgICAgICB0aGlzLnNldHVwVlJFdmVudHModGhpcy5lbmdpbmUueHIuc2Vzc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuaGFzUG9zZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uICYmIHRoaXMuc2Vzc2lvbi5pbnB1dFNvdXJjZXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZXNzaW9uLmlucHV0U291cmNlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0U291cmNlID0gdGhpcy5zZXNzaW9uLmlucHV0U291cmNlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0U291cmNlIHx8XG4gICAgICAgICAgICAgICAgICAgICFpbnB1dFNvdXJjZS5oYW5kIHx8XG4gICAgICAgICAgICAgICAgICAgIGlucHV0U291cmNlLmhhbmRlZG5lc3MgIT0gdGhpcy5oYW5kZWRuZXNzKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1Bvc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdyaXN0U3BhY2UgPSBpbnB1dFNvdXJjZS5oYW5kLmdldCgnd3Jpc3QnKTtcbiAgICAgICAgICAgICAgICBpZiAod3Jpc3RTcGFjZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gdGhpcy5lbmdpbmUueHIuZnJhbWUuZ2V0Sm9pbnRQb3NlKHdyaXN0U3BhY2UsIHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwodGhpcy5vYmplY3QsIHAudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRSb3RhdGlvbkxvY2FsKGludlJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICBxdWF0LmNvbmp1Z2F0ZShpbnZSb3RhdGlvbiwgaW52Um90YXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uTG9jYWwoaW52VHJhbnNsYXRpb24pO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgT1JERVJFRF9KT0lOVFMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgam9pbnROYW1lID0gT1JERVJFRF9KT0lOVFNbal07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpvaW50ID0gdGhpcy5qb2ludHNbam9pbnROYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpvaW50ID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGxldCBqb2ludFBvc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBqb2ludFNwYWNlID0gaW5wdXRTb3VyY2UuaGFuZC5nZXQoam9pbnROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpvaW50U3BhY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZSA9IHRoaXMuZW5naW5lLnhyLmZyYW1lLmdldEpvaW50UG9zZShqb2ludFNwYWNlLCB0aGlzLmVuZ2luZS54ci5jdXJyZW50UmVmZXJlbmNlU3BhY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChqb2ludFBvc2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhbmRTa2luKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnQucmVzZXRUcmFuc2xhdGlvblJvdGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnQudHJhbnNsYXRlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5wb3NpdGlvbi54IC0gaW52VHJhbnNsYXRpb25bMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZS50cmFuc2Zvcm0ucG9zaXRpb24ueSAtIGludlRyYW5zbGF0aW9uWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLnBvc2l0aW9uLnogLSBpbnZUcmFuc2xhdGlvblsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludC5yb3RhdGUoaW52Um90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50LnJvdGF0ZU9iamVjdChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZS50cmFuc2Zvcm0ub3JpZW50YXRpb24ueCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5vcmllbnRhdGlvbi55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLm9yaWVudGF0aW9uLnosXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZS50cmFuc2Zvcm0ub3JpZW50YXRpb24udyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbChqb2ludCwgam9pbnRQb3NlLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogTGFzdCBqb2ludCByYWRpdXMgb2YgZWFjaCBmaW5nZXIgaXMgbnVsbCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBqb2ludFBvc2UucmFkaXVzIHx8IDAuMDA3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50LnNldFNjYWxpbmdMb2NhbChbciwgciwgcl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5oYXNQb3NlICYmIHRoaXMuX2NoaWxkcmVuQWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbkFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVhY3RpdmF0ZUNoaWxkcmVuV2l0aG91dFBvc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuQWN0aXZlKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuQWN0aXZlKHRydWUsIHRoaXMuY29udHJvbGxlclRvRGVhY3RpdmF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5oYXNQb3NlICYmICF0aGlzLl9jaGlsZHJlbkFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5BY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVhY3RpdmF0ZUNoaWxkcmVuV2l0aG91dFBvc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuQWN0aXZlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlclRvRGVhY3RpdmF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlclRvRGVhY3RpdmF0ZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuQWN0aXZlKGZhbHNlLCB0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNldENoaWxkcmVuQWN0aXZlKGFjdGl2ZSwgb2JqZWN0KSB7XG4gICAgICAgIG9iamVjdCA9IG9iamVjdCB8fCB0aGlzLm9iamVjdDtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBvYmplY3QuY2hpbGRyZW47XG4gICAgICAgIGZvciAoY29uc3QgbyBvZiBjaGlsZHJlbikge1xuICAgICAgICAgICAgby5hY3RpdmUgPSBhY3RpdmU7XG4gICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuQWN0aXZlKGFjdGl2ZSwgbyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaXNHcmFiYmluZygpIHtcbiAgICAgICAgY29uc3QgaW5kZXhUaXBQb3MgPSBbMCwgMCwgMF07XG4gICAgICAgIHF1YXQyLmdldFRyYW5zbGF0aW9uKGluZGV4VGlwUG9zLCB0aGlzLmpvaW50c1snaW5kZXgtZmluZ2VyLXRpcCddLnRyYW5zZm9ybUxvY2FsKTtcbiAgICAgICAgY29uc3QgdGh1bWJUaXBQb3MgPSBbMCwgMCwgMF07XG4gICAgICAgIHF1YXQyLmdldFRyYW5zbGF0aW9uKHRodW1iVGlwUG9zLCB0aGlzLmpvaW50c1sndGh1bWItdGlwJ10udHJhbnNmb3JtTG9jYWwpO1xuICAgICAgICByZXR1cm4gdmVjMy5zcXJEaXN0KHRodW1iVGlwUG9zLCBpbmRleFRpcFBvcykgPCAwLjAwMTtcbiAgICB9XG4gICAgc2V0dXBWUkV2ZW50cyhzKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHM7XG4gICAgfVxufVxuZXhwb3J0IHsgSGFuZFRyYWNraW5nIH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCAnaG93bGVyJztcbi8qKlxuICogKFNwYXRpYWwpIGF1ZGlvIGxpc3RlbmVyIGJhc2VkIG9uIFtIb3dsZXIuanNdKGh0dHBzOi8vaG93bGVyanMuY29tLykuXG4gKlxuICogUmV0cmlldmVzIHRoZSBsb2NhdGlvbiBhbmQgb3JpZW50YXRpb24gb2YgdGhlIG9iamVjdCBhbmQgcGFzc2VzIGl0XG4gKiB0byBbSG93bGVyLnBvcygpXShodHRwczovL2dpdGh1Yi5jb20vZ29sZGZpcmUvaG93bGVyLmpzI3Bvc3gteS16LWlkKVxuICogYW5kIFtIb3dsZXIub3JpZW50YXRpb24oKV0oaHR0cHM6Ly9naXRodWIuY29tL2dvbGRmaXJlL2hvd2xlci5qcyNvcmllbnRhdGlvbngteS16LWlkKS5cbiAqL1xuY2xhc3MgSG93bGVyQXVkaW9MaXN0ZW5lciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2hvd2xlci1hdWRpby1saXN0ZW5lcic7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBXaGV0aGVyIGF1ZGlvIHNob3VsZCBiZSBzcGF0aWFsaXplZC9wb3NpdGlvbmFsLiAqL1xuICAgICAgICBzcGF0aWFsOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogdHJ1ZSB9LFxuICAgIH07XG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5vcmlnaW4gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICB0aGlzLmZ3ZCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIHRoaXMudXAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5zcGF0aWFsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMub3JpZ2luKTtcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0Rm9yd2FyZCh0aGlzLmZ3ZCk7XG4gICAgICAgIHRoaXMub2JqZWN0LmdldFVwKHRoaXMudXApO1xuICAgICAgICBIb3dsZXIucG9zKHRoaXMub3JpZ2luWzBdLCB0aGlzLm9yaWdpblsxXSwgdGhpcy5vcmlnaW5bMl0pO1xuICAgICAgICBIb3dsZXIub3JpZW50YXRpb24odGhpcy5md2RbMF0sIHRoaXMuZndkWzFdLCB0aGlzLmZ3ZFsyXSwgdGhpcy51cFswXSwgdGhpcy51cFsxXSwgdGhpcy51cFsyXSk7XG4gICAgfVxufVxuZXhwb3J0IHsgSG93bGVyQXVkaW9MaXN0ZW5lciB9O1xuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XG5pbXBvcnQgJ2hvd2xlcic7XG4vKipcbiAqIChTcGF0aWFsKSBhdWRpbyBzb3VyY2UgYmFzZWQgb24gW0hvd2xlci5qc10oaHR0cHM6Ly9ob3dsZXJqcy5jb20vKS5cbiAqXG4gKiBDcmVhdGVzIGEgSG93bGVyIGF1ZGlvIHNvdXJjZSwgcGxheXMgYW4gYXVkaW8gZmlsZSBvbiBpdCBhbmQgdXBkYXRlc1xuICogaXRzIHBvc2l0aW9uLlxuICpcbiAqIE9wdGltaXplcyB0aGUgcG9zaXRpb24gdXBkYXRlIHRvIG9ubHkgdXBkYXRlIGlmIHRoZSBkaWZmZXJlbmNlIHRvIGxhc3RcbiAqIHBvc2l0aW9uIGlzIGxhcmdlciB0aGFuIGhhbGYgYSBjZW50aW1ldGVyLiBUbyBmb3JjZSB1cGRhdGVzIChlLmcuIGlmXG4gKiB0aGUgc291bmQgc291cmNlIGlzIF92ZXJ5XyBjbG9zZSB0byB0aGUgbGlzdGVuZXIpLFxuICogdXNlIGAudXBkYXRlUG9zaXRpb24oKWAuXG4gKi9cbmNsYXNzIEhvd2xlckF1ZGlvU291cmNlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaG93bGVyLWF1ZGlvLXNvdXJjZSc7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBWb2x1bWUgKi9cbiAgICAgICAgdm9sdW1lOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDEuMCB9LFxuICAgICAgICAvKiogV2hldGhlciBhdWRpbyBzaG91bGQgYmUgc3BhdGlhbGl6ZWQvcG9zaXRpb25hbCAqL1xuICAgICAgICBzcGF0aWFsOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogdHJ1ZSB9LFxuICAgICAgICAvKiogV2hldGhlciB0byBsb29wIHRoZSBzb3VuZCAqL1xuICAgICAgICBsb29wOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICAgICAgLyoqIFdoZXRoZXIgdG8gc3RhcnQgcGxheWluZyBhdXRvbWF0aWNhbGx5ICovXG4gICAgICAgIGF1dG9wbGF5OiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICAgICAgLyoqIFVSTCB0byBhIHNvdW5kIGZpbGUgdG8gcGxheSAqL1xuICAgICAgICBzcmM6IHsgdHlwZTogVHlwZS5TdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gICAgfTtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5hdWRpbyA9IG5ldyBIb3dsKHtcbiAgICAgICAgICAgIHNyYzogW3RoaXMuc3JjXSxcbiAgICAgICAgICAgIGxvb3A6IHRoaXMubG9vcCxcbiAgICAgICAgICAgIHZvbHVtZTogdGhpcy52b2x1bWUsXG4gICAgICAgICAgICBhdXRvcGxheTogdGhpcy5hdXRvcGxheSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGFzdFBsYXllZEF1ZGlvSWQgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIHRoaXMubGFzdE9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIGlmICh0aGlzLnNwYXRpYWwgJiYgdGhpcy5hdXRvcGxheSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3BhdGlhbCB8fCAhdGhpcy5sYXN0UGxheWVkQXVkaW9JZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLm9yaWdpbik7XG4gICAgICAgIC8qIE9ubHkgY2FsbCBwb3MoKSBpZiB0aGUgcG9zaXRpb24gbW92ZWQgbW9yZSB0aGFuIGhhbGYgYSBjZW50aW1ldGVyXG4gICAgICAgICAqIG90aGVyd2lzZSB0aGlzIGdldHMgdmVyeSBwZXJmb3JtYW5jZSBoZWF2eS5cbiAgICAgICAgICogU21hbGxlciBtb3ZlbWVudCBzaG91bGQgb25seSBiZSBwZXJjZWl2YWJsZSBpZiBjbG9zZSB0byB0aGVcbiAgICAgICAgICogZWFyIGFueXdheS4gKi9cbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMubGFzdE9yaWdpblswXSAtIHRoaXMub3JpZ2luWzBdKSA+IDAuMDA1IHx8XG4gICAgICAgICAgICBNYXRoLmFicyh0aGlzLmxhc3RPcmlnaW5bMV0gLSB0aGlzLm9yaWdpblsxXSkgPiAwLjAwNSB8fFxuICAgICAgICAgICAgTWF0aC5hYnModGhpcy5sYXN0T3JpZ2luWzJdIC0gdGhpcy5vcmlnaW5bMl0pID4gMC4wMDUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVQb3NpdGlvbigpIHtcbiAgICAgICAgdGhpcy5hdWRpby5wb3ModGhpcy5vcmlnaW5bMF0sIHRoaXMub3JpZ2luWzFdLCB0aGlzLm9yaWdpblsyXSwgdGhpcy5sYXN0UGxheWVkQXVkaW9JZCk7XG4gICAgICAgIHRoaXMubGFzdE9yaWdpbi5zZXQodGhpcy5vcmlnaW4pO1xuICAgIH1cbiAgICBwbGF5KCkge1xuICAgICAgICBpZiAodGhpcy5sYXN0UGxheWVkQXVkaW9JZClcbiAgICAgICAgICAgIHRoaXMuYXVkaW8uc3RvcCh0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkKTtcbiAgICAgICAgdGhpcy5sYXN0UGxheWVkQXVkaW9JZCA9IHRoaXMuYXVkaW8ucGxheSgpO1xuICAgICAgICBpZiAodGhpcy5zcGF0aWFsKVxuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAoIXRoaXMubGFzdFBsYXllZEF1ZGlvSWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuYXVkaW8uc3RvcCh0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkKTtcbiAgICAgICAgdGhpcy5sYXN0UGxheWVkQXVkaW9JZCA9IG51bGw7XG4gICAgfVxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgLyogU3RvcCBzb3VuZCB3aGVuIGNvbXBvbmVudCBpcyBkZWFjdGl2YXRlZCBvciBkZXN0cm95ZWQsIGUuZy5cbiAgICAgICAgICogd2hlbiBzd2l0Y2hpbmcgc2NlbmVzICovXG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgIH1cbn1cbmV4cG9ydCB7IEhvd2xlckF1ZGlvU291cmNlIH07XG4iLCAiLyoqXG4gKiBTZXQgdGhlIGRpZmZ1c2UvZmxhdCB0ZXh0dXJlIG9mIGtub3duIHBpcGVsaW5lcy5cbiAqXG4gKiBAcGFyYW0gbWF0IE1hdGVyaWFsIHRvIHNldCB0aGUgdGV4dHVyZSBvblxuICogQHBhcmFtIHRleHR1cmUgVGV4dHVyZSB0byBzZXRcbiAqIEBwYXJhbSBjdXN0b21UZXh0dXJlUHJvcGVydHkgVGV4dHVyZSBwcm9wZXJ0eSB0byBzZXQgb3IgYCdhdXRvJ2AgdG8gYXV0b21hdGljYWxseVxuICogICAgICBkZXRlY3QgdGhlIHJpZ2h0IHRleHR1cmUgcHJvcGVydHkgYmFzZWQgb24ga25vd24gcGlwZWxpbmUuXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IHdhcyBzZXQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Rmlyc3RNYXRlcmlhbFRleHR1cmUobWF0LCB0ZXh0dXJlLCBjdXN0b21UZXh0dXJlUHJvcGVydHkpIHtcbiAgICBpZiAoY3VzdG9tVGV4dHVyZVByb3BlcnR5ICE9PSAnYXV0bycpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBtYXRbY3VzdG9tVGV4dHVyZVByb3BlcnR5XSA9IHRleHR1cmU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBzaGFkZXIgPSBtYXQuc2hhZGVyO1xuICAgIGlmIChzaGFkZXIgPT09ICdGbGF0IE9wYXF1ZSBUZXh0dXJlZCcpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBtYXQuZmxhdFRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2hhZGVyID09PSAnUGhvbmcgT3BhcXVlIFRleHR1cmVkJyB8fFxuICAgICAgICBzaGFkZXIgPT09ICdGb2xpYWdlJyB8fFxuICAgICAgICBzaGFkZXIgPT09ICdQaG9uZyBOb3JtYWxtYXBwZWQnIHx8XG4gICAgICAgIHNoYWRlciA9PT0gJ1Bob25nIExpZ2h0bWFwcGVkJykge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG1hdC5kaWZmdXNlVGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChzaGFkZXIgPT09ICdQYXJ0aWNsZScpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBtYXQubWFpblRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2hhZGVyID09PSAnRGlzdGFuY2VGaWVsZFZlY3RvcicpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBtYXQudmVjdG9yVGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChzaGFkZXIgPT09ICdCYWNrZ3JvdW5kJyB8fCBzaGFkZXIgPT09ICdTa3knKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgbWF0LnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2hhZGVyID09PSAnUGh5c2ljYWwgT3BhcXVlIFRleHR1cmVkJykge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG1hdC5hbGJlZG9UZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHNldEZpcnN0TWF0ZXJpYWxUZXh0dXJlIH0gZnJvbSAnLi91dGlscy91dGlscy5qcyc7XG4vKipcbiAqIERvd25sb2FkcyBhbiBpbWFnZSBmcm9tIFVSTCBhbmQgYXBwbGllcyBpdCBhcyBgZGlmZnVzZVRleHR1cmVgIG9yIGBmbGF0VGV4dHVyZWBcbiAqIHRvIGFuIGF0dGFjaGVkIG1lc2ggY29tcG9uZW50LlxuICpcbiAqIE1hdGVyaWFscyBmcm9tIHRoZSBmb2xsb3dpbmcgc2hhZGVycyBhcmUgc3VwcG9ydGVkOlxuICogIC0gXCJQaG9uZyBPcGFxdWUgVGV4dHVyZWRcIlxuICogIC0gXCJGbGF0IE9wYXF1ZSBUZXh0dXJlZFwiXG4gKiAgLSBcIkJhY2tncm91bmRcIlxuICogIC0gXCJQaHlzaWNhbCBPcGFxdWUgVGV4dHVyZWRcIlxuICogIC0gXCJGb2xpYWdlXCJcbiAqL1xuY2xhc3MgSW1hZ2VUZXh0dXJlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaW1hZ2UtdGV4dHVyZSc7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBVUkwgdG8gZG93bmxvYWQgdGhlIGltYWdlIGZyb20gKi9cbiAgICAgICAgdXJsOiBQcm9wZXJ0eS5zdHJpbmcoKSxcbiAgICAgICAgLyoqIE1hdGVyaWFsIHRvIGFwcGx5IHRoZSB2aWRlbyB0ZXh0dXJlIHRvICovXG4gICAgICAgIG1hdGVyaWFsOiBQcm9wZXJ0eS5tYXRlcmlhbCgpLFxuICAgICAgICAvKiogTmFtZSBvZiB0aGUgdGV4dHVyZSBwcm9wZXJ0eSB0byBzZXQgKi9cbiAgICAgICAgdGV4dHVyZVByb3BlcnR5OiBQcm9wZXJ0eS5zdHJpbmcoJ2F1dG8nKSxcbiAgICB9O1xuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMubWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdpbWFnZS10ZXh0dXJlOiBtYXRlcmlhbCBwcm9wZXJ0eSBub3Qgc2V0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmdpbmUudGV4dHVyZXNcbiAgICAgICAgICAgIC5sb2FkKHRoaXMudXJsLCAnYW5vbnltb3VzJylcbiAgICAgICAgICAgIC50aGVuKCh0ZXh0dXJlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtYXQgPSB0aGlzLm1hdGVyaWFsO1xuICAgICAgICAgICAgaWYgKCFzZXRGaXJzdE1hdGVyaWFsVGV4dHVyZShtYXQsIHRleHR1cmUsIHRoaXMudGV4dHVyZVByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NoYWRlcicsIG1hdC5zaGFkZXIsICdub3Qgc3VwcG9ydGVkIGJ5IGltYWdlLXRleHR1cmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChjb25zb2xlLmVycik7XG4gICAgfVxufVxuZXhwb3J0IHsgSW1hZ2VUZXh0dXJlIH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHZlYzMgfSBmcm9tICdnbC1tYXRyaXgnO1xuLyoqXG4gKiBDb250cm9scyB0aGUgY2FtZXJhIHRocm91Z2ggbW91c2UgbW92ZW1lbnQuXG4gKlxuICogRWZmaWNpZW50bHkgaW1wbGVtZW50ZWQgdG8gYWZmZWN0IG9iamVjdCBvcmllbnRhdGlvbiBvbmx5XG4gKiB3aGVuIHRoZSBtb3VzZSBtb3Zlcy5cbiAqL1xuY2xhc3MgTW91c2VMb29rQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbW91c2UtbG9vayc7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBNb3VzZSBsb29rIHNlbnNpdGl2aXR5ICovXG4gICAgICAgIHNlbnNpdGl0eTogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjI1IH0sXG4gICAgICAgIC8qKiBSZXF1aXJlIGEgbW91c2UgYnV0dG9uIHRvIGJlIHByZXNzZWQgdG8gY29udHJvbCB2aWV3LlxuICAgICAgICAgKiBPdGhlcndpc2UgdmlldyB3aWxsIGFsbHdheXMgZm9sbG93IG1vdXNlIG1vdmVtZW50ICovXG4gICAgICAgIHJlcXVpcmVNb3VzZURvd246IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiB0cnVlIH0sXG4gICAgICAgIC8qKiBJZiBcIm1vdmVPbkNsaWNrXCIgaXMgZW5hYmxlZCwgbW91c2UgYnV0dG9uIHdoaWNoIHNob3VsZFxuICAgICAgICAgKiBiZSBoZWxkIGRvd24gdG8gY29udHJvbCB2aWV3ICovXG4gICAgICAgIG1vdXNlQnV0dG9uSW5kZXg6IHsgdHlwZTogVHlwZS5JbnQgfSxcbiAgICAgICAgLyoqIEVuYWJsZXMgcG9pbnRlciBsb2NrIG9uIFwibW91c2Vkb3duXCIgZXZlbnQgb24gY2FudmFzICovXG4gICAgICAgIHBvaW50ZXJMb2NrT25DbGljazogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IGZhbHNlIH0sXG4gICAgfTtcbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRSb3RhdGlvblkgPSAwO1xuICAgICAgICB0aGlzLmN1cnJlbnRSb3RhdGlvblggPSAwO1xuICAgICAgICB0aGlzLm9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIHRoaXMucGFyZW50T3JpZ2luID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAgICAgdGhpcy5yb3RhdGlvblggPSAwO1xuICAgICAgICB0aGlzLnJvdGF0aW9uWSA9IDA7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlICYmICh0aGlzLm1vdXNlRG93biB8fCAhdGhpcy5yZXF1aXJlTW91c2VEb3duKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucm90YXRpb25ZID0gKC10aGlzLnNlbnNpdGl0eSAqIGUubW92ZW1lbnRYKSAvIDEwMDtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0aW9uWCA9ICgtdGhpcy5zZW5zaXRpdHkgKiBlLm1vdmVtZW50WSkgLyAxMDA7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Um90YXRpb25YICs9IHRoaXMucm90YXRpb25YO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJvdGF0aW9uWSArPSB0aGlzLnJvdGF0aW9uWTtcbiAgICAgICAgICAgICAgICAvKiAxLjUwNyA9IFBJLzIgPSA5MFx1MDBCMCAqL1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJvdGF0aW9uWCA9IE1hdGgubWluKDEuNTA3LCB0aGlzLmN1cnJlbnRSb3RhdGlvblgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJvdGF0aW9uWCA9IE1hdGgubWF4KC0xLjUwNywgdGhpcy5jdXJyZW50Um90YXRpb25YKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLm9iamVjdC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLnBhcmVudE9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIHZlYzMuc3ViKHRoaXMub3JpZ2luLCB0aGlzLm9yaWdpbiwgdGhpcy5wYXJlbnRPcmlnaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5yZXNldFRyYW5zbGF0aW9uUm90YXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGVBeGlzQW5nbGVSYWQoWzEsIDAsIDBdLCB0aGlzLmN1cnJlbnRSb3RhdGlvblgpO1xuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnJvdGF0ZUF4aXNBbmdsZVJhZChbMCwgMSwgMF0sIHRoaXMuY3VycmVudFJvdGF0aW9uWSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlKHRoaXMub3JpZ2luKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuZW5naW5lLmNhbnZhcztcbiAgICAgICAgaWYgKHRoaXMucG9pbnRlckxvY2tPbkNsaWNrKSB7XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5yZXF1ZXN0UG9pbnRlckxvY2sgPVxuICAgICAgICAgICAgICAgICAgICBjYW52YXMucmVxdWVzdFBvaW50ZXJMb2NrIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMubW96UmVxdWVzdFBvaW50ZXJMb2NrIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMud2Via2l0UmVxdWVzdFBvaW50ZXJMb2NrO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5yZXF1ZXN0UG9pbnRlckxvY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlcXVpcmVNb3VzZURvd24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdXNlQnV0dG9uSW5kZXggPT0gMikge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZS5idXR0b24gPT0gdGhpcy5tb3VzZUJ1dHRvbkluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnZ3JhYmJpbmcnO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5idXR0b24gPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogUHJldmVudCBzY3JvbGxpbmcgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlLmJ1dHRvbiA9PSB0aGlzLm1vdXNlQnV0dG9uSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnaW5pdGlhbCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgeyBNb3VzZUxvb2tDb21wb25lbnQgfTtcbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XG4vKipcbiAqIFNldCBwbGF5ZXIgaGVpZ2h0IGZvciBhIFktb2Zmc2V0IGFib3ZlIHRoZSBncm91bmQgZm9yXG4gKiAnbG9jYWwnIGFuZCAndmlld2VyJyByZWZlcmVuY2Ugc3BhY2VzLlxuICovXG5jbGFzcyBQbGF5ZXJIZWlnaHQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdwbGF5ZXItaGVpZ2h0JztcbiAgICBoZWlnaHQgPSAxLjc1O1xuICAgIG9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2s7XG4gICAgb25TZXNzaW9uRW5kQ2FsbGJhY2s7XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMub2JqZWN0LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xuICAgICAgICB0aGlzLm9iamVjdC50cmFuc2xhdGVMb2NhbChbMC4wLCB0aGlzLmhlaWdodCwgMC4wXSk7XG4gICAgICAgIHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMub25YUlNlc3Npb25TdGFydC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrID0gdGhpcy5vblhSU2Vzc2lvbkVuZC5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBvbkFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvbkVuZC5hZGQodGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayk7XG4gICAgfVxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQucmVtb3ZlKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xuICAgIH1cbiAgICBvblhSU2Vzc2lvblN0YXJ0KCkge1xuICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5lbmdpbmUueHI/LmN1cnJlbnRSZWZlcmVuY2VTcGFjZVR5cGU7XG4gICAgICAgIGlmICh0eXBlICE9PSAnbG9jYWwnICYmIHR5cGUgIT09ICd2aWV3ZXInKSB7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblhSU2Vzc2lvbkVuZCgpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMuZW5naW5lLnhyPy5jdXJyZW50UmVmZXJlbmNlU3BhY2VUeXBlO1xuICAgICAgICBpZiAodHlwZSAhPT0gJ2xvY2FsJyAmJiB0eXBlICE9PSAndmlld2VyJykge1xuICAgICAgICAgICAgdGhpcy5vYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC50cmFuc2xhdGVMb2NhbChbMC4wLCB0aGlzLmhlaWdodCwgMC4wXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5mbG9hdCgwLjApXG5dLCBQbGF5ZXJIZWlnaHQucHJvdG90eXBlLCBcImhlaWdodFwiLCB2b2lkIDApO1xuZXhwb3J0IHsgUGxheWVySGVpZ2h0IH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbi8qKlxuICogU2V0cyB0aGUgdGFyZ2V0IGZyYW1lcmF0ZVxuICpcbiAqIFtVcGRhdGVzIHRoZSB0YXJnZXQgZnJhbWVyYXRlXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL3dlYnhyLyNkb20teHJzZXNzaW9uLXVwZGF0ZXRhcmdldGZyYW1lcmF0ZSlcbiAqIHRvIHRoZSBjbG9zZXN0IFtzdXBwb3J0ZWQgdGFyZ2V0IGZyYW1lcmF0ZV0oaHR0cHM6Ly9pbW1lcnNpdmUtd2ViLmdpdGh1Yi5pby93ZWJ4ci8jZG9tLXhyc2Vzc2lvbi1zdXBwb3J0ZWRGcmFtZVJhdGVzKVxuICogdG8gdGhlIGdpdmVuIGBmcmFtZXJhdGVgLlxuICpcbiAqIFRoZSB0YXJnZXQgZnJhbWVyYXRlIGlzIHVzZWQgZm9yIHRoZSBkZXZpY2UncyBWUiBjb21wb3NpdG9yIGFzIGFuIGluZGljYXRpb24gb2YgaG93IG9mdGVuIHRvIHJlZnJlc2ggdGhlXG4gKiBzY3JlZW4gd2l0aCBuZXcgaW1hZ2VzLiBUaGlzIG1lYW5zIHRoZSBhcHAgd2lsbCBiZSBhc2tlZCB0byBwcm9kdWNlIGZyYW1lcyBpbiBtb3JlIHJlZ3VsYXIgaW50ZXJ2YWxzLFxuICogcG90ZW50aWFsbHkgc3BlbmRpbmcgbGVzcyB0aW1lIG9uIGZyYW1lcyB0aGF0IGFyZSBsaWtlbHkgdG8gYmUgZHJvcHBlZC5cbiAqXG4gKiBGb3IgYXBwcyB3aXRoIGhlYXZ5IGxvYWQsIHNldHRpbmcgYSB3ZWxsIG1hdGNoaW5nIHRhcmdldCBmcmFtZXJhdGUgY2FuIGltcHJvdmUgdGhlIGFwcHMgcmVuZGVyaW5nIHN0YWJpbGl0eVxuICogYW5kIHJlZHVjZSBzdHV0dGVyLlxuICpcbiAqIExpa2V3aXNlLCB0aGUgdGFyZ2V0IGZyYW1lcmF0ZSBjYW4gYmUgdXNlZCB0byBlbmFibGUgMTIwSHogcmVmcmVzaCByYXRlcyBvbiBPY3VsdXMgUXVlc3QgMiBvbiBzaW1wbGVyIGFwcHMuXG4gKi9cbmNsYXNzIFRhcmdldEZyYW1lcmF0ZSBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3RhcmdldC1mcmFtZXJhdGUnO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICBmcmFtZXJhdGU6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogOTAuMCB9LFxuICAgIH07XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMuc2V0VGFyZ2V0RnJhbWVyYXRlLmJpbmQodGhpcyk7XG4gICAgfVxuICAgIG9uQWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgfVxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICB9XG4gICAgc2V0VGFyZ2V0RnJhbWVyYXRlKHMpIHtcbiAgICAgICAgaWYgKHMuc3VwcG9ydGVkRnJhbWVSYXRlcyAmJiBzLnVwZGF0ZVRhcmdldEZyYW1lUmF0ZSkge1xuICAgICAgICAgICAgY29uc3QgYSA9IHRoaXMuZW5naW5lLnhyLnNlc3Npb24uc3VwcG9ydGVkRnJhbWVSYXRlcztcbiAgICAgICAgICAgIGEuc29ydCgoYSwgYikgPT4gTWF0aC5hYnMoYSAtIHRoaXMuZnJhbWVyYXRlKSAtIE1hdGguYWJzKGIgLSB0aGlzLmZyYW1lcmF0ZSkpO1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi51cGRhdGVUYXJnZXRGcmFtZVJhdGUoYVswXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgeyBUYXJnZXRGcmFtZXJhdGUgfTtcbiIsICJpbXBvcnQgeyB2ZWMzLCBxdWF0MiB9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuLyoqXG4gKiBUZWxlcG9ydCBWUiBsb2NvbW90aW9uLlxuICpcbiAqIFNlZSBbVGVsZXBvcnQgRXhhbXBsZV0oL3Nob3djYXNlL3RlbGVwb3J0KS5cbiAqL1xuY2xhc3MgVGVsZXBvcnRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd0ZWxlcG9ydCc7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBPYmplY3QgdGhhdCB3aWxsIGJlIHBsYWNlZCBhcyBpbmRpY2lhdGlvbiBmb3J3aGVyZSB0aGUgcGxheWVyIHdpbGwgdGVsZXBvcnQgdG8uICovXG4gICAgICAgIHRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgICAgICAvKiogUm9vdCBvZiB0aGUgcGxheWVyLCB0aGUgb2JqZWN0IHRoYXQgd2lsbCBiZSBwb3NpdGlvbmVkIG9uIHRlbGVwb3J0YXRpb24uICovXG4gICAgICAgIGNhbVJvb3Q6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcbiAgICAgICAgLyoqIE5vbi12ciBjYW1lcmEgZm9yIHVzZSBvdXRzaWRlIG9mIFZSICovXG4gICAgICAgIGNhbTogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgICAgICAvKiogTGVmdCBleWUgZm9yIHVzZSBpbiBWUiovXG4gICAgICAgIGV5ZUxlZnQ6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcbiAgICAgICAgLyoqIFJpZ2h0IGV5ZSBmb3IgdXNlIGluIFZSKi9cbiAgICAgICAgZXllUmlnaHQ6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcbiAgICAgICAgLyoqIEhhbmRlZG5lc3MgZm9yIFZSIGN1cnNvcnMgdG8gYWNjZXB0IHRyaWdnZXIgZXZlbnRzIG9ubHkgZnJvbSByZXNwZWN0aXZlIGNvbnRyb2xsZXIuICovXG4gICAgICAgIGhhbmRlZG5lc3M6IHtcbiAgICAgICAgICAgIHR5cGU6IFR5cGUuRW51bSxcbiAgICAgICAgICAgIHZhbHVlczogWydpbnB1dCBjb21wb25lbnQnLCAnbGVmdCcsICdyaWdodCcsICdub25lJ10sXG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5wdXQgY29tcG9uZW50JyxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqIENvbGxpc2lvbiBncm91cCBvZiB2YWxpZCBcImZsb29yXCIgb2JqZWN0cyB0aGF0IGNhbiBiZSB0ZWxlcG9ydGVkIG9uICovXG4gICAgICAgIGZsb29yR3JvdXA6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDEgfSxcbiAgICAgICAgLyoqIEhvdyBmYXIgdGhlIHRodW1ic3RpY2sgbmVlZHMgdG8gYmUgcHVzaGVkIHRvIGhhdmUgdGhlIHRlbGVwb3J0IHRhcmdldCBpbmRpY2F0b3Igc2hvdyB1cCAqL1xuICAgICAgICB0aHVtYnN0aWNrQWN0aXZhdGlvblRocmVzaGhvbGQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogLTAuNyB9LFxuICAgICAgICAvKiogSG93IGZhciB0aGUgdGh1bWJzdGljayBuZWVkcyB0byBiZSByZWxlYXNlZCB0byBleGVjdXRlIHRoZSB0ZWxlcG9ydCAqL1xuICAgICAgICB0aHVtYnN0aWNrRGVhY3RpdmF0aW9uVGhyZXNoaG9sZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjMgfSxcbiAgICAgICAgLyoqIE9mZnNldCB0byBhcHBseSB0byB0aGUgaW5kaWNhdG9yIG9iamVjdCwgZS5nLiB0byBhdm9pZCBpdCBmcm9tIFotZmlnaHRpbmcgd2l0aCB0aGUgZmxvb3IgKi9cbiAgICAgICAgaW5kaWNhdG9yWU9mZnNldDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjAxIH0sXG4gICAgICAgIC8qKiBNb2RlIGZvciByYXljYXN0aW5nLCB3aGV0aGVyIHRvIHVzZSBQaHlzWCBvciBzaW1wbGUgY29sbGlzaW9uIGNvbXBvbmVudHMgKi9cbiAgICAgICAgcmF5Q2FzdE1vZGU6IHtcbiAgICAgICAgICAgIHR5cGU6IFR5cGUuRW51bSxcbiAgICAgICAgICAgIHZhbHVlczogWydjb2xsaXNpb24nLCAncGh5c3gnXSxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdjb2xsaXNpb24nLFxuICAgICAgICB9LFxuICAgICAgICAvKiogTWF4IGRpc3RhbmNlIGZvciBQaHlzWCByYXljYXN0ICovXG4gICAgICAgIG1heERpc3RhbmNlOiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IDEwMC4wIH0sXG4gICAgfTtcbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLl9wcmV2VGh1bWJzdGlja0F4aXMgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgICAgICB0aGlzLl90ZW1wVmVjID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICAgICAgdGhpcy5fdGVtcFZlYzAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICB0aGlzLl9jdXJyZW50SW5kaWNhdG9yUm90YXRpb24gPSAwO1xuICAgICAgICB0aGlzLmlucHV0ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdpbnB1dCcpO1xuICAgICAgICBpZiAoIXRoaXMuaW5wdXQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5vYmplY3QubmFtZSwgJ2dlbmVyaWMtdGVsZXBvcnQtY29tcG9uZW50LmpzOiBpbnB1dCBjb21wb25lbnQgaXMgcmVxdWlyZWQgb24gdGhlIG9iamVjdCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5vYmplY3QubmFtZSwgJ2dlbmVyaWMtdGVsZXBvcnQtY29tcG9uZW50LmpzOiBUZWxlcG9ydCBpbmRpY2F0b3IgbWVzaCBpcyBtaXNzaW5nJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNhbVJvb3QpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5vYmplY3QubmFtZSwgJ2dlbmVyaWMtdGVsZXBvcnQtY29tcG9uZW50LmpzOiBjYW1Sb290IG5vdCBzZXQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzSW5kaWNhdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmluZGljYXRvckhpZGRlbiA9IHRydWU7XG4gICAgICAgIHRoaXMuaGl0U3BvdCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgICAgIHRoaXMuX2hhc0hpdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9leHRyYVJvdGF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5fY3VycmVudFN0aWNrQXhlcyA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAodGhpcy5jYW0pIHtcbiAgICAgICAgICAgIHRoaXMuaXNNb3VzZUluZGljYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYW5kZWRuZXNzID09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0Q29tcCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIGlmICghaW5wdXRDb21wKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCd0ZWxlcG9ydCBjb21wb25lbnQgb24gb2JqZWN0JywgdGhpcy5vYmplY3QubmFtZSwgJ3dhcyBjb25maWd1cmVkIHdpdGggaGFuZGVkbmVzcyBcImlucHV0IGNvbXBvbmVudFwiLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2J1dCBvYmplY3QgaGFzIG5vIGlucHV0IGNvbXBvbmVudC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IGlucHV0Q29tcC5oYW5kZWRuZXNzO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dENvbXA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRlZG5lc3MgPSBbJ2xlZnQnLCAncmlnaHQnXVt0aGlzLmhhbmRlZG5lc3MgLSAxXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLnNldHVwVlJFdmVudHMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICAgIG9uQWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgfVxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcbiAgICB9XG4gICAgLyogR2V0IGN1cnJlbnQgY2FtZXJhIFkgcm90YXRpb24gKi9cbiAgICBfZ2V0Q2FtUm90YXRpb24oKSB7XG4gICAgICAgIHRoaXMuZXllTGVmdC5nZXRGb3J3YXJkKHRoaXMuX3RlbXBWZWMpO1xuICAgICAgICB0aGlzLl90ZW1wVmVjWzFdID0gMDtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUodGhpcy5fdGVtcFZlYywgdGhpcy5fdGVtcFZlYyk7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMuX3RlbXBWZWNbMF0sIHRoaXMuX3RlbXBWZWNbMl0pO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGxldCBpbnB1dExlbmd0aCA9IDA7XG4gICAgICAgIGlmICh0aGlzLmdhbWVwYWQgJiYgdGhpcy5nYW1lcGFkLmF4ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMF0gPSB0aGlzLmdhbWVwYWQuYXhlc1syXTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMV0gPSB0aGlzLmdhbWVwYWQuYXhlc1szXTtcbiAgICAgICAgICAgIGlucHV0TGVuZ3RoID1cbiAgICAgICAgICAgICAgICBNYXRoLmFicyh0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzBdKSArIE1hdGguYWJzKHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc0luZGljYXRpbmcgJiZcbiAgICAgICAgICAgIHRoaXMuX3ByZXZUaHVtYnN0aWNrQXhpc1sxXSA+PSB0aGlzLnRodW1ic3RpY2tBY3RpdmF0aW9uVGhyZXNoaG9sZCAmJlxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFN0aWNrQXhlc1sxXSA8IHRoaXMudGh1bWJzdGlja0FjdGl2YXRpb25UaHJlc2hob2xkKSB7XG4gICAgICAgICAgICB0aGlzLmlzSW5kaWNhdGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc0luZGljYXRpbmcgJiZcbiAgICAgICAgICAgIGlucHV0TGVuZ3RoIDwgdGhpcy50aHVtYnN0aWNrRGVhY3RpdmF0aW9uVGhyZXNoaG9sZCkge1xuICAgICAgICAgICAgdGhpcy5pc0luZGljYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2hhc0hpdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RlbGVwb3J0UGxheWVyKHRoaXMuaGl0U3BvdCwgdGhpcy5fZXh0cmFSb3RhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNJbmRpY2F0aW5nICYmIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0ICYmIHRoaXMuaW5wdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMuX3RlbXBWZWMwO1xuICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Xb3JsZChvcmlnaW4pO1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5vYmplY3QuZ2V0Rm9yd2FyZFdvcmxkKHRoaXMuX3RlbXBWZWMpO1xuICAgICAgICAgICAgbGV0IHJheUhpdCA9ICh0aGlzLnJheUhpdCA9XG4gICAgICAgICAgICAgICAgdGhpcy5yYXlDYXN0TW9kZSA9PSAwXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5lbmdpbmUuc2NlbmUucmF5Q2FzdChvcmlnaW4sIGRpcmVjdGlvbiwgMSA8PCB0aGlzLmZsb29yR3JvdXApXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5lbmdpbmUucGh5c2ljcy5yYXlDYXN0KG9yaWdpbiwgZGlyZWN0aW9uLCAxIDw8IHRoaXMuZmxvb3JHcm91cCwgdGhpcy5tYXhEaXN0YW5jZSkpO1xuICAgICAgICAgICAgaWYgKHJheUhpdC5oaXRDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvckhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4dHJhUm90YXRpb24gPVxuICAgICAgICAgICAgICAgICAgICBNYXRoLlBJICtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYXRhbjIodGhpcy5fY3VycmVudFN0aWNrQXhlc1swXSwgdGhpcy5fY3VycmVudFN0aWNrQXhlc1sxXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0Q2FtUm90YXRpb24oKSArICh0aGlzLl9leHRyYVJvdGF0aW9uIC0gTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3Qucm90YXRlQXhpc0FuZ2xlUmFkKFswLCAxLCAwXSwgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC50cmFuc2xhdGUocmF5SGl0LmxvY2F0aW9uc1swXSk7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QudHJhbnNsYXRlKFtcbiAgICAgICAgICAgICAgICAgICAgMC4wLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvcllPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIDAuMCxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0U3BvdC5zZXQocmF5SGl0LmxvY2F0aW9uc1swXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFzSGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pbmRpY2F0b3JIaWRkZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5faGFzSGl0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QgJiYgdGhpcy5pc01vdXNlSW5kaWNhdGluZykge1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlUHJlc3NlZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ByZXZUaHVtYnN0aWNrQXhpcy5zZXQodGhpcy5fY3VycmVudFN0aWNrQXhlcyk7XG4gICAgfVxuICAgIHNldHVwVlJFdmVudHMocykge1xuICAgICAgICAvKiBJZiBpbiBWUiwgb25lLXRpbWUgYmluZCB0aGUgbGlzdGVuZXIgKi9cbiAgICAgICAgdGhpcy5zZXNzaW9uID0gcztcbiAgICAgICAgcy5hZGRFdmVudExpc3RlbmVyKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvKiBSZXNldCBjYWNoZSBvbmNlIHRoZSBzZXNzaW9uIGVuZHMgdG8gcmViaW5kIHNlbGVjdCBldGMsIGluIGNhc2VcbiAgICAgICAgICAgICAqIGl0IHN0YXJ0cyBhZ2FpbiAqL1xuICAgICAgICAgICAgdGhpcy5nYW1lcGFkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IG51bGw7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIGlmIChzLmlucHV0U291cmNlcyAmJiBzLmlucHV0U291cmNlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcy5pbnB1dFNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXRTb3VyY2UgPSBzLmlucHV0U291cmNlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXRTb3VyY2UuaGFuZGVkbmVzcyA9PSB0aGlzLmhhbmRlZG5lc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lcGFkID0gaW5wdXRTb3VyY2UuZ2FtZXBhZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dHNvdXJjZXNjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUuYWRkZWQgJiYgZS5hZGRlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGUuYWRkZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlucHV0U291cmNlID0gZS5hZGRlZFtpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0U291cmNlLmhhbmRlZG5lc3MgPT0gdGhpcy5oYW5kZWRuZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVwYWQgPSBpbnB1dFNvdXJjZS5nYW1lcGFkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH1cbiAgICBvbk1vdXNlRG93bigpIHtcbiAgICAgICAgdGhpcy5pc01vdXNlSW5kaWNhdGluZyA9IHRydWU7XG4gICAgfVxuICAgIG9uTW91c2VVcCgpIHtcbiAgICAgICAgdGhpcy5pc01vdXNlSW5kaWNhdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2hhc0hpdCkge1xuICAgICAgICAgICAgdGhpcy5fdGVsZXBvcnRQbGF5ZXIodGhpcy5oaXRTcG90LCAwLjApO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uTW91c2VQcmVzc2VkKCkge1xuICAgICAgICBsZXQgb3JpZ2luID0gWzAsIDAsIDBdO1xuICAgICAgICB0aGlzLmNhbS5nZXRQb3NpdGlvbldvcmxkKG9yaWdpbik7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuY2FtLmdldEZvcndhcmQodGhpcy5fdGVtcFZlYyk7XG4gICAgICAgIGxldCByYXlIaXQgPSAodGhpcy5yYXlIaXQgPVxuICAgICAgICAgICAgdGhpcy5yYXlDYXN0TW9kZSA9PSAwXG4gICAgICAgICAgICAgICAgPyB0aGlzLmVuZ2luZS5zY2VuZS5yYXlDYXN0KG9yaWdpbiwgZGlyZWN0aW9uLCAxIDw8IHRoaXMuZmxvb3JHcm91cClcbiAgICAgICAgICAgICAgICA6IHRoaXMuZW5naW5lLnBoeXNpY3MucmF5Q2FzdChvcmlnaW4sIGRpcmVjdGlvbiwgMSA8PCB0aGlzLmZsb29yR3JvdXAsIHRoaXMubWF4RGlzdGFuY2UpKTtcbiAgICAgICAgaWYgKHJheUhpdC5oaXRDb3VudCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICBkaXJlY3Rpb25bMV0gPSAwO1xuICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUoZGlyZWN0aW9uLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uID1cbiAgICAgICAgICAgICAgICAtTWF0aC5zaWduKGRpcmVjdGlvblsyXSkgKiBNYXRoLmFjb3MoZGlyZWN0aW9uWzBdKSAtIE1hdGguUEkgKiAwLjU7XG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnJvdGF0ZUF4aXNBbmdsZVJhZChbMCwgMSwgMF0sIHRoaXMuX2N1cnJlbnRJbmRpY2F0b3JSb3RhdGlvbik7XG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC50cmFuc2xhdGUocmF5SGl0LmxvY2F0aW9uc1swXSk7XG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5oaXRTcG90ID0gcmF5SGl0LmxvY2F0aW9uc1swXTtcbiAgICAgICAgICAgIHRoaXMuX2hhc0hpdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5kaWNhdG9ySGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faGFzSGl0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3RlbGVwb3J0UGxheWVyKG5ld1Bvc2l0aW9uLCByb3RhdGlvblRvQWRkKSB7XG4gICAgICAgIHRoaXMuY2FtUm9vdC5yb3RhdGVBeGlzQW5nbGVSYWQoWzAsIDEsIDBdLCByb3RhdGlvblRvQWRkKTtcbiAgICAgICAgY29uc3QgcCA9IHRoaXMuX3RlbXBWZWM7XG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5fdGVtcFZlYzA7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMuZXllTGVmdC5nZXRQb3NpdGlvbldvcmxkKHApO1xuICAgICAgICAgICAgdGhpcy5leWVSaWdodC5nZXRQb3NpdGlvbldvcmxkKHAxKTtcbiAgICAgICAgICAgIHZlYzMuYWRkKHAsIHAsIHAxKTtcbiAgICAgICAgICAgIHZlYzMuc2NhbGUocCwgcCwgMC41KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FtLmdldFBvc2l0aW9uV29ybGQocCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYW1Sb290LmdldFBvc2l0aW9uV29ybGQocDEpO1xuICAgICAgICB2ZWMzLnN1YihwLCBwMSwgcCk7XG4gICAgICAgIHBbMF0gKz0gbmV3UG9zaXRpb25bMF07XG4gICAgICAgIHBbMV0gPSBuZXdQb3NpdGlvblsxXTtcbiAgICAgICAgcFsyXSArPSBuZXdQb3NpdGlvblsyXTtcbiAgICAgICAgdGhpcy5jYW1Sb290LnNldFBvc2l0aW9uV29ybGQocCk7XG4gICAgfVxufVxuZXhwb3J0IHsgVGVsZXBvcnRDb21wb25lbnQgfTtcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUsIE1lc2gsIE1lc2hJbmRleFR5cGUsIE1lc2hBdHRyaWJ1dGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgdmVjMyB9IGZyb20gJ2dsLW1hdHJpeCc7XG5jb25zdCBkaXJlY3Rpb24gPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3Qgb2Zmc2V0ID0gdmVjMy5jcmVhdGUoKTtcbmNvbnN0IG5vcm1hbCA9IHZlYzMuY3JlYXRlKCk7XG4vKipcbiAqIER5bmFtaWMgbWVzaC1iYXNlZCB0cmFpbFxuICpcbiAqIFRoaXMgY29tcG9uZW50IGtlZXBzIHRyYWNrIG9mIHRoZSB3b3JsZCBwb3NpdGlvbiBvZiB0aGUgb2JqZWN0IGl0J3MgYWRkZWQgdG8uXG4gKiBBdCBhIGZpeGVkIGludGVydmFsIHRoZSB3b3JsZCBwb3NpdGlvbiBpcyBzdG9yZWQgYXMgc3RhcnQgYW5kIGVuZCBwb2ludHMgb2YgdGhlIHRyYWlsIHNlZ21lbnRzLlxuICpcbiAqIFRoZSB0cmFpbCB0YXBlcnMgb2ZmIGFsb25nIGl0cyBsZW5ndGguIFVWIHRleHR1cmUgY29vcmRpbmF0ZXMgYXJlIHNldHVwIHN1Y2ggdGhhdCB0aGVcbiAqIFUtYXhpcyBjb3ZlcnMgdGhlIHdpZHRoIG9mIHRoZSB0cmFpbCBhbmQgdGhlIFYtYXhpcyBjb3ZlcnMgdGhlIGxlbmd0aCBvZiB0aGUgdHJhaWwuXG4gKiBUaGlzIGFsbG93cyB0aGUgdHJhaWwncyBhcHBlYXJhbmNlIHRvIGJlIGRlZmluZWQgdXNpbmcgYSB0ZXh0dXJlLlxuICovXG5jbGFzcyBUcmFpbCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3RyYWlsJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIFRoZSBtYXRlcmlhbCB0byBhcHBseSB0byB0aGUgdHJhaWwgbWVzaCAqL1xuICAgICAgICBtYXRlcmlhbDogeyB0eXBlOiBUeXBlLk1hdGVyaWFsIH0sXG4gICAgICAgIC8qKiBUaGUgbnVtYmVyIG9mIHNlZ21lbnRzIGluIHRoZSB0cmFpbCBtZXNoICovXG4gICAgICAgIHNlZ21lbnRzOiB7IHR5cGU6IFR5cGUuSW50LCBkZWZhdWx0OiA1MCB9LFxuICAgICAgICAvKiogVGhlIHRpbWUgaW50ZXJ2YWwgYmVmb3JlIHJlY29yZGluZyBhIG5ldyBwb2ludCAqL1xuICAgICAgICBpbnRlcnZhbDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjEgfSxcbiAgICAgICAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgdHJhaWwgKGluIHdvcmxkIHNwYWNlKSAqL1xuICAgICAgICB3aWR0aDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAxLjAgfSxcbiAgICAgICAgLyoqIFdoZXRoZXIgb3Igbm90IHRoZSB0cmFpbCBzaG91bGQgdGFwZXIgb2ZmICovXG4gICAgICAgIHRhcGVyOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogdHJ1ZSB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gZGVsdGEgdGltZSBpbiBzZWNvbmRzLCBhYm92ZSB3aGljaCB0aGUgdHJhaWwgcmVzZXRzLlxuICAgICAgICAgKiBUaGlzIHByZXZlbnRzIHRoZSB0cmFpbCBmcm9tIGp1bXBpbmcgYXJvdW5kIHdoZW4gdXBkYXRlcyBoYXBwZW5cbiAgICAgICAgICogaW5mcmVxdWVudGx5IChlLmcuIHdoZW4gdGhlIHRhYiBkb2Vzbid0IGhhdmUgZm9jdXMpLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVzZXRUaHJlc2hvbGQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC41IH0sXG4gICAgfTtcbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLnBvaW50cyA9IG5ldyBBcnJheSh0aGlzLnNlZ21lbnRzICsgMSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMucG9pbnRzW2ldID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBUaGUgcG9pbnRzIGFycmF5IGlzIGNpcmN1bGFyLCBzbyBrZWVwIHRyYWNrIG9mIGl0cyBoZWFkICovXG4gICAgICAgIHRoaXMuY3VycmVudFBvaW50T2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy51cCA9IFswLCAxLCAwXTtcbiAgICAgICAgdGhpcy50aW1lVGlsbE5leHQgPSB0aGlzLmludGVydmFsO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy50cmFpbENvbnRhaW5lciA9IHRoaXMuZW5naW5lLnNjZW5lLmFkZE9iamVjdCgpO1xuICAgICAgICB0aGlzLm1lc2hDb21wID0gdGhpcy50cmFpbENvbnRhaW5lci5hZGRDb21wb25lbnQoJ21lc2gnKTtcbiAgICAgICAgdGhpcy5tZXNoQ29tcC5tYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWw7XG4gICAgICAgIC8qIEVhY2ggcG9pbnQgd2lsbCBoYXZlIHR3byB2ZXJ0aWNlczsgb25lIG9uIGVpdGhlciBzaWRlICovXG4gICAgICAgIGNvbnN0IHZlcnRleENvdW50ID0gMiAqIHRoaXMucG9pbnRzLmxlbmd0aDtcbiAgICAgICAgLyogRWFjaCBzZWdtZW50IGNvbnNpc3RzIG9mIHR3byB0cmlhbmdsZXMgKi9cbiAgICAgICAgdGhpcy5pbmRleERhdGEgPSBuZXcgVWludDMyQXJyYXkoNiAqIHRoaXMuc2VnbWVudHMpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgdiA9IDA7IGkgPCB2ZXJ0ZXhDb3VudCAtIDI7IGkgKz0gMiwgdiArPSA2KSB7XG4gICAgICAgICAgICB0aGlzLmluZGV4RGF0YVxuICAgICAgICAgICAgICAgIC5zdWJhcnJheSh2LCB2ICsgNilcbiAgICAgICAgICAgICAgICAuc2V0KFtpICsgMSwgaSArIDAsIGkgKyAyLCBpICsgMiwgaSArIDMsIGkgKyAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZXNoID0gbmV3IE1lc2godGhpcy5lbmdpbmUsIHtcbiAgICAgICAgICAgIHZlcnRleENvdW50OiB2ZXJ0ZXhDb3VudCxcbiAgICAgICAgICAgIGluZGV4RGF0YTogdGhpcy5pbmRleERhdGEsXG4gICAgICAgICAgICBpbmRleFR5cGU6IE1lc2hJbmRleFR5cGUuVW5zaWduZWRJbnQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1lc2hDb21wLm1lc2ggPSB0aGlzLm1lc2g7XG4gICAgfVxuICAgIHVwZGF0ZVZlcnRpY2VzKCkge1xuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSB0aGlzLm1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuUG9zaXRpb24pO1xuICAgICAgICBjb25zdCB0ZXhDb29yZHMgPSB0aGlzLm1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuVGV4dHVyZUNvb3JkaW5hdGUpO1xuICAgICAgICBjb25zdCBub3JtYWxzID0gdGhpcy5tZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLk5vcm1hbCk7XG4gICAgICAgIHZlYzMuc2V0KGRpcmVjdGlvbiwgMCwgMCwgMCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnIgPSB0aGlzLnBvaW50c1sodGhpcy5jdXJyZW50UG9pbnRJbmRleCArIGkgKyAxKSAlIHRoaXMucG9pbnRzLmxlbmd0aF07XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5wb2ludHNbKHRoaXMuY3VycmVudFBvaW50SW5kZXggKyBpICsgMikgJSB0aGlzLnBvaW50cy5sZW5ndGhdO1xuICAgICAgICAgICAgLyogVGhlIGxhc3QgcG9pbnQgaGFzIG5vIG5leHQsIHNvIHJlLXVzZSB0aGUgZGlyZWN0aW9uIG9mIHRoZSBwcmV2aW91cyBzZWdtZW50ICovXG4gICAgICAgICAgICBpZiAoaSAhPT0gdGhpcy5wb2ludHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHZlYzMuc3ViKGRpcmVjdGlvbiwgbmV4dCwgY3Vycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2ZWMzLmNyb3NzKG9mZnNldCwgdGhpcy51cCwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG9mZnNldCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVGcmFjdGlvbiA9IDEuMCAtIHRoaXMudGltZVRpbGxOZXh0IC8gdGhpcy5pbnRlcnZhbDtcbiAgICAgICAgICAgIGNvbnN0IGZyYWN0aW9uID0gKGkgLSB0aW1lRnJhY3Rpb24pIC8gdGhpcy5zZWdtZW50cztcbiAgICAgICAgICAgIHZlYzMuc2NhbGUob2Zmc2V0LCBvZmZzZXQsICgodGhpcy50YXBlciA/IGZyYWN0aW9uIDogMS4wKSAqIHRoaXMud2lkdGgpIC8gMi4wKTtcbiAgICAgICAgICAgIHBvc2l0aW9ucy5zZXQoaSAqIDIsIFtcbiAgICAgICAgICAgICAgICBjdXJyWzBdIC0gb2Zmc2V0WzBdLFxuICAgICAgICAgICAgICAgIGN1cnJbMV0gLSBvZmZzZXRbMV0sXG4gICAgICAgICAgICAgICAgY3VyclsyXSAtIG9mZnNldFsyXSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcG9zaXRpb25zLnNldChpICogMiArIDEsIFtcbiAgICAgICAgICAgICAgICBjdXJyWzBdICsgb2Zmc2V0WzBdLFxuICAgICAgICAgICAgICAgIGN1cnJbMV0gKyBvZmZzZXRbMV0sXG4gICAgICAgICAgICAgICAgY3VyclsyXSArIG9mZnNldFsyXSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgaWYgKG5vcm1hbHMpIHtcbiAgICAgICAgICAgICAgICB2ZWMzLmNyb3NzKG5vcm1hbCwgZGlyZWN0aW9uLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG5vcm1hbCwgbm9ybWFsKTtcbiAgICAgICAgICAgICAgICBub3JtYWxzLnNldChpICogMiwgbm9ybWFsKTtcbiAgICAgICAgICAgICAgICBub3JtYWxzLnNldChpICogMiArIDEsIG5vcm1hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGV4Q29vcmRzKSB7XG4gICAgICAgICAgICAgICAgdGV4Q29vcmRzLnNldChpICogMiwgWzAsIGZyYWN0aW9uXSk7XG4gICAgICAgICAgICAgICAgdGV4Q29vcmRzLnNldChpICogMiArIDEsIFsxLCBmcmFjdGlvbl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qIE5vdGlmeSBXTEUgdGhhdCB0aGUgbWVzaCBoYXMgY2hhbmdlZCAqL1xuICAgICAgICB0aGlzLm1lc2gudXBkYXRlKCk7XG4gICAgfVxuICAgIHJlc2V0VHJhaWwoKSB7XG4gICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5wb2ludHNbMF0pO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2ZWMzLmNvcHkodGhpcy5wb2ludHNbaV0sIHRoaXMucG9pbnRzWzBdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRQb2ludEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy50aW1lVGlsbE5leHQgPSB0aGlzLmludGVydmFsO1xuICAgIH1cbiAgICB1cGRhdGUoZHQpIHtcbiAgICAgICAgdGhpcy50aW1lVGlsbE5leHQgLT0gZHQ7XG4gICAgICAgIGlmIChkdCA+IHRoaXMucmVzZXRUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRUcmFpbCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRpbWVUaWxsTmV4dCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBvaW50SW5kZXggPSAodGhpcy5jdXJyZW50UG9pbnRJbmRleCArIDEpICUgdGhpcy5wb2ludHMubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy50aW1lVGlsbE5leHQgPSAodGhpcy50aW1lVGlsbE5leHQgJSB0aGlzLmludGVydmFsKSArIHRoaXMuaW50ZXJ2YWw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLnBvaW50c1t0aGlzLmN1cnJlbnRQb2ludEluZGV4XSk7XG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljZXMoKTtcbiAgICB9XG4gICAgb25BY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5yZXNldFRyYWlsKCk7XG4gICAgfVxuICAgIG9uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy50cmFpbENvbnRhaW5lci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubWVzaC5kZXN0cm95KCk7XG4gICAgfVxufVxuZXhwb3J0IHsgVHJhaWwgfTtcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHZlYzMgfSBmcm9tICdnbC1tYXRyaXgnO1xuZnVuY3Rpb24gY2xhbXAodiwgYSwgYikge1xuICAgIHJldHVybiBNYXRoLm1heChhLCBNYXRoLm1pbih2LCBiKSk7XG59XG5jb25zdCByb290U2NhbGluZyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG5jb25zdCB0ZW1wUXVhdCA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG5jb25zdCBtaWRkbGVQb3MgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuY29uc3QgZW5kUG9zID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbmNvbnN0IHRhcmdldFBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG5jb25zdCBoZWxwZXJQb3MgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuY29uc3Qgcm9vdFRyYW5zZm9ybSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG5jb25zdCBtaWRkbGVUcmFuc2Zvcm0gPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuY29uc3QgZW5kVHJhbnNmb3JtID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbi8qKlxuICogU29sdmUgaW52ZXJzZSBraW5lbWF0aWNzIGZvciBhIHR3byBqb2ludCBjaGFpbnNcbiAqXG4gKiBJbnNwaXJlZCBieSBodHRwOi8vdGhlb3JhbmdlZHVjay5jb20vcGFnZS9zaW1wbGUtdHdvLWpvaW50XG4gKi9cbmNvbnN0IHR3b0pvaW50SUsgPSAoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHRhID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICBjb25zdCBjYSA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgY29uc3QgYmEgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIGNvbnN0IGFiID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICBjb25zdCBjYiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4gICAgY29uc3QgYXhpczAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgIGNvbnN0IGF4aXMxID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICBjb25zdCB0ZW1wID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJvb3QsIG1pZGRsZSwgYiwgYywgdGFyZ2V0UG9zLCBlcHMsIGhlbHBlcikge1xuICAgICAgICAvKiBhID0gWzAsIDAsIDBdLCBzaW5jZSBldmVyeXRoaW5nIGlzIGNvbXB1dGVkIGluIHJvb3Qtc3BhY2UgKi9cbiAgICAgICAgYmEuc2V0KGIpO1xuICAgICAgICBjb25zdCBsYWIgPSB2ZWMzLmxlbmd0aChiYSk7XG4gICAgICAgIHZlYzMuc3ViKHRhLCBiLCBjKTtcbiAgICAgICAgY29uc3QgbGNiID0gdmVjMy5sZW5ndGgodGEpO1xuICAgICAgICB0YS5zZXQodGFyZ2V0UG9zKTtcbiAgICAgICAgY29uc3QgbGF0ID0gY2xhbXAodmVjMy5sZW5ndGgodGEpLCBlcHMsIGxhYiArIGxjYiAtIGVwcyk7XG4gICAgICAgIGNhLnNldChjKTtcbiAgICAgICAgdmVjMy5zY2FsZShhYiwgYiwgLTEpO1xuICAgICAgICB2ZWMzLnN1YihjYiwgYywgYik7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKGNhLCBjYSk7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKGJhLCBiYSk7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKGFiLCBhYik7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKGNiLCBjYik7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKHRhLCB0YSk7XG4gICAgICAgIC8qIFN1cHBvc2VkbHkgbnVtZXJpY2FsIGVycm9ycyBjYW4gY2F1c2UgdGhlIGRvdCB0byBnbyBvdXQgb2YgLTEsIDEgcmFuZ2UgKi9cbiAgICAgICAgY29uc3QgYWNfYWJfMCA9IE1hdGguYWNvcyhjbGFtcCh2ZWMzLmRvdChjYSwgYmEpLCAtMSwgMSkpO1xuICAgICAgICBjb25zdCBiYV9iY18wID0gTWF0aC5hY29zKGNsYW1wKHZlYzMuZG90KGFiLCBjYiksIC0xLCAxKSk7XG4gICAgICAgIGNvbnN0IGFjX2F0XzAgPSBNYXRoLmFjb3MoY2xhbXAodmVjMy5kb3QoY2EsIHRhKSwgLTEsIDEpKTtcbiAgICAgICAgY29uc3QgYWNfYWJfMSA9IE1hdGguYWNvcyhjbGFtcCgobGNiICogbGNiIC0gbGFiICogbGFiIC0gbGF0ICogbGF0KSAvICgtMiAqIGxhYiAqIGxhdCksIC0xLCAxKSk7XG4gICAgICAgIGNvbnN0IGJhX2JjXzEgPSBNYXRoLmFjb3MoY2xhbXAoKGxhdCAqIGxhdCAtIGxhYiAqIGxhYiAtIGxjYiAqIGxjYikgLyAoLTIgKiBsYWIgKiBsY2IpLCAtMSwgMSkpO1xuICAgICAgICBpZiAoaGVscGVyKSB7XG4gICAgICAgICAgICB2ZWMzLnN1YihiYSwgaGVscGVyLCBiKTtcbiAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKGJhLCBiYSk7XG4gICAgICAgIH1cbiAgICAgICAgdmVjMy5jcm9zcyhheGlzMCwgY2EsIGJhKTtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoYXhpczAsIGF4aXMwKTtcbiAgICAgICAgdmVjMy5jcm9zcyhheGlzMSwgYywgdGFyZ2V0UG9zKTtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoYXhpczEsIGF4aXMxKTtcbiAgICAgICAgbWlkZGxlLnRyYW5zZm9ybVZlY3RvckludmVyc2VMb2NhbCh0ZW1wLCBheGlzMCk7XG4gICAgICAgIHJvb3Qucm90YXRlQXhpc0FuZ2xlUmFkT2JqZWN0KGF4aXMxLCBhY19hdF8wKTtcbiAgICAgICAgcm9vdC5yb3RhdGVBeGlzQW5nbGVSYWRPYmplY3QoYXhpczAsIGFjX2FiXzEgLSBhY19hYl8wKTtcbiAgICAgICAgbWlkZGxlLnJvdGF0ZUF4aXNBbmdsZVJhZE9iamVjdChheGlzMCwgYmFfYmNfMSAtIGJhX2JjXzApO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBJbnZlcnNlIGtpbmVtYXRpY3MgZm9yIHR3by1qb2ludCBjaGFpbnMgKGUuZy4ga25lZXMgb3IgZWxib3dzKVxuICovXG5jbGFzcyBUd29Kb2ludElrU29sdmVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndHdvLWpvaW50LWlrLXNvbHZlcic7XG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XG4gICAgICAgIC8qKiBSb290IGJvbmUsIG5ldmVyIG1vdmVzICovXG4gICAgICAgIHJvb3Q6IFByb3BlcnR5Lm9iamVjdCgpLFxuICAgICAgICAvKiogQm9uZSBhdHRhY2hlZCB0byB0aGUgcm9vdCAqL1xuICAgICAgICBtaWRkbGU6IFByb3BlcnR5Lm9iamVjdCgpLFxuICAgICAgICAvKiogQm9uZSBhdHRhY2hlZCB0byB0aGUgbWlkZGxlICovXG4gICAgICAgIGVuZDogUHJvcGVydHkub2JqZWN0KCksXG4gICAgICAgIC8qKiBUYXJnZXQgdGhlIGpvaW5zIHNob3VsZCByZWFjaCBmb3IgKi9cbiAgICAgICAgdGFyZ2V0OiBQcm9wZXJ0eS5vYmplY3QoKSxcbiAgICAgICAgLyoqIEZsYWcgZm9yIGNvcHlpbmcgcm90YXRpb24gZnJvbSB0YXJnZXQgdG8gZW5kICovXG4gICAgICAgIGNvcHlUYXJnZXRSb3RhdGlvbjogUHJvcGVydHkuYm9vbCh0cnVlKSxcbiAgICAgICAgLyoqIEhlbHBlciBvYmplY3QgdG8gdXNlIHRvIGRldGVybWluZSBqb2ludCByb3RhdGlvbiBheGlzICovXG4gICAgICAgIGhlbHBlcjogUHJvcGVydHkub2JqZWN0KCksXG4gICAgfTtcbiAgICB0aW1lID0gMDtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5yb290LmdldFRyYW5zZm9ybUxvY2FsKHJvb3RUcmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLm1pZGRsZS5nZXRUcmFuc2Zvcm1Mb2NhbChtaWRkbGVUcmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLmVuZC5nZXRUcmFuc2Zvcm1Mb2NhbChlbmRUcmFuc2Zvcm0pO1xuICAgIH1cbiAgICB1cGRhdGUoZHQpIHtcbiAgICAgICAgdGhpcy50aW1lICs9IGR0O1xuICAgICAgICAvKiBSZXNldCB0byBvcmlnaW5hbCBwb3NlIGZvciBzdGFiaWxpdHkgKi9cbiAgICAgICAgdGhpcy5yb290LnNldFRyYW5zZm9ybUxvY2FsKHJvb3RUcmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLm1pZGRsZS5zZXRUcmFuc2Zvcm1Mb2NhbChtaWRkbGVUcmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLmVuZC5zZXRUcmFuc2Zvcm1Mb2NhbChlbmRUcmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLnJvb3QuZ2V0U2NhbGluZ1dvcmxkKHJvb3RTY2FsaW5nKTtcbiAgICAgICAgLyogR2V0IGpvaW50IHBvc2l0aW9ucyBpbiByb290LXNwYWNlICovXG4gICAgICAgIHRoaXMubWlkZGxlLmdldFBvc2l0aW9uTG9jYWwobWlkZGxlUG9zKTtcbiAgICAgICAgdGhpcy5lbmQuZ2V0UG9zaXRpb25Mb2NhbChlbmRQb3MpO1xuICAgICAgICB0aGlzLm1pZGRsZS50cmFuc2Zvcm1Qb2ludExvY2FsKGVuZFBvcywgZW5kUG9zKTtcbiAgICAgICAgaWYgKHRoaXMuaGVscGVyKSB7XG4gICAgICAgICAgICAvKiBHZXQgaGVscGVyIHBvc2l0aW9uIGluIHJvb3Qgc3BhY2UgKi9cbiAgICAgICAgICAgIHRoaXMuaGVscGVyLmdldFBvc2l0aW9uV29ybGQoaGVscGVyUG9zKTtcbiAgICAgICAgICAgIHRoaXMucm9vdC50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZChoZWxwZXJQb3MsIGhlbHBlclBvcyk7XG4gICAgICAgICAgICB2ZWMzLmRpdihoZWxwZXJQb3MsIGhlbHBlclBvcywgcm9vdFNjYWxpbmcpO1xuICAgICAgICB9XG4gICAgICAgIC8qIEdldCB0YXJnZXQgcG9zaXRpb24gaW4gcm9vdCBzcGFjZSAqL1xuICAgICAgICB0aGlzLnRhcmdldC5nZXRQb3NpdGlvbldvcmxkKHRhcmdldFBvcyk7XG4gICAgICAgIHRoaXMucm9vdC50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZCh0YXJnZXRQb3MsIHRhcmdldFBvcyk7XG4gICAgICAgIHZlYzMuZGl2KHRhcmdldFBvcywgdGFyZ2V0UG9zLCByb290U2NhbGluZyk7XG4gICAgICAgIHR3b0pvaW50SUsodGhpcy5yb290LCB0aGlzLm1pZGRsZSwgbWlkZGxlUG9zLCBlbmRQb3MsIHRhcmdldFBvcywgMC4wMSwgdGhpcy5oZWxwZXIgPyBoZWxwZXJQb3MgOiBudWxsLCB0aGlzLnRpbWUpO1xuICAgICAgICBpZiAodGhpcy5jb3B5VGFyZ2V0Um90YXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZW5kLnNldFJvdGF0aW9uV29ybGQodGhpcy50YXJnZXQuZ2V0Um90YXRpb25Xb3JsZCh0ZW1wUXVhdCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IHsgVHdvSm9pbnRJa1NvbHZlciB9O1xuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVGV4dHVyZSwgUHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgc2V0Rmlyc3RNYXRlcmlhbFRleHR1cmUgfSBmcm9tICcuL3V0aWxzL3V0aWxzLmpzJztcbi8qKlxuICogRG93bmxvYWRzIGEgdmlkZW8gZnJvbSBVUkwgYW5kIGFwcGxpZXMgaXQgYXMgYGRpZmZ1c2VUZXh0dXJlYCBvciBgZmxhdFRleHR1cmVgXG4gKiBvbiBnaXZlbiBtYXRlcmlhbC5cbiAqXG4gKiBWaWRlbyB0ZXh0dXJlcyBuZWVkIHRvIGJlIHVwZGF0ZWQgcmVndWxhcmx5IHdoZW5ldmVyXG4gKiBhIG5ldyBmcmFtZSBpcyBhdmFpbGFibGUuIFRoaXMgY29tcG9uZW50IGhhbmRsZXMgdGhlXG4gKiBkZXRlY3Rpb24gb2YgYSBuZXcgZnJhbWUgYW5kIHVwZGF0ZXMgdGhlIHRleHR1cmUgdG9cbiAqIHJlZmxlY3QgdGhlIHZpZGVvJ3MgY3VycmVudCBmcmFtZS5cbiAqXG4gKiBNYXRlcmlhbHMgZnJvbSB0aGUgZm9sbG93aW5nIHNoYWRlcnMgYXJlIHN1cHBvcnRlZDpcbiAqICAtIFwiUGhvbmcgT3BhcXVlIFRleHR1cmVkXCJcbiAqICAtIFwiRmxhdCBPcGFxdWUgVGV4dHVyZWRcIlxuICogIC0gXCJCYWNrZ3JvdW5kXCJcbiAqICAtIFwiUGh5c2ljYWwgT3BhcXVlIFRleHR1cmVkXCJcbiAqICAtIFwiRm9saWFnZVwiXG4gKlxuICogVGhlIHZpZGVvIGNhbiBiZSBhY2Nlc3NlZCB0aHJvdWdoIGB0aGlzLnZpZGVvYDpcbiAqXG4gKiBgYGBqc1xuICogICBsZXQgdmlkZW9UZXh0dXJlID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCd2aWRlby10ZXh0dXJlJyk7XG4gKiAgIHZpZGVvVGV4dHVyZS52aWRlby5wbGF5KCk7XG4gKiAgIHZpZGVvVGV4dHVyZS52aWRlby5wYXVzZSgpO1xuICogYGBgXG4gKlxuICogU2VlIFtWaWRlbyBFeGFtcGxlXSgvc2hvd2Nhc2UvdmlkZW8pLlxuICovXG5jbGFzcyBWaWRlb1RleHR1cmUgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd2aWRlby10ZXh0dXJlJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIFVSTCB0byBkb3dubG9hZCB2aWRlbyBmcm9tICovXG4gICAgICAgIHVybDogUHJvcGVydHkuc3RyaW5nKCksXG4gICAgICAgIC8qKiBNYXRlcmlhbCB0byBhcHBseSB0aGUgdmlkZW8gdGV4dHVyZSB0byAqL1xuICAgICAgICBtYXRlcmlhbDogUHJvcGVydHkubWF0ZXJpYWwoKSxcbiAgICAgICAgLyoqIFdoZXRoZXIgdG8gbG9vcCB0aGUgdmlkZW8gKi9cbiAgICAgICAgbG9vcDogUHJvcGVydHkuYm9vbCh0cnVlKSxcbiAgICAgICAgLyoqIFdoZXRoZXIgdG8gYXV0b21hdGljYWxseSBzdGFydCBwbGF5aW5nIHRoZSB2aWRlbyAqL1xuICAgICAgICBhdXRvcGxheTogUHJvcGVydHkuYm9vbCh0cnVlKSxcbiAgICAgICAgLyoqIFdoZXRoZXIgdG8gbXV0ZSBzb3VuZCAqL1xuICAgICAgICBtdXRlZDogUHJvcGVydHkuYm9vbCh0cnVlKSxcbiAgICAgICAgLyoqIE5hbWUgb2YgdGhlIHRleHR1cmUgcHJvcGVydHkgdG8gc2V0ICovXG4gICAgICAgIHRleHR1cmVQcm9wZXJ0eTogUHJvcGVydHkuc3RyaW5nKCdhdXRvJyksXG4gICAgfTtcbiAgICBpbml0KCkge1xuICAgICAgICBpZiAoIXRoaXMubWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCd2aWRlby10ZXh0dXJlOiBtYXRlcmlhbCBwcm9wZXJ0eSBub3Qgc2V0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mcmFtZVVwZGF0ZVJlcXVlc3RlZCA9IHRydWU7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgdGhpcy52aWRlby5zcmMgPSB0aGlzLnVybDtcbiAgICAgICAgdGhpcy52aWRlby5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICB0aGlzLnZpZGVvLnBsYXlzSW5saW5lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aWRlby5sb29wID0gdGhpcy5sb29wO1xuICAgICAgICB0aGlzLnZpZGVvLm11dGVkID0gdGhpcy5tdXRlZDtcbiAgICAgICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdwbGF5aW5nJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuYXV0b3BsYXkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBsYXlBZnRlclVzZXJHZXN0dXJlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYXlBZnRlclVzZXJHZXN0dXJlKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHBsYXlBZnRlclVzZXJHZXN0dXJlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGF5QWZ0ZXJVc2VyR2VzdHVyZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHBsYXlBZnRlclVzZXJHZXN0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhcHBseVRleHR1cmUoKSB7XG4gICAgICAgIGNvbnN0IG1hdCA9IHRoaXMubWF0ZXJpYWw7XG4gICAgICAgIGNvbnN0IHNoYWRlciA9IG1hdC5zaGFkZXI7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSAodGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUodGhpcy5lbmdpbmUsIHRoaXMudmlkZW8pKTtcbiAgICAgICAgaWYgKCFzZXRGaXJzdE1hdGVyaWFsVGV4dHVyZShtYXQsIHRleHR1cmUsIHRoaXMudGV4dHVyZVByb3BlcnR5KSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignU2hhZGVyJywgc2hhZGVyLCAnbm90IHN1cHBvcnRlZCBieSB2aWRlby10ZXh0dXJlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdyZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrJyBpbiB0aGlzLnZpZGVvKSB7XG4gICAgICAgICAgICB0aGlzLnZpZGVvLnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2sodGhpcy51cGRhdGVWaWRlby5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lVXBkYXRlUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZShkdCkge1xuICAgICAgICBpZiAodGhpcy5sb2FkZWQgJiYgdGhpcy5mcmFtZVVwZGF0ZVJlcXVlc3RlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZS51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qIEFwcGx5IHRleHR1cmUgb24gZmlyc3QgZnJhbWUgdXBkYXRlIHJlcXVlc3QgKi9cbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5VGV4dHVyZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mcmFtZVVwZGF0ZVJlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZVZpZGVvKCkge1xuICAgICAgICB0aGlzLmZyYW1lVXBkYXRlUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aWRlby5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKHRoaXMudXBkYXRlVmlkZW8uYmluZCh0aGlzKSk7XG4gICAgfVxufVxuZXhwb3J0IHsgVmlkZW9UZXh0dXJlIH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbi8qKlxuICogQWxsb3dzIHN3aXRjaGluZyBhbGwgb3RoZXIgY29tcG9uZW50cyBvbiBhbiBvYmplY3QgdG8gYWN0aXZlL2luYWN0aXZlXG4gKiBkZXBlbmRpbmcgb24gd2hldGhlciBhIFZSL0FSIHNlc3Npb24gaXMgYWN0aXZlLlxuICpcbiAqIFVzZWZ1bCBmb3IgaGlkaW5nIGNvbnRyb2xsZXJzIHVudGlsIHRoZSB1c2VyIGVudGVycyBWUiBmb3IgZXhhbXBsZS5cbiAqL1xuY2xhc3MgVnJNb2RlQWN0aXZlU3dpdGNoIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndnItbW9kZS1hY3RpdmUtc3dpdGNoJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIFdoZW4gY29tcG9uZW50cyBzaG91bGQgYmUgYWN0aXZlOiBJbiBWUiBvciB3aGVuIG5vdCBpbiBWUiAqL1xuICAgICAgICBhY3RpdmF0ZUNvbXBvbmVudHM6IHtcbiAgICAgICAgICAgIHR5cGU6IFR5cGUuRW51bSxcbiAgICAgICAgICAgIHZhbHVlczogWydpbiBWUicsICdpbiBub24tVlInXSxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdpbiBWUicsXG4gICAgICAgIH0sXG4gICAgICAgIC8qKiBXaGV0aGVyIGNoaWxkIG9iamVjdCdzIGNvbXBvbmVudHMgc2hvdWxkIGJlIGFmZmVjdGVkICovXG4gICAgICAgIGFmZmVjdENoaWxkcmVuOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogdHJ1ZSB9LFxuICAgIH07XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IFtdO1xuICAgICAgICB0aGlzLmdldENvbXBvbmVudHModGhpcy5vYmplY3QpO1xuICAgICAgICAvKiBJbml0aWFsIGFjdGl2YXRpb24vZGVhY3RpdmF0aW9uICovXG4gICAgICAgIHRoaXMub25YUlNlc3Npb25FbmQoKTtcbiAgICAgICAgdGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5vblhSU2Vzc2lvblN0YXJ0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uRW5kLmJpbmQodGhpcyk7XG4gICAgfVxuICAgIG9uQWN0aXZhdGUoKSB7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uRW5kLmFkZCh0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrKTtcbiAgICB9XG4gICAgb25EZWFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvbkVuZC5yZW1vdmUodGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayk7XG4gICAgfVxuICAgIGdldENvbXBvbmVudHMob2JqKSB7XG4gICAgICAgIGNvbnN0IGNvbXBzID0gb2JqLmdldENvbXBvbmVudHMoKS5maWx0ZXIoKGMpID0+IGMudHlwZSAhPT0gJ3ZyLW1vZGUtYWN0aXZlLXN3aXRjaCcpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSB0aGlzLmNvbXBvbmVudHMuY29uY2F0KGNvbXBzKTtcbiAgICAgICAgaWYgKHRoaXMuYWZmZWN0Q2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGxldCBjaGlsZHJlbiA9IG9iai5jaGlsZHJlbjtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENvbXBvbmVudHMoY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNldENvbXBvbmVudHNBY3RpdmUoYWN0aXZlKSB7XG4gICAgICAgIGNvbnN0IGNvbXBzID0gdGhpcy5jb21wb25lbnRzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb21wc1tpXS5hY3RpdmUgPSBhY3RpdmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25YUlNlc3Npb25TdGFydCgpIHtcbiAgICAgICAgdGhpcy5zZXRDb21wb25lbnRzQWN0aXZlKHRoaXMuYWN0aXZhdGVDb21wb25lbnRzID09IDApO1xuICAgIH1cbiAgICBvblhSU2Vzc2lvbkVuZCgpIHtcbiAgICAgICAgdGhpcy5zZXRDb21wb25lbnRzQWN0aXZlKHRoaXMuYWN0aXZhdGVDb21wb25lbnRzICE9IDApO1xuICAgIH1cbn1cbmV4cG9ydCB7IFZyTW9kZUFjdGl2ZVN3aXRjaCB9O1xuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IENvbGxpZGVyLCBDb2xsaXNpb25Db21wb25lbnQsIENvbXBvbmVudCwgRW1pdHRlciwgTWVzaCwgTWVzaEF0dHJpYnV0ZSwgTWVzaENvbXBvbmVudCwgTWVzaEluZGV4VHlwZSwgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwgfSBmcm9tICcuL3V0aWxzL3dlYnhyLmpzJztcbi8vIEZJWE1FOiBlYXJjdXQgb3ZlcnJpZGVzIGRlZmF1bHQgZXhwb3J0LCBicmVha2luZyBvdXIgdGVzdHNcbmltcG9ydCBlYXJjdXQgZnJvbSAnZWFyY3V0JztcbmNvbnN0IHRlbXBWZWMzID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbi8qKiBDb21wdXRlIG1pbmltdW0gYW5kIG1heGl1bSBleHRlbnRzIG9mIGdpdmVuIGxpc3Qgb2YgY29udG91ciBwb2ludHMgKi9cbmZ1bmN0aW9uIGV4dGVudHNGcm9tQ29udG91cihvdXQsIHBvaW50cykge1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09IDApXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgbGV0IGFic01heFggPSBNYXRoLmFicyhwb2ludHNbMF0ueCk7XG4gICAgbGV0IGFic01heFogPSBNYXRoLmFicyhwb2ludHNbMF0ueik7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwb2ludHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgYWJzTWF4WCA9IE1hdGgubWF4KGFic01heFgsIE1hdGguYWJzKHBvaW50c1tpXS54KSk7XG4gICAgICAgIGFic01heFogPSBNYXRoLm1heChhYnNNYXhaLCBNYXRoLmFicyhwb2ludHNbaV0ueikpO1xuICAgIH1cbiAgICBvdXRbMF0gPSBhYnNNYXhYO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gYWJzTWF4Wjtcbn1cbi8qKiBDaGVjayB3aGV0aGVyIHggbGllcyBiZXR3ZWVuIGEgYW5kIGIgKi9cbmZ1bmN0aW9uIHdpdGhpbih4LCBhLCBiKSB7XG4gICAgaWYgKGEgPiBiKVxuICAgICAgICByZXR1cm4geCA8IGEgJiYgeCA+IGI7XG4gICAgcmV0dXJuIHggPiBhICYmIHggPCBiO1xufVxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGdpdmVuIHBvaW50IG9uIHBsYW5lJ3MgYm91bmRpbmcgYm94IGlzIGluc2lkZSBwbGFuZSdzIHBvbHlnb25cbiAqXG4gKiBAcGFyYW0gcCAzRCBwb2ludCBpbiBwbGFuZSdzIGxvY2FsIHNwYWNlLCBZIHZhbHVlIGlzIGlnbm9yZWQsIHNpbmNlIGl0IGlzIGFzc3VtZWRcbiAqICAgICB0aGF0IHRoZSBwb2ludCB3YXMgY2hlY2tlZCBhZ2FpbnN0IHRoZSBwbGFuZSdzIGJvdW5kaW5nIGJveC5cbiAqIEBwYXJhbSBwbGFuZSBYUlBsYW5lIHRoYXQgaGFzIGBYUlBsYW5lLnBvbHlnb25gXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHBvaW50IGxpZXMgb24gdGhlIHBsYW5lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BvaW50TG9jYWxPblhSUGxhbmVQb2x5Z29uKHAsIHBsYW5lKSB7XG4gICAgY29uc3QgcG9pbnRzID0gcGxhbmUucG9seWdvbjtcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDMpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvKiBDb3VudCByYXkgaW50ZXJzZWN0aW9uczogZXZlbiA9PSBpbnNpZGUsIG9kZCA9PSBvdXRzaWRlICovXG4gICAgY29uc3QgcFggPSBwWzBdO1xuICAgIGNvbnN0IHBaID0gcFsyXTtcbiAgICBsZXQgaW50ZXJzZWN0aW9ucyA9IDA7XG4gICAgZm9yIChsZXQgbiA9IDAsIGwgPSBwb2ludHMubGVuZ3RoIC0gMTsgbiA8IHBvaW50cy5sZW5ndGg7ICsrbikge1xuICAgICAgICBjb25zdCBhWCA9IHBvaW50c1tsXS54O1xuICAgICAgICBjb25zdCBhWiA9IHBvaW50c1tsXS56O1xuICAgICAgICBjb25zdCBzID0gKHBvaW50c1tuXS56IC0gYVopIC8gKHBvaW50c1tuXS54IC0gYVgpO1xuICAgICAgICBjb25zdCB4ID0gTWF0aC5hYnMoKHBaIC0gYVopIC8gcyk7XG4gICAgICAgIGlmICh4ID49IDAuMCAmJiB4IDw9IDEuMCAmJiB3aXRoaW4oeCArIHBYLCBhWCwgcG9pbnRzW25dLngpKVxuICAgICAgICAgICAgKytpbnRlcnNlY3Rpb25zO1xuICAgICAgICBsID0gbjtcbiAgICB9XG4gICAgcmV0dXJuIChpbnRlcnNlY3Rpb25zICYgMSkgPT0gMDtcbn1cbi8qKlxuICogQ2hlY2sgd2hldGhlciBnaXZlbiBwb2ludCBvbiBwbGFuZSdzIGJvdW5kaW5nIGJveCBpcyBpbnNpZGUgcGxhbmUncyBwb2x5Z29uXG4gKlxuICogQHBhcmFtIHAgM0QgcG9pbnQgdG8gdGVzdC4gSXQgaXMgYXNzdW1lZCB0aGF0IHRoZSBwb2ludCB3YXMgY2hlY2tlZCBhZ2FpbnN0XG4gKiAgICAgdGhlIHBsYW5lJ3MgYm91bmRpbmcgYm94IGJlZm9yZWhhbmQuXG4gKiBAcGFyYW0gcGxhbmUgWFJQbGFuZSB0aGF0IGhhcyBgWFJQbGFuZS5wb2x5Z29uYFxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBwb2ludCBsaWVzIG9uIHRoZSBwbGFuZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQb2ludFdvcmxkT25YUlBsYW5lUG9seWdvbihvYmplY3QsIHAsIHBsYW5lKSB7XG4gICAgaWYgKHBsYW5lLnBvbHlnb24ubGVuZ3RoIDwgMylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlzUG9pbnRMb2NhbE9uWFJQbGFuZVBvbHlnb24ob2JqZWN0LnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKHRlbXBWZWMzLCBwKSwgcGxhbmUpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBwbGFuZSBtZXNoIGZyb20gYSBsaXN0IG9mIGNvbnRvdXIgcG9pbnRzXG4gKlxuICogQHBhcmFtIGVuZ2luZSBFbmdpbmUgdG8gY3JlYXRlIHRoZSBtZXNoIHdpdGhcbiAqIEBwYXJhbSBwb2ludHMgQ29udG91ciBwb2ludHNcbiAqIEBwYXJhbSBtZXNoVG9VcGRhdGUgT3B0aW9uYWwgbWVzaCB0byB1cGRhdGUgaW5zdGVhZCBvZiBjcmVhdGluZyBhIG5ldyBvbmUuXG4gKi9cbmZ1bmN0aW9uIHBsYW5lTWVzaEZyb21Db250b3VyKGVuZ2luZSwgcG9pbnRzLCBtZXNoVG9VcGRhdGUgPSBudWxsKSB7XG4gICAgY29uc3QgdmVydGV4Q291bnQgPSBwb2ludHMubGVuZ3RoO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0ZXhDb3VudCAqIDIpO1xuICAgIGZvciAobGV0IGkgPSAwLCBkID0gMDsgaSA8IHZlcnRleENvdW50OyArK2ksIGQgKz0gMikge1xuICAgICAgICB2ZXJ0aWNlc1tkXSA9IHBvaW50c1tpXS54O1xuICAgICAgICB2ZXJ0aWNlc1tkICsgMV0gPSBwb2ludHNbaV0uejtcbiAgICB9XG4gICAgY29uc3QgdHJpYW5nbGVzID0gZWFyY3V0KHZlcnRpY2VzKTtcbiAgICBjb25zdCBtZXNoID0gbWVzaFRvVXBkYXRlIHx8XG4gICAgICAgIG5ldyBNZXNoKGVuZ2luZSwge1xuICAgICAgICAgICAgdmVydGV4Q291bnQsXG4gICAgICAgICAgICAvKiBBc3N1bXB0aW9uIGhlcmUgdGhhdCB3ZSB3aWxsIG5ldmVyIGhhdmUgbW9yZSB0aGFuIDI1NiBwb2ludHNcbiAgICAgICAgICAgICAqIGluIHRoZSBkZXRlY3RlZCBwbGFuZSBtZXNoZXMhICovXG4gICAgICAgICAgICBpbmRleFR5cGU6IE1lc2hJbmRleFR5cGUuVW5zaWduZWRCeXRlLFxuICAgICAgICAgICAgaW5kZXhEYXRhOiB0cmlhbmdsZXMsXG4gICAgICAgIH0pO1xuICAgIGlmIChtZXNoLnZlcnRleENvdW50ICE9PSB2ZXJ0ZXhDb3VudCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ3ZlcnRleENvdW50IG9mIG1lc2hUb1VwZGF0ZSBkaWQgbm90IG1hdGNoIHJlcXVpcmVkIHZlcnRleENvdW50Jyk7XG4gICAgICAgIHJldHVybiBtZXNoO1xuICAgIH1cbiAgICBjb25zdCBwb3NpdGlvbnMgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlBvc2l0aW9uKTtcbiAgICBjb25zdCB0ZXh0dXJlQ29vcmRzID0gbWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5UZXh0dXJlQ29vcmRpbmF0ZSk7XG4gICAgY29uc3Qgbm9ybWFscyA9IG1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuTm9ybWFsKTtcbiAgICB0ZW1wVmVjM1sxXSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDAsIHMgPSAwOyBpIDwgdmVydGV4Q291bnQ7ICsraSwgcyArPSAyKSB7XG4gICAgICAgIHRlbXBWZWMzWzBdID0gdmVydGljZXNbc107XG4gICAgICAgIHRlbXBWZWMzWzJdID0gdmVydGljZXNbcyArIDFdO1xuICAgICAgICBwb3NpdGlvbnMuc2V0KGksIHRlbXBWZWMzKTtcbiAgICB9XG4gICAgdGV4dHVyZUNvb3Jkcz8uc2V0KDAsIHZlcnRpY2VzKTtcbiAgICBpZiAobm9ybWFscykge1xuICAgICAgICB0ZW1wVmVjM1swXSA9IDA7XG4gICAgICAgIHRlbXBWZWMzWzFdID0gMTtcbiAgICAgICAgdGVtcFZlYzNbMl0gPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRleENvdW50OyArK2kpIHtcbiAgICAgICAgICAgIG5vcm1hbHMuc2V0KGksIHRlbXBWZWMzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobWVzaFRvVXBkYXRlKVxuICAgICAgICBtZXNoLnVwZGF0ZSgpO1xuICAgIHJldHVybiBtZXNoO1xufVxuLyoqXG4gKiBHZW5lcmF0ZSBtZXNoZXMgYW5kIGNvbGxpc2lvbnMgZm9yIFhSUGxhbmVzIHVzaW5nIFtXZWJYUiBEZXZpY2UgQVBJIC0gUGxhbmUgRGV0ZWN0aW9uXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL3JlYWwtd29ybGQtZ2VvbWV0cnkvcGxhbmUtZGV0ZWN0aW9uLmh0bWwpLlxuICovXG5jbGFzcyBQbGFuZURldGVjdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3BsYW5lLWRldGVjdGlvbic7XG4gICAgLyoqXG4gICAgICogTWF0ZXJpYWwgdG8gYXNzaWduIHRvIGNyZWF0ZWQgcGxhbmUgbWVzaGVzIG9yIGBudWxsYCBpZiBtZXNoZXMgc2hvdWxkIG5vdCBiZSBjcmVhdGVkLlxuICAgICAqL1xuICAgIHBsYW5lTWF0ZXJpYWwgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIENvbGxpc2lvbiBtYXNrIHRvIGFzc2lnbiB0byBuZXdseSBjcmVhdGVkIGNvbGxpc2lvbiBjb21wb25lbnRzIG9yIGEgbmVnYXRpdmUgdmFsdWUgaWZcbiAgICAgKiBjb2xsaXNpb24gY29tcG9uZW50cyBzaG91bGQgbm90IGJlIGNyZWF0ZWQuXG4gICAgICovXG4gICAgY29sbGlzaW9uTWFzayA9IC0xO1xuICAgIC8qKiBNYXAgb2YgYWxsIHBsYW5lcyBhbmQgdGhlaXIgbGFzdCB1cGRhdGVkIHRpbWVzdGFtcHMgKi9cbiAgICBwbGFuZXMgPSBuZXcgTWFwKCk7XG4gICAgLyoqIE9iamVjdHMgZ2VuZXJhdGVkIGZvciBlYWNoIFhSUGxhbmUgKi9cbiAgICBwbGFuZU9iamVjdHMgPSBuZXcgTWFwKCk7XG4gICAgLyoqIENhbGxlZCB3aGVuIGEgcGxhbmUgc3RhcnRzIHRyYWNraW5nICovXG4gICAgb25QbGFuZUZvdW5kID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAvKiogQ2FsbGVkIHdoZW4gYSBwbGFuZSBzdG9wcyB0cmFja2luZyAqL1xuICAgIG9uUGxhbmVMb3N0ID0gbmV3IEVtaXR0ZXIoKTtcbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmdpbmUueHI/LmZyYW1lKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZS54ci5mcmFtZS5kZXRlY3RlZFBsYW5lcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdwbGFuZS1kZXRlY3Rpb246IFdlYlhSIGZlYXR1cmUgbm90IGF2YWlsYWJsZS4nKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBkZXRlY3RlZFBsYW5lcyA9IHRoaXMuZW5naW5lLnhyLmZyYW1lLmRldGVjdGVkUGxhbmVzO1xuICAgICAgICBmb3IgKGNvbnN0IFtwbGFuZSwgX10gb2YgdGhpcy5wbGFuZXMpIHtcbiAgICAgICAgICAgIGlmICghZGV0ZWN0ZWRQbGFuZXMuaGFzKHBsYW5lKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuI3BsYW5lTG9zdChwbGFuZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGV0ZWN0ZWRQbGFuZXMuZm9yRWFjaCgocGxhbmUpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYW5lcy5oYXMocGxhbmUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsYW5lLmxhc3RDaGFuZ2VkVGltZSA+IHRoaXMucGxhbmVzLmdldChwbGFuZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jcGxhbmVVcGRhdGUocGxhbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuI3BsYW5lRm91bmQocGxhbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy4jcGxhbmVVcGRhdGVQb3NlKHBsYW5lKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgICNwbGFuZUxvc3QocGxhbmUpIHtcbiAgICAgICAgdGhpcy5wbGFuZXMuZGVsZXRlKHBsYW5lKTtcbiAgICAgICAgY29uc3QgbyA9IHRoaXMucGxhbmVPYmplY3RzLmdldChwbGFuZSk7XG4gICAgICAgIHRoaXMub25QbGFuZUxvc3Qubm90aWZ5KHBsYW5lLCBvKTtcbiAgICAgICAgLyogVXNlciBtaWdodCBkZXN0cm95IHRoZSBvYmplY3QgKi9cbiAgICAgICAgaWYgKG8ub2JqZWN0SWQgPiAwKVxuICAgICAgICAgICAgby5kZXN0cm95KCk7XG4gICAgfVxuICAgICNwbGFuZUZvdW5kKHBsYW5lKSB7XG4gICAgICAgIHRoaXMucGxhbmVzLnNldChwbGFuZSwgcGxhbmUubGFzdENoYW5nZWRUaW1lKTtcbiAgICAgICAgY29uc3QgbyA9IHRoaXMuZW5naW5lLnNjZW5lLmFkZE9iamVjdCh0aGlzLm9iamVjdCk7XG4gICAgICAgIHRoaXMucGxhbmVPYmplY3RzLnNldChwbGFuZSwgbyk7XG4gICAgICAgIGlmICh0aGlzLnBsYW5lTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIG8uYWRkQ29tcG9uZW50KE1lc2hDb21wb25lbnQsIHtcbiAgICAgICAgICAgICAgICBtZXNoOiBwbGFuZU1lc2hGcm9tQ29udG91cih0aGlzLmVuZ2luZSwgcGxhbmUucG9seWdvbiksXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHRoaXMucGxhbmVNYXRlcmlhbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbGxpc2lvbk1hc2sgPj0gMCkge1xuICAgICAgICAgICAgZXh0ZW50c0Zyb21Db250b3VyKHRlbXBWZWMzLCBwbGFuZS5wb2x5Z29uKTtcbiAgICAgICAgICAgIHRlbXBWZWMzWzFdID0gMC4wMjU7XG4gICAgICAgICAgICBvLmFkZENvbXBvbmVudChDb2xsaXNpb25Db21wb25lbnQsIHtcbiAgICAgICAgICAgICAgICBncm91cDogdGhpcy5jb2xsaXNpb25NYXNrLFxuICAgICAgICAgICAgICAgIGNvbGxpZGVyOiBDb2xsaWRlci5Cb3gsXG4gICAgICAgICAgICAgICAgZXh0ZW50czogdGVtcFZlYzMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uUGxhbmVGb3VuZC5ub3RpZnkocGxhbmUsIG8pO1xuICAgIH1cbiAgICAjcGxhbmVVcGRhdGUocGxhbmUpIHtcbiAgICAgICAgdGhpcy5wbGFuZXMuc2V0KHBsYW5lLCBwbGFuZS5sYXN0Q2hhbmdlZFRpbWUpO1xuICAgICAgICBjb25zdCBwbGFuZU1lc2ggPSB0aGlzLnBsYW5lT2JqZWN0cy5nZXQocGxhbmUpLmdldENvbXBvbmVudChNZXNoQ29tcG9uZW50KTtcbiAgICAgICAgaWYgKCFwbGFuZU1lc2gpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBsYW5lTWVzaEZyb21Db250b3VyKHRoaXMuZW5naW5lLCBwbGFuZS5wb2x5Z29uLCBwbGFuZU1lc2gubWVzaCk7XG4gICAgfVxuICAgICNwbGFuZVVwZGF0ZVBvc2UocGxhbmUpIHtcbiAgICAgICAgY29uc3QgbyA9IHRoaXMucGxhbmVPYmplY3RzLmdldChwbGFuZSk7XG4gICAgICAgIGNvbnN0IHBvc2UgPSB0aGlzLmVuZ2luZS54ci5mcmFtZS5nZXRQb3NlKHBsYW5lLnBsYW5lU3BhY2UsIHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XG4gICAgICAgIGlmICghcG9zZSkge1xuICAgICAgICAgICAgby5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwobywgcG9zZS50cmFuc2Zvcm0pO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5Lm1hdGVyaWFsKClcbl0sIFBsYW5lRGV0ZWN0aW9uLnByb3RvdHlwZSwgXCJwbGFuZU1hdGVyaWFsXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eS5pbnQoKVxuXSwgUGxhbmVEZXRlY3Rpb24ucHJvdG90eXBlLCBcImNvbGxpc2lvbk1hc2tcIiwgdm9pZCAwKTtcbmV4cG9ydCB7IFBsYW5lRGV0ZWN0aW9uIH07XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcbmltcG9ydCB7IHZlYzMsIG1hdDQsIHF1YXQsIHF1YXQyIH0gZnJvbSAnZ2wtbWF0cml4JztcbmNvbnN0IFZSTV9ST0xMX0FYRVMgPSB7XG4gICAgWDogWzEuMCwgMC4wLCAwLjBdLFxuICAgIFk6IFswLjAsIDEuMCwgMC4wXSxcbiAgICBaOiBbMC4wLCAwLjAsIDEuMF0sXG59O1xuY29uc3QgVlJNX0FJTV9BWEVTID0ge1xuICAgIFBvc2l0aXZlWDogWzEuMCwgMC4wLCAwLjBdLFxuICAgIE5lZ2F0aXZlWDogWy0xLjAsIDAuMCwgMC4wXSxcbiAgICBQb3NpdGl2ZVk6IFswLjAsIDEuMCwgMC4wXSxcbiAgICBOZWdhdGl2ZVk6IFswLjAsIC0xLjAsIDAuMF0sXG4gICAgUG9zaXRpdmVaOiBbMC4wLCAwLjAsIDEuMF0sXG4gICAgTmVnYXRpdmVaOiBbMC4wLCAwLjAsIC0xLjBdLFxufTtcbi8qKlxuICogQ29tcG9uZW50IGZvciBsb2FkaW5nIGFuZCBoYW5kbGluZyBWUk0gMS4wIG1vZGVscy5cbiAqXG4gKiBQb3Npbmcgb2YgdGhlIG1vZGVsIHNob3VsZCBiZSBkb25lIGV4Y2x1c2l2ZWx5IGJ5IHJvdGF0aW5nIHRoZSBib25lcy4gVGhlc2UgY2FuIGJlXG4gKiBhY2Nlc3NlZCB1c2luZyB0aGUgYC5ib25lc2AgcHJvcGVydHkgYW5kIGZvbGxvdyB0aGUgVlJNIGJvbmUgbmFtaW5nLiBOb3RlIHRoYXQgbm90XG4gKiBhbGwgVlJNIG1vZGVscyB3aWxsIGhhdmUgYWxsIHBvc3NpYmxlIGJvbmVzLiBUaGUgcmVzdCBwb3NlIChULXBvc2UpIGlzIGNhcHR1cmVkIGluXG4gKiB0aGUgYC5yZXN0UG9zZWAgcHJvcGVydHkuIFJlc2V0dGluZyBhIGJvbmUgdG8gaXRzIHJlc3QgcG9zZSBjYW4gYmUgZG9uZSBhcyBmb2xsb3dzOlxuICogYGBganNcbiAqIHZybUNvbXBvbmVudC5ib25lc1t2cm1Cb25lTmFtZV0ucm90YXRpb25Mb2NhbCA9IHZybUNvbXBvbmVudC5yZXN0UG9zZVt2cm1Cb25lTmFtZV07XG4gKiBgYGBcbiAqXG4gKiBNb3ZpbmcgdGhlIG1vZGVsIHRocm91Z2ggdGhlIHdvcmxkIHNob3VsZCBiZSBkb25lIGJ5IG1vdmluZyB0aGUgb2JqZWN0IHRoaXMgY29tcG9uZW50XG4gKiBpcyBhdHRhY2hlZCB0by4gSW4gb3RoZXIgd29yZHMsIGJ5IG1vdmluZyB0aGUgcm9vdCBvZiB0aGUgVlJNIG1vZGVsLiBUaGUgYm9uZXMgYW5kIGFueVxuICogZGVzY2VuZGFudCBvYmplY3RzIHNob3VsZCAqbm90KiBiZSB1c2VkIHRvIG1vdmUgdGhlIFZSTSBtb2RlbC5cbiAqXG4gKiBUaGUgY29yZSBleHRlbnNpb24gYFZSTUNfdnJtYCBhcyB3ZWxsIGFzIHRoZWBWUk1DX3NwcmluZ0JvbmVgIGFuZCBgVlJNQ19ub2RlX2NvbnN0cmFpbnRgXG4gKiBleHRlbnNpb25zIGFyZSBzdXBwb3J0ZWQuXG4gKlxuICogKipMaW1pdGF0aW9uczoqKlxuICogLSBObyBzdXBwb3J0IGZvciBgVlJNQ19tYXRlcmlhbF9tdG9vbmBcbiAqIC0gRXhwcmVzc2lvbnMgYXJlbid0IHN1cHBvcnRlZFxuICogLSBFeHByZXNzaW9uIGJhc2VkIGxvb2tBdCBpc24ndCBzdXBwb3J0ZWRcbiAqIC0gTWVzaCBhbm5vdGF0aW9uIG1vZGUgYGF1dG9gIGlzIG5vdCBzdXBwb3J0ZWQgKGZpcnN0IHBlcnNvbiBtb2RlKVxuICovXG5jbGFzcyBWcm0gZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd2cm0nO1xuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xuICAgICAgICAvKiogVVJMIHRvIGEgVlJNIGZpbGUgdG8gbG9hZCAqL1xuICAgICAgICBzcmM6IHsgdHlwZTogVHlwZS5TdHJpbmcgfSxcbiAgICAgICAgLyoqIE9iamVjdCB0aGUgVlJNIGlzIGxvb2tpbmcgYXQgKi9cbiAgICAgICAgbG9va0F0VGFyZ2V0OiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXG4gICAgfTtcbiAgICAvKiogTWV0YSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgVlJNIG1vZGVsICovXG4gICAgbWV0YSA9IG51bGw7XG4gICAgLyoqIFRoZSBodW1hbm9pZCBib25lcyBvZiB0aGUgVlJNIG1vZGVsICovXG4gICAgYm9uZXMgPSB7XG4gICAgICAgIC8qIFRvcnNvICovXG4gICAgICAgIGhpcHM6IG51bGwsXG4gICAgICAgIHNwaW5lOiBudWxsLFxuICAgICAgICBjaGVzdDogbnVsbCxcbiAgICAgICAgdXBwZXJDaGVzdDogbnVsbCxcbiAgICAgICAgbmVjazogbnVsbCxcbiAgICAgICAgLyogSGVhZCAqL1xuICAgICAgICBoZWFkOiBudWxsLFxuICAgICAgICBsZWZ0RXllOiBudWxsLFxuICAgICAgICByaWdodEV5ZTogbnVsbCxcbiAgICAgICAgamF3OiBudWxsLFxuICAgICAgICAvKiBMZWdzICovXG4gICAgICAgIGxlZnRVcHBlckxlZzogbnVsbCxcbiAgICAgICAgbGVmdExvd2VyTGVnOiBudWxsLFxuICAgICAgICBsZWZ0Rm9vdDogbnVsbCxcbiAgICAgICAgbGVmdFRvZXM6IG51bGwsXG4gICAgICAgIHJpZ2h0VXBwZXJMZWc6IG51bGwsXG4gICAgICAgIHJpZ2h0TG93ZXJMZWc6IG51bGwsXG4gICAgICAgIHJpZ2h0Rm9vdDogbnVsbCxcbiAgICAgICAgcmlnaHRUb2VzOiBudWxsLFxuICAgICAgICAvKiBBcm1zICovXG4gICAgICAgIGxlZnRTaG91bGRlcjogbnVsbCxcbiAgICAgICAgbGVmdFVwcGVyQXJtOiBudWxsLFxuICAgICAgICBsZWZ0TG93ZXJBcm06IG51bGwsXG4gICAgICAgIGxlZnRIYW5kOiBudWxsLFxuICAgICAgICByaWdodFNob3VsZGVyOiBudWxsLFxuICAgICAgICByaWdodFVwcGVyQXJtOiBudWxsLFxuICAgICAgICByaWdodExvd2VyQXJtOiBudWxsLFxuICAgICAgICByaWdodEhhbmQ6IG51bGwsXG4gICAgICAgIC8qIEZpbmdlcnMgKi9cbiAgICAgICAgbGVmdFRodW1iTWV0YWNhcnBhbDogbnVsbCxcbiAgICAgICAgbGVmdFRodW1iUHJveGltYWw6IG51bGwsXG4gICAgICAgIGxlZnRUaHVtYkRpc3RhbDogbnVsbCxcbiAgICAgICAgbGVmdEluZGV4UHJveGltYWw6IG51bGwsXG4gICAgICAgIGxlZnRJbmRleEludGVybWVkaWF0ZTogbnVsbCxcbiAgICAgICAgbGVmdEluZGV4RGlzdGFsOiBudWxsLFxuICAgICAgICBsZWZ0TWlkZGxlUHJveGltYWw6IG51bGwsXG4gICAgICAgIGxlZnRNaWRkbGVJbnRlcm1lZGlhdGU6IG51bGwsXG4gICAgICAgIGxlZnRNaWRkbGVEaXN0YWw6IG51bGwsXG4gICAgICAgIGxlZnRSaW5nUHJveGltYWw6IG51bGwsXG4gICAgICAgIGxlZnRSaW5nSW50ZXJtZWRpYXRlOiBudWxsLFxuICAgICAgICBsZWZ0UmluZ0Rpc3RhbDogbnVsbCxcbiAgICAgICAgbGVmdExpdHRsZVByb3hpbWFsOiBudWxsLFxuICAgICAgICBsZWZ0TGl0dGxlSW50ZXJtZWRpYXRlOiBudWxsLFxuICAgICAgICBsZWZ0TGl0dGxlRGlzdGFsOiBudWxsLFxuICAgICAgICByaWdodFRodW1iTWV0YWNhcnBhbDogbnVsbCxcbiAgICAgICAgcmlnaHRUaHVtYlByb3hpbWFsOiBudWxsLFxuICAgICAgICByaWdodFRodW1iRGlzdGFsOiBudWxsLFxuICAgICAgICByaWdodEluZGV4UHJveGltYWw6IG51bGwsXG4gICAgICAgIHJpZ2h0SW5kZXhJbnRlcm1lZGlhdGU6IG51bGwsXG4gICAgICAgIHJpZ2h0SW5kZXhEaXN0YWw6IG51bGwsXG4gICAgICAgIHJpZ2h0TWlkZGxlUHJveGltYWw6IG51bGwsXG4gICAgICAgIHJpZ2h0TWlkZGxlSW50ZXJtZWRpYXRlOiBudWxsLFxuICAgICAgICByaWdodE1pZGRsZURpc3RhbDogbnVsbCxcbiAgICAgICAgcmlnaHRSaW5nUHJveGltYWw6IG51bGwsXG4gICAgICAgIHJpZ2h0UmluZ0ludGVybWVkaWF0ZTogbnVsbCxcbiAgICAgICAgcmlnaHRSaW5nRGlzdGFsOiBudWxsLFxuICAgICAgICByaWdodExpdHRsZVByb3hpbWFsOiBudWxsLFxuICAgICAgICByaWdodExpdHRsZUludGVybWVkaWF0ZTogbnVsbCxcbiAgICAgICAgcmlnaHRMaXR0bGVEaXN0YWw6IG51bGwsXG4gICAgfTtcbiAgICAvKiogUm90YXRpb25zIG9mIHRoZSBib25lcyBpbiB0aGUgcmVzdCBwb3NlIChULXBvc2UpICovXG4gICAgcmVzdFBvc2UgPSB7fTtcbiAgICAvKiBBbGwgbm9kZSBjb25zdHJhaW50cywgb3JkZXJlZCB0byBkZWFsIHdpdGggZGVwZW5kZW5jaWVzICovXG4gICAgX25vZGVDb25zdHJhaW50cyA9IFtdO1xuICAgIC8qIFZSTUNfc3ByaW5nQm9uZSBjaGFpbnMgKi9cbiAgICBfc3ByaW5nQ2hhaW5zID0gW107XG4gICAgLyogU3BoZXJpY2FsIGNvbGxpZGVycyBmb3Igc3ByaW5nIGJvbmVzICovXG4gICAgX3NwaGVyZUNvbGxpZGVycyA9IFtdO1xuICAgIC8qIENhcHN1bGUgc2hhcGVkIGNvbGxpZGVycyBmb3Igc3ByaW5nIGJvbmVzICovXG4gICAgX2NhcHN1bGVDb2xsaWRlcnMgPSBbXTtcbiAgICAvKiBJbmRpY2F0ZXMgd2hpY2ggbWVzaGVzIGFyZSByZW5kZXJlZCBpbiBmaXJzdC90aGlyZCBwZXJzb24gdmlld3MgKi9cbiAgICBfZmlyc3RQZXJzb25Bbm5vdGF0aW9ucyA9IFtdO1xuICAgIC8qIENvbnRhaW5zIGRldGFpbHMgZm9yIChib25lIHR5cGUpIGxvb2tBdCBiZWhhdmlvdXIgKi9cbiAgICBfbG9va0F0ID0gbnVsbDtcbiAgICAvKiBXaGV0aGVyIG9yIG5vdCB0aGUgVlJNIGNvbXBvbmVudCBoYXMgYmVlbiBpbml0aWFsaXplZCB3aXRoIGBpbml0aWFsaXplVnJtYCAqL1xuICAgIF9pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuX3RlbXBWMyA9IHZlYzMuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX3RlbXBWM0EgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl90ZW1wVjNCID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5fdGVtcFF1YXQgPSBxdWF0LmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl90ZW1wUXVhdEEgPSBxdWF0LmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl90ZW1wUXVhdEIgPSBxdWF0LmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl90ZW1wTWF0NEEgPSBtYXQ0LmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl90ZW1wUXVhdDIgPSBxdWF0Mi5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5fdGFpbFRvU2hhcGUgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLl9oZWFkVG9UYWlsID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5faW5lcnRpYSA9IHZlYzMuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX3N0aWZmbmVzcyA9IHZlYzMuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX2V4dGVybmFsID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5fcmlnaHRWZWN0b3IgPSB2ZWMzLnNldCh2ZWMzLmNyZWF0ZSgpLCAxLCAwLCAwKTtcbiAgICAgICAgdGhpcy5fdXBWZWN0b3IgPSB2ZWMzLnNldCh2ZWMzLmNyZWF0ZSgpLCAwLCAxLCAwKTtcbiAgICAgICAgdGhpcy5fZm9yd2FyZFZlY3RvciA9IHZlYzMuc2V0KHZlYzMuY3JlYXRlKCksIDAsIDAsIDEpO1xuICAgICAgICB0aGlzLl9pZGVudGl0eVF1YXQgPSBxdWF0LmlkZW50aXR5KHF1YXQuY3JlYXRlKCkpO1xuICAgICAgICB0aGlzLl9yYWQyZGVnID0gMTgwLjAgLyBNYXRoLlBJO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNyYykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcigndnJtOiBzcmMgcHJvcGVydHkgbm90IHNldCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5naW5lLnNjZW5lXG4gICAgICAgICAgICAuYXBwZW5kKHRoaXMuc3JjLCB7IGxvYWRHbHRmRXh0ZW5zaW9uczogdHJ1ZSB9KVxuICAgICAgICAgICAgLnRoZW4oKHsgcm9vdCwgZXh0ZW5zaW9ucyB9KSA9PiB7XG4gICAgICAgICAgICByb290LmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiAoY2hpbGQucGFyZW50ID0gdGhpcy5vYmplY3QpKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVWcm0oZXh0ZW5zaW9ucyk7XG4gICAgICAgICAgICByb290LmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyB0aGUgVlJNIGdsVEYgZXh0ZW5zaW9ucyBhbmQgaW5pdGlhbGl6ZXMgdGhlIHZybSBjb21wb25lbnQuXG4gICAgICogQHBhcmFtIHtHTFRGRXh0ZW5zaW9uc30gZXh0ZW5zaW9ucyBUaGUgZ2xURiBleHRlbnNpb25zIGZvciB0aGUgVlJNIG1vZGVsXG4gICAgICovXG4gICAgX2luaXRpYWxpemVWcm0oZXh0ZW5zaW9ucykge1xuICAgICAgICBpZiAodGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdWUk0gY29tcG9uZW50IGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBWUk1DX3ZybSA9IGV4dGVuc2lvbnMucm9vdFsnVlJNQ192cm0nXTtcbiAgICAgICAgaWYgKCFWUk1DX3ZybSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ01pc3NpbmcgVlJNIGV4dGVuc2lvbnMnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVlJNQ192cm0uc3BlY1ZlcnNpb24gIT09ICcxLjAnKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgVW5zdXBwb3J0ZWQgVlJNIHZlcnNpb24sIG9ubHkgMS4wIGlzIHN1cHBvcnRlZCwgYnV0IGVuY291bnRlcmVkICcke1ZSTUNfdnJtLnNwZWNWZXJzaW9ufSdgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1ldGEgPSBWUk1DX3ZybS5tZXRhO1xuICAgICAgICB0aGlzLl9wYXJzZUh1bWFub2lkKFZSTUNfdnJtLmh1bWFub2lkLCBleHRlbnNpb25zKTtcbiAgICAgICAgaWYgKFZSTUNfdnJtLmZpcnN0UGVyc29uKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZUZpcnN0UGVyc29uKFZSTUNfdnJtLmZpcnN0UGVyc29uLCBleHRlbnNpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVlJNQ192cm0ubG9va0F0KSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZUxvb2tBdChWUk1DX3ZybS5sb29rQXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZpbmRBbmRQYXJzZU5vZGVDb25zdHJhaW50cyhleHRlbnNpb25zKTtcbiAgICAgICAgY29uc3Qgc3ByaW5nQm9uZSA9IGV4dGVuc2lvbnMucm9vdFsnVlJNQ19zcHJpbmdCb25lJ107XG4gICAgICAgIGlmIChzcHJpbmdCb25lKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZUFuZEluaXRpYWxpemVTcHJpbmdCb25lcyhzcHJpbmdCb25lLCBleHRlbnNpb25zKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgfVxuICAgIF9wYXJzZUh1bWFub2lkKGh1bWFub2lkLCBleHRlbnNpb25zKSB7XG4gICAgICAgIGZvciAoY29uc3QgYm9uZU5hbWUgaW4gaHVtYW5vaWQuaHVtYW5Cb25lcykge1xuICAgICAgICAgICAgaWYgKCEoYm9uZU5hbWUgaW4gdGhpcy5ib25lcykpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVucmVjb2duaXplZCBib25lICcke2JvbmVOYW1lfSdgKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBodW1hbm9pZC5odW1hbkJvbmVzW2JvbmVOYW1lXS5ub2RlO1xuICAgICAgICAgICAgY29uc3Qgb2JqZWN0SWQgPSBleHRlbnNpb25zLmlkTWFwcGluZ1tub2RlXTtcbiAgICAgICAgICAgIHRoaXMuYm9uZXNbYm9uZU5hbWVdID0gdGhpcy5lbmdpbmUud3JhcE9iamVjdChvYmplY3RJZCk7XG4gICAgICAgICAgICB0aGlzLnJlc3RQb3NlW2JvbmVOYW1lXSA9IHF1YXQuY29weShxdWF0LmNyZWF0ZSgpLCB0aGlzLmJvbmVzW2JvbmVOYW1lXS5yb3RhdGlvbkxvY2FsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcGFyc2VGaXJzdFBlcnNvbihmaXJzdFBlcnNvbiwgZXh0ZW5zaW9ucykge1xuICAgICAgICBmb3IgKGNvbnN0IG1lc2hBbm5vdGF0aW9uIG9mIGZpcnN0UGVyc29uLm1lc2hBbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICBub2RlOiB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGV4dGVuc2lvbnMuaWRNYXBwaW5nW21lc2hBbm5vdGF0aW9uLm5vZGVdKSxcbiAgICAgICAgICAgICAgICBmaXJzdFBlcnNvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aGlyZFBlcnNvbjogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzd2l0Y2ggKG1lc2hBbm5vdGF0aW9uLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdmaXJzdFBlcnNvbk9ubHknOlxuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uLnRoaXJkUGVyc29uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RoaXJkUGVyc29uT25seSc6XG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb24uZmlyc3RQZXJzb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYm90aCc6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGaXJzdCBwZXJzb24gbWVzaCBhbm5vdGF0aW9uIHR5cGUgJ2F1dG8nIGlzIG5vdCBzdXBwb3J0ZWQsIHRyZWF0aW5nIGFzICdib3RoJyFcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEludmFsaWQgbWVzaCBhbm5vdGF0aW9uIHR5cGUgJyR7bWVzaEFubm90YXRpb24udHlwZX0nYCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZmlyc3RQZXJzb25Bbm5vdGF0aW9ucy5wdXNoKGFubm90YXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9wYXJzZUxvb2tBdChsb29rQXQpIHtcbiAgICAgICAgaWYgKGxvb2tBdC50eXBlICE9PSAnYm9uZScpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5zdXBwb3J0ZWQgbG9va0F0IHR5cGUgJyR7bG9va0F0LnR5cGV9Jywgb25seSAnYm9uZScgaXMgc3VwcG9ydGVkYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VSYW5nZU1hcCA9IChyYW5nZU1hcCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpbnB1dE1heFZhbHVlOiByYW5nZU1hcC5pbnB1dE1heFZhbHVlLFxuICAgICAgICAgICAgICAgIG91dHB1dFNjYWxlOiByYW5nZU1hcC5vdXRwdXRTY2FsZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2xvb2tBdCA9IHtcbiAgICAgICAgICAgIG9mZnNldEZyb21IZWFkQm9uZTogbG9va0F0Lm9mZnNldEZyb21IZWFkQm9uZSB8fCBbMCwgMCwgMF0sXG4gICAgICAgICAgICBob3Jpem9udGFsSW5uZXI6IHBhcnNlUmFuZ2VNYXAobG9va0F0LnJhbmdlTWFwSG9yaXpvbnRhbElubmVyKSxcbiAgICAgICAgICAgIGhvcml6b250YWxPdXRlcjogcGFyc2VSYW5nZU1hcChsb29rQXQucmFuZ2VNYXBIb3Jpem9udGFsT3V0ZXIpLFxuICAgICAgICAgICAgdmVydGljYWxEb3duOiBwYXJzZVJhbmdlTWFwKGxvb2tBdC5yYW5nZU1hcFZlcnRpY2FsRG93biksXG4gICAgICAgICAgICB2ZXJ0aWNhbFVwOiBwYXJzZVJhbmdlTWFwKGxvb2tBdC5yYW5nZU1hcFZlcnRpY2FsVXApLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfZmluZEFuZFBhcnNlTm9kZUNvbnN0cmFpbnRzKGV4dGVuc2lvbnMpIHtcbiAgICAgICAgY29uc3QgdHJhdmVyc2UgPSAob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub2RlRXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnMubm9kZVtvYmplY3Qub2JqZWN0SWRdO1xuICAgICAgICAgICAgaWYgKG5vZGVFeHRlbnNpb25zICYmICdWUk1DX25vZGVfY29uc3RyYWludCcgaW4gbm9kZUV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlQ29uc3RyYWludEV4dGVuc2lvbiA9IG5vZGVFeHRlbnNpb25zWydWUk1DX25vZGVfY29uc3RyYWludCddO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0cmFpbnQgPSBub2RlQ29uc3RyYWludEV4dGVuc2lvbi5jb25zdHJhaW50O1xuICAgICAgICAgICAgICAgIGxldCB0eXBlLCBheGlzO1xuICAgICAgICAgICAgICAgIGlmICgncm9sbCcgaW4gY29uc3RyYWludCkge1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ3JvbGwnO1xuICAgICAgICAgICAgICAgICAgICBheGlzID0gVlJNX1JPTExfQVhFU1tjb25zdHJhaW50LnJvbGwucm9sbEF4aXNdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgnYWltJyBpbiBjb25zdHJhaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnYWltJztcbiAgICAgICAgICAgICAgICAgICAgYXhpcyA9IFZSTV9BSU1fQVhFU1tjb25zdHJhaW50LmFpbS5haW1BeGlzXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoJ3JvdGF0aW9uJyBpbiBjb25zdHJhaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAncm90YXRpb24nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGV4dGVuc2lvbnMuaWRNYXBwaW5nW2NvbnN0cmFpbnRbdHlwZV0uc291cmNlXSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25vZGVDb25zdHJhaW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogb2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXhpczogYXhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodDogY29uc3RyYWludFt0eXBlXS53ZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBSZXN0IHBvc2UgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uUmVzdExvY2FsUm90YXRpb246IHF1YXQuY29weShxdWF0LmNyZWF0ZSgpLCBvYmplY3Qucm90YXRpb25Mb2NhbCksXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VSZXN0TG9jYWxSb3RhdGlvbjogcXVhdC5jb3B5KHF1YXQuY3JlYXRlKCksIHNvdXJjZS5yb3RhdGlvbkxvY2FsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVJlc3RMb2NhbFJvdGF0aW9uSW52OiBxdWF0LmludmVydChxdWF0LmNyZWF0ZSgpLCBzb3VyY2Uucm90YXRpb25Mb2NhbCksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdVbnJlY29nbml6ZWQgb3IgaW52YWxpZCBWUk1DX25vZGVfY29uc3RyYWludCwgaWdub3JpbmcgaXQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG9iamVjdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHRyYXZlcnNlKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdHJhdmVyc2UodGhpcy5vYmplY3QpO1xuICAgIH1cbiAgICBfcGFyc2VBbmRJbml0aWFsaXplU3ByaW5nQm9uZXMoc3ByaW5nQm9uZSwgZXh0ZW5zaW9ucykge1xuICAgICAgICBjb25zdCBjb2xsaWRlcnMgPSAoc3ByaW5nQm9uZS5jb2xsaWRlcnMgfHwgW10pLm1hcCgoY29sbGlkZXIsIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlVHlwZSA9ICdjYXBzdWxlJyBpbiBjb2xsaWRlci5zaGFwZSA/ICdjYXBzdWxlJyA6ICdzcGhlcmUnO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogaSxcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMuZW5naW5lLndyYXBPYmplY3QoZXh0ZW5zaW9ucy5pZE1hcHBpbmdbY29sbGlkZXIubm9kZV0pLFxuICAgICAgICAgICAgICAgIHNoYXBlOiB7XG4gICAgICAgICAgICAgICAgICAgIGlzQ2Fwc3VsZTogc2hhcGVUeXBlID09PSAnY2Fwc3VsZScsXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1czogY29sbGlkZXIuc2hhcGVbc2hhcGVUeXBlXS5yYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogY29sbGlkZXIuc2hhcGVbc2hhcGVUeXBlXS5vZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIHRhaWw6IGNvbGxpZGVyLnNoYXBlW3NoYXBlVHlwZV0udGFpbCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhY2hlOiB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWQ6IHZlYzMuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIHRhaWw6IHZlYzMuY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9zcGhlcmVDb2xsaWRlcnMgPSBjb2xsaWRlcnMuZmlsdGVyKChjKSA9PiAhYy5zaGFwZS5pc0NhcHN1bGUpO1xuICAgICAgICB0aGlzLl9jYXBzdWxlQ29sbGlkZXJzID0gY29sbGlkZXJzLmZpbHRlcigoYykgPT4gYy5zaGFwZS5pc0NhcHN1bGUpO1xuICAgICAgICBjb25zdCBjb2xsaWRlckdyb3VwcyA9IChzcHJpbmdCb25lLmNvbGxpZGVyR3JvdXBzIHx8IFtdKS5tYXAoKGdyb3VwKSA9PiAoe1xuICAgICAgICAgICAgbmFtZTogZ3JvdXAubmFtZSxcbiAgICAgICAgICAgIGNvbGxpZGVyczogZ3JvdXAuY29sbGlkZXJzLm1hcCgoYykgPT4gY29sbGlkZXJzW2NdKSxcbiAgICAgICAgfSkpO1xuICAgICAgICBmb3IgKGNvbnN0IHNwcmluZyBvZiBzcHJpbmdCb25lLnNwcmluZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGpvaW50cyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBqb2ludCBvZiBzcHJpbmcuam9pbnRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaW5nSm9pbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdFJhZGl1czogMC4wLFxuICAgICAgICAgICAgICAgICAgICBzdGlmZm5lc3M6IDEuMCxcbiAgICAgICAgICAgICAgICAgICAgZ3Jhdml0eVBvd2VyOiAwLjAsXG4gICAgICAgICAgICAgICAgICAgIGdyYXZpdHlEaXI6IFswLjAsIC0xLjAsIDAuMF0sXG4gICAgICAgICAgICAgICAgICAgIGRyYWdGb3JjZTogMC41LFxuICAgICAgICAgICAgICAgICAgICBub2RlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc3ByaW5nSm9pbnQsIGpvaW50KTtcbiAgICAgICAgICAgICAgICBzcHJpbmdKb2ludC5ub2RlID0gdGhpcy5lbmdpbmUud3JhcE9iamVjdChleHRlbnNpb25zLmlkTWFwcGluZ1tzcHJpbmdKb2ludC5ub2RlXSk7XG4gICAgICAgICAgICAgICAgam9pbnRzLnB1c2goc3ByaW5nSm9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3ByaW5nQ2hhaW5Db2xsaWRlcnMgPSAoc3ByaW5nLmNvbGxpZGVyR3JvdXBzIHx8IFtdKS5mbGF0TWFwKChjZykgPT4gY29sbGlkZXJHcm91cHNbY2ddLmNvbGxpZGVycyk7XG4gICAgICAgICAgICB0aGlzLl9zcHJpbmdDaGFpbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZTogc3ByaW5nLm5hbWUsXG4gICAgICAgICAgICAgICAgY2VudGVyOiBzcHJpbmcuY2VudGVyXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5lbmdpbmUud3JhcE9iamVjdChleHRlbnNpb25zLmlkTWFwcGluZ1tzcHJpbmcuY2VudGVyXSlcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgIGpvaW50cyxcbiAgICAgICAgICAgICAgICBzcGhlcmVDb2xsaWRlcnM6IHNwcmluZ0NoYWluQ29sbGlkZXJzLmZpbHRlcigoYykgPT4gIWMuc2hhcGUuaXNDYXBzdWxlKSxcbiAgICAgICAgICAgICAgICBjYXBzdWxlQ29sbGlkZXJzOiBzcHJpbmdDaGFpbkNvbGxpZGVycy5maWx0ZXIoKGMpID0+IGMuc2hhcGUuaXNDYXBzdWxlKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qIEluaXRpYWxpemUgc3ByaW5nIGJvbmUgam9pbnQgc3RhdGUgKi9cbiAgICAgICAgZm9yIChjb25zdCBzcHJpbmdDaGFpbiBvZiB0aGlzLl9zcHJpbmdDaGFpbnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ByaW5nQ2hhaW4uam9pbnRzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwcmluZ0JvbmVKb2ludCA9IHNwcmluZ0NoYWluLmpvaW50c1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFNwcmluZ0JvbmVKb2ludCA9IHNwcmluZ0NoYWluLmpvaW50c1tpICsgMV07XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaW5nQm9uZVBvc2l0aW9uID0gc3ByaW5nQm9uZUpvaW50Lm5vZGUuZ2V0VHJhbnNsYXRpb25Xb3JsZCh2ZWMzLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFNwcmluZ0JvbmVQb3NpdGlvbiA9IGNoaWxkU3ByaW5nQm9uZUpvaW50Lm5vZGUuZ2V0VHJhbnNsYXRpb25Xb3JsZCh2ZWMzLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBib25lRGlyZWN0aW9uID0gdmVjMy5zdWJ0cmFjdCh0aGlzLl90ZW1wVjNBLCBzcHJpbmdCb25lUG9zaXRpb24sIGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgcHJldlRhaWw6IGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFpbDogdmVjMy5jb3B5KHZlYzMuY3JlYXRlKCksIGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uKSxcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbExvY2FsUm90YXRpb246IHF1YXQuY29weShxdWF0LmNyZWF0ZSgpLCBzcHJpbmdCb25lSm9pbnQubm9kZS5yb3RhdGlvbkxvY2FsKSxcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbExvY2FsVHJhbnNmb3JtSW52ZXJ0OiBxdWF0Mi5pbnZlcnQocXVhdDIuY3JlYXRlKCksIHNwcmluZ0JvbmVKb2ludC5ub2RlLnRyYW5zZm9ybUxvY2FsKSxcbiAgICAgICAgICAgICAgICAgICAgYm9uZUF4aXM6IHZlYzMubm9ybWFsaXplKHZlYzMuY3JlYXRlKCksIGNoaWxkU3ByaW5nQm9uZUpvaW50Lm5vZGUuZ2V0VHJhbnNsYXRpb25Mb2NhbCh0aGlzLl90ZW1wVjMpKSxcbiAgICAgICAgICAgICAgICAgICAgLyogRW5zdXJlIGJvbmUgbGVuZ3RoIGlzIGF0IGxlYXN0IDFjbSB0byBhdm9pZCBqaXR0ZXJ5IGJlaGF2aW91ciBmcm9tIHplcm8tbGVuZ3RoIGJvbmVzICovXG4gICAgICAgICAgICAgICAgICAgIGJvbmVMZW5ndGg6IE1hdGgubWF4KDAuMDEsIHZlYzMubGVuZ3RoKGJvbmVEaXJlY3Rpb24pKSxcbiAgICAgICAgICAgICAgICAgICAgLyogVGFpbCBwb3NpdGlvbnMgaW4gY2VudGVyIHNwYWNlLCBpZiBuZWVkZWQgKi9cbiAgICAgICAgICAgICAgICAgICAgcHJldlRhaWxDZW50ZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYWlsQ2VudGVyOiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHNwcmluZ0NoYWluLmNlbnRlcikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wcmV2VGFpbENlbnRlciA9IHNwcmluZ0NoYWluLmNlbnRlci50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZCh2ZWMzLmNyZWF0ZSgpLCBjaGlsZFNwcmluZ0JvbmVQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRUYWlsQ2VudGVyID0gdmVjMy5jb3B5KHZlYzMuY3JlYXRlKCksIGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3ByaW5nQm9uZUpvaW50LnN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlKGR0KSB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKiAxLiBSZXNvbHZlIGh1bWFub2lkIGJvbmVzIChwZXJmb3JtZWQgYnkgdXNlcikgKi9cbiAgICAgICAgLyogMi4gUmVzb2x2ZSBMb29rQXQgKGJvbmUgdHlwZSkgYXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBoZWFkIGlzIGRldGVybWluZWQgKi9cbiAgICAgICAgdGhpcy5fcmVzb2x2ZUxvb2tBdCgpO1xuICAgICAgICAvKiAzLiBFeHByZXNzaW9uIHVwZGF0ZSAoVE9ETykgKi9cbiAgICAgICAgLyogNC4gQXBwbHkgRXhwcmVzc2lvbiAoVE9ETykgKi9cbiAgICAgICAgLyogNS4gUmVzb2x2ZSBjb25zdHJhaW50cyAqL1xuICAgICAgICB0aGlzLl9yZXNvbHZlQ29uc3RyYWludHMoKTtcbiAgICAgICAgLyogNi4gUmVzb2x2ZSBTcHJpbmcgQm9uZSAqL1xuICAgICAgICB0aGlzLl91cGRhdGVTcHJpbmdCb25lcyhkdCk7XG4gICAgfVxuICAgIF9yYW5nZU1hcChyYW5nZU1hcCwgaW5wdXQpIHtcbiAgICAgICAgY29uc3QgbWF4VmFsdWUgPSByYW5nZU1hcC5pbnB1dE1heFZhbHVlO1xuICAgICAgICBjb25zdCBvdXRwdXRTY2FsZSA9IHJhbmdlTWFwLm91dHB1dFNjYWxlO1xuICAgICAgICByZXR1cm4gKE1hdGgubWluKGlucHV0LCBtYXhWYWx1ZSkgLyBtYXhWYWx1ZSkgKiBvdXRwdXRTY2FsZTtcbiAgICB9XG4gICAgX3Jlc29sdmVMb29rQXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9va0F0IHx8ICF0aGlzLmxvb2tBdFRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvb2tBdFNvdXJjZSA9IHRoaXMuYm9uZXMuaGVhZC50cmFuc2Zvcm1Qb2ludFdvcmxkKHRoaXMuX3RlbXBWM0EsIHRoaXMuX2xvb2tBdC5vZmZzZXRGcm9tSGVhZEJvbmUpO1xuICAgICAgICBjb25zdCBsb29rQXRUYXJnZXQgPSB0aGlzLmxvb2tBdFRhcmdldC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX3RlbXBWM0IpO1xuICAgICAgICBjb25zdCBsb29rQXREaXJlY3Rpb24gPSB2ZWMzLnN1Yih0aGlzLl90ZW1wVjNBLCBsb29rQXRUYXJnZXQsIGxvb2tBdFNvdXJjZSk7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKGxvb2tBdERpcmVjdGlvbiwgbG9va0F0RGlyZWN0aW9uKTtcbiAgICAgICAgLyogQ29udmVydCB0aGUgZGlyZWN0aW9uIGludG8gTG9va0F0IHNwYWNlICovXG4gICAgICAgIHRoaXMuYm9uZXMuaGVhZC5wYXJlbnQudHJhbnNmb3JtVmVjdG9ySW52ZXJzZVdvcmxkKGxvb2tBdERpcmVjdGlvbik7XG4gICAgICAgIGNvbnN0IHogPSB2ZWMzLmRvdChsb29rQXREaXJlY3Rpb24sIHRoaXMuX2ZvcndhcmRWZWN0b3IpO1xuICAgICAgICBjb25zdCB4ID0gdmVjMy5kb3QobG9va0F0RGlyZWN0aW9uLCB0aGlzLl9yaWdodFZlY3Rvcik7XG4gICAgICAgIGNvbnN0IHlhdyA9IE1hdGguYXRhbjIoeCwgeikgKiB0aGlzLl9yYWQyZGVnO1xuICAgICAgICBjb25zdCB4eiA9IE1hdGguc3FydCh4ICogeCArIHogKiB6KTtcbiAgICAgICAgY29uc3QgeSA9IHZlYzMuZG90KGxvb2tBdERpcmVjdGlvbiwgdGhpcy5fdXBWZWN0b3IpO1xuICAgICAgICBsZXQgcGl0Y2ggPSBNYXRoLmF0YW4yKC15LCB4eikgKiB0aGlzLl9yYWQyZGVnO1xuICAgICAgICAvKiBMaW1pdCBwaXRjaCAqL1xuICAgICAgICBpZiAocGl0Y2ggPiAwKSB7XG4gICAgICAgICAgICBwaXRjaCA9IHRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC52ZXJ0aWNhbERvd24sIHBpdGNoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBpdGNoID0gLXRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC52ZXJ0aWNhbFVwLCAtcGl0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIC8qIExlZnQgZXllIChsaW1pdCB5YXcpICovXG4gICAgICAgIGlmICh0aGlzLmJvbmVzLmxlZnRFeWUpIHtcbiAgICAgICAgICAgIGxldCB5YXdMZWZ0ID0geWF3O1xuICAgICAgICAgICAgaWYgKHlhd0xlZnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgeWF3TGVmdCA9IHRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC5ob3Jpem9udGFsSW5uZXIsIHlhd0xlZnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgeWF3TGVmdCA9IC10aGlzLl9yYW5nZU1hcCh0aGlzLl9sb29rQXQuaG9yaXpvbnRhbE91dGVyLCAteWF3TGVmdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBleWVSb3RhdGlvbiA9IHF1YXQuZnJvbUV1bGVyKHRoaXMuX3RlbXBRdWF0QSwgcGl0Y2gsIHlhd0xlZnQsIDApO1xuICAgICAgICAgICAgdGhpcy5ib25lcy5sZWZ0RXllLnJvdGF0aW9uTG9jYWwgPSBxdWF0Lm11bHRpcGx5KGV5ZVJvdGF0aW9uLCB0aGlzLnJlc3RQb3NlLmxlZnRFeWUsIGV5ZVJvdGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBSaWdodCBleWUgKGxpbWl0IHlhdykgKi9cbiAgICAgICAgaWYgKHRoaXMuYm9uZXMucmlnaHRFeWUpIHtcbiAgICAgICAgICAgIGxldCB5YXdSaWdodCA9IHlhdztcbiAgICAgICAgICAgIGlmICh5YXdSaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICB5YXdSaWdodCA9IHRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC5ob3Jpem9udGFsT3V0ZXIsIHlhd1JpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHlhd1JpZ2h0ID0gLXRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC5ob3Jpem9udGFsSW5uZXIsIC15YXdSaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBleWVSb3RhdGlvbiA9IHF1YXQuZnJvbUV1bGVyKHRoaXMuX3RlbXBRdWF0QSwgcGl0Y2gsIHlhd1JpZ2h0LCAwKTtcbiAgICAgICAgICAgIHRoaXMuYm9uZXMucmlnaHRFeWUucm90YXRpb25Mb2NhbCA9IHF1YXQubXVsdGlwbHkoZXllUm90YXRpb24sIHRoaXMucmVzdFBvc2UucmlnaHRFeWUsIGV5ZVJvdGF0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmVzb2x2ZUNvbnN0cmFpbnRzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGVDb25zdHJhaW50IG9mIHRoaXMuX25vZGVDb25zdHJhaW50cykge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUNvbnN0cmFpbnQobm9kZUNvbnN0cmFpbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9yZXNvbHZlQ29uc3RyYWludChub2RlQ29uc3RyYWludCkge1xuICAgICAgICBjb25zdCBkc3RSZXN0UXVhdCA9IG5vZGVDb25zdHJhaW50LmRlc3RpbmF0aW9uUmVzdExvY2FsUm90YXRpb247XG4gICAgICAgIGNvbnN0IHNyY1Jlc3RRdWF0SW52ID0gbm9kZUNvbnN0cmFpbnQuc291cmNlUmVzdExvY2FsUm90YXRpb25JbnY7XG4gICAgICAgIGNvbnN0IHRhcmdldFF1YXQgPSBxdWF0LmlkZW50aXR5KHRoaXMuX3RlbXBRdWF0QSk7XG4gICAgICAgIHN3aXRjaCAobm9kZUNvbnN0cmFpbnQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAncm9sbCc6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVNyY1F1YXQgPSBxdWF0Lm11bHRpcGx5KHRoaXMuX3RlbXBRdWF0QSwgc3JjUmVzdFF1YXRJbnYsIG5vZGVDb25zdHJhaW50LnNvdXJjZS5yb3RhdGlvbkxvY2FsKTtcbiAgICAgICAgICAgICAgICAgICAgLyogc291cmNlIHRvIHBhcmVudCAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVNyY1F1YXRJblBhcmVudCA9IHF1YXQubXVsdGlwbHkodGhpcy5fdGVtcFF1YXRBLCBub2RlQ29uc3RyYWludC5zb3VyY2VSZXN0TG9jYWxSb3RhdGlvbiwgZGVsdGFTcmNRdWF0KTtcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwoZGVsdGFTcmNRdWF0SW5QYXJlbnQsIGRlbHRhU3JjUXVhdEluUGFyZW50LCBzcmNSZXN0UXVhdEludik7XG4gICAgICAgICAgICAgICAgICAgIC8qIHBhcmVudCB0byBkZXN0aW5hdGlvbiAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkc3RSZXN0UXVhdEludiA9IHF1YXQuaW52ZXJ0KHRoaXMuX3RlbXBRdWF0QiwgZHN0UmVzdFF1YXQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVNyY1F1YXRJbkRzdCA9IHF1YXQubXVsdGlwbHkodGhpcy5fdGVtcFF1YXRCLCBkc3RSZXN0UXVhdEludiwgZGVsdGFTcmNRdWF0SW5QYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bHRpcGx5KGRlbHRhU3JjUXVhdEluRHN0LCBkZWx0YVNyY1F1YXRJbkRzdCwgZHN0UmVzdFF1YXQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b1ZlYyA9IHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLl90ZW1wVjNBLCBub2RlQ29uc3RyYWludC5heGlzLCBkZWx0YVNyY1F1YXRJbkRzdCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21Ub1F1YXQgPSBxdWF0LnJvdGF0aW9uVG8odGhpcy5fdGVtcFF1YXRBLCBub2RlQ29uc3RyYWludC5heGlzLCB0b1ZlYyk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIGRzdFJlc3RRdWF0LCBxdWF0LmludmVydCh0aGlzLl90ZW1wUXVhdCwgZnJvbVRvUXVhdCkpO1xuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bCh0YXJnZXRRdWF0LCB0YXJnZXRRdWF0LCBkZWx0YVNyY1F1YXRJbkRzdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYWltJzpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRzdFBhcmVudFdvcmxkUXVhdCA9IG5vZGVDb25zdHJhaW50LmRlc3RpbmF0aW9uLnBhcmVudC5yb3RhdGlvbldvcmxkO1xuICAgICAgICAgICAgICAgICAgICAvKiBmcm9tVmVjID0gYWltQXhpcy5hcHBseVF1YXRlcm5pb24oIGRzdFBhcmVudFdvcmxkUXVhdCAqIGRzdFJlc3RRdWF0ICkgKi9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbVZlYyA9IHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLl90ZW1wVjNBLCBub2RlQ29uc3RyYWludC5heGlzLCBkc3RSZXN0UXVhdCk7XG4gICAgICAgICAgICAgICAgICAgIHZlYzMudHJhbnNmb3JtUXVhdChmcm9tVmVjLCBmcm9tVmVjLCBkc3RQYXJlbnRXb3JsZFF1YXQpO1xuICAgICAgICAgICAgICAgICAgICAvKiB0b1ZlYyA9ICggc3JjV29ybGRQb3MgLSBkc3RXb3JsZFBvcyApLm5vcm1hbGl6ZWQgKi9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9WZWMgPSBub2RlQ29uc3RyYWludC5zb3VyY2UuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl90ZW1wVjNCKTtcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIodG9WZWMsIHRvVmVjLCBub2RlQ29uc3RyYWludC5kZXN0aW5hdGlvbi5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX3RlbXBWMykpO1xuICAgICAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0b1ZlYywgdG9WZWMpO1xuICAgICAgICAgICAgICAgICAgICAvKiBmcm9tVG9RdWF0ID0gUXVhdGVybmlvbi5mcm9tVG9Sb3RhdGlvbiggZnJvbVZlYywgdG9WZWMgKSAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tVG9RdWF0ID0gcXVhdC5yb3RhdGlvblRvKHRoaXMuX3RlbXBRdWF0QSwgZnJvbVZlYywgdG9WZWMpO1xuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bCh0YXJnZXRRdWF0LCBxdWF0LmludmVydCh0aGlzLl90ZW1wUXVhdCwgZHN0UGFyZW50V29ybGRRdWF0KSwgZnJvbVRvUXVhdCk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIHRhcmdldFF1YXQsIGRzdFBhcmVudFdvcmxkUXVhdCk7XG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIHRhcmdldFF1YXQsIGRzdFJlc3RRdWF0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyb3RhdGlvbic6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcmNEZWx0YVF1YXQgPSBxdWF0Lm11bCh0YXJnZXRRdWF0LCBzcmNSZXN0UXVhdEludiwgbm9kZUNvbnN0cmFpbnQuc291cmNlLnJvdGF0aW9uTG9jYWwpO1xuICAgICAgICAgICAgICAgICAgICBxdWF0Lm11bCh0YXJnZXRRdWF0LCBkc3RSZXN0UXVhdCwgc3JjRGVsdGFRdWF0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLyogQXBwbHkgY29uc3RyYWludCAqL1xuICAgICAgICBxdWF0LnNsZXJwKHRhcmdldFF1YXQsIGRzdFJlc3RRdWF0LCB0YXJnZXRRdWF0LCBub2RlQ29uc3RyYWludC53ZWlnaHQpO1xuICAgICAgICBub2RlQ29uc3RyYWludC5kZXN0aW5hdGlvbi5yb3RhdGlvbkxvY2FsID0gdGFyZ2V0UXVhdDtcbiAgICB9XG4gICAgX3VwZGF0ZVNwcmluZ0JvbmVzKGR0KSB7XG4gICAgICAgIC8qIFByZS1jb21wdXRlIGNvbGxpZGVyIHBvc2l0aW9ucyAqL1xuICAgICAgICB0aGlzLl9zcGhlcmVDb2xsaWRlcnMuZm9yRWFjaCgoeyBvYmplY3QsIHNoYXBlLCBjYWNoZSB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB2ZWMzLmNvcHkoY2FjaGUuaGVhZCwgc2hhcGUub2Zmc2V0KTtcbiAgICAgICAgICAgIG9iamVjdC50cmFuc2Zvcm1WZWN0b3JXb3JsZChvZmZzZXQpO1xuICAgICAgICAgICAgdmVjMy5hZGQoY2FjaGUuaGVhZCwgb2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5fdGVtcFYzKSwgb2Zmc2V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2NhcHN1bGVDb2xsaWRlcnMuZm9yRWFjaCgoeyBvYmplY3QsIHNoYXBlLCBjYWNoZSB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzaGFwZUNlbnRlciA9IG9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX3RlbXBWM0EpO1xuICAgICAgICAgICAgY29uc3QgaGVhZE9mZnNldCA9IHZlYzMuY29weShjYWNoZS5oZWFkLCBzaGFwZS5vZmZzZXQpO1xuICAgICAgICAgICAgb2JqZWN0LnRyYW5zZm9ybVZlY3RvcldvcmxkKGhlYWRPZmZzZXQpO1xuICAgICAgICAgICAgdmVjMy5hZGQoY2FjaGUuaGVhZCwgc2hhcGVDZW50ZXIsIGhlYWRPZmZzZXQpO1xuICAgICAgICAgICAgY29uc3QgdGFpbE9mZnNldCA9IHZlYzMuY29weShjYWNoZS50YWlsLCBzaGFwZS50YWlsKTtcbiAgICAgICAgICAgIG9iamVjdC50cmFuc2Zvcm1WZWN0b3JXb3JsZCh0YWlsT2Zmc2V0KTtcbiAgICAgICAgICAgIHZlYzMuYWRkKGNhY2hlLnRhaWwsIHNoYXBlQ2VudGVyLCB0YWlsT2Zmc2V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8qIFVwZGF0ZSBzcHJpbmcgY2hhaW5zICovXG4gICAgICAgIHRoaXMuX3NwcmluZ0NoYWlucy5mb3JFYWNoKChzcHJpbmdDaGFpbikgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcHJpbmdDaGFpbi5qb2ludHMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9pbnQgPSBzcHJpbmdDaGFpbi5qb2ludHNbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50V29ybGRSb3RhdGlvbiA9IGpvaW50Lm5vZGUucGFyZW50XG4gICAgICAgICAgICAgICAgICAgID8gam9pbnQubm9kZS5wYXJlbnQucm90YXRpb25Xb3JsZFxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2lkZW50aXR5UXVhdDtcbiAgICAgICAgICAgICAgICAvKiAxLiBGb3JjZXMgKi9cbiAgICAgICAgICAgICAgICAvKiBpbmVydGlhID0gKGN1cnJlbnRUYWlsIC0gcHJldlRhaWwpICogKDEuMGYgLSBkcmFnRm9yY2UpOyAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZXJ0aWEgPSB0aGlzLl9pbmVydGlhO1xuICAgICAgICAgICAgICAgIGlmIChzcHJpbmdDaGFpbi5jZW50ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIoaW5lcnRpYSwgam9pbnQuc3RhdGUuY3VycmVudFRhaWxDZW50ZXIsIGpvaW50LnN0YXRlLnByZXZUYWlsQ2VudGVyKTtcbiAgICAgICAgICAgICAgICAgICAgc3ByaW5nQ2hhaW4uY2VudGVyLnRyYW5zZm9ybVZlY3RvcldvcmxkKGluZXJ0aWEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIoaW5lcnRpYSwgam9pbnQuc3RhdGUuY3VycmVudFRhaWwsIGpvaW50LnN0YXRlLnByZXZUYWlsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmVjMy5zY2FsZShpbmVydGlhLCBpbmVydGlhLCAxLjAgLSBqb2ludC5kcmFnRm9yY2UpO1xuICAgICAgICAgICAgICAgIC8qIHN0aWZmbmVzcyA9IGRlbHRhVGltZSAqIHBhcmVudFdvcmxkUm90YXRpb24gKiBsb2NhbFJvdGF0aW9uICogYm9uZUF4aXMgKiBzdGlmZm5lc3NGb3JjZTsgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBzdGlmZm5lc3MgPSB2ZWMzLmNvcHkodGhpcy5fc3RpZmZuZXNzLCBqb2ludC5zdGF0ZS5ib25lQXhpcyk7XG4gICAgICAgICAgICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KHN0aWZmbmVzcywgc3RpZmZuZXNzLCBqb2ludC5zdGF0ZS5pbml0aWFsTG9jYWxSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KHN0aWZmbmVzcywgc3RpZmZuZXNzLCBwYXJlbnRXb3JsZFJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICB2ZWMzLnNjYWxlKHN0aWZmbmVzcywgc3RpZmZuZXNzLCBkdCAqIGpvaW50LnN0aWZmbmVzcyk7XG4gICAgICAgICAgICAgICAgLyogZXh0ZXJuYWwgPSBkZWx0YVRpbWUgKiBncmF2aXR5RGlyICogZ3Jhdml0eVBvd2VyOyAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVybmFsID0gdmVjMy5zY2FsZSh0aGlzLl9leHRlcm5hbCwgam9pbnQuZ3Jhdml0eURpciwgZHQgKiBqb2ludC5ncmF2aXR5UG93ZXIpO1xuICAgICAgICAgICAgICAgIC8qIG5leHRUYWlsID0gY3VycmVudFRhaWwgKyBpbmVydGlhICsgc3RpZmZuZXNzICsgZXh0ZXJuYWw7ICovXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFRhaWwgPSB2ZWMzLmNvcHkodGhpcy5fdGVtcFYzQSwgam9pbnQuc3RhdGUuY3VycmVudFRhaWwpO1xuICAgICAgICAgICAgICAgIHZlYzMuYWRkKG5leHRUYWlsLCBuZXh0VGFpbCwgaW5lcnRpYSk7XG4gICAgICAgICAgICAgICAgdmVjMy5hZGQobmV4dFRhaWwsIG5leHRUYWlsLCBzdGlmZm5lc3MpO1xuICAgICAgICAgICAgICAgIHZlYzMuYWRkKG5leHRUYWlsLCBuZXh0VGFpbCwgZXh0ZXJuYWwpO1xuICAgICAgICAgICAgICAgIC8qIGNvbnN0cmFpbiB0aGUgbGVuZ3RoICovXG4gICAgICAgICAgICAgICAgLyogbmV4dFRhaWwgPSB3b3JsZFBvc2l0aW9uICsgKG5leHRUYWlsIC0gd29ybGRQb3NpdGlvbikubm9ybWFsaXplZCAqIGJvbmVMZW5ndGg7ICovXG4gICAgICAgICAgICAgICAgY29uc3Qgd29ybGRQb3NpdGlvbiA9IGpvaW50Lm5vZGUuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl90ZW1wVjNCKTtcbiAgICAgICAgICAgICAgICB2ZWMzLnN1YihuZXh0VGFpbCwgbmV4dFRhaWwsIHdvcmxkUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG5leHRUYWlsLCBuZXh0VGFpbCk7XG4gICAgICAgICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChuZXh0VGFpbCwgd29ybGRQb3NpdGlvbiwgbmV4dFRhaWwsIGpvaW50LnN0YXRlLmJvbmVMZW5ndGgpO1xuICAgICAgICAgICAgICAgIC8qIDIuIENvbGxpc2lvbiB3aXRoIGNvbGxpZGVycyAqL1xuICAgICAgICAgICAgICAgIC8qIFNwaGVyZSBjb2xsaWRlcnMgKi9cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHsgc2hhcGUsIGNhY2hlIH0gb2Ygc3ByaW5nQ2hhaW4uc3BoZXJlQ29sbGlkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWlsVG9TaGFwZSA9IHRoaXMuX3RhaWxUb1NoYXBlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGhlcmVDZW50ZXIgPSBjYWNoZS5oZWFkO1xuICAgICAgICAgICAgICAgICAgICB0YWlsVG9TaGFwZSA9IHZlYzMuc3ViKHRhaWxUb1NoYXBlLCBuZXh0VGFpbCwgc3BoZXJlQ2VudGVyKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gc2hhcGUucmFkaXVzICsgam9pbnQuaGl0UmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0ID0gdmVjMy5sZW5ndGgodGFpbFRvU2hhcGUpIC0gcmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdCA8IDAuMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUodGFpbFRvU2hhcGUsIHRhaWxUb1NoYXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobmV4dFRhaWwsIG5leHRUYWlsLCB0YWlsVG9TaGFwZSwgLWRpc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogY29uc3RyYWludCB0aGUgbGVuZ3RoICovXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1YihuZXh0VGFpbCwgbmV4dFRhaWwsIHdvcmxkUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUobmV4dFRhaWwsIG5leHRUYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobmV4dFRhaWwsIHdvcmxkUG9zaXRpb24sIG5leHRUYWlsLCBqb2ludC5zdGF0ZS5ib25lTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBDYXBzdWxlIGNvbGxpZGVycyAqL1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgeyBzaGFwZSwgY2FjaGUgfSBvZiBzcHJpbmdDaGFpbi5jYXBzdWxlQ29sbGlkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWlsVG9TaGFwZSA9IHRoaXMuX3RhaWxUb1NoYXBlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkID0gY2FjaGUuaGVhZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFpbCA9IGNhY2hlLnRhaWw7XG4gICAgICAgICAgICAgICAgICAgIC8qIE5haXZlbHkgc3RhcnQgd2l0aCBkaXN0YW5jZSB0byB0aGUgaGVhZCAqL1xuICAgICAgICAgICAgICAgICAgICB0YWlsVG9TaGFwZSA9IHZlYzMuc3ViKHRhaWxUb1NoYXBlLCBuZXh0VGFpbCwgaGVhZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRUb1RhaWwgPSB2ZWMzLnN1Yih0aGlzLl9oZWFkVG9UYWlsLCB0YWlsLCBoZWFkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG90ID0gdmVjMy5kb3QoaGVhZFRvVGFpbCwgdGFpbFRvU2hhcGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmVjMy5zcXVhcmVkTGVuZ3RoKGhlYWRUb1RhaWwpIDw9IGRvdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogQ2xvc2VzdCB0byB0YWlsICovXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1Yih0YWlsVG9TaGFwZSwgbmV4dFRhaWwsIHRhaWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRvdCA+IDAuMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogQ2xvc2VzdCB0byBtaWRkbGUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGUoaGVhZFRvVGFpbCwgaGVhZFRvVGFpbCwgZG90IC8gdmVjMy5zcXVhcmVkTGVuZ3RoKGhlYWRUb1RhaWwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc3ViKHRhaWxUb1NoYXBlLCB0YWlsVG9TaGFwZSwgaGVhZFRvVGFpbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gc2hhcGUucmFkaXVzICsgam9pbnQuaGl0UmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0ID0gdmVjMy5sZW5ndGgodGFpbFRvU2hhcGUpIC0gcmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdCA8IDAuMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUodGFpbFRvU2hhcGUsIHRhaWxUb1NoYXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobmV4dFRhaWwsIG5leHRUYWlsLCB0YWlsVG9TaGFwZSwgLWRpc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogY29uc3RyYWludCB0aGUgbGVuZ3RoICovXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1YihuZXh0VGFpbCwgbmV4dFRhaWwsIHdvcmxkUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUobmV4dFRhaWwsIG5leHRUYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobmV4dFRhaWwsIHdvcmxkUG9zaXRpb24sIG5leHRUYWlsLCBqb2ludC5zdGF0ZS5ib25lTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiAzLiBBcHBseWluZyByb3RhdGlvbiAqL1xuICAgICAgICAgICAgICAgIHZlYzMuY29weShqb2ludC5zdGF0ZS5wcmV2VGFpbCwgam9pbnQuc3RhdGUuY3VycmVudFRhaWwpO1xuICAgICAgICAgICAgICAgIHZlYzMuY29weShqb2ludC5zdGF0ZS5jdXJyZW50VGFpbCwgbmV4dFRhaWwpO1xuICAgICAgICAgICAgICAgIGlmIChzcHJpbmdDaGFpbi5jZW50ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5jb3B5KGpvaW50LnN0YXRlLnByZXZUYWlsQ2VudGVyLCBqb2ludC5zdGF0ZS5jdXJyZW50VGFpbENlbnRlcik7XG4gICAgICAgICAgICAgICAgICAgIHZlYzMuY29weShqb2ludC5zdGF0ZS5jdXJyZW50VGFpbENlbnRlciwgbmV4dFRhaWwpO1xuICAgICAgICAgICAgICAgICAgICBzcHJpbmdDaGFpbi5jZW50ZXIudHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQoam9pbnQuc3RhdGUuY3VycmVudFRhaWxDZW50ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiB0byA9IChuZXh0VGFpbCAqIChub2RlLnBhcmVudC53b3JsZE1hdHJpeCAqIGluaXRpYWxMb2NhbE1hdHJpeCkuaW52ZXJzZSkubm9ybWFsaXplZCAqL1xuICAgICAgICAgICAgICAgIGpvaW50Lm5vZGUucGFyZW50LnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKG5leHRUYWlsKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGFpbER1YWxRdWF0ID0gcXVhdDIuZnJvbVRyYW5zbGF0aW9uKHRoaXMuX3RlbXBRdWF0MiwgbmV4dFRhaWwpO1xuICAgICAgICAgICAgICAgIHF1YXQyLm11bHRpcGx5KG5leHRUYWlsRHVhbFF1YXQsIGpvaW50LnN0YXRlLmluaXRpYWxMb2NhbFRyYW5zZm9ybUludmVydCwgbmV4dFRhaWxEdWFsUXVhdCk7XG4gICAgICAgICAgICAgICAgcXVhdDIuZ2V0VHJhbnNsYXRpb24obmV4dFRhaWwsIG5leHRUYWlsRHVhbFF1YXQpO1xuICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG5leHRUYWlsLCBuZXh0VGFpbCk7XG4gICAgICAgICAgICAgICAgLyogbm9kZS5yb3RhdGlvbiA9IGluaXRpYWxMb2NhbFJvdGF0aW9uICogUXVhdGVybmlvbi5mcm9tVG9RdWF0ZXJuaW9uKGJvbmVBeGlzLCB0byk7ICovXG4gICAgICAgICAgICAgICAgY29uc3Qgam9pbnRSb3RhdGlvbiA9IHF1YXQucm90YXRpb25Ubyh0aGlzLl90ZW1wUXVhdEEsIGpvaW50LnN0YXRlLmJvbmVBeGlzLCBuZXh0VGFpbCk7XG4gICAgICAgICAgICAgICAgam9pbnQubm9kZS5yb3RhdGlvbkxvY2FsID0gcXVhdC5tdWwodGhpcy5fdGVtcFF1YXRBLCBqb2ludC5zdGF0ZS5pbml0aWFsTG9jYWxSb3RhdGlvbiwgam9pbnRSb3RhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZpcnN0UGVyc29uIFdoZXRoZXIgdGhlIG1vZGVsIHNob3VsZCByZW5kZXIgZm9yIGZpcnN0IHBlcnNvbiBvciB0aGlyZCBwZXJzb24gdmlld3NcbiAgICAgKi9cbiAgICBzZXQgZmlyc3RQZXJzb24oZmlyc3RQZXJzb24pIHtcbiAgICAgICAgdGhpcy5fZmlyc3RQZXJzb25Bbm5vdGF0aW9ucy5mb3JFYWNoKChhbm5vdGF0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlID0gZmlyc3RQZXJzb24gPT0gYW5ub3RhdGlvbi5maXJzdFBlcnNvbiB8fFxuICAgICAgICAgICAgICAgIGZpcnN0UGVyc29uICE9IGFubm90YXRpb24udGhpcmRQZXJzb247XG4gICAgICAgICAgICBhbm5vdGF0aW9uLm5vZGUuZ2V0Q29tcG9uZW50cygnbWVzaCcpLmZvckVhY2goKG1lc2gpID0+IHtcbiAgICAgICAgICAgICAgICBtZXNoLmFjdGl2ZSA9IHZpc2libGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IHsgVnJtIH07XG4iLCAiaW1wb3J0IHsgdmVjMyB9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xuY29uc3QgX2RpcmVjdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4vKipcbiAqIEJhc2ljIG1vdmVtZW50IHdpdGggVy9BL1MvRCBrZXlzLlxuICovXG5jbGFzcyBXYXNkQ29udHJvbHNDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd3YXNkLWNvbnRyb2xzJztcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcbiAgICAgICAgLyoqIE1vdmVtZW50IHNwZWVkIGluIG0vcy4gKi9cbiAgICAgICAgc3BlZWQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC4xIH0sXG4gICAgICAgIC8qKiBGbGFnIGZvciBvbmx5IG1vdmluZyB0aGUgb2JqZWN0IG9uIHRoZSBnbG9iYWwgeCAmIHogcGxhbmVzICovXG4gICAgICAgIGxvY2tZOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICAgICAgLyoqIE9iamVjdCBvZiB3aGljaCB0aGUgb3JpZW50YXRpb24gaXMgdXNlZCB0byBkZXRlcm1pbmUgZm9yd2FyZCBkaXJlY3Rpb24gKi9cbiAgICAgICAgaGVhZE9iamVjdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxuICAgIH07XG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy51cCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJpZ2h0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZG93biA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxlZnQgPSBmYWxzZTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLnByZXNzLmJpbmQodGhpcykpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlbGVhc2UuYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmhlYWRPYmplY3QgPSB0aGlzLmhlYWRPYmplY3QgfHwgdGhpcy5vYmplY3Q7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgdmVjMy56ZXJvKF9kaXJlY3Rpb24pO1xuICAgICAgICBpZiAodGhpcy51cClcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMl0gLT0gMS4wO1xuICAgICAgICBpZiAodGhpcy5kb3duKVxuICAgICAgICAgICAgX2RpcmVjdGlvblsyXSArPSAxLjA7XG4gICAgICAgIGlmICh0aGlzLmxlZnQpXG4gICAgICAgICAgICBfZGlyZWN0aW9uWzBdIC09IDEuMDtcbiAgICAgICAgaWYgKHRoaXMucmlnaHQpXG4gICAgICAgICAgICBfZGlyZWN0aW9uWzBdICs9IDEuMDtcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoX2RpcmVjdGlvbiwgX2RpcmVjdGlvbik7XG4gICAgICAgIF9kaXJlY3Rpb25bMF0gKj0gdGhpcy5zcGVlZDtcbiAgICAgICAgX2RpcmVjdGlvblsyXSAqPSB0aGlzLnNwZWVkO1xuICAgICAgICB2ZWMzLnRyYW5zZm9ybVF1YXQoX2RpcmVjdGlvbiwgX2RpcmVjdGlvbiwgdGhpcy5oZWFkT2JqZWN0LnRyYW5zZm9ybVdvcmxkKTtcbiAgICAgICAgaWYgKHRoaXMubG9ja1kpIHtcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMV0gPSAwO1xuICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUoX2RpcmVjdGlvbiwgX2RpcmVjdGlvbik7XG4gICAgICAgICAgICB2ZWMzLnNjYWxlKF9kaXJlY3Rpb24sIF9kaXJlY3Rpb24sIHRoaXMuc3BlZWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JqZWN0LnRyYW5zbGF0ZUxvY2FsKF9kaXJlY3Rpb24pO1xuICAgIH1cbiAgICBwcmVzcyhlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDM4IC8qIHVwICovIHx8XG4gICAgICAgICAgICBlLmtleUNvZGUgPT09IDg3IC8qIHcgKi8gfHxcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gOTAgLyogeiAqLykge1xuICAgICAgICAgICAgdGhpcy51cCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzOSAvKiByaWdodCAqLyB8fCBlLmtleUNvZGUgPT09IDY4IC8qIGQgKi8pIHtcbiAgICAgICAgICAgIHRoaXMucmlnaHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNDAgLyogZG93biAqLyB8fCBlLmtleUNvZGUgPT09IDgzIC8qIHMgKi8pIHtcbiAgICAgICAgICAgIHRoaXMuZG93biA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzNyAvKiBsZWZ0ICovIHx8XG4gICAgICAgICAgICBlLmtleUNvZGUgPT09IDY1IC8qIGEgKi8gfHxcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gODEgLyogcSAqLykge1xuICAgICAgICAgICAgdGhpcy5sZWZ0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWxlYXNlKGUpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzggLyogdXAgKi8gfHxcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gODcgLyogdyAqLyB8fFxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA5MCAvKiB6ICovKSB7XG4gICAgICAgICAgICB0aGlzLnVwID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzOSAvKiByaWdodCAqLyB8fCBlLmtleUNvZGUgPT09IDY4IC8qIGQgKi8pIHtcbiAgICAgICAgICAgIHRoaXMucmlnaHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDQwIC8qIGRvd24gKi8gfHwgZS5rZXlDb2RlID09PSA4MyAvKiBzICovKSB7XG4gICAgICAgICAgICB0aGlzLmRvd24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM3IC8qIGxlZnQgKi8gfHxcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gNjUgLyogYSAqLyB8fFxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA4MSAvKiBxICovKSB7XG4gICAgICAgICAgICB0aGlzLmxlZnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCB7IFdhc2RDb250cm9sc0NvbXBvbmVudCB9O1xuIiwgIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9O1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbnZhciBraW5kT2YgPSAoZnVuY3Rpb24oY2FjaGUpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgcmV0dXJuIGZ1bmN0aW9uKHRoaW5nKSB7XG4gICAgdmFyIHN0ciA9IHRvU3RyaW5nLmNhbGwodGhpbmcpO1xuICAgIHJldHVybiBjYWNoZVtzdHJdIHx8IChjYWNoZVtzdHJdID0gc3RyLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpKTtcbiAgfTtcbn0pKE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXG5mdW5jdGlvbiBraW5kT2ZUZXN0KHR5cGUpIHtcbiAgdHlwZSA9IHR5cGUudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIGlzS2luZE9mKHRoaW5nKSB7XG4gICAgcmV0dXJuIGtpbmRPZih0aGluZykgPT09IHR5cGU7XG4gIH07XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkodmFsKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHZhbCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQnVmZmVyKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwpICYmIHZhbC5jb25zdHJ1Y3RvciAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsLmNvbnN0cnVjdG9yKVxuICAgICYmIHR5cGVvZiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgdmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKHZhbCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xudmFyIGlzQXJyYXlCdWZmZXIgPSBraW5kT2ZUZXN0KCdBcnJheUJ1ZmZlcicpO1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKGlzQXJyYXlCdWZmZXIodmFsLmJ1ZmZlcikpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcic7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBwbGFpbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgcGxhaW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWwpIHtcbiAgaWYgKGtpbmRPZih2YWwpICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBwcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsKTtcbiAgcmV0dXJuIHByb3RvdHlwZSA9PT0gbnVsbCB8fCBwcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGU7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIERhdGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG52YXIgaXNEYXRlID0ga2luZE9mVGVzdCgnRGF0ZScpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xudmFyIGlzRmlsZSA9IGtpbmRPZlRlc3QoJ0ZpbGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbnZhciBpc0Jsb2IgPSBraW5kT2ZUZXN0KCdCbG9iJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlTGlzdFxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xudmFyIGlzRmlsZUxpc3QgPSBraW5kT2ZUZXN0KCdGaWxlTGlzdCcpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJlYW0odmFsKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGb3JtRGF0YSh0aGluZykge1xuICB2YXIgcGF0dGVybiA9ICdbb2JqZWN0IEZvcm1EYXRhXSc7XG4gIHJldHVybiB0aGluZyAmJiAoXG4gICAgKHR5cGVvZiBGb3JtRGF0YSA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGluZyBpbnN0YW5jZW9mIEZvcm1EYXRhKSB8fFxuICAgIHRvU3RyaW5nLmNhbGwodGhpbmcpID09PSBwYXR0ZXJuIHx8XG4gICAgKGlzRnVuY3Rpb24odGhpbmcudG9TdHJpbmcpICYmIHRoaW5nLnRvU3RyaW5nKCkgPT09IHBhdHRlcm4pXG4gICk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbnZhciBpc1VSTFNlYXJjaFBhcmFtcyA9IGtpbmRPZlRlc3QoJ1VSTFNlYXJjaFBhcmFtcycpO1xuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gIHJldHVybiBzdHIudHJpbSA/IHN0ci50cmltKCkgOiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqIG5hdGl2ZXNjcmlwdFxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdOYXRpdmVTY3JpcHQnIG9yICdOUydcbiAqL1xuZnVuY3Rpb24gaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAobmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ05hdGl2ZVNjcmlwdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ05TJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdcbiAgKTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAoaXNQbGFpbk9iamVjdChyZXN1bHRba2V5XSkgJiYgaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHt9LCB2YWwpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbC5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRXh0ZW5kcyBvYmplY3QgYSBieSBtdXRhYmx5IGFkZGluZyB0byBpdCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc0FyZyBUaGUgb2JqZWN0IHRvIGJpbmQgZnVuY3Rpb24gdG9cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIHJlc3VsdGluZyB2YWx1ZSBvZiBvYmplY3QgYVxuICovXG5mdW5jdGlvbiBleHRlbmQoYSwgYiwgdGhpc0FyZykge1xuICBmb3JFYWNoKGIsIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHRoaXNBcmcgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYVtrZXldID0gYmluZCh2YWwsIHRoaXNBcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhW2tleV0gPSB2YWw7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGE7XG59XG5cbi8qKlxuICogUmVtb3ZlIGJ5dGUgb3JkZXIgbWFya2VyLiBUaGlzIGNhdGNoZXMgRUYgQkIgQkYgKHRoZSBVVEYtOCBCT00pXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnQgd2l0aCBCT01cbiAqIEByZXR1cm4ge3N0cmluZ30gY29udGVudCB2YWx1ZSB3aXRob3V0IEJPTVxuICovXG5mdW5jdGlvbiBzdHJpcEJPTShjb250ZW50KSB7XG4gIGlmIChjb250ZW50LmNoYXJDb2RlQXQoMCkgPT09IDB4RkVGRikge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDEpO1xuICB9XG4gIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlclxuICogQHBhcmFtIHtmdW5jdGlvbn0gY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ29uc3RydWN0b3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcHNdXG4gKiBAcGFyYW0ge29iamVjdH0gW2Rlc2NyaXB0b3JzXVxuICovXG5cbmZ1bmN0aW9uIGluaGVyaXRzKGNvbnN0cnVjdG9yLCBzdXBlckNvbnN0cnVjdG9yLCBwcm9wcywgZGVzY3JpcHRvcnMpIHtcbiAgY29uc3RydWN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNvbnN0cnVjdG9yLnByb3RvdHlwZSwgZGVzY3JpcHRvcnMpO1xuICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjb25zdHJ1Y3RvcjtcbiAgcHJvcHMgJiYgT2JqZWN0LmFzc2lnbihjb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3BzKTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlIG9iamVjdCB3aXRoIGRlZXAgcHJvdG90eXBlIGNoYWluIHRvIGEgZmxhdCBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2VPYmogc291cmNlIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IFtkZXN0T2JqXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZpbHRlcl1cbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cblxuZnVuY3Rpb24gdG9GbGF0T2JqZWN0KHNvdXJjZU9iaiwgZGVzdE9iaiwgZmlsdGVyKSB7XG4gIHZhciBwcm9wcztcbiAgdmFyIGk7XG4gIHZhciBwcm9wO1xuICB2YXIgbWVyZ2VkID0ge307XG5cbiAgZGVzdE9iaiA9IGRlc3RPYmogfHwge307XG5cbiAgZG8ge1xuICAgIHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlT2JqKTtcbiAgICBpID0gcHJvcHMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICBwcm9wID0gcHJvcHNbaV07XG4gICAgICBpZiAoIW1lcmdlZFtwcm9wXSkge1xuICAgICAgICBkZXN0T2JqW3Byb3BdID0gc291cmNlT2JqW3Byb3BdO1xuICAgICAgICBtZXJnZWRbcHJvcF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3VyY2VPYmogPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoc291cmNlT2JqKTtcbiAgfSB3aGlsZSAoc291cmNlT2JqICYmICghZmlsdGVyIHx8IGZpbHRlcihzb3VyY2VPYmosIGRlc3RPYmopKSAmJiBzb3VyY2VPYmogIT09IE9iamVjdC5wcm90b3R5cGUpO1xuXG4gIHJldHVybiBkZXN0T2JqO1xufVxuXG4vKlxuICogZGV0ZXJtaW5lcyB3aGV0aGVyIGEgc3RyaW5nIGVuZHMgd2l0aCB0aGUgY2hhcmFjdGVycyBvZiBhIHNwZWNpZmllZCBzdHJpbmdcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hTdHJpbmdcbiAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb249IDBdXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gZW5kc1dpdGgoc3RyLCBzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA+IHN0ci5sZW5ndGgpIHtcbiAgICBwb3NpdGlvbiA9IHN0ci5sZW5ndGg7XG4gIH1cbiAgcG9zaXRpb24gLT0gc2VhcmNoU3RyaW5nLmxlbmd0aDtcbiAgdmFyIGxhc3RJbmRleCA9IHN0ci5pbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pO1xuICByZXR1cm4gbGFzdEluZGV4ICE9PSAtMSAmJiBsYXN0SW5kZXggPT09IHBvc2l0aW9uO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBuZXcgYXJyYXkgZnJvbSBhcnJheSBsaWtlIG9iamVjdFxuICogQHBhcmFtIHsqfSBbdGhpbmddXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkodGhpbmcpIHtcbiAgaWYgKCF0aGluZykgcmV0dXJuIG51bGw7XG4gIHZhciBpID0gdGhpbmcubGVuZ3RoO1xuICBpZiAoaXNVbmRlZmluZWQoaSkpIHJldHVybiBudWxsO1xuICB2YXIgYXJyID0gbmV3IEFycmF5KGkpO1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIGFycltpXSA9IHRoaW5nW2ldO1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG52YXIgaXNUeXBlZEFycmF5ID0gKGZ1bmN0aW9uKFR5cGVkQXJyYXkpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgcmV0dXJuIGZ1bmN0aW9uKHRoaW5nKSB7XG4gICAgcmV0dXJuIFR5cGVkQXJyYXkgJiYgdGhpbmcgaW5zdGFuY2VvZiBUeXBlZEFycmF5O1xuICB9O1xufSkodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihVaW50OEFycmF5KSk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0FycmF5OiBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyOiBpc0FycmF5QnVmZmVyLFxuICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gIGlzRm9ybURhdGE6IGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3OiBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICBpc051bWJlcjogaXNOdW1iZXIsXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgaXNQbGFpbk9iamVjdDogaXNQbGFpbk9iamVjdCxcbiAgaXNVbmRlZmluZWQ6IGlzVW5kZWZpbmVkLFxuICBpc0RhdGU6IGlzRGF0ZSxcbiAgaXNGaWxlOiBpc0ZpbGUsXG4gIGlzQmxvYjogaXNCbG9iLFxuICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbTogaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zOiBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNTdGFuZGFyZEJyb3dzZXJFbnY6IGlzU3RhbmRhcmRCcm93c2VyRW52LFxuICBmb3JFYWNoOiBmb3JFYWNoLFxuICBtZXJnZTogbWVyZ2UsXG4gIGV4dGVuZDogZXh0ZW5kLFxuICB0cmltOiB0cmltLFxuICBzdHJpcEJPTTogc3RyaXBCT00sXG4gIGluaGVyaXRzOiBpbmhlcml0cyxcbiAgdG9GbGF0T2JqZWN0OiB0b0ZsYXRPYmplY3QsXG4gIGtpbmRPZjoga2luZE9mLFxuICBraW5kT2ZUZXN0OiBraW5kT2ZUZXN0LFxuICBlbmRzV2l0aDogZW5kc1dpdGgsXG4gIHRvQXJyYXk6IHRvQXJyYXksXG4gIGlzVHlwZWRBcnJheTogaXNUeXBlZEFycmF5LFxuICBpc0ZpbGVMaXN0OiBpc0ZpbGVMaXN0XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBlbmNvZGUodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgcGFyYW1zU2VyaWFsaXplcikge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgdmFyIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIGlmIChwYXJhbXNTZXJpYWxpemVyKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtc1NlcmlhbGl6ZXIocGFyYW1zKTtcbiAgfSBlbHNlIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtcy50b1N0cmluZygpO1xuICB9IGVsc2Uge1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuXG4gICAgdXRpbHMuZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uIHNlcmlhbGl6ZSh2YWwsIGtleSkge1xuICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh1dGlscy5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAga2V5ID0ga2V5ICsgJ1tdJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9IFt2YWxdO1xuICAgICAgfVxuXG4gICAgICB1dGlscy5mb3JFYWNoKHZhbCwgZnVuY3Rpb24gcGFyc2VWYWx1ZSh2KSB7XG4gICAgICAgIGlmICh1dGlscy5pc0RhdGUodikpIHtcbiAgICAgICAgICB2ID0gdi50b0lTT1N0cmluZygpO1xuICAgICAgICB9IGVsc2UgaWYgKHV0aWxzLmlzT2JqZWN0KHYpKSB7XG4gICAgICAgICAgdiA9IEpTT04uc3RyaW5naWZ5KHYpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnRzLnB1c2goZW5jb2RlKGtleSkgKyAnPScgKyBlbmNvZGUodikpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFydHMuam9pbignJicpO1xuICB9XG5cbiAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMpIHtcbiAgICB2YXIgaGFzaG1hcmtJbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XG4gICAgaWYgKGhhc2htYXJrSW5kZXggIT09IC0xKSB7XG4gICAgICB1cmwgPSB1cmwuc2xpY2UoMCwgaGFzaG1hcmtJbmRleCk7XG4gICAgfVxuXG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIEludGVyY2VwdG9yTWFuYWdlcigpIHtcbiAgdGhpcy5oYW5kbGVycyA9IFtdO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuICpcbiAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCwgb3B0aW9ucykge1xuICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgIGZ1bGZpbGxlZDogZnVsZmlsbGVkLFxuICAgIHJlamVjdGVkOiByZWplY3RlZCxcbiAgICBzeW5jaHJvbm91czogb3B0aW9ucyA/IG9wdGlvbnMuc3luY2hyb25vdXMgOiBmYWxzZSxcbiAgICBydW5XaGVuOiBvcHRpb25zID8gb3B0aW9ucy5ydW5XaGVuIDogbnVsbFxuICB9KTtcbiAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmVqZWN0ID0gZnVuY3Rpb24gZWplY3QoaWQpIHtcbiAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG4gKlxuICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZm4pIHtcbiAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgaWYgKGggIT09IG51bGwpIHtcbiAgICAgIGZuKGgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEludGVyY2VwdG9yTWFuYWdlcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCBub3JtYWxpemVkTmFtZSkge1xuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIHByb2Nlc3NIZWFkZXIodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAobmFtZSAhPT0gbm9ybWFsaXplZE5hbWUgJiYgbmFtZS50b1VwcGVyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWROYW1lXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG4gICAgfVxuICB9KTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZ10gVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5mdW5jdGlvbiBBeGlvc0Vycm9yKG1lc3NhZ2UsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5uYW1lID0gJ0F4aW9zRXJyb3InO1xuICBjb2RlICYmICh0aGlzLmNvZGUgPSBjb2RlKTtcbiAgY29uZmlnICYmICh0aGlzLmNvbmZpZyA9IGNvbmZpZyk7XG4gIHJlcXVlc3QgJiYgKHRoaXMucmVxdWVzdCA9IHJlcXVlc3QpO1xuICByZXNwb25zZSAmJiAodGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlKTtcbn1cblxudXRpbHMuaW5oZXJpdHMoQXhpb3NFcnJvciwgRXJyb3IsIHtcbiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFN0YW5kYXJkXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAvLyBNaWNyb3NvZnRcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcixcbiAgICAgIC8vIE1vemlsbGFcbiAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuICAgICAgbGluZU51bWJlcjogdGhpcy5saW5lTnVtYmVyLFxuICAgICAgY29sdW1uTnVtYmVyOiB0aGlzLmNvbHVtbk51bWJlcixcbiAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuICAgICAgLy8gQXhpb3NcbiAgICAgIGNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICBzdGF0dXM6IHRoaXMucmVzcG9uc2UgJiYgdGhpcy5yZXNwb25zZS5zdGF0dXMgPyB0aGlzLnJlc3BvbnNlLnN0YXR1cyA6IG51bGxcbiAgICB9O1xuICB9XG59KTtcblxudmFyIHByb3RvdHlwZSA9IEF4aW9zRXJyb3IucHJvdG90eXBlO1xudmFyIGRlc2NyaXB0b3JzID0ge307XG5cbltcbiAgJ0VSUl9CQURfT1BUSU9OX1ZBTFVFJyxcbiAgJ0VSUl9CQURfT1BUSU9OJyxcbiAgJ0VDT05OQUJPUlRFRCcsXG4gICdFVElNRURPVVQnLFxuICAnRVJSX05FVFdPUksnLFxuICAnRVJSX0ZSX1RPT19NQU5ZX1JFRElSRUNUUycsXG4gICdFUlJfREVQUkVDQVRFRCcsXG4gICdFUlJfQkFEX1JFU1BPTlNFJyxcbiAgJ0VSUl9CQURfUkVRVUVTVCcsXG4gICdFUlJfQ0FOQ0VMRUQnXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXS5mb3JFYWNoKGZ1bmN0aW9uKGNvZGUpIHtcbiAgZGVzY3JpcHRvcnNbY29kZV0gPSB7dmFsdWU6IGNvZGV9O1xufSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEF4aW9zRXJyb3IsIGRlc2NyaXB0b3JzKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUsICdpc0F4aW9zRXJyb3InLCB7dmFsdWU6IHRydWV9KTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbkF4aW9zRXJyb3IuZnJvbSA9IGZ1bmN0aW9uKGVycm9yLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlLCBjdXN0b21Qcm9wcykge1xuICB2YXIgYXhpb3NFcnJvciA9IE9iamVjdC5jcmVhdGUocHJvdG90eXBlKTtcblxuICB1dGlscy50b0ZsYXRPYmplY3QoZXJyb3IsIGF4aW9zRXJyb3IsIGZ1bmN0aW9uIGZpbHRlcihvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSBFcnJvci5wcm90b3R5cGU7XG4gIH0pO1xuXG4gIEF4aW9zRXJyb3IuY2FsbChheGlvc0Vycm9yLCBlcnJvci5tZXNzYWdlLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlKTtcblxuICBheGlvc0Vycm9yLm5hbWUgPSBlcnJvci5uYW1lO1xuXG4gIGN1c3RvbVByb3BzICYmIE9iamVjdC5hc3NpZ24oYXhpb3NFcnJvciwgY3VzdG9tUHJvcHMpO1xuXG4gIHJldHVybiBheGlvc0Vycm9yO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBBeGlvc0Vycm9yO1xuIiwgIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNpbGVudEpTT05QYXJzaW5nOiB0cnVlLFxuICBmb3JjZWRKU09OUGFyc2luZzogdHJ1ZSxcbiAgY2xhcmlmeVRpbWVvdXRFcnJvcjogZmFsc2Vcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIENvbnZlcnQgYSBkYXRhIG9iamVjdCB0byBGb3JtRGF0YVxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHs/T2JqZWN0fSBbZm9ybURhdGFdXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICoqL1xuXG5mdW5jdGlvbiB0b0Zvcm1EYXRhKG9iaiwgZm9ybURhdGEpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGZvcm1EYXRhID0gZm9ybURhdGEgfHwgbmV3IEZvcm1EYXRhKCk7XG5cbiAgdmFyIHN0YWNrID0gW107XG5cbiAgZnVuY3Rpb24gY29udmVydFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gJyc7XG5cbiAgICBpZiAodXRpbHMuaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlLnRvSVNPU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXIodmFsdWUpIHx8IHV0aWxzLmlzVHlwZWRBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgQmxvYiA9PT0gJ2Z1bmN0aW9uJyA/IG5ldyBCbG9iKFt2YWx1ZV0pIDogQnVmZmVyLmZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1aWxkKGRhdGEsIHBhcmVudEtleSkge1xuICAgIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KGRhdGEpIHx8IHV0aWxzLmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIGlmIChzdGFjay5pbmRleE9mKGRhdGEpICE9PSAtMSkge1xuICAgICAgICB0aHJvdyBFcnJvcignQ2lyY3VsYXIgcmVmZXJlbmNlIGRldGVjdGVkIGluICcgKyBwYXJlbnRLZXkpO1xuICAgICAgfVxuXG4gICAgICBzdGFjay5wdXNoKGRhdGEpO1xuXG4gICAgICB1dGlscy5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uIGVhY2godmFsdWUsIGtleSkge1xuICAgICAgICBpZiAodXRpbHMuaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG4gICAgICAgIHZhciBmdWxsS2V5ID0gcGFyZW50S2V5ID8gcGFyZW50S2V5ICsgJy4nICsga2V5IDoga2V5O1xuICAgICAgICB2YXIgYXJyO1xuXG4gICAgICAgIGlmICh2YWx1ZSAmJiAhcGFyZW50S2V5ICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBpZiAodXRpbHMuZW5kc1dpdGgoa2V5LCAne30nKSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHV0aWxzLmVuZHNXaXRoKGtleSwgJ1tdJykgJiYgKGFyciA9IHV0aWxzLnRvQXJyYXkodmFsdWUpKSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICAgICAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICF1dGlscy5pc1VuZGVmaW5lZChlbCkgJiYgZm9ybURhdGEuYXBwZW5kKGZ1bGxLZXksIGNvbnZlcnRWYWx1ZShlbCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnVpbGQodmFsdWUsIGZ1bGxLZXkpO1xuICAgICAgfSk7XG5cbiAgICAgIHN0YWNrLnBvcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQocGFyZW50S2V5LCBjb252ZXJ0VmFsdWUoZGF0YSkpO1xuICAgIH1cbiAgfVxuXG4gIGJ1aWxkKG9iaik7XG5cbiAgcmV0dXJuIGZvcm1EYXRhO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvRm9ybURhdGE7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQXhpb3NFcnJvciA9IHJlcXVpcmUoJy4vQXhpb3NFcnJvcicpO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIHZhciB2YWxpZGF0ZVN0YXR1cyA9IHJlc3BvbnNlLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztcbiAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgW0F4aW9zRXJyb3IuRVJSX0JBRF9SRVFVRVNULCBBeGlvc0Vycm9yLkVSUl9CQURfUkVTUE9OU0VdW01hdGguZmxvb3IocmVzcG9uc2Uuc3RhdHVzIC8gMTAwKSAtIDRdLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgcmVzcG9uc2UucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlXG4gICAgKSk7XG4gIH1cbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgc3VwcG9ydCBkb2N1bWVudC5jb29raWVcbiAgICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKG5hbWUsIHZhbHVlLCBleHBpcmVzLCBwYXRoLCBkb21haW4sIHNlY3VyZSkge1xuICAgICAgICAgIHZhciBjb29raWUgPSBbXTtcbiAgICAgICAgICBjb29raWUucHVzaChuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNOdW1iZXIoZXhwaXJlcykpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcocGF0aCkpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcoZG9tYWluKSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2VjdXJlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnc2VjdXJlJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llLmpvaW4oJzsgJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyhefDtcXFxccyopKCcgKyBuYW1lICsgJyk9KFteO10qKScpKTtcbiAgICAgICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKG5hbWUpIHtcbiAgICAgICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge30sXG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgICB9O1xuICAgIH0pKClcbik7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcbiAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gIHJldHVybiAvXihbYS16XVthLXpcXGQrXFwtLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuICByZXR1cm4gcmVsYXRpdmVVUkxcbiAgICA/IGJhc2VVUkwucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKVxuICAgIDogYmFzZVVSTDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNBYnNvbHV0ZVVSTCA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi4vaGVscGVycy9jb21iaW5lVVJMcycpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgYmFzZVVSTCB3aXRoIHRoZSByZXF1ZXN0ZWRVUkwsXG4gKiBvbmx5IHdoZW4gdGhlIHJlcXVlc3RlZFVSTCBpcyBub3QgYWxyZWFkeSBhbiBhYnNvbHV0ZSBVUkwuXG4gKiBJZiB0aGUgcmVxdWVzdFVSTCBpcyBhYnNvbHV0ZSwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSByZXF1ZXN0ZWRVUkwgdW50b3VjaGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RlZFVSTCBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgdG8gY29tYmluZVxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIGZ1bGwgcGF0aFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkRnVsbFBhdGgoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKSB7XG4gIGlmIChiYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKHJlcXVlc3RlZFVSTCkpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLy8gSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbnZhciBpZ25vcmVEdXBsaWNhdGVPZiA9IFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gIHZhciBwYXJzZWQgPSB7fTtcbiAgdmFyIGtleTtcbiAgdmFyIHZhbDtcbiAgdmFyIGk7XG5cbiAgaWYgKCFoZWFkZXJzKSB7IHJldHVybiBwYXJzZWQ7IH1cblxuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKDAsIGkpKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZi5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSAocGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSA6IFtdKS5jb25jYXQoW3ZhbF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG4gIC8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAgIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICB2YXIgbXNpZSA9IC8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICB2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICB2YXIgb3JpZ2luVVJMO1xuXG4gICAgICAvKipcbiAgICAqIFBhcnNlIGEgVVJMIHRvIGRpc2NvdmVyIGl0J3MgY29tcG9uZW50c1xuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgVGhlIFVSTCB0byBiZSBwYXJzZWRcbiAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgKi9cbiAgICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICAgIHZhciBocmVmID0gdXJsO1xuXG4gICAgICAgIGlmIChtc2llKSB7XG4gICAgICAgIC8vIElFIG5lZWRzIGF0dHJpYnV0ZSBzZXQgdHdpY2UgdG8gbm9ybWFsaXplIHByb3BlcnRpZXNcbiAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgICAgICAgfVxuXG4gICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAgIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgICAgICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcbiAgICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICAgICAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsXG4gICAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/XG4gICAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgICAgLyoqXG4gICAgKiBEZXRlcm1pbmUgaWYgYSBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiBhcyB0aGUgY3VycmVudCBsb2NhdGlvblxuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0VVJMIFRoZSBVUkwgdG8gdGVzdFxuICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4sIG90aGVyd2lzZSBmYWxzZVxuICAgICovXG4gICAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgICAgdmFyIHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgICAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVSTC5wcm90b2NvbCAmJlxuICAgICAgICAgICAgcGFyc2VkLmhvc3QgPT09IG9yaWdpblVSTC5ob3N0KTtcbiAgICAgIH07XG4gICAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9O1xuICAgIH0pKClcbik7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQXhpb3NFcnJvciA9IHJlcXVpcmUoJy4uL2NvcmUvQXhpb3NFcnJvcicpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBBIGBDYW5jZWxlZEVycm9yYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbGVkRXJyb3IobWVzc2FnZSkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgQXhpb3NFcnJvci5jYWxsKHRoaXMsIG1lc3NhZ2UgPT0gbnVsbCA/ICdjYW5jZWxlZCcgOiBtZXNzYWdlLCBBeGlvc0Vycm9yLkVSUl9DQU5DRUxFRCk7XG4gIHRoaXMubmFtZSA9ICdDYW5jZWxlZEVycm9yJztcbn1cblxudXRpbHMuaW5oZXJpdHMoQ2FuY2VsZWRFcnJvciwgQXhpb3NFcnJvciwge1xuICBfX0NBTkNFTF9fOiB0cnVlXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWxlZEVycm9yO1xuIiwgIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZVByb3RvY29sKHVybCkge1xuICB2YXIgbWF0Y2ggPSAvXihbLStcXHddezEsMjV9KSg6P1xcL1xcL3w6KS8uZXhlYyh1cmwpO1xuICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbMV0gfHwgJyc7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4vLi4vY29yZS9zZXR0bGUnKTtcbnZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIGJ1aWxkRnVsbFBhdGggPSByZXF1aXJlKCcuLi9jb3JlL2J1aWxkRnVsbFBhdGgnKTtcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzJyk7XG52YXIgaXNVUkxTYW1lT3JpZ2luID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbicpO1xudmFyIHRyYW5zaXRpb25hbERlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMvdHJhbnNpdGlvbmFsJyk7XG52YXIgQXhpb3NFcnJvciA9IHJlcXVpcmUoJy4uL2NvcmUvQXhpb3NFcnJvcicpO1xudmFyIENhbmNlbGVkRXJyb3IgPSByZXF1aXJlKCcuLi9jYW5jZWwvQ2FuY2VsZWRFcnJvcicpO1xudmFyIHBhcnNlUHJvdG9jb2wgPSByZXF1aXJlKCcuLi9oZWxwZXJzL3BhcnNlUHJvdG9jb2wnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB4aHJBZGFwdGVyKGNvbmZpZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZGlzcGF0Y2hYaHJSZXF1ZXN0KHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZXF1ZXN0RGF0YSA9IGNvbmZpZy5kYXRhO1xuICAgIHZhciByZXF1ZXN0SGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xuICAgIHZhciByZXNwb25zZVR5cGUgPSBjb25maWcucmVzcG9uc2VUeXBlO1xuICAgIHZhciBvbkNhbmNlbGVkO1xuICAgIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi51bnN1YnNjcmliZShvbkNhbmNlbGVkKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbmZpZy5zaWduYWwpIHtcbiAgICAgICAgY29uZmlnLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQ2FuY2VsZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSAmJiB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpKSB7XG4gICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddOyAvLyBMZXQgdGhlIGJyb3dzZXIgc2V0IGl0XG4gICAgfVxuXG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgdmFyIHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgPyB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoY29uZmlnLmF1dGgucGFzc3dvcmQpKSA6ICcnO1xuICAgICAgcmVxdWVzdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICB2YXIgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcblxuICAgIHJlcXVlc3Qub3Blbihjb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIGJ1aWxkVVJMKGZ1bGxQYXRoLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplciksIHRydWUpO1xuXG4gICAgLy8gU2V0IHRoZSByZXF1ZXN0IHRpbWVvdXQgaW4gTVNcbiAgICByZXF1ZXN0LnRpbWVvdXQgPSBjb25maWcudGltZW91dDtcblxuICAgIGZ1bmN0aW9uIG9ubG9hZGVuZCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9ICFyZXNwb25zZVR5cGUgfHwgcmVzcG9uc2VUeXBlID09PSAndGV4dCcgfHwgIHJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nID9cbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgdmFyIHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKGZ1bmN0aW9uIF9yZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9LCBmdW5jdGlvbiBfcmVqZWN0KGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoJ29ubG9hZGVuZCcgaW4gcmVxdWVzdCkge1xuICAgICAgLy8gVXNlIG9ubG9hZGVuZCBpZiBhdmFpbGFibGVcbiAgICAgIHJlcXVlc3Qub25sb2FkZW5kID0gb25sb2FkZW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlIHRvIGVtdWxhdGUgb25sb2FkZW5kXG4gICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCB8fCByZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVhZHlzdGF0ZSBoYW5kbGVyIGlzIGNhbGxpbmcgYmVmb3JlIG9uZXJyb3Igb3Igb250aW1lb3V0IGhhbmRsZXJzLFxuICAgICAgICAvLyBzbyB3ZSBzaG91bGQgY2FsbCBvbmxvYWRlbmQgb24gdGhlIG5leHQgJ3RpY2snXG4gICAgICAgIHNldFRpbWVvdXQob25sb2FkZW5kKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdSZXF1ZXN0IGFib3J0ZWQnLCBBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCwgY29uZmlnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdOZXR3b3JrIEVycm9yJywgQXhpb3NFcnJvci5FUlJfTkVUV09SSywgY29uZmlnLCByZXF1ZXN0LCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIHZhciB0aW1lb3V0RXJyb3JNZXNzYWdlID0gY29uZmlnLnRpbWVvdXQgPyAndGltZW91dCBvZiAnICsgY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnIDogJ3RpbWVvdXQgZXhjZWVkZWQnO1xuICAgICAgdmFyIHRyYW5zaXRpb25hbCA9IGNvbmZpZy50cmFuc2l0aW9uYWwgfHwgdHJhbnNpdGlvbmFsRGVmYXVsdHM7XG4gICAgICBpZiAoY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSA9IGNvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlO1xuICAgICAgfVxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlLFxuICAgICAgICB0cmFuc2l0aW9uYWwuY2xhcmlmeVRpbWVvdXRFcnJvciA/IEF4aW9zRXJyb3IuRVRJTUVET1VUIDogQXhpb3NFcnJvci5FQ09OTkFCT1JURUQsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gICAgLy8gU3BlY2lmaWNhbGx5IG5vdCBpZiB3ZSdyZSBpbiBhIHdlYiB3b3JrZXIsIG9yIHJlYWN0LW5hdGl2ZS5cbiAgICBpZiAodXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSkge1xuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGZ1bGxQYXRoKSkgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lID9cbiAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcud2l0aENyZWRlbnRpYWxzKSkge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSAhIWNvbmZpZy53aXRoQ3JlZGVudGlhbHM7XG4gICAgfVxuXG4gICAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChyZXNwb25zZVR5cGUgJiYgcmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25Eb3dubG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nICYmIHJlcXVlc3QudXBsb2FkKSB7XG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuIHx8IGNvbmZpZy5zaWduYWwpIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICBvbkNhbmNlbGVkID0gZnVuY3Rpb24oY2FuY2VsKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZWplY3QoIWNhbmNlbCB8fCAoY2FuY2VsICYmIGNhbmNlbC50eXBlKSA/IG5ldyBDYW5jZWxlZEVycm9yKCkgOiBjYW5jZWwpO1xuICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgICAgfTtcblxuICAgICAgY29uZmlnLmNhbmNlbFRva2VuICYmIGNvbmZpZy5jYW5jZWxUb2tlbi5zdWJzY3JpYmUob25DYW5jZWxlZCk7XG4gICAgICBpZiAoY29uZmlnLnNpZ25hbCkge1xuICAgICAgICBjb25maWcuc2lnbmFsLmFib3J0ZWQgPyBvbkNhbmNlbGVkKCkgOiBjb25maWcuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25DYW5jZWxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFyZXF1ZXN0RGF0YSkge1xuICAgICAgcmVxdWVzdERhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBwcm90b2NvbCA9IHBhcnNlUHJvdG9jb2woZnVsbFBhdGgpO1xuXG4gICAgaWYgKHByb3RvY29sICYmIFsgJ2h0dHAnLCAnaHR0cHMnLCAnZmlsZScgXS5pbmRleE9mKHByb3RvY29sKSA9PT0gLTEpIHtcbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignVW5zdXBwb3J0ZWQgcHJvdG9jb2wgJyArIHByb3RvY29sICsgJzonLCBBeGlvc0Vycm9yLkVSUl9CQURfUkVRVUVTVCwgY29uZmlnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhKTtcbiAgfSk7XG59O1xuIiwgIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBzdHJpY3Rcbm1vZHVsZS5leHBvcnRzID0gbnVsbDtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZScpO1xudmFyIEF4aW9zRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL0F4aW9zRXJyb3InKTtcbnZhciB0cmFuc2l0aW9uYWxEZWZhdWx0cyA9IHJlcXVpcmUoJy4vdHJhbnNpdGlvbmFsJyk7XG52YXIgdG9Gb3JtRGF0YSA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvdG9Gb3JtRGF0YScpO1xuXG52YXIgREVGQVVMVF9DT05URU5UX1RZUEUgPSB7XG4gICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuZnVuY3Rpb24gc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsIHZhbHVlKSB7XG4gIGlmICghdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVycykgJiYgdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVyc1snQ29udGVudC1UeXBlJ10pKSB7XG4gICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0QWRhcHRlcigpIHtcbiAgdmFyIGFkYXB0ZXI7XG4gIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIGJyb3dzZXJzIHVzZSBYSFIgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuLi9hZGFwdGVycy94aHInKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXScpIHtcbiAgICAvLyBGb3Igbm9kZSB1c2UgSFRUUCBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4uL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfVxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5U2FmZWx5KHJhd1ZhbHVlLCBwYXJzZXIsIGVuY29kZXIpIHtcbiAgaWYgKHV0aWxzLmlzU3RyaW5nKHJhd1ZhbHVlKSkge1xuICAgIHRyeSB7XG4gICAgICAocGFyc2VyIHx8IEpTT04ucGFyc2UpKHJhd1ZhbHVlKTtcbiAgICAgIHJldHVybiB1dGlscy50cmltKHJhd1ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZS5uYW1lICE9PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChlbmNvZGVyIHx8IEpTT04uc3RyaW5naWZ5KShyYXdWYWx1ZSk7XG59XG5cbnZhciBkZWZhdWx0cyA9IHtcblxuICB0cmFuc2l0aW9uYWw6IHRyYW5zaXRpb25hbERlZmF1bHRzLFxuXG4gIGFkYXB0ZXI6IGdldERlZmF1bHRBZGFwdGVyKCksXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0FjY2VwdCcpO1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpO1xuXG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0Jsb2IoZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHZhciBpc09iamVjdFBheWxvYWQgPSB1dGlscy5pc09iamVjdChkYXRhKTtcbiAgICB2YXIgY29udGVudFR5cGUgPSBoZWFkZXJzICYmIGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddO1xuXG4gICAgdmFyIGlzRmlsZUxpc3Q7XG5cbiAgICBpZiAoKGlzRmlsZUxpc3QgPSB1dGlscy5pc0ZpbGVMaXN0KGRhdGEpKSB8fCAoaXNPYmplY3RQYXlsb2FkICYmIGNvbnRlbnRUeXBlID09PSAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScpKSB7XG4gICAgICB2YXIgX0Zvcm1EYXRhID0gdGhpcy5lbnYgJiYgdGhpcy5lbnYuRm9ybURhdGE7XG4gICAgICByZXR1cm4gdG9Gb3JtRGF0YShpc0ZpbGVMaXN0ID8geydmaWxlc1tdJzogZGF0YX0gOiBkYXRhLCBfRm9ybURhdGEgJiYgbmV3IF9Gb3JtRGF0YSgpKTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0UGF5bG9hZCB8fCBjb250ZW50VHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgIHJldHVybiBzdHJpbmdpZnlTYWZlbHkoZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIHZhciB0cmFuc2l0aW9uYWwgPSB0aGlzLnRyYW5zaXRpb25hbCB8fCBkZWZhdWx0cy50cmFuc2l0aW9uYWw7XG4gICAgdmFyIHNpbGVudEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5zaWxlbnRKU09OUGFyc2luZztcbiAgICB2YXIgZm9yY2VkSlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLmZvcmNlZEpTT05QYXJzaW5nO1xuICAgIHZhciBzdHJpY3RKU09OUGFyc2luZyA9ICFzaWxlbnRKU09OUGFyc2luZyAmJiB0aGlzLnJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nO1xuXG4gICAgaWYgKHN0cmljdEpTT05QYXJzaW5nIHx8IChmb3JjZWRKU09OUGFyc2luZyAmJiB1dGlscy5pc1N0cmluZyhkYXRhKSAmJiBkYXRhLmxlbmd0aCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoc3RyaWN0SlNPTlBhcnNpbmcpIHtcbiAgICAgICAgICBpZiAoZS5uYW1lID09PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBBeGlvc0Vycm9yLmZyb20oZSwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFLCB0aGlzLCBudWxsLCB0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcbiAgbWF4Qm9keUxlbmd0aDogLTEsXG5cbiAgZW52OiB7XG4gICAgRm9ybURhdGE6IHJlcXVpcmUoJy4vZW52L0Zvcm1EYXRhJylcbiAgfSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9LFxuXG4gIGhlYWRlcnM6IHtcbiAgICBjb21tb246IHtcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuICAgIH1cbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0cztcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4uL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICB2YXIgY29udGV4dCA9IHRoaXMgfHwgZGVmYXVsdHM7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICB1dGlscy5mb3JFYWNoKGZucywgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG4gICAgZGF0YSA9IGZuLmNhbGwoY29udGV4dCwgZGF0YSwgaGVhZGVycyk7XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciB0cmFuc2Zvcm1EYXRhID0gcmVxdWlyZSgnLi90cmFuc2Zvcm1EYXRhJyk7XG52YXIgaXNDYW5jZWwgPSByZXF1aXJlKCcuLi9jYW5jZWwvaXNDYW5jZWwnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4uL2RlZmF1bHRzJyk7XG52YXIgQ2FuY2VsZWRFcnJvciA9IHJlcXVpcmUoJy4uL2NhbmNlbC9DYW5jZWxlZEVycm9yJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGVkRXJyb3JgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG5cbiAgaWYgKGNvbmZpZy5zaWduYWwgJiYgY29uZmlnLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgdGhyb3cgbmV3IENhbmNlbGVkRXJyb3IoKTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyIHVzaW5nIHRoZSBjb25maWd1cmVkIGFkYXB0ZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkaXNwYXRjaFJlcXVlc3QoY29uZmlnKSB7XG4gIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAvLyBFbnN1cmUgaGVhZGVycyBleGlzdFxuICBjb25maWcuaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzIHx8IHt9O1xuXG4gIC8vIFRyYW5zZm9ybSByZXF1ZXN0IGRhdGFcbiAgY29uZmlnLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgY29uZmlnLFxuICAgIGNvbmZpZy5kYXRhLFxuICAgIGNvbmZpZy5oZWFkZXJzLFxuICAgIGNvbmZpZy50cmFuc2Zvcm1SZXF1ZXN0XG4gICk7XG5cbiAgLy8gRmxhdHRlbiBoZWFkZXJzXG4gIGNvbmZpZy5oZWFkZXJzID0gdXRpbHMubWVyZ2UoXG4gICAgY29uZmlnLmhlYWRlcnMuY29tbW9uIHx8IHt9LFxuICAgIGNvbmZpZy5oZWFkZXJzW2NvbmZpZy5tZXRob2RdIHx8IHt9LFxuICAgIGNvbmZpZy5oZWFkZXJzXG4gICk7XG5cbiAgdXRpbHMuZm9yRWFjaChcbiAgICBbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdwb3N0JywgJ3B1dCcsICdwYXRjaCcsICdjb21tb24nXSxcbiAgICBmdW5jdGlvbiBjbGVhbkhlYWRlckNvbmZpZyhtZXRob2QpIHtcbiAgICAgIGRlbGV0ZSBjb25maWcuaGVhZGVyc1ttZXRob2RdO1xuICAgIH1cbiAgKTtcblxuICB2YXIgYWRhcHRlciA9IGNvbmZpZy5hZGFwdGVyIHx8IGRlZmF1bHRzLmFkYXB0ZXI7XG5cbiAgcmV0dXJuIGFkYXB0ZXIoY29uZmlnKS50aGVuKGZ1bmN0aW9uIG9uQWRhcHRlclJlc29sdXRpb24ocmVzcG9uc2UpIHtcbiAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgIHJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICBjb25maWcsXG4gICAgICByZXNwb25zZS5kYXRhLFxuICAgICAgcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBDb25maWctc3BlY2lmaWMgbWVyZ2UtZnVuY3Rpb24gd2hpY2ggY3JlYXRlcyBhIG5ldyBjb25maWctb2JqZWN0XG4gKiBieSBtZXJnaW5nIHR3byBjb25maWd1cmF0aW9uIG9iamVjdHMgdG9nZXRoZXIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzFcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBOZXcgb2JqZWN0IHJlc3VsdGluZyBmcm9tIG1lcmdpbmcgY29uZmlnMiB0byBjb25maWcxXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWVyZ2VDb25maWcoY29uZmlnMSwgY29uZmlnMikge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgY29uZmlnMiA9IGNvbmZpZzIgfHwge307XG4gIHZhciBjb25maWcgPSB7fTtcblxuICBmdW5jdGlvbiBnZXRNZXJnZWRWYWx1ZSh0YXJnZXQsIHNvdXJjZSkge1xuICAgIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KHRhcmdldCkgJiYgdXRpbHMuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMubWVyZ2UodGFyZ2V0LCBzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMubWVyZ2Uoe30sIHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiBzb3VyY2Uuc2xpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBtZXJnZURlZXBQcm9wZXJ0aWVzKHByb3ApIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZzJbcHJvcF0pKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUoY29uZmlnMVtwcm9wXSwgY29uZmlnMltwcm9wXSk7XG4gICAgfSBlbHNlIGlmICghdXRpbHMuaXNVbmRlZmluZWQoY29uZmlnMVtwcm9wXSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGNvbmZpZzFbcHJvcF0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiB2YWx1ZUZyb21Db25maWcyKHByb3ApIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZzJbcHJvcF0pKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBjb25maWcyW3Byb3BdKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gZGVmYXVsdFRvQ29uZmlnMihwcm9wKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcyW3Byb3BdKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgY29uZmlnMltwcm9wXSk7XG4gICAgfSBlbHNlIGlmICghdXRpbHMuaXNVbmRlZmluZWQoY29uZmlnMVtwcm9wXSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGNvbmZpZzFbcHJvcF0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBtZXJnZURpcmVjdEtleXMocHJvcCkge1xuICAgIGlmIChwcm9wIGluIGNvbmZpZzIpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZShjb25maWcxW3Byb3BdLCBjb25maWcyW3Byb3BdKTtcbiAgICB9IGVsc2UgaWYgKHByb3AgaW4gY29uZmlnMSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgY29uZmlnMVtwcm9wXSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIG1lcmdlTWFwID0ge1xuICAgICd1cmwnOiB2YWx1ZUZyb21Db25maWcyLFxuICAgICdtZXRob2QnOiB2YWx1ZUZyb21Db25maWcyLFxuICAgICdkYXRhJzogdmFsdWVGcm9tQ29uZmlnMixcbiAgICAnYmFzZVVSTCc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3RyYW5zZm9ybVJlcXVlc3QnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICd0cmFuc2Zvcm1SZXNwb25zZSc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3BhcmFtc1NlcmlhbGl6ZXInOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICd0aW1lb3V0JzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAndGltZW91dE1lc3NhZ2UnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICd3aXRoQ3JlZGVudGlhbHMnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdhZGFwdGVyJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAncmVzcG9uc2VUeXBlJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAneHNyZkNvb2tpZU5hbWUnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICd4c3JmSGVhZGVyTmFtZSc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ29uVXBsb2FkUHJvZ3Jlc3MnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdvbkRvd25sb2FkUHJvZ3Jlc3MnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdkZWNvbXByZXNzJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnbWF4Q29udGVudExlbmd0aCc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ21heEJvZHlMZW5ndGgnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdiZWZvcmVSZWRpcmVjdCc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3RyYW5zcG9ydCc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ2h0dHBBZ2VudCc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ2h0dHBzQWdlbnQnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdjYW5jZWxUb2tlbic6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3NvY2tldFBhdGgnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdyZXNwb25zZUVuY29kaW5nJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAndmFsaWRhdGVTdGF0dXMnOiBtZXJnZURpcmVjdEtleXNcbiAgfTtcblxuICB1dGlscy5mb3JFYWNoKE9iamVjdC5rZXlzKGNvbmZpZzEpLmNvbmNhdChPYmplY3Qua2V5cyhjb25maWcyKSksIGZ1bmN0aW9uIGNvbXB1dGVDb25maWdWYWx1ZShwcm9wKSB7XG4gICAgdmFyIG1lcmdlID0gbWVyZ2VNYXBbcHJvcF0gfHwgbWVyZ2VEZWVwUHJvcGVydGllcztcbiAgICB2YXIgY29uZmlnVmFsdWUgPSBtZXJnZShwcm9wKTtcbiAgICAodXRpbHMuaXNVbmRlZmluZWQoY29uZmlnVmFsdWUpICYmIG1lcmdlICE9PSBtZXJnZURpcmVjdEtleXMpIHx8IChjb25maWdbcHJvcF0gPSBjb25maWdWYWx1ZSk7XG4gIH0pO1xuXG4gIHJldHVybiBjb25maWc7XG59O1xuIiwgIm1vZHVsZS5leHBvcnRzID0ge1xuICBcInZlcnNpb25cIjogXCIwLjI3LjJcIlxufTsiLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVkVSU0lPTiA9IHJlcXVpcmUoJy4uL2Vudi9kYXRhJykudmVyc2lvbjtcbnZhciBBeGlvc0Vycm9yID0gcmVxdWlyZSgnLi4vY29yZS9BeGlvc0Vycm9yJyk7XG5cbnZhciB2YWxpZGF0b3JzID0ge307XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5bJ29iamVjdCcsICdib29sZWFuJywgJ251bWJlcicsICdmdW5jdGlvbicsICdzdHJpbmcnLCAnc3ltYm9sJ10uZm9yRWFjaChmdW5jdGlvbih0eXBlLCBpKSB7XG4gIHZhbGlkYXRvcnNbdHlwZV0gPSBmdW5jdGlvbiB2YWxpZGF0b3IodGhpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSB0eXBlIHx8ICdhJyArIChpIDwgMSA/ICduICcgOiAnICcpICsgdHlwZTtcbiAgfTtcbn0pO1xuXG52YXIgZGVwcmVjYXRlZFdhcm5pbmdzID0ge307XG5cbi8qKlxuICogVHJhbnNpdGlvbmFsIG9wdGlvbiB2YWxpZGF0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb258Ym9vbGVhbj99IHZhbGlkYXRvciAtIHNldCB0byBmYWxzZSBpZiB0aGUgdHJhbnNpdGlvbmFsIG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkXG4gKiBAcGFyYW0ge3N0cmluZz99IHZlcnNpb24gLSBkZXByZWNhdGVkIHZlcnNpb24gLyByZW1vdmVkIHNpbmNlIHZlcnNpb25cbiAqIEBwYXJhbSB7c3RyaW5nP30gbWVzc2FnZSAtIHNvbWUgbWVzc2FnZSB3aXRoIGFkZGl0aW9uYWwgaW5mb1xuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG52YWxpZGF0b3JzLnRyYW5zaXRpb25hbCA9IGZ1bmN0aW9uIHRyYW5zaXRpb25hbCh2YWxpZGF0b3IsIHZlcnNpb24sIG1lc3NhZ2UpIHtcbiAgZnVuY3Rpb24gZm9ybWF0TWVzc2FnZShvcHQsIGRlc2MpIHtcbiAgICByZXR1cm4gJ1tBeGlvcyB2JyArIFZFUlNJT04gKyAnXSBUcmFuc2l0aW9uYWwgb3B0aW9uIFxcJycgKyBvcHQgKyAnXFwnJyArIGRlc2MgKyAobWVzc2FnZSA/ICcuICcgKyBtZXNzYWdlIDogJycpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvcHQsIG9wdHMpIHtcbiAgICBpZiAodmFsaWRhdG9yID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoXG4gICAgICAgIGZvcm1hdE1lc3NhZ2Uob3B0LCAnIGhhcyBiZWVuIHJlbW92ZWQnICsgKHZlcnNpb24gPyAnIGluICcgKyB2ZXJzaW9uIDogJycpKSxcbiAgICAgICAgQXhpb3NFcnJvci5FUlJfREVQUkVDQVRFRFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodmVyc2lvbiAmJiAhZGVwcmVjYXRlZFdhcm5pbmdzW29wdF0pIHtcbiAgICAgIGRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdID0gdHJ1ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGZvcm1hdE1lc3NhZ2UoXG4gICAgICAgICAgb3B0LFxuICAgICAgICAgICcgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2JyArIHZlcnNpb24gKyAnIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlJ1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0b3IgPyB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0cykgOiB0cnVlO1xuICB9O1xufTtcblxuLyoqXG4gKiBBc3NlcnQgb2JqZWN0J3MgcHJvcGVydGllcyB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtvYmplY3R9IHNjaGVtYVxuICogQHBhcmFtIHtib29sZWFuP30gYWxsb3dVbmtub3duXG4gKi9cblxuZnVuY3Rpb24gYXNzZXJ0T3B0aW9ucyhvcHRpb25zLCBzY2hlbWEsIGFsbG93VW5rbm93bikge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ29wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QnLCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgfVxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIHZhciBvcHQgPSBrZXlzW2ldO1xuICAgIHZhciB2YWxpZGF0b3IgPSBzY2hlbWFbb3B0XTtcbiAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICB2YXIgdmFsdWUgPSBvcHRpb25zW29wdF07XG4gICAgICB2YXIgcmVzdWx0ID0gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0aW9ucyk7XG4gICAgICBpZiAocmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdvcHRpb24gJyArIG9wdCArICcgbXVzdCBiZSAnICsgcmVzdWx0LCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoYWxsb3dVbmtub3duICE9PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignVW5rbm93biBvcHRpb24gJyArIG9wdCwgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTik7XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhc3NlcnRPcHRpb25zOiBhc3NlcnRPcHRpb25zLFxuICB2YWxpZGF0b3JzOiB2YWxpZGF0b3JzXG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIEludGVyY2VwdG9yTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgZGlzcGF0Y2hSZXF1ZXN0ID0gcmVxdWlyZSgnLi9kaXNwYXRjaFJlcXVlc3QnKTtcbnZhciBtZXJnZUNvbmZpZyA9IHJlcXVpcmUoJy4vbWVyZ2VDb25maWcnKTtcbnZhciBidWlsZEZ1bGxQYXRoID0gcmVxdWlyZSgnLi9idWlsZEZ1bGxQYXRoJyk7XG52YXIgdmFsaWRhdG9yID0gcmVxdWlyZSgnLi4vaGVscGVycy92YWxpZGF0b3InKTtcblxudmFyIHZhbGlkYXRvcnMgPSB2YWxpZGF0b3IudmFsaWRhdG9ycztcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIEF4aW9zKGluc3RhbmNlQ29uZmlnKSB7XG4gIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAqL1xuQXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIC8vIEFsbG93IGZvciBheGlvcygnZXhhbXBsZS91cmwnWywgY29uZmlnXSkgYSBsYSBmZXRjaCBBUElcbiAgaWYgKHR5cGVvZiBjb25maWdPclVybCA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25maWcgPSBjb25maWcgfHwge307XG4gICAgY29uZmlnLnVybCA9IGNvbmZpZ09yVXJsO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZyA9IGNvbmZpZ09yVXJsIHx8IHt9O1xuICB9XG5cbiAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcblxuICAvLyBTZXQgY29uZmlnLm1ldGhvZFxuICBpZiAoY29uZmlnLm1ldGhvZCkge1xuICAgIGNvbmZpZy5tZXRob2QgPSBjb25maWcubWV0aG9kLnRvTG93ZXJDYXNlKCk7XG4gIH0gZWxzZSBpZiAodGhpcy5kZWZhdWx0cy5tZXRob2QpIHtcbiAgICBjb25maWcubWV0aG9kID0gdGhpcy5kZWZhdWx0cy5tZXRob2QudG9Mb3dlckNhc2UoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25maWcubWV0aG9kID0gJ2dldCc7XG4gIH1cblxuICB2YXIgdHJhbnNpdGlvbmFsID0gY29uZmlnLnRyYW5zaXRpb25hbDtcblxuICBpZiAodHJhbnNpdGlvbmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyh0cmFuc2l0aW9uYWwsIHtcbiAgICAgIHNpbGVudEpTT05QYXJzaW5nOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pLFxuICAgICAgZm9yY2VkSlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICBjbGFyaWZ5VGltZW91dEVycm9yOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pXG4gICAgfSwgZmFsc2UpO1xuICB9XG5cbiAgLy8gZmlsdGVyIG91dCBza2lwcGVkIGludGVyY2VwdG9yc1xuICB2YXIgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4gPSBbXTtcbiAgdmFyIHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyA9IHRydWU7XG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGlmICh0eXBlb2YgaW50ZXJjZXB0b3IucnVuV2hlbiA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnRlcmNlcHRvci5ydW5XaGVuKGNvbmZpZykgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzICYmIGludGVyY2VwdG9yLnN5bmNocm9ub3VzO1xuXG4gICAgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4udW5zaGlmdChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgdmFyIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbiA9IFtdO1xuICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5wdXNoKGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB2YXIgcHJvbWlzZTtcblxuICBpZiAoIXN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycykge1xuICAgIHZhciBjaGFpbiA9IFtkaXNwYXRjaFJlcXVlc3QsIHVuZGVmaW5lZF07XG5cbiAgICBBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShjaGFpbiwgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4pO1xuICAgIGNoYWluID0gY2hhaW4uY29uY2F0KHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbik7XG5cbiAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbmZpZyk7XG4gICAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihjaGFpbi5zaGlmdCgpLCBjaGFpbi5zaGlmdCgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG5cbiAgdmFyIG5ld0NvbmZpZyA9IGNvbmZpZztcbiAgd2hpbGUgKHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLmxlbmd0aCkge1xuICAgIHZhciBvbkZ1bGZpbGxlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLnNoaWZ0KCk7XG4gICAgdmFyIG9uUmVqZWN0ZWQgPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi5zaGlmdCgpO1xuICAgIHRyeSB7XG4gICAgICBuZXdDb25maWcgPSBvbkZ1bGZpbGxlZChuZXdDb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBvblJlamVjdGVkKGVycm9yKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgcHJvbWlzZSA9IGRpc3BhdGNoUmVxdWVzdChuZXdDb25maWcpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gIH1cblxuICB3aGlsZSAocmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4ocmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLnNoaWZ0KCksIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5zaGlmdCgpKTtcbiAgfVxuXG4gIHJldHVybiBwcm9taXNlO1xufTtcblxuQXhpb3MucHJvdG90eXBlLmdldFVyaSA9IGZ1bmN0aW9uIGdldFVyaShjb25maWcpIHtcbiAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcbiAgdmFyIGZ1bGxQYXRoID0gYnVpbGRGdWxsUGF0aChjb25maWcuYmFzZVVSTCwgY29uZmlnLnVybCk7XG4gIHJldHVybiBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpO1xufTtcblxuLy8gUHJvdmlkZSBhbGlhc2VzIGZvciBzdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2RzXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ29wdGlvbnMnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWcoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsLFxuICAgICAgZGF0YTogKGNvbmZpZyB8fCB7fSkuZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlSFRUUE1ldGhvZChpc0Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaHR0cE1ldGhvZCh1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGhlYWRlcnM6IGlzRm9ybSA/IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnXG4gICAgICAgIH0gOiB7fSxcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIGRhdGE6IGRhdGFcbiAgICAgIH0pKTtcbiAgICB9O1xuICB9XG5cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBnZW5lcmF0ZUhUVFBNZXRob2QoKTtcblxuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kICsgJ0Zvcm0nXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCh0cnVlKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF4aW9zO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIENhbmNlbGVkRXJyb3IgPSByZXF1aXJlKCcuL0NhbmNlbGVkRXJyb3InKTtcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBDYW5jZWxUb2tlbihleGVjdXRvcikge1xuICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIHJlc29sdmVQcm9taXNlO1xuXG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICB9KTtcblxuICB2YXIgdG9rZW4gPSB0aGlzO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHRoaXMucHJvbWlzZS50aGVuKGZ1bmN0aW9uKGNhbmNlbCkge1xuICAgIGlmICghdG9rZW4uX2xpc3RlbmVycykgcmV0dXJuO1xuXG4gICAgdmFyIGk7XG4gICAgdmFyIGwgPSB0b2tlbi5fbGlzdGVuZXJzLmxlbmd0aDtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIHRva2VuLl9saXN0ZW5lcnNbaV0oY2FuY2VsKTtcbiAgICB9XG4gICAgdG9rZW4uX2xpc3RlbmVycyA9IG51bGw7XG4gIH0pO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHRoaXMucHJvbWlzZS50aGVuID0gZnVuY3Rpb24ob25mdWxmaWxsZWQpIHtcbiAgICB2YXIgX3Jlc29sdmU7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgIHRva2VuLnN1YnNjcmliZShyZXNvbHZlKTtcbiAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICB9KS50aGVuKG9uZnVsZmlsbGVkKTtcblxuICAgIHByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24gcmVqZWN0KCkge1xuICAgICAgdG9rZW4udW5zdWJzY3JpYmUoX3Jlc29sdmUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcblxuICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSkge1xuICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWxlZEVycm9yKG1lc3NhZ2UpO1xuICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxlZEVycm9yYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIHRocm93IHRoaXMucmVhc29uO1xuICB9XG59O1xuXG4vKipcbiAqIFN1YnNjcmliZSB0byB0aGUgY2FuY2VsIHNpZ25hbFxuICovXG5cbkNhbmNlbFRva2VuLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgbGlzdGVuZXIodGhpcy5yZWFzb24pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzID0gW2xpc3RlbmVyXTtcbiAgfVxufTtcblxuLyoqXG4gKiBVbnN1YnNjcmliZSBmcm9tIHRoZSBjYW5jZWwgc2lnbmFsXG4gKi9cblxuQ2FuY2VsVG9rZW4ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gdW5zdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgaWYgKCF0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGluZGV4ID0gdGhpcy5fbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cbiAqL1xuQ2FuY2VsVG9rZW4uc291cmNlID0gZnVuY3Rpb24gc291cmNlKCkge1xuICB2YXIgY2FuY2VsO1xuICB2YXIgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgIGNhbmNlbCA9IGM7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHRva2VuOiB0b2tlbixcbiAgICBjYW5jZWw6IGNhbmNlbFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWxUb2tlbjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cbiAqXG4gKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuICpcbiAqICBgYGBqc1xuICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cbiAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcbiAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICogIGBgYFxuICpcbiAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuICpcbiAqICBgYGBqc1xuICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvc1xuICpcbiAqIEBwYXJhbSB7Kn0gcGF5bG9hZCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHBheWxvYWQgaXMgYW4gZXJyb3IgdGhyb3duIGJ5IEF4aW9zLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0F4aW9zRXJyb3IocGF5bG9hZCkge1xuICByZXR1cm4gdXRpbHMuaXNPYmplY3QocGF5bG9hZCkgJiYgKHBheWxvYWQuaXNBeGlvc0Vycm9yID09PSB0cnVlKTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgQXhpb3MgPSByZXF1aXJlKCcuL2NvcmUvQXhpb3MnKTtcbnZhciBtZXJnZUNvbmZpZyA9IHJlcXVpcmUoJy4vY29yZS9tZXJnZUNvbmZpZycpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKiBAcmV0dXJuIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdENvbmZpZykge1xuICB2YXIgY29udGV4dCA9IG5ldyBBeGlvcyhkZWZhdWx0Q29uZmlnKTtcbiAgdmFyIGluc3RhbmNlID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBheGlvcy5wcm90b3R5cGUgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBBeGlvcy5wcm90b3R5cGUsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgY29udGV4dCB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIGNvbnRleHQpO1xuXG4gIC8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcbiAgaW5zdGFuY2UuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGluc3RhbmNlQ29uZmlnKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKG1lcmdlQ29uZmlnKGRlZmF1bHRDb25maWcsIGluc3RhbmNlQ29uZmlnKSk7XG4gIH07XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbnZhciBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbGVkRXJyb3IgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWxlZEVycm9yJyk7XG5heGlvcy5DYW5jZWxUb2tlbiA9IHJlcXVpcmUoJy4vY2FuY2VsL0NhbmNlbFRva2VuJyk7XG5heGlvcy5pc0NhbmNlbCA9IHJlcXVpcmUoJy4vY2FuY2VsL2lzQ2FuY2VsJyk7XG5heGlvcy5WRVJTSU9OID0gcmVxdWlyZSgnLi9lbnYvZGF0YScpLnZlcnNpb247XG5heGlvcy50b0Zvcm1EYXRhID0gcmVxdWlyZSgnLi9oZWxwZXJzL3RvRm9ybURhdGEnKTtcblxuLy8gRXhwb3NlIEF4aW9zRXJyb3IgY2xhc3NcbmF4aW9zLkF4aW9zRXJyb3IgPSByZXF1aXJlKCcuLi9saWIvY29yZS9BeGlvc0Vycm9yJyk7XG5cbi8vIGFsaWFzIGZvciBDYW5jZWxlZEVycm9yIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5heGlvcy5DYW5jZWwgPSBheGlvcy5DYW5jZWxlZEVycm9yO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuYXhpb3Muc3ByZWFkID0gcmVxdWlyZSgnLi9oZWxwZXJzL3NwcmVhZCcpO1xuXG4vLyBFeHBvc2UgaXNBeGlvc0Vycm9yXG5heGlvcy5pc0F4aW9zRXJyb3IgPSByZXF1aXJlKCcuL2hlbHBlcnMvaXNBeGlvc0Vycm9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXhpb3M7XG5cbi8vIEFsbG93IHVzZSBvZiBkZWZhdWx0IGltcG9ydCBzeW50YXggaW4gVHlwZVNjcmlwdFxubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGF4aW9zO1xuIiwgIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTsiLCAiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IHsgZm9ybWF0cyB9IGZyb20gJy4uL3V0aWxzL2Zvcm1hdHMuanMnO1xyXG5pbXBvcnQgeyBjaGVja1VzZXJQbGF0Zm9ybSB9IGZyb20gJy4uL3V0aWxzL2hlbHBlcnMuanMnO1xyXG4vL2ltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnXHJcblxyXG5jb25zdCBCRUFDT05fQVBJX0JBU0UgPSAnaHR0cHM6Ly9iZWFjb24uemVzdHkubWFya2V0J1xyXG5jb25zdCBCRUFDT05fR1JBUEhRTF9VUkkgPSAnaHR0cHM6Ly9iZWFjb24yLnplc3R5Lm1hcmtldC96Z3JhcGhxbCdcclxuXHJcbmNvbnN0IERCX0VORFBPSU5UID0gJ2h0dHBzOi8vYXBpLnplc3R5Lm1hcmtldC9hcGknO1xyXG4vLyBUT0RPOiBEZXRlcm1pbmUgYmVzdCB3YXkgdG8gZW5hYmxlIHN3aXRjaGluZyB0byBzdGFnaW5nXHJcbmNvbnN0IFNUQUdJTkdfREJfRU5EUE9JTlQgPSAnaHR0cHM6Ly9hcGktc3RhZ2luZy56ZXN0eS5tYXJrZXQvYXBpJztcclxuXHJcbi8vY29uc3Qgc2Vzc2lvbklkID0gdXVpZHY0KCk7XHJcblxyXG5jb25zdCBmZXRjaENhbXBhaWduQWQgPSBhc3luYyAoYWRVbml0SWQsIGZvcm1hdCA9ICd0YWxsJywgc3R5bGUgPSAnc3RhbmRhcmQnKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVybCA9IGVuY29kZVVSSSh3aW5kb3cudG9wLmxvY2F0aW9uLmhyZWYpLnJlcGxhY2UoL1xcLyQvLCAnJyk7IC8vIElmIFVSTCBlbmRzIHdpdGggYSBzbGFzaCwgcmVtb3ZlIGl0XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5nZXQoYCR7REJfRU5EUE9JTlR9L2FkP2FkX3VuaXRfaWQ9JHthZFVuaXRJZH0mdXJsPSR7dXJsfWApO1xyXG4gICAgcmV0dXJuIHJlcy5kYXRhO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgY29uc29sZS53YXJuKCdObyBhY3RpdmUgY2FtcGFpZ24gYmFubmVyIGNvdWxkIGJlIGxvY2F0ZWQuIERpc3BsYXlpbmcgZGVmYXVsdCBiYW5uZXIuJylcclxuICAgIHJldHVybiB7IEFkczogW3sgYXNzZXRfdXJsOiBmb3JtYXRzW2Zvcm1hdF0uc3R5bGVbc3R5bGVdLCBjdGFfdXJsOiAnaHR0cHM6Ly93d3cuemVzdHkubWFya2V0JyB9XSwgQ2FtcGFpZ25JZDogJ1Rlc3RDYW1wYWlnbid9O1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEluY3JlbWVudCB0aGUgb24tbG9hZCBldmVudCBjb3VudCBmb3IgdGhlIHNwYWNlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcGFjZUlkIFRoZSBzcGFjZSBJRFxyXG4gKiBAcmV0dXJucyBBIFByb21pc2UgcmVwcmVzZW50aW5nIHRoZSBQT1NUIHJlcXVlc3RcclxuICovXHJcbmNvbnN0IHNlbmRPbkxvYWRNZXRyaWMgPSBhc3luYyAoc3BhY2VJZCwgY2FtcGFpZ25JZCA9IG51bGwpID0+IHtcclxuICBjb25zdCB7IHBsYXRmb3JtLCBjb25maWRlbmNlIH0gPSBhd2FpdCBjaGVja1VzZXJQbGF0Zm9ybSgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzcGFjZUNvdW50ZXJFbmRwb2ludCA9IEJFQUNPTl9BUElfQkFTRSArIGAvYXBpL3YxL3NwYWNlLyR7c3BhY2VJZH1gXHJcbiAgICBhd2FpdCBheGlvcy5wdXQoc3BhY2VDb3VudGVyRW5kcG9pbnQpXHJcblxyXG4gICAgYXdhaXQgYXhpb3MucG9zdChcclxuICAgICAgQkVBQ09OX0dSQVBIUUxfVVJJLFxyXG4gICAgICB7IHF1ZXJ5OiBgbXV0YXRpb24geyBpbmNyZW1lbnQoZXZlbnRUeXBlOiB2aXNpdHMsIHNwYWNlSWQ6IFxcXCIke3NwYWNlSWR9XFxcIiwgY2FtcGFpZ25JZDogXFxcIiR7Y2FtcGFpZ25JZH1cXFwiLCBwbGF0Zm9ybTogeyBuYW1lOiAke3BsYXRmb3JtfSwgY29uZmlkZW5jZTogJHtjb25maWRlbmNlfSB9KSB7IG1lc3NhZ2UgfSB9YCB9LFxyXG4gICAgICB7IGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9fVxyXG4gICAgKVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGVtaXQgb25sb2FkIGV2ZW50XCIsIGUubWVzc2FnZSlcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBzZW5kT25DbGlja01ldHJpYyA9IGFzeW5jIChzcGFjZUlkLCBjYW1wYWlnbklkID0gbnVsbCkgPT4ge1xyXG4gIGNvbnN0IHsgcGxhdGZvcm0sIGNvbmZpZGVuY2UgfSA9IGF3YWl0IGNoZWNrVXNlclBsYXRmb3JtKCk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzcGFjZUNsaWNrRW5kcG9pbnQgPSBCRUFDT05fQVBJX0JBU0UgKyBgL2FwaS92MS9zcGFjZS9jbGljay8ke3NwYWNlSWR9YFxyXG4gICAgYXdhaXQgYXhpb3MucHV0KHNwYWNlQ2xpY2tFbmRwb2ludClcclxuXHJcbiAgICBhd2FpdCBheGlvcy5wb3N0KFxyXG4gICAgICBCRUFDT05fR1JBUEhRTF9VUkksXHJcbiAgICAgIHsgcXVlcnk6IGBtdXRhdGlvbiB7IGluY3JlbWVudChldmVudFR5cGU6IGNsaWNrcywgc3BhY2VJZDogXFxcIiR7c3BhY2VJZH1cXFwiLCBjYW1wYWlnbklkOiBcXFwiJHtjYW1wYWlnbklkfVxcXCIsIHBsYXRmb3JtOiB7IG5hbWU6ICR7cGxhdGZvcm19LCBjb25maWRlbmNlOiAke2NvbmZpZGVuY2V9IH0pIHsgbWVzc2FnZSB9IH1gIH0sXHJcbiAgICAgIHsgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH19XHJcbiAgICApXHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gZW1pdCBvbmNsaWNrIGV2ZW50XCIsIGUubWVzc2FnZSlcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGFuYWx5dGljc1Nlc3Npb24gPSBhc3luYyAoc3BhY2VJZCwgY2FtcGFpZ25JZCkgPT4ge1xyXG4gIGNvbnN0IHsgcGxhdGZvcm0sIGNvbmZpZGVuY2UgfSA9IGF3YWl0IGNoZWNrVXNlclBsYXRmb3JtKCk7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IGF4aW9zLnBvc3QoXHJcbiAgICAgIEJFQUNPTl9HUkFQSFFMX1VSSSxcclxuICAgICAgeyBxdWVyeTogYG11dGF0aW9uIHsgaW5jcmVtZW50KGV2ZW50VHlwZTogc2Vzc2lvbiwgc3BhY2VJZDogXFxcIiR7c3BhY2VJZH1cXFwiLCBjYW1wYWlnbklkOiBcXFwiJHtjYW1wYWlnbklkfVxcXCIsIHBsYXRmb3JtOiB7IG5hbWU6ICR7cGxhdGZvcm19LCBjb25maWRlbmNlOiAke2NvbmZpZGVuY2V9IH0pIHsgbWVzc2FnZSB9IH1gIH0sXHJcbiAgICAgIHsgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH19XHJcbiAgICApXHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5sb2coYEZhaWxlZCB0byBlbWl0IHNlc3Npb24gYW5hbHl0aWNzYCwgZS5tZXNzYWdlKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgZmV0Y2hDYW1wYWlnbkFkLCBzZW5kT25Mb2FkTWV0cmljLCBzZW5kT25DbGlja01ldHJpYywgYW5hbHl0aWNzU2Vzc2lvbiB9O1xyXG4iLCAiY29uc3QgYXNzZXRzVVJMID0gJ2h0dHBzOi8vemVzdHktc3RvcmFnZS1wcm9kLnMzLmFtYXpvbmF3cy5jb20vaW1hZ2VzL3plc3R5JztcclxuXHJcbmNvbnN0IGZvcm1hdHMgPSB7XHJcbiAgICAndGFsbCc6IHtcclxuICAgICAgICB3aWR0aDogMC43NSxcclxuICAgICAgICBoZWlnaHQ6IDEsXHJcbiAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgJ3N0YW5kYXJkJzogYCR7YXNzZXRzVVJMfS96ZXN0eS1iYW5uZXItdGFsbC5wbmdgLFxyXG4gICAgICAgICAgICAnbWluaW1hbCc6IGAke2Fzc2V0c1VSTH0vemVzdHktYmFubmVyLXRhbGwtbWluaW1hbC5wbmdgLFxyXG4gICAgICAgICAgICAndHJhbnNwYXJlbnQnOiBgJHthc3NldHNVUkx9L3plc3R5LWJhbm5lci10YWxsLXRyYW5zcGFyZW50LnBuZ2BcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgJ3dpZGUnOiB7XHJcbiAgICAgICAgd2lkdGg6IDQsXHJcbiAgICAgICAgaGVpZ2h0OiAxLFxyXG4gICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICdzdGFuZGFyZCc6IGAke2Fzc2V0c1VSTH0vemVzdHktYmFubmVyLXdpZGUucG5nYCxcclxuICAgICAgICAgICAgJ21pbmltYWwnOiBgJHthc3NldHNVUkx9L3plc3R5LWJhbm5lci13aWRlLW1pbmltYWwucG5nYCxcclxuICAgICAgICAgICAgJ3RyYW5zcGFyZW50JzogYCR7YXNzZXRzVVJMfS96ZXN0eS1iYW5uZXItd2lkZS10cmFuc3BhcmVudC5wbmdgXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgICdzcXVhcmUnOiB7XHJcbiAgICAgICAgd2lkdGg6IDEsXHJcbiAgICAgICAgaGVpZ2h0OiAxLFxyXG4gICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICdzdGFuZGFyZCc6IGAke2Fzc2V0c1VSTH0vemVzdHktYmFubmVyLXNxdWFyZS5wbmdgLFxyXG4gICAgICAgICAgICAnbWluaW1hbCc6IGAke2Fzc2V0c1VSTH0vemVzdHktYmFubmVyLXNxdWFyZS1taW5pbWFsLnBuZ2AsXHJcbiAgICAgICAgICAgICd0cmFuc3BhcmVudCc6IGAke2Fzc2V0c1VSTH0vemVzdHktYmFubmVyLXNxdWFyZS10cmFuc3BhcmVudC5wbmdgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0Rm9ybWF0ID0gJ3NxdWFyZSc7XHJcbmNvbnN0IGRlZmF1bHRTdHlsZSA9ICdzdGFuZGFyZCc7XHJcblxyXG5leHBvcnQgeyBmb3JtYXRzLCBkZWZhdWx0Rm9ybWF0LCBkZWZhdWx0U3R5bGUgfTsiLCAiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuXHJcbi8qKlxyXG4gKiBQYXJzZXMgaXBmczovLyBhbmQgYXI6Ly8gbGlua3MgYW5kIElQRlMgaGFzaGVzIHRvIFVSTHMuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmkgVGhlIGlwZnM6Ly8gbGluayBvciBJUEZTIGhhc2guXHJcbiAqIEByZXR1cm5zIEEgZm9ybWF0dGVkIFVSTCB0byB0aGUgSVBGUyByZXNvdXJjZS5cclxuICovXHJcbmNvbnN0IHBhcnNlUHJvdG9jb2wgPSB1cmkgPT4ge1xyXG4gIGlmICh1cmkuc3Vic3RyaW5nKDAsNCkgPT09IFwiaXBmc1wiKSB7XHJcbiAgICByZXR1cm4gYGh0dHBzOi8vaXBmcy56ZXN0eS5tYXJrZXQvaXBmcy8ke3VyaS5zdWJzdHJpbmcoNyl9YDtcclxuICB9IGVsc2UgaWYgKHVyaS5zdWJzdHJpbmcoMCw0KSA9PT0gXCJodHRwXCIpIHtcclxuICAgIHJldHVybiB1cmk7XHJcbiAgfSBlbHNlIGlmICh1cmkuc3Vic3RyaW5nKDAsNSkgPT09IFwiaHR0cHNcIikge1xyXG4gICAgcmV0dXJuIHVyaTtcclxuICB9IGVsc2UgaWYgKHVyaS5zdWJzdHJpbmcoMCwyKSA9PT0gXCJhclwiKSB7XHJcbiAgICAvLyBnZXQgcmVkaXJlY3RlZCB1cmxcclxuICAgIGF4aW9zLmdldChgaHR0cHM6Ly9hcndlYXZlLm5ldC8ke3VyaS5zdWJzdHJpbmcoNSl9YClcclxuICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICByZXR1cm4gcmVzLnVybDtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICB9KVxyXG5cclxuICB9IGVsc2Uge1xyXG4gICAgLy8gZGVmYXVsdCB0byBpcGZzXHJcbiAgICByZXR1cm4gYGh0dHBzOi8vaXBmcy56ZXN0eS5tYXJrZXQvaXBmcy8ke3VyaX1gO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHJpZXZlcyBhbiBJUEZTIGdhdGV3YXkgdG8gYWxsZXZpYXRlIHJhdGUtdGhyb3R0bGluZyBmcm9tIHVzaW5nIG9ubHkgYSBzaW5nbGUgZ2F0ZXdheS5cclxuICogU2VsZWN0aW9uIGlzIHdlaWdodGVkIHJhbmRvbSBiYXNlZCBvbiBhdmVyYWdlIGxhdGVuY3kuXHJcbiAqIEByZXR1cm5zIEEgd2VpZ2h0ZWQgcmFuZG9tIHB1YmxpYyBJUEZTIGdhdGV3YXlcclxuICovXHJcbmNvbnN0IGdldElQRlNHYXRld2F5ID0gKCkgPT4ge1xyXG4gIC8vIFRlbXBvcmFyaWx5IHJlLXdlaWdodGluZyBmb3IgZWFzZSBvZiB0ZXN0aW5nIGR1cmluZyBWMiBtaWdyYXRpb25cclxuICBjb25zdCBnYXRld2F5cyA9IFtcclxuICAgIHsgZ2F0ZXdheTogJ2h0dHBzOi8vaXBmcy5maWxlYmFzZS5pbycsIHdlaWdodDogMzQgfSxcclxuICAgIHsgZ2F0ZXdheTogJ2h0dHBzOi8vY2xvdWRmbGFyZS1pcGZzLmNvbScsIHdlaWdodDogMzMgfSxcclxuICAgIHsgZ2F0ZXdheTogJ2h0dHBzOi8vZ2F0ZXdheS5waW5hdGEuY2xvdWQnLCB3ZWlnaHQ6IDMzIH0sXHJcbiAgXTtcclxuXHJcbiAgY29uc3Qgd2VpZ2h0cyA9IFtdO1xyXG4gIGxldCBpO1xyXG4gIGZvciAoaSA9IDA7IGkgPCBnYXRld2F5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgd2VpZ2h0c1tpXSA9IGdhdGV3YXlzW2ldLndlaWdodCArICh3ZWlnaHRzW2kgLSAxXSB8fCAwKTtcclxuICB9XHJcbiAgY29uc3QgcmFuZG9tID0gTWF0aC5yYW5kb20oKSAqIHdlaWdodHNbd2VpZ2h0cy5sZW5ndGggLSAxXTtcclxuICBmb3IgKGkgPSAwOyBpIDwgd2VpZ2h0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKHdlaWdodHNbaV0gPiByYW5kb20pIGJyZWFrO1xyXG4gIH1cclxuICByZXR1cm4gZ2F0ZXdheXNbaV0uZ2F0ZXdheTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZvciBlYWNoIG9mIHRoZSBmb2xsb3dpbmcgYnJvd3NlciBjaGVja2luZyBmdW5jdGlvbnMsIHdlIGhhdmUgYSBtYXRjaCB3aXRoIGFcclxuICogY29uZmlkZW5jZSBvZiBcIkZ1bGxcIiBpZiBib3RoIHRoZSBmZWF0dXJlIGRldGVjdGlvbiBjaGVjayBhbmQgdXNlciBhZ2VudCBjaGVja1xyXG4gKiBjb21lIGJhY2sgdHJ1ZS4gSWYgb25seSBvbmUgb2YgdGhlbSBjb21lcyBiYWNrIHRydWUsIHdlIGhhdmUgYSBtYXRjaCB3aXRoIGEgY29uZmlkZW5jZVxyXG4gKiBvZiBcIlBhcnRpYWxcIi4gSWYgbmVpdGhlciBhcmUgdHJ1ZSwgbWF0Y2ggaXMgZmFsc2UgYW5kIG91ciBjb25maWRlbmNlIGlzIFwiTm9uZVwiLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBQZXJmb3JtcyBmZWF0dXJlIGRldGVjdGlvbiBhbmQgYSBVQSBjaGVjayB0byBkZXRlcm1pbmUgaWYgdXNlciBpcyB1c2luZyBPY3VsdXMgQnJvd3Nlci5cclxuICogQHJldHVybnMgYW4gb2JqZWN0IGluZGljYXRpbmcgd2hldGhlciB0aGVyZSBpcyBhIG1hdGNoIGFuZCB0aGUgYXNzb2NpYXRlZCBjb25maWRlbmNlIGxldmVsLlxyXG4gKi9cclxuY29uc3QgY2hlY2tPY3VsdXNCcm93c2VyID0gKCkgPT4ge1xyXG4gIC8vIEFzIG9mIDUvMjYvMjIsIG9ubHkgT2N1bHVzIEJyb3dzZXIgaGFzIGltcGxlbWVudGVkIHRoZSBXZWJYUiBIYW5kIElucHV0IE1vZHVsZSBhbmQgV2ViWFIgTGF5ZXJzIEFQSS5cclxuICBjb25zdCBmZWF0dXJlRGV0ZWN0ID0gKHdpbmRvdy5YUkhhbmQgIT0gbnVsbCAmJiB3aW5kb3cuWFJNZWRpYUJpbmRpbmcgIT0gbnVsbCk7XHJcbiAgY29uc3QgdWFDaGVjayA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ09jdWx1c0Jyb3dzZXInKTtcclxuICBjb25zdCBjb25maWRlbmNlID0gZmVhdHVyZURldGVjdCAmJiB1YUNoZWNrID8gJ0Z1bGwnIDpcclxuICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZURldGVjdCB8fCB1YUNoZWNrID8gJ1BhcnRpYWwnIDpcclxuICAgICAgICAgICAgICAgICAgICAgJ05vbmUnO1xyXG4gIHJldHVybiB7IG1hdGNoOiBjb25maWRlbmNlICE9PSAnTm9uZScsIGNvbmZpZGVuY2U6IGNvbmZpZGVuY2UgfVxyXG59XHJcblxyXG4vKipcclxuICogUGVyZm9ybXMgZmVhdHVyZSBkZXRlY3Rpb24gYW5kIGEgVUEgY2hlY2sgdG8gZGV0ZXJtaW5lIGlmIHVzZXIgaXMgdXNpbmcgV29sdmljLlxyXG4gKiBAcmV0dXJucyBhbiBvYmplY3QgaW5kaWNhdGluZyB3aGV0aGVyIHRoZXJlIGlzIGEgbWF0Y2ggYW5kIHRoZSBhc3NvY2lhdGVkIGNvbmZpZGVuY2UgbGV2ZWwuXHJcbiAqL1xyXG5jb25zdCBjaGVja1dvbHZpY0Jyb3dzZXIgPSAoKSA9PiB7XHJcbiAgLy8gV2hpbGUgV29sdmljIGlzIHN0aWxsIHNoaXBwaW5nIHdpdGggYSBHZWNrb1ZpZXcgYmFja2VuZCwgdGhpcyBmZWF0dXJlIGRldGVjdCBzaG91bGQgaG9sZCB0cnVlLlxyXG4gIC8vIE9uY2UgdmVyc2lvbnMgd2l0aCBkaWZmZXJlbnQgYmFja2VuZHMgc3RhcnQgc2hvd2luZyB1cCBpbiB0aGUgd2lsZCwgdGhpcyB3aWxsIG5lZWQgcmV2aXNpdGluZy5cclxuICBjb25zdCBmZWF0dXJlRGV0ZWN0ID0gKHdpbmRvdy5tb3pJbm5lclNjcmVlblggIT0gbnVsbCAmJiB3aW5kb3cuc3BlZWNoU3ludGhlc2lzID09IG51bGwpO1xyXG4gIGNvbnN0IHVhQ2hlY2sgPSBuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdNb2JpbGUgVlInKSAmJiAhbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygnT2N1bHVzQnJvd3NlcicpO1xyXG4gIGNvbnN0IGNvbmZpZGVuY2UgPSBmZWF0dXJlRGV0ZWN0ICYmIHVhQ2hlY2sgPyAnRnVsbCcgOlxyXG4gICAgICAgICAgICAgICAgICAgICBmZWF0dXJlRGV0ZWN0IHx8IHVhQ2hlY2sgPyAnUGFydGlhbCcgOlxyXG4gICAgICAgICAgICAgICAgICAgICAnTm9uZSc7XHJcbiAgcmV0dXJuIHsgbWF0Y2g6IGNvbmZpZGVuY2UgIT09ICdOb25lJywgY29uZmlkZW5jZTogY29uZmlkZW5jZSB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQZXJmb3JtcyBmZWF0dXJlIGRldGVjdGlvbiBhbmQgYSBVQSBjaGVjayB0byBkZXRlcm1pbmUgaWYgdXNlciBpcyB1c2luZyBQaWNvJ3MgYnJvd3Nlci5cclxuICogQHJldHVybnMgYW4gb2JqZWN0IGluZGljYXRpbmcgd2hldGhlciB0aGVyZSBpcyBhIG1hdGNoIGFuZCB0aGUgYXNzb2NpYXRlZCBjb25maWRlbmNlIGxldmVsLlxyXG4gKi9cclxuIGNvbnN0IGNoZWNrUGljb0Jyb3dzZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgLy8gUGljbydzIGludGVybmFsIGJyb3dzZXIgaXMgYSBDaHJvbWl1bSBmb3JrIGFuZCBzZWVtcyB0byBleHBvc2Ugc29tZSBXZWJYUiBBUiBtb2R1bGVzLFxyXG4gIC8vIHNvIHBlcmZvcm0gYW4gaXNTZXNzaW9uU3VwcG9ydGVkKCkgY2hlY2sgZm9yIGltbWVyc2l2ZS12ciBhbmQgaW1tZXJzaXZlLWFyLlxyXG4gIGNvbnN0IGZlYXR1cmVEZXRlY3QgPSBuYXZpZ2F0b3IueHIgJiYgXHJcbiAgICAoYXdhaXQgbmF2aWdhdG9yLnhyLmlzU2Vzc2lvblN1cHBvcnRlZCgnaW1tZXJzaXZlLXZyJykgJiYgYXdhaXQgbmF2aWdhdG9yLnhyLmlzU2Vzc2lvblN1cHBvcnRlZCgnaW1tZXJzaXZlLWFyJykpO1xyXG4gIGNvbnN0IHVhQ2hlY2sgPSBuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdQaWNvIE5lbyAzIExpbmsnKTtcclxuICBjb25zdCBjb25maWRlbmNlID0gZmVhdHVyZURldGVjdCAmJiB1YUNoZWNrID8gJ0Z1bGwnIDpcclxuICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZURldGVjdCB8fCB1YUNoZWNrID8gJ1BhcnRpYWwnIDpcclxuICAgICAgICAgICAgICAgICAgICAgJ05vbmUnO1xyXG4gIHJldHVybiB7IG1hdGNoOiBjb25maWRlbmNlICE9PSAnTm9uZScsIGNvbmZpZGVuY2U6IGNvbmZpZGVuY2UgfVxyXG59XHJcblxyXG4vKipcclxuICogUGVyZm9ybXMgZmVhdHVyZSBkZXRlY3Rpb24gYW5kIGEgVUEgY2hlY2sgdG8gZGV0ZXJtaW5lIGlmIHVzZXIgaXMgdXNpbmcgYSBicm93c2VyIG9uIHRoZWlyIGRlc2t0b3AuXHJcbiAqIEByZXR1cm5zIGFuIG9iamVjdCBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlcmUgaXMgYSBtYXRjaCBhbmQgdGhlIGFzc29jaWF0ZWQgY29uZmlkZW5jZSBsZXZlbC5cclxuICovXHJcbiBjb25zdCBjaGVja0Rlc2t0b3BCcm93c2VyID0gKCkgPT4ge1xyXG4gIC8vIFdlIGFyZSBkb2luZyBhIGNvYXJzZSBjaGVjayBoZXJlIGZvciBsYWNrIG9mIHRvdWNoLWNhcGFiaWxpdHkgYW5kIG5vIEFuZHJvaWQvTW9iaWxlIHN0cmluZyBpbiB0aGUgVUEuXHJcbiAgY29uc3QgZmVhdHVyZURldGVjdCA9IChuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPT09IDAgfHwgbmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMgPT09IDApO1xyXG4gIGNvbnN0IHVhQ2hlY2sgPSAhbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygnQW5kcm9pZCcpICYmICFuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdNb2JpbGUnKTtcclxuICBjb25zdCBjb25maWRlbmNlID0gZmVhdHVyZURldGVjdCAmJiB1YUNoZWNrID8gJ0Z1bGwnIDpcclxuICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZURldGVjdCB8fCB1YUNoZWNrID8gJ1BhcnRpYWwnIDpcclxuICAgICAgICAgICAgICAgICAgICAgJ05vbmUnO1xyXG4gIHJldHVybiB7IG1hdGNoOiBjb25maWRlbmNlICE9PSAnTm9uZScsIGNvbmZpZGVuY2U6IGNvbmZpZGVuY2UgfVxyXG59XHJcblxyXG5jb25zdCBjaGVja1VzZXJQbGF0Zm9ybSA9IGFzeW5jICgpID0+IHtcclxuICBsZXQgY3VycmVudE1hdGNoID0ge1xyXG4gICAgcGxhdGZvcm06ICcnLFxyXG4gICAgY29uZmlkZW5jZTogJydcclxuICB9O1xyXG5cclxuICBpZiAoY2hlY2tPY3VsdXNCcm93c2VyKCkubWF0Y2gpIHtcclxuICAgIGN1cnJlbnRNYXRjaCA9IHsgcGxhdGZvcm06ICdPY3VsdXMnLCBjb25maWRlbmNlOiBjaGVja09jdWx1c0Jyb3dzZXIoKS5jb25maWRlbmNlIH07XHJcbiAgfSBlbHNlIGlmIChjaGVja1dvbHZpY0Jyb3dzZXIoKS5tYXRjaCkge1xyXG4gICAgY3VycmVudE1hdGNoID0geyBwbGF0Zm9ybTogJ1dvbHZpYycsIGNvbmZpZGVuY2U6IGNoZWNrV29sdmljQnJvd3NlcigpLmNvbmZpZGVuY2UgfTtcclxuICB9IGVsc2UgaWYgKGF3YWl0IGNoZWNrUGljb0Jyb3dzZXIoKS5tYXRjaCkge1xyXG4gICAgY3VycmVudE1hdGNoID0geyBwbGF0Zm9ybTogJ1BpY28nLCBjb25maWRlbmNlOiBhd2FpdCBjaGVja1BpY29Ccm93c2VyKCkuY29uZmlkZW5jZSB9O1xyXG4gIH0gZWxzZSBpZiAoY2hlY2tEZXNrdG9wQnJvd3NlcigpLm1hdGNoKSB7XHJcbiAgICBjdXJyZW50TWF0Y2ggPSB7IHBsYXRmb3JtOiAnRGVza3RvcCcsIGNvbmZpZGVuY2U6IGNoZWNrRGVza3RvcEJyb3dzZXIoKS5jb25maWRlbmNlIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIENhbm5vdCBkZXRlcm1pbmUgcGxhdGZvcm0sIHJldHVybiBhIGRlZmF1bHQgb2JqZWN0XHJcbiAgICBjdXJyZW50TWF0Y2ggPSB7IHBsYXRmb3JtOiAnVW5rbm93bicsIGNvbmZpZGVuY2U6ICdOb25lJyB9O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGN1cnJlbnRNYXRjaDtcclxufVxyXG5cclxuY29uc3Qgb3BlblVSTCA9IHVybCA9PiB7XHJcbiAgaWYgKCF1cmwpIHJldHVybjtcclxuXHJcbiAgLy8gQXJlIHdlIG9uIGEgZGV2aWNlIHRoYXQgd2lsbCBkZWVwbGluaz9cclxuICAvLyBUaGlzIG1heSBuZWVkIHRvIGJlIGV4cGFuZGVkIGluIHRoZSBmdXR1cmUuXHJcbiAgaWYgKGNoZWNrT2N1bHVzQnJvd3NlcigpLm1hdGNoKSB7XHJcbiAgICBpZiAodXJsLmluY2x1ZGVzKCdodHRwczovL3d3dy5vY3VsdXMuY29tL2V4cGVyaWVuY2VzL3F1ZXN0LycpKSB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICB3aW5kb3cub3Blbih1cmwsICdfYmxhbmsnKTtcclxuICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChjaGVja1dvbHZpY0Jyb3dzZXIoKS5tYXRjaCkge1xyXG4gICAgLy8gV29sdmljJ3MgcG9wLXVwIGJsb2NraW5nIGlzIG1vcmUgYWdncmVzc2l2ZSB0aGFuIG90aGVyXHJcbiAgICAvLyBDaHJvbWl1bS1iYXNlZCBYUiBicm93c2VycywgcHJvYmFibHkgZHVlIHRvIGl0cyBGaXJlZm94XHJcbiAgICAvLyBsaW5lYWdlLiBJbiBvcmRlciB0byBwcmV2ZW50IGNsaWNrcyBiZWluZyBjYXVnaHQgYnkgaXQsXHJcbiAgICAvLyBjb25zdHJ1Y3Qgb3VyIG93biBtb2RhbCB3aW5kb3cgYW5kIGRpcmVjdGx5IGxpbmsgdGhlXHJcbiAgICAvLyB5ZXMgYnV0dG9uIHRvIHRoZSB3aW5kb3cub3BlbiBjYWxsLlxyXG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICBjb25zdCB5ZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgIGNvbnN0IG5vID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblxyXG4gICAgbW9kYWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYigwLCAwLCAwLCAwLjc1KSdcclxuICAgIG1vZGFsLnN0eWxlLmNvbG9yID0gJ3doaXRlJztcclxuICAgIG1vZGFsLnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgbW9kYWwuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xyXG4gICAgbW9kYWwuc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICBtb2RhbC5zdHlsZS5sZWZ0ID0gJzUwJSc7XHJcbiAgICBtb2RhbC5zdHlsZS5wYWRkaW5nID0gJzUlJztcclxuICAgIG1vZGFsLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1JSc7XHJcbiAgICBtb2RhbC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIC01MCUpJztcclxuXHJcbiAgICBtZXNzYWdlLmlubmVySFRNTCA9IGA8Yj5UaGlzIGJpbGxib2FyZCBsZWFkcyB0byAke3VybH0uIENvbnRpbnVlPzwvYj5gO1xyXG5cclxuICAgIHllcy5pbm5lclRleHQgPSAnTW92ZSBjdXJzb3IgYmFjayBpbnRvIHdpbmRvdy4nO1xyXG4gICAgeWVzLnN0eWxlLndpZHRoID0gJzEwMHZ3JztcclxuICAgIHllcy5zdHlsZS5oZWlnaHQgPSAnMTAwdmgnO1xyXG4gICAgeWVzLm9ubW91c2VlbnRlciA9ICgpID0+IHtcclxuICAgICAgeWVzLnN0eWxlLndpZHRoID0gJ2F1dG8nO1xyXG4gICAgICB5ZXMuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xyXG4gICAgICB5ZXMuaW5uZXJUZXh0ID0gJ1llcyc7XHJcbiAgICB9XHJcbiAgICB5ZXMub25jbGljayA9ICgpID0+IHtcclxuICAgICAgd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJyk7XHJcbiAgICAgIG1vZGFsLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG5vLmlubmVyVGV4dCA9ICdObyc7XHJcbiAgICBuby5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICBtb2RhbC5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBtb2RhbC5hcHBlbmQoY29udGVudCk7XHJcbiAgICBjb250ZW50LmFwcGVuZChtZXNzYWdlKTtcclxuICAgIGNvbnRlbnQuYXBwZW5kKHllcyk7XHJcbiAgICBjb250ZW50LmFwcGVuZChubyk7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChtb2RhbCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIHdpbmRvdy5vcGVuKHVybCwgJ19ibGFuaycpO1xyXG59XHJcblxyXG5jb25zdCB1cmxDb250YWluc1VUTVBhcmFtcyA9ICh1cmwpID0+IHtcclxuICByZXR1cm4gdXJsLmluZGV4T2YoJ3V0bV9zb3VyY2U9JykgIT09IC0xIHx8IHVybC5pbmRleE9mKCd1dG1fY2FtcGFpZ249JykgIT09IC0xIHx8IHVybC5pbmRleE9mKCd1dG1fY2hhbm5lbD0nKSAhPT0gLTE7XHJcbn1cclxuXHJcbmNvbnN0IGFwcGVuZFVUTVBhcmFtcyA9ICh1cmwsIHNwYWNlSWQpID0+IHtcclxuICBsZXQgbmV3X3VybCA9IG5ldyBVUkwodXJsKVxyXG4gIG5ld191cmwuc2VhcmNoUGFyYW1zLnNldCgndXRtX3NvdXJjZScsICdaZXN0eU1hcmtldCcpO1xyXG4gIG5ld191cmwuc2VhcmNoUGFyYW1zLnNldCgndXRtX2NhbXBhaWduJywgJ1plc3R5Q2FtcGFpZ24nKTtcclxuICBuZXdfdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3V0bV9jaGFubmVsJywgYFNwYWNlSWRfJHtzcGFjZUlkfWApO1xyXG4gIHJldHVybiBuZXdfdXJsLmhyZWY7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgcGFyc2VQcm90b2NvbCxcclxuICBnZXRJUEZTR2F0ZXdheSxcclxuICBjaGVja09jdWx1c0Jyb3dzZXIsXHJcbiAgY2hlY2tXb2x2aWNCcm93c2VyLFxyXG4gIGNoZWNrUGljb0Jyb3dzZXIsXHJcbiAgY2hlY2tEZXNrdG9wQnJvd3NlcixcclxuICBjaGVja1VzZXJQbGF0Zm9ybSxcclxuICBvcGVuVVJMLFxyXG4gIHVybENvbnRhaW5zVVRNUGFyYW1zLFxyXG4gIGFwcGVuZFVUTVBhcmFtc1xyXG59OyIsICJ7XHJcbiAgXCJuYW1lXCI6IFwiQHplc3R5bWFya2V0L3dvbmRlcmxhbmQtc2RrXCIsXHJcbiAgXCJ2ZXJzaW9uXCI6IFwiMi4wLjZcIixcclxuICBcImRlc2NyaXB0aW9uXCI6IFwiV29uZGVybGFuZCBFbmdpbmUgU0RLIGZvciBaZXN0eSBCYW5uZXIgaW50ZWdyYXRpb24uXCIsXHJcbiAgXCJtYWluXCI6IFwiZGlzdC96ZXN0eS13b25kZXJsYW5kLXNkay5qc1wiLFxyXG4gIFwiZXhwb3J0c1wiOiB7XHJcbiAgICBcIi5cIjogXCIuL2Rpc3QvemVzdHktd29uZGVybGFuZC1zZGsuanNcIixcclxuICAgIFwiLi9jb21wYXRcIjogXCIuL2Rpc3QvemVzdHktd29uZGVybGFuZC1zZGstY29tcGF0LmpzXCJcclxuICB9LFxyXG4gIFwidHlwZVwiOiBcIm1vZHVsZVwiLFxyXG4gIFwic2NyaXB0c1wiOiB7XHJcbiAgICBcImJ1aWxkXCI6IFwiZXNidWlsZCBzcmMvaW5kZXguanMgLS1taW5pZnkgLS1zb3VyY2VtYXAgLS1mb3JtYXQ9ZXNtIC0tYnVuZGxlIC0tb3V0ZmlsZT1kaXN0L3plc3R5LXdvbmRlcmxhbmQtc2RrLmpzIC0tZXh0ZXJuYWw6QHdvbmRlcmxhbmRlbmdpbmUvKlwiLFxyXG4gICAgXCJidWlsZC1jb21wYXRcIjogXCJlc2J1aWxkIHNyYy9vbGRXTEUuanMgLS1taW5pZnkgLS1zb3VyY2VtYXAgLS1idW5kbGUgLS1vdXRmaWxlPWRpc3QvemVzdHktd29uZGVybGFuZC1zZGstY29tcGF0LmpzXCIsXHJcbiAgICBcImJ1aWxkLWRldlwiOiBcImVzYnVpbGQgc3JjL2luZGV4LmpzIC0tc291cmNlbWFwIC0tZm9ybWF0PWVzbSAtLWJ1bmRsZSAtLW91dGZpbGU9ZGlzdC96ZXN0eS13b25kZXJsYW5kLXNkay5qcyAtLWV4dGVybmFsOkB3b25kZXJsYW5kZW5naW5lLypcIlxyXG4gIH0sXHJcbiAgXCJ3b25kZXJsYW5kZW5naW5lXCI6IHt9LFxyXG4gIFwiYXV0aG9yXCI6IFwiXCIsXHJcbiAgXCJsaWNlbnNlXCI6IFwiTUlUXCIsXHJcbiAgXCJwZWVyRGVwZW5kZW5jaWVzXCI6IHtcclxuICAgIFwiQHdvbmRlcmxhbmRlbmdpbmUvYXBpXCI6IFwiXjEuMC4wIHx8IF4xLjAuMC1yYy41XCIsXHJcbiAgICBcIkB3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHNcIjogXCJeMS4wLjAgfHwgXjEuMC4wLXJjLjZcIlxyXG4gIH0sXHJcbiAgXCJkZXZEZXBlbmRlbmNpZXNcIjoge1xyXG4gICAgXCJlc2J1aWxkXCI6IFwiXjAuMTcuMThcIlxyXG4gIH1cclxufVxyXG4iLCAiLyogZ2xvYmFsIFdMICovXHJcblxyXG5pbXBvcnQgeyBmZXRjaENhbXBhaWduQWQsIHNlbmRPbkxvYWRNZXRyaWMsIHNlbmRPbkNsaWNrTWV0cmljIH0gZnJvbSAnLi4vLi4vdXRpbHMvbmV0d29ya2luZyc7XHJcbmltcG9ydCB7IGZvcm1hdHMsIGRlZmF1bHRGb3JtYXQgfSBmcm9tICcuLi8uLi91dGlscy9mb3JtYXRzJztcclxuaW1wb3J0IHsgb3BlblVSTCB9IGZyb20gJy4uLy4uL3V0aWxzL2hlbHBlcnMnO1xyXG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi4vcGFja2FnZS5qc29uJztcclxuaW1wb3J0IHtcclxuICBDb21wb25lbnQsXHJcbiAgQ29sbGlkZXIsXHJcbiAgTWVzaENvbXBvbmVudCxcclxuICBDb2xsaXNpb25Db21wb25lbnQsXHJcbiAgUHJvcGVydHlcclxufSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBDdXJzb3JUYXJnZXQgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzJztcclxuXHJcbmNvbnNvbGUubG9nKCdaZXN0eSBTREsgVmVyc2lvbjogJywgdmVyc2lvbik7XHJcblxyXG5jb25zdCBmb3JtYXRzTGluayA9ICdodHRwczovL2Nkbi56ZXN0eS54eXovc2RrL3plc3R5LWZvcm1hdHMuanMnO1xyXG5jb25zdCBuZXR3b3JraW5nTGluayA9ICdodHRwczovL2Nkbi56ZXN0eS54eXovc2RrL3plc3R5LW5ldHdvcmtpbmcuanMnO1xyXG5cclxuLyoqXHJcbiAqIFtaZXN0eSBNYXJrZXRdKGh0dHBzOi8vemVzdHkubWFya2V0KSBiYW5uZXIgYWQgdW5pdFxyXG4gKlxyXG4gKiBGZXRjaGVzIGEgYmFubmVyIGFuZCBhcHBsaWVzIGl0IHRvIGEgdGV4dHVyZS4gSWYgbm8gYGN1cnNvci10YXJnZXRgIGFuZCBgY29sbGlzaW9uYFxyXG4gKiBpcyBmb3VuZCBvbiB0aGUgb2JqZWN0LCB0aGV5IHdpbGwgYmUgY3JlYXRlZCBhdXRvbWF0aWNhbGx5ICh3aXRoIGJveCBzaGFwZSBpbiBncm91cCAxKS5cclxuICpcclxuICogTWFrZSBzdXJlIHRoYXQgeW91IHNldCB1cCBhIGN1cnNvciB0byBlbmFibGUgY2xpY2tpbmcuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgWmVzdHlCYW5uZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHN0YXRpYyBUeXBlTmFtZSA9ICd6ZXN0eS1iYW5uZXInO1xyXG4gIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgLyogWW91ciBiYW5uZXIgYWQgdW5pdCBJRCAqL1xyXG4gICAgYWRVbml0OiBQcm9wZXJ0eS5zdHJpbmcoJycpLFxyXG4gICAgLyogVGhlIGRlZmF1bHQgYmFubmVyIGZvcm1hdCwgZGV0ZXJtaW5lcyBhc3BlY3QgcmF0aW8gKi9cclxuICAgIGZvcm1hdDogUHJvcGVydHkuZW51bShbJ3RhbGwnLCAnd2lkZScsICdzcXVhcmUnXSwgJ3NxdWFyZScpLFxyXG4gICAgLyogVGhlIGRlZmF1bHQgYmFubmVyIHZpc3VhbCBzdHlsZSAqL1xyXG4gICAgc3R5bGU6IFByb3BlcnR5LmVudW0oWydzdGFuZGFyZCcsICdtaW5pbWFsJywgJ3RyYW5zcGFyZW50J10sICd0cmFuc3BhcmVudCcpLFxyXG4gICAgLyogU2NhbGUgd2lkdGggb2YgdGhlIG9iamVjdCB0byBiYW5uZXIgcmF0aW8gKHNlZSBmb3JtYXQpIGFuZCBzZXQgdGhlIGNvbGxpZGVyICovXHJcbiAgICBzY2FsZVRvUmF0aW86IFByb3BlcnR5LmJvb2wodHJ1ZSksXHJcbiAgICAvKiBUZXh0dXJlIHByb3BlcnR5IHRvIHNldCBhZnRlciBiYW5uZXIgaXMgbG9hZGVkLiBMZWF2ZSBcImF1dG9cIiB0byBkZXRlY3QgZnJvbVxyXG4gICAgKiBrbm93biBwaXBlbGluZXMgKFBob25nIE9wYXF1ZSBUZXh0dXJlZCwgRmxhdCBPcGFxdWUgVGV4dHVyZWQpICovXHJcbiAgICB0ZXh0dXJlUHJvcGVydHk6IFByb3BlcnR5LnN0cmluZygnYXV0bycpLFxyXG4gICAgLyogV2hldGhlciB0byBhc3NpZ24gdGhlIGJhbm5lciB0byB0aGUgYWxwaGFNYXNrVGV4dHVyZSBwcm9wZXJ0eSBvZiB0aGUgbWF0ZXJpYWwgKi9cclxuICAgIGFzc2lnbkFscGhhTWFza1RleHR1cmU6IFByb3BlcnR5LmJvb2wodHJ1ZSksXHJcbiAgICBiZWFjb246IFByb3BlcnR5LmJvb2wodHJ1ZSksXHJcbiAgICAvKiBMb2FkIElQRlMgZ2F0ZXdheXMgYW5kIGRlZmF1bHQgaW1hZ2UgdXJpcyBhdCBydW50aW1lLCBpZiBmYWxzZSBhdCBidWlsZCB0aW1lICovXHJcbiAgICBkeW5hbWljRm9ybWF0czogUHJvcGVydHkuYm9vbCh0cnVlKSxcclxuICAgIC8qIEF1dG9tYXRpY2FsbHkgY3JlYXRlcyBhIGNvbGxpc2lvbiBhbmQgY3Vyc29yLXRhcmdldCBjb21wb25lbnRzLCBpZiB0aGVyZSBpc24ndCBvbmUgKi9cclxuICAgIGNyZWF0ZUF1dG9tYXRpY0NvbGxpc2lvbjogUHJvcGVydHkuYm9vbCh0cnVlKSxcclxuICAgIC8qIExvYWQgbmV0d29ya2luZyBsb2dpYyBhdCBydW50aW1lLCBpZiBmYWxzZSBhdCBidWlsZCB0aW1lICovXHJcbiAgICBkeW5hbWljTmV0d29ya2luZzogUHJvcGVydHkuYm9vbChmYWxzZSksXHJcbiAgfTtcclxuICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChDdXJzb3JUYXJnZXQpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuZm9ybWF0cyA9IE9iamVjdC52YWx1ZXMoZm9ybWF0cyk7XHJcbiAgICB0aGlzLmZvcm1hdEtleXMgPSBPYmplY3Qua2V5cyhmb3JtYXRzKTtcclxuICAgIHRoaXMuc3R5bGVLZXlzID0gWydzdGFuZGFyZCcsICdtaW5pbWFsJywgJ3RyYW5zcGFyZW50J107XHJcbiAgfVxyXG5cclxuICBzdGFydCgpIHtcclxuICAgIHRoaXMubWVzaCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudChNZXNoQ29tcG9uZW50KTtcclxuICAgIGlmICghdGhpcy5tZXNoKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIid6ZXN0eS1iYW5uZXIgJyBtaXNzaW5nIG1lc2ggY29tcG9uZW50XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmNyZWF0ZUF1dG9tYXRpY0NvbGxpc2lvbikge1xyXG4gICAgICB0aGlzLmNvbGxpc2lvbiA9XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KENvbGxpc2lvbkNvbXBvbmVudCkgfHxcclxuICAgICAgICB0aGlzLm9iamVjdC5hZGRDb21wb25lbnQoQ29sbGlzaW9uQ29tcG9uZW50LCB7XHJcbiAgICAgICAgICBjb2xsaWRlcjogQ29sbGlkZXIuQm94LFxyXG4gICAgICAgICAgZ3JvdXA6IDB4MlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5jdXJzb3JUYXJnZXQgPVxyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldENvbXBvbmVudChDdXJzb3JUYXJnZXQpIHx8IHRoaXMub2JqZWN0LmFkZENvbXBvbmVudChDdXJzb3JUYXJnZXQpO1xyXG4gICAgICAgIHRoaXMuY3Vyc29yVGFyZ2V0Lm9uQ2xpY2suYWRkKHRoaXMub25DbGljay5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5keW5hbWljRm9ybWF0cykge1xyXG4gICAgICBsZXQgZm9ybWF0c1NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG5cclxuICAgICAgZm9ybWF0c1NjcmlwdC5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5mb3JtYXRzT3ZlcnJpZGUgPSB6ZXN0eUZvcm1hdHMuZm9ybWF0cztcclxuICAgICAgfTtcclxuICAgICAgZm9ybWF0c1NjcmlwdC5zZXRBdHRyaWJ1dGUoJ3NyYycsIGZvcm1hdHNMaW5rKTtcclxuICAgICAgZm9ybWF0c1NjcmlwdC5zZXRBdHRyaWJ1dGUoJ2Nyb3Nzb3JpZ2luJywgJ2Fub255bW91cycpO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm1hdHNTY3JpcHQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmR5bmFtaWNOZXR3b3JraW5nKSB7XHJcbiAgICAgIGltcG9ydChuZXR3b3JraW5nTGluaylcclxuICAgICAgICAudGhlbih2YWx1ZSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnplc3R5TmV0d29ya2luZyA9IE9iamVjdC5hc3NpZ24oe30sIHZhbHVlKTtcclxuICAgICAgICAgIHRoaXMuc3RhcnRMb2FkaW5nKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGR5bmFtaWNhbGx5IHJldHJpZXZlIG5ldHdvcmtpbmcgY29kZSwgZmFsbGluZyBiYWNrIHRvIGJ1bmRsZWQgdmVyc2lvbi4nKTtcclxuICAgICAgICAgIHRoaXMuZHluYW1pY05ldHdvcmtpbmcgPSBmYWxzZTtcclxuICAgICAgICAgIHRoaXMuc3RhcnRMb2FkaW5nKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnN0YXJ0TG9hZGluZygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhcnRMb2FkaW5nKCkge1xyXG4gICAgdGhpcy5sb2FkQmFubmVyKFxyXG4gICAgICB0aGlzLmFkVW5pdCxcclxuICAgICAgdGhpcy5mb3JtYXRLZXlzW3RoaXMuZm9ybWF0XSxcclxuICAgICAgdGhpcy5zdHlsZUtleXNbdGhpcy5zdHlsZV1cclxuICAgICkudGhlbihiYW5uZXIgPT4ge1xyXG4gICAgICB0aGlzLmJhbm5lciA9IGJhbm5lcjtcclxuICAgICAgaWYgKHRoaXMuc2NhbGVUb1JhdGlvKSB7XHJcbiAgICAgICAgLyogTWFrZSBiYW5uZXIgYWx3YXlzIDEgbWV0ZXIgaGVpZ2h0LCBhZGp1c3Qgd2lkdGggYWNjb3JkaW5nIHRvIGJhbm5lciBhc3BlY3QgcmF0aW8gKi9cclxuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMub2JqZWN0LnNjYWxpbmdMb2NhbFsxXTtcclxuICAgICAgICB0aGlzLm9iamVjdC5yZXNldFNjYWxpbmcoKTtcclxuICAgICAgICBpZiAodGhpcy5jcmVhdGVBdXRvbWF0aWNDb2xsaXNpb24pIHtcclxuICAgICAgICAgIHRoaXMuY29sbGlzaW9uLmV4dGVudHMgPSBbXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0c1t0aGlzLmZvcm1hdF0ud2lkdGggKiB0aGlzLmhlaWdodCxcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQsXHJcbiAgICAgICAgICAgIDAuMVxyXG4gICAgICAgICAgXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vYmplY3Quc2NhbGUoW3RoaXMuZm9ybWF0c1t0aGlzLmZvcm1hdF0ud2lkdGggKiB0aGlzLmhlaWdodCwgdGhpcy5oZWlnaHQsIDEuMF0pO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IG0gPSB0aGlzLm1lc2gubWF0ZXJpYWwuY2xvbmUoKTtcclxuICAgICAgaWYgKHRoaXMudGV4dHVyZVByb3BlcnR5ID09PSAnYXV0bycpIHtcclxuICAgICAgICBjb25zdCBwaXBlbGluZSA9IG0uc2hhZGVyO1xyXG4gICAgICAgIGlmIChwaXBlbGluZSA9PT0gJ1Bob25nIE9wYXF1ZSBUZXh0dXJlZCcpIHtcclxuICAgICAgICAgIG0uZGlmZnVzZVRleHR1cmUgPSBiYW5uZXIudGV4dHVyZTtcclxuICAgICAgICAgIG0uYWxwaGFNYXNrVGhyZXNob2xkID0gMC4zO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocGlwZWxpbmUgPT09ICdGbGF0IE9wYXF1ZSBUZXh0dXJlZCcpIHtcclxuICAgICAgICAgIG0uZmxhdFRleHR1cmUgPSBiYW5uZXIudGV4dHVyZTtcclxuICAgICAgICAgIG0uYWxwaGFNYXNrVGhyZXNob2xkID0gMC44O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aHJvdyBFcnJvcihcclxuICAgICAgICAgICAgXCInemVzdHktYmFubmVyJyB1bmFibGUgdG8gYXBwbHkgYmFubmVyIHRleHR1cmU6IHVuc3VwcG9ydGVkIHBpcGVsaW5lIFwiICsgcGlwZWxpbmVcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbCA9IG07XHJcbiAgICAgICAgdGhpcy5tZXNoLm1hdGVyaWFsLmFscGhhTWFza1RleHR1cmUgPSBiYW5uZXIudGV4dHVyZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLm1lc2gubWF0ZXJpYWxbdGhpcy50ZXh0dXJlUHJvcGVydHldID0gYmFubmVyLnRleHR1cmU7XHJcbiAgICAgICAgdGhpcy5tZXNoLm1hdGVyaWFsLmFscGhhTWFza1RleHR1cmUgPSBiYW5uZXIudGV4dHVyZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5iZWFjb24pIHtcclxuICAgICAgICB0aGlzLmR5bmFtaWNOZXR3b3JraW5nID9cclxuICAgICAgICAgIHRoaXMuemVzdHlOZXR3b3JraW5nLnNlbmRPbkxvYWRNZXRyaWModGhpcy5hZFVuaXQsIHRoaXMuYmFubmVyLmNhbXBhaWduSWQpIDpcclxuICAgICAgICAgIHNlbmRPbkxvYWRNZXRyaWModGhpcy5hZFVuaXQsIHRoaXMuYmFubmVyLmNhbXBhaWduSWQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG9uQ2xpY2soKSB7XHJcbiAgICBpZiAodGhpcy5iYW5uZXI/LnVybCkge1xyXG4gICAgICBpZiAodGhpcy5lbmdpbmUueHIpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLmVuZCgpLnRoZW4odGhpcy5leGVjdXRlQ2xpY2suYmluZCh0aGlzKSk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5lbmdpbmUueHJTZXNzaW9uKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUueHJTZXNzaW9uLmVuZCgpLnRoZW4odGhpcy5leGVjdXRlQ2xpY2suYmluZCh0aGlzKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5leGVjdXRlQ2xpY2soKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXhlY3V0ZUNsaWNrKCkge1xyXG4gICAgb3BlblVSTCh0aGlzLmJhbm5lci51cmwpO1xyXG4gICAgaWYgKHRoaXMuYmVhY29uKSB7XHJcbiAgICAgIHRoaXMuZHluYW1pY05ldHdvcmtpbmcgP1xyXG4gICAgICAgIHRoaXMuemVzdHlOZXR3b3JraW5nLnNlbmRPbkNsaWNrTWV0cmljKHRoaXMuYWRVbml0LCB0aGlzLmJhbm5lci5jYW1wYWlnbklkKSA6XHJcbiAgICAgICAgc2VuZE9uQ2xpY2tNZXRyaWModGhpcy5hZFVuaXQsIHRoaXMuYmFubmVyLmNhbXBhaWduSWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgbG9hZEJhbm5lcihhZFVuaXQsIGZvcm1hdCwgc3R5bGUpIHtcclxuICAgIGNvbnN0IGFjdGl2ZUNhbXBhaWduID0gdGhpcy5keW5hbWljTmV0d29ya2luZyA/XHJcbiAgICAgIGF3YWl0IHRoaXMuemVzdHlOZXR3b3JraW5nLmZldGNoQ2FtcGFpZ25BZChhZFVuaXQsIGZvcm1hdCwgc3R5bGUpIDpcclxuICAgICAgYXdhaXQgZmV0Y2hDYW1wYWlnbkFkKGFkVW5pdCwgZm9ybWF0LCBzdHlsZSk7XHJcblxyXG4gICAgY29uc3QgeyBhc3NldF91cmw6IGltYWdlLCBjdGFfdXJsOiB1cmwgfSA9IGFjdGl2ZUNhbXBhaWduLkFkc1swXTtcclxuICAgIHRoaXMuY2FtcGFpZ25JZCA9IGFjdGl2ZUNhbXBhaWduLkNhbXBhaWduSWQ7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZW5naW5lLnRleHR1cmVzLmxvYWQoaW1hZ2UsICcnKS50aGVuKHRleHR1cmUgPT4ge1xyXG4gICAgICByZXR1cm4geyB0ZXh0dXJlLCBpbWFnZVNyYzogaW1hZ2UsIHVybCwgY2FtcGFpZ25JZDogYWN0aXZlQ2FtcGFpZ24uQ2FtcGFpZ25JZCB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiQHdvbmRlcmxhbmRlbmdpbmUvYXBpXCI7XHJcbmltcG9ydCB7IEN1cnNvclRhcmdldCB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzXCI7XHJcbmltcG9ydCB7cHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcclxuaW1wb3J0IHsgRGlyZWN0aW9uU3ltYm9sIH0gZnJvbSBcIi4uL3R5cGVzL2luZGV4LmpzXCI7XHJcbmltcG9ydCB7IHdsVXRpbHMgfSBmcm9tIFwiQHNvcnNrb290L3dvbmRlcmxhbmQtY29tcG9uZW50c1wiO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgaGFuZGxlcyB0aGUgZG9vciBpbnRlcmFjdGlvbnNcclxuICogQGNsYXNzIERvb3JIYW5kbGVyXHJcbiAqIEBleHRlbmRzIHtDb21wb25lbnR9XHJcbiAqIEBtZW1iZXIge3N0cmluZ30gZGlyZWN0aW9uIC0gVGhlIGRpcmVjdGlvbiBvZiB0aGUgZG9vclxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERvb3JIYW5kbGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBzdGF0aWMgVHlwZU5hbWUgPSBcImRvb3ItaGFuZGxlclwiO1xyXG5cclxuICAvKipcclxuICAgKiBAdHlwZSB7RGlyZWN0aW9uU3ltYm9sfSBUaGUgZGlyZWN0aW9uIHRoZSBkb29yIGlzIGZhY2luZ1xyXG4gICAqLyAgXHJcbiAgQHByb3BlcnR5LnN0cmluZyhcIk5cIilcclxuICBkaXJlY3Rpb246RGlyZWN0aW9uU3ltYm9sID0gXCJOXCI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEB0eXBlIHtudW1iZXJ9IFggcG9zaXRpb24gb2YgdGhlIHJvb20gYmVoaW5kIHRoZSBkb29yLlxyXG4gICAqL1xyXG4gIEBwcm9wZXJ0eS5pbnQoMClcclxuICB0YXJnZXRSb29tWDpudW1iZXIgPTAgO1xyXG5cclxuICAvKipcclxuICAgKiBAdHlwZSB7bnVtYmVyfSBZIHBvc2l0aW9uIG9mIHRoZSByb29tIGJlaGluZCB0aGUgZG9vci5cclxuICAgKi9cclxuICBAcHJvcGVydHkuaW50KDApXHJcbiAgdGFyZ2V0Um9vbVk6bnVtYmVyID0gMDtcclxuXHJcbiAgc3RhcnQoKSB7XHJcbiAgICBsZXQgY2hpbGQgPSB3bFV0aWxzLmZpbmRDaGlsZCh0aGlzLm9iamVjdCwgXCJjb2xsaXNpb25PYmplY3RcIik7XHJcbiAgICBpZiAoIWNoaWxkKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcIkRvb3JIYW5kbGVyIG5lZWRzIGEgY2hpbGQgb2JqZWN0IHdpdGggdGhlIG5hbWUgJ2NvbGxpc2lvbk9iamVjdCdcIik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHRhcmdldCA9IGNoaWxkLmdldENvbXBvbmVudChDdXJzb3JUYXJnZXQpO1xyXG4gICAgaWYgKCF0YXJnZXQpIHtcclxuICAgICAgY29uc29sZS53YXJuKFwiRG9vckhhbmRsZXIgbmVlZHMgYSBDdXJzb3JUYXJnZXQgY29tcG9uZW50IG9uIHRoZSBzYW1lIG9iamVjdFwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRhcmdldC5vbkNsaWNrLmFkZCgoKSA9PiB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCAiaW1wb3J0IHtDb21wb25lbnQsIE1lc2hDb21wb25lbnQsIEVtaXR0ZXJ9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IEVhc2luZywgY2xhbXAsIGxlcnAgfSBmcm9tICdAc29yc2tvb3Qvd29uZGVybGFuZC1jb21wb25lbnRzJztcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XHJcbmltcG9ydCB7IEZsYXRNYXRlcmlhbCB9IGZyb20gJy4uL3R5cGVzL2luZGV4LmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGYWRlU2NyZWVuIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdmYWRlLXNjcmVlbic7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgdGltZSBpdCB0YWtlcyB0byBmYWRlIGluIG9yIG91dC5cclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eS5mbG9hdCgxKVxyXG4gICAgZmFkZUluVGltZTpudW1iZXIgPSAxO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSWYgdHJ1ZSwgdGhlIHNjcmVlbiB3aWxsIGZhZGUgaW4gYWdhaW4gYWZ0ZXIgZmFkaW5nIG91dC5cclxuICAgICAqIEB0eXBlIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkuYm9vbCh0cnVlKVxyXG4gICAgY29udGludW91czpib29sZWFuID0gdHJ1ZVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGZhZGUgaW4gcHJvY2VzcyBpcyBjb21wbGV0ZWQuXHJcbiAgICAgKiBAdHlwZSB7RW1pdHRlcn1cclxuICAgICAqL1xyXG4gICAgRmFkZUluQ29tcGxldGVkITogRW1pdHRlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBmYWRlIG91dCBwcm9jZXNzIGlzIGNvbXBsZXRlZC5cclxuICAgICAqIEB0eXBlIHtFbWl0dGVyfVxyXG4gICAgICovXHJcbiAgICBGYWRlT3V0Q29tcGxldGVkITogRW1pdHRlcjtcclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuRmFkZUluQ29tcGxldGVkID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgICAgICB0aGlzLkZhZGVPdXRDb21wbGV0ZWQgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc2ggY29tcG9uZW50IG9mIHRoZSBvYmplY3QuIFRoaXMgc2hvdWxkIGJlIGEgYmxhY2sgc3BoZXJlIGFyb3VuZCB0aGUgaGVhZFxyXG4gICAgICogb2YgdGhlIHBsYXllciB0aGF0IGZhZGVzIGluIGFuZCBvdXQuXHJcbiAgICAgKiBAdHlwZSB7TWVzaENvbXBvbmVudH1cclxuICAgICAqLyAgICBcclxuICAgIG1lc2ghOk1lc2hDb21wb25lbnQ7XHJcblxyXG4gICAgI2lzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgI2RlbHRhVGltZSA9IDA7XHJcbiAgICAjaXNGYWRpbmdJbiA9IGZhbHNlO1xyXG4gICAgI2lzRmFkaW5nT3V0ID0gZmFsc2U7XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgY29uc3QgbWMgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoTWVzaENvbXBvbmVudCk7XHJcbiAgICAgICAgaWYoIW1jKSB0aHJvdyBuZXcgRXJyb3IoJ05vIG1lc2ggY29tcG9uZW50IGZvdW5kIG9uIG9iamVjdCcpO1xyXG4gICAgICAgIHRoaXMubWVzaCA9IG1jO1xyXG4gICAgICAgIHRoaXMubWVzaC5hY3RpdmUgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmYWRlSW4oKSB7XHJcbiAgICAgICAgdGhpcy5tZXNoLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy4jaXNGYWRpbmdJbj0gdHJ1ZTtcclxuICAgICAgICB0aGlzLiNpc1J1bm5pbmcgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZmFkZU91dCgpIHtcclxuICAgICAgICB0aGlzLm1lc2guYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLiNpc0ZhZGluZ091dCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy4jaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZGVsdGE6bnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuI2lzUnVubmluZykge1xyXG4gICAgICAgICAgICBsZXQgYWxwaGE6bnVtYmVyPTA7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuI2lzRmFkaW5nSW4pe1xyXG4gICAgICAgICAgICAgICAgdGhpcy4jZGVsdGFUaW1lIC09IGRlbHRhIC8gdGhpcy5mYWRlSW5UaW1lO1xyXG4gICAgICAgICAgICAgICAgYWxwaGEgPSBjbGFtcChsZXJwKDAsIDEsIHRoaXMuI2RlbHRhVGltZSwgRWFzaW5nLkluUXVhZCksIDAsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuI2lzRmFkaW5nT3V0KXtcclxuICAgICAgICAgICAgICAgIHRoaXMuI2RlbHRhVGltZSArPSBkZWx0YSAvIHRoaXMuZmFkZUluVGltZTtcclxuICAgICAgICAgICAgICAgIGFscGhhID0gY2xhbXAobGVycCgwLCAxLCB0aGlzLiNkZWx0YVRpbWUsIEVhc2luZy5PdXRRdWFkKSwgMCwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGluY3JlYXNlIG9yIGRlY3JlYXNlIGFscGhhXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZih0aGlzLiNkZWx0YVRpbWUgPj0gMSB8fCB0aGlzLiNkZWx0YVRpbWUgPD0gMCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiNpc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuI2lzRmFkaW5nSW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuI2lzRmFkaW5nT3V0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLiNkZWx0YVRpbWUgPj0gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jZGVsdGFUaW1lID0gMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkZhZGVPdXRDb21wbGV0ZWQubm90aWZ5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5jb250aW51b3VzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWRlSW4oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmxhdE1hdGVyaWFsID0gdGhpcy5tZXNoLm1hdGVyaWFsIGFzIEZsYXRNYXRlcmlhbDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhdE1hdGVyaWFsKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhdE1hdGVyaWFsLmNvbG9yID0gWzAsMCwwLDBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2RlbHRhVGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5GYWRlSW5Db21wbGV0ZWQubm90aWZ5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZmxhdE1hdGVyaWFsID0gdGhpcy5tZXNoLm1hdGVyaWFsIGFzIEZsYXRNYXRlcmlhbDtcclxuICAgICAgICAgICAgaWYgKGZsYXRNYXRlcmlhbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZmxhdE1hdGVyaWFsLmNvbG9yID0gWzAsMCwwLCBhbHBoYV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59OyIsICJpbXBvcnQgXCJyZWZsZWN0LW1ldGFkYXRhXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgT2JqZWN0M0QsIFByb3BlcnR5IH0gZnJvbSBcIkB3b25kZXJsYW5kZW5naW5lL2FwaVwiO1xyXG5pbXBvcnQgeyBMZXZlbEdlbmVyYXRvciB9IGZyb20gXCIuL2xldmVsLWdlbmVyYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBHYW1lU3RhdGUsIFN0YXRlIH0gZnJvbSBcIi4uL2NsYXNzZXMvZ2FtZVN0YXRlLmpzXCI7XHJcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSBcIkB3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzXCI7XHJcbmltcG9ydCB7IFN3b3JkIH0gZnJvbSBcIi4uL2NsYXNzZXMvaXRlbXMvc3dvcmQuanNcIjtcclxuaW1wb3J0IGlyb24gZnJvbSBcIi4uL2NsYXNzZXMvYmVoYXZpb3JzL2lyb24uanNcIjtcclxuaW1wb3J0IHsgY29udGFpbmVyIH0gZnJvbSBcInRzeXJpbmdlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc3RhdGljIFR5cGVOYW1lID0gXCJnYW1lXCI7XHJcbiAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICBsZXZlbEdlbk9iamVjdDogUHJvcGVydHkub2JqZWN0KCksXHJcbiAgICBwbGF5ZXJPYmplY3Q6IFByb3BlcnR5Lm9iamVjdCgpLFxyXG4gIH07XHJcblxyXG4gIEBwcm9wZXJ0eS5vYmplY3QoKVxyXG4gIGxldmVsR2VuT2JqZWN0ITogT2JqZWN0M0Q7XHJcblxyXG4gIEBwcm9wZXJ0eS5vYmplY3QoKVxyXG4gIHBsYXllck9iamVjdCE6IE9iamVjdDNEO1xyXG5cclxuICAjbGV2ZWxHZW4hOiBMZXZlbEdlbmVyYXRvcjtcclxuICBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuZ2FtZVN0YXRlID0gY29udGFpbmVyLnJlc29sdmUoR2FtZVN0YXRlKTtcclxuICAgIFxyXG4gICAgY29uc3QgbGcgPSB0aGlzLmxldmVsR2VuT2JqZWN0LmdldENvbXBvbmVudChMZXZlbEdlbmVyYXRvcilcclxuICAgIGlmKCFsZyl7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkxldmVsR2VuZXJhdG9yIG5vdCBmb3VuZCBvbiBsZXZlbEdlbk9iamVjdFwiKVxyXG4gICAgfVxyXG4gICAgdGhpcy4jbGV2ZWxHZW4gPSBsZztcclxuXHJcbiAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCgoKSA9PiAodGhpcy5nYW1lU3RhdGUuaXNJblZSID0gdHJ1ZSkpO1xyXG4gICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQuYWRkKCgpID0+ICh0aGlzLmdhbWVTdGF0ZS5pc0luVlIgPSBmYWxzZSkpO1xyXG5cclxuICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKCgpID0+IHt9KTtcclxuXHJcbiAgICB0aGlzLmdhbWVTdGF0ZS5zdGF0ZSA9IFN0YXRlLlBsYXlpbmc7XHJcbiAgfVxyXG5cclxuICBzdGFydCgpIHtcclxuICAgIHRoaXMuZ2FtZVN0YXRlLmxldmVsU3ViamVjdC5zdWJzY3JpYmUoKGxldmVsKSA9PiB7XHJcbiAgICAgIGxldCByZXN1bHQgPSB0aGlzLiNsZXZlbEdlbi5nZW5lcmF0ZShsZXZlbCk7XHJcbiAgICAgIHRoaXMuZ2FtZVN0YXRlLm5hdmlnYXRlVG9Sb29tKDAsIDApO1xyXG4gXHJcbiAgICB9XHJcbiAgICApO1xyXG4gICAgY29uc3QgdGVzdFN3b3JkID0gbmV3IFN3b3JkKCk7XHJcbiAgICB0ZXN0U3dvcmQuYWRkQmVoYXZpb3IoaXJvbik7XHJcbiAgICBjb25zb2xlLmxvZyhgJHt0ZXN0U3dvcmQubmFtZX06JHt0ZXN0U3dvcmQuYXR0YWNrKCl9YCk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuZ2FtZVN0YXRlLmxldmVsID0gMDtcclxuICAgIH0sIDEwMDApOyAvLyBqdXN0IGRlbGF5IHRoZSBzdGFydC4gVGhpcyB3aWxsIGNoYW5nZSBvbmNlIHdlIGhhdmUgYSBtZW51LlxyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGUpID0+IHtcclxuICAgICAgbGV0IHAgPSB0aGlzLmdhbWVTdGF0ZS5jdXJyZW50Um9vbTtcclxuICAgICAgaWYgKGUuY29kZSA9PSBcIkRpZ2l0MVwiKSB7IC8vIFNPVVRIXHJcbiAgICAgICAgcFswXSArPSAxO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLnJvb21QcmV2aW91c0V4aXREaXJlY3Rpb24gPSBcIlNcIjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdXJyZW50Um9vbSA9IHA7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGUuY29kZSA9PSBcIkRpZ2l0MlwiKSB7IC8vIE5PUlRIXHJcbiAgICAgICAgcFswXSAtPSAxO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLnJvb21QcmV2aW91c0V4aXREaXJlY3Rpb24gPSBcIk5cIjtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5jdXJyZW50Um9vbSA9IHA7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGUuY29kZSA9PSBcIkRpZ2l0M1wiKSB7IC8vIEVBU1RcclxuICAgICAgICBwWzFdICs9IDE7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUucm9vbVByZXZpb3VzRXhpdERpcmVjdGlvbiA9IFwiRVwiO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLmN1cnJlbnRSb29tID0gcDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZS5jb2RlID09IFwiRGlnaXQ0XCIpIHsgLy8gV0VTVFxyXG4gICAgICAgIHBbMV0gLT0gMTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5yb29tUHJldmlvdXNFeGl0RGlyZWN0aW9uID0gXCJXXCI7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuY3VycmVudFJvb20gPSBwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZS5jb2RlID09IFwiRGlnaXQ1XCIpIHsgLy8gb3BlbiBmaXJzdCBjaGVzdFxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlLnJvb20/Lml0ZW1zPy5maW5kKChpKSA9PiBpLm5hbWUgPT0gXCJDaGVzdFwiKT8uaW50ZXJhY3QodGhpcy5wbGF5ZXJPYmplY3QsOCwwLDgpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsICIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoQykgTWljcm9zb2Z0LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXG5cblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbnZhciBSZWZsZWN0O1xuKGZ1bmN0aW9uIChSZWZsZWN0KSB7XG4gICAgLy8gTWV0YWRhdGEgUHJvcG9zYWxcbiAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhL1xuICAgIChmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICAgICB2YXIgcm9vdCA9IHR5cGVvZiBnbG9iYWwgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwgOlxuICAgICAgICAgICAgdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDpcbiAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcyA9PT0gXCJvYmplY3RcIiA/IHRoaXMgOlxuICAgICAgICAgICAgICAgICAgICBGdW5jdGlvbihcInJldHVybiB0aGlzO1wiKSgpO1xuICAgICAgICB2YXIgZXhwb3J0ZXIgPSBtYWtlRXhwb3J0ZXIoUmVmbGVjdCk7XG4gICAgICAgIGlmICh0eXBlb2Ygcm9vdC5SZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByb290LlJlZmxlY3QgPSBSZWZsZWN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXhwb3J0ZXIgPSBtYWtlRXhwb3J0ZXIocm9vdC5SZWZsZWN0LCBleHBvcnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgZmFjdG9yeShleHBvcnRlcik7XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VFeHBvcnRlcih0YXJnZXQsIHByZXZpb3VzKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldFtrZXldICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzKVxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91cyhrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KShmdW5jdGlvbiAoZXhwb3J0ZXIpIHtcbiAgICAgICAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gICAgICAgIC8vIGZlYXR1cmUgdGVzdCBmb3IgU3ltYm9sIHN1cHBvcnRcbiAgICAgICAgdmFyIHN1cHBvcnRzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB2YXIgdG9QcmltaXRpdmVTeW1ib2wgPSBzdXBwb3J0c1N5bWJvbCAmJiB0eXBlb2YgU3ltYm9sLnRvUHJpbWl0aXZlICE9PSBcInVuZGVmaW5lZFwiID8gU3ltYm9sLnRvUHJpbWl0aXZlIDogXCJAQHRvUHJpbWl0aXZlXCI7XG4gICAgICAgIHZhciBpdGVyYXRvclN5bWJvbCA9IHN1cHBvcnRzU3ltYm9sICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgIT09IFwidW5kZWZpbmVkXCIgPyBTeW1ib2wuaXRlcmF0b3IgOiBcIkBAaXRlcmF0b3JcIjtcbiAgICAgICAgdmFyIHN1cHBvcnRzQ3JlYXRlID0gdHlwZW9mIE9iamVjdC5jcmVhdGUgPT09IFwiZnVuY3Rpb25cIjsgLy8gZmVhdHVyZSB0ZXN0IGZvciBPYmplY3QuY3JlYXRlIHN1cHBvcnRcbiAgICAgICAgdmFyIHN1cHBvcnRzUHJvdG8gPSB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5OyAvLyBmZWF0dXJlIHRlc3QgZm9yIF9fcHJvdG9fXyBzdXBwb3J0XG4gICAgICAgIHZhciBkb3duTGV2ZWwgPSAhc3VwcG9ydHNDcmVhdGUgJiYgIXN1cHBvcnRzUHJvdG87XG4gICAgICAgIHZhciBIYXNoTWFwID0ge1xuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIG9iamVjdCBpbiBkaWN0aW9uYXJ5IG1vZGUgKGEuay5hLiBcInNsb3dcIiBtb2RlIGluIHY4KVxuICAgICAgICAgICAgY3JlYXRlOiBzdXBwb3J0c0NyZWF0ZVxuICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gTWFrZURpY3Rpb25hcnkoT2JqZWN0LmNyZWF0ZShudWxsKSk7IH1cbiAgICAgICAgICAgICAgICA6IHN1cHBvcnRzUHJvdG9cbiAgICAgICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBNYWtlRGljdGlvbmFyeSh7IF9fcHJvdG9fXzogbnVsbCB9KTsgfVxuICAgICAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE1ha2VEaWN0aW9uYXJ5KHt9KTsgfSxcbiAgICAgICAgICAgIGhhczogZG93bkxldmVsXG4gICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAobWFwLCBrZXkpIHsgcmV0dXJuIGhhc093bi5jYWxsKG1hcCwga2V5KTsgfVxuICAgICAgICAgICAgICAgIDogZnVuY3Rpb24gKG1hcCwga2V5KSB7IHJldHVybiBrZXkgaW4gbWFwOyB9LFxuICAgICAgICAgICAgZ2V0OiBkb3duTGV2ZWxcbiAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gaGFzT3duLmNhbGwobWFwLCBrZXkpID8gbWFwW2tleV0gOiB1bmRlZmluZWQ7IH1cbiAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gbWFwW2tleV07IH0sXG4gICAgICAgIH07XG4gICAgICAgIC8vIExvYWQgZ2xvYmFsIG9yIHNoaW0gdmVyc2lvbnMgb2YgTWFwLCBTZXQsIGFuZCBXZWFrTWFwXG4gICAgICAgIHZhciBmdW5jdGlvblByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihGdW5jdGlvbik7XG4gICAgICAgIHZhciB1c2VQb2x5ZmlsbCA9IHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MuZW52ICYmIHByb2Nlc3MuZW52W1wiUkVGTEVDVF9NRVRBREFUQV9VU0VfTUFQX1BPTFlGSUxMXCJdID09PSBcInRydWVcIjtcbiAgICAgICAgdmFyIF9NYXAgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBNYXAucHJvdG90eXBlLmVudHJpZXMgPT09IFwiZnVuY3Rpb25cIiA/IE1hcCA6IENyZWF0ZU1hcFBvbHlmaWxsKCk7XG4gICAgICAgIHZhciBfU2V0ID0gIXVzZVBvbHlmaWxsICYmIHR5cGVvZiBTZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU2V0LnByb3RvdHlwZS5lbnRyaWVzID09PSBcImZ1bmN0aW9uXCIgPyBTZXQgOiBDcmVhdGVTZXRQb2x5ZmlsbCgpO1xuICAgICAgICB2YXIgX1dlYWtNYXAgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIFdlYWtNYXAgPT09IFwiZnVuY3Rpb25cIiA/IFdlYWtNYXAgOiBDcmVhdGVXZWFrTWFwUG9seWZpbGwoKTtcbiAgICAgICAgLy8gW1tNZXRhZGF0YV1dIGludGVybmFsIHNsb3RcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnktb2JqZWN0LWludGVybmFsLW1ldGhvZHMtYW5kLWludGVybmFsLXNsb3RzXG4gICAgICAgIHZhciBNZXRhZGF0YSA9IG5ldyBfV2Vha01hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXBwbGllcyBhIHNldCBvZiBkZWNvcmF0b3JzIHRvIGEgcHJvcGVydHkgb2YgYSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gZGVjb3JhdG9ycyBBbiBhcnJheSBvZiBkZWNvcmF0b3JzLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IHRvIGRlY29yYXRlLlxuICAgICAgICAgKiBAcGFyYW0gYXR0cmlidXRlcyAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGZvciB0aGUgdGFyZ2V0IGtleS5cbiAgICAgICAgICogQHJlbWFya3MgRGVjb3JhdG9ycyBhcmUgYXBwbGllZCBpbiByZXZlcnNlIG9yZGVyLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBFeGFtcGxlID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgIFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9yc0FycmF5LCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIixcbiAgICAgICAgICogICAgICAgICBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnNBcnJheSwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIsXG4gICAgICAgICAqICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBkZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSkge1xuICAgICAgICAgICAgICAgIGlmICghSXNBcnJheShkZWNvcmF0b3JzKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QoYXR0cmlidXRlcykgJiYgIUlzVW5kZWZpbmVkKGF0dHJpYnV0ZXMpICYmICFJc051bGwoYXR0cmlidXRlcykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoSXNOdWxsKGF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERlY29yYXRlUHJvcGVydHkoZGVjb3JhdG9ycywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQXJyYXkoZGVjb3JhdG9ycykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQ29uc3RydWN0b3IodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBEZWNvcmF0ZUNvbnN0cnVjdG9yKGRlY29yYXRvcnMsIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWNvcmF0ZVwiLCBkZWNvcmF0ZSk7XG4gICAgICAgIC8vIDQuMS4yIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI3JlZmxlY3QubWV0YWRhdGFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGVmYXVsdCBtZXRhZGF0YSBkZWNvcmF0b3IgZmFjdG9yeSB0aGF0IGNhbiBiZSB1c2VkIG9uIGEgY2xhc3MsIGNsYXNzIG1lbWJlciwgb3IgcGFyYW1ldGVyLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgVGhlIGtleSBmb3IgdGhlIG1ldGFkYXRhIGVudHJ5LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFWYWx1ZSBUaGUgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBlbnRyeS5cbiAgICAgICAgICogQHJldHVybnMgQSBkZWNvcmF0b3IgZnVuY3Rpb24uXG4gICAgICAgICAqIEByZW1hcmtzXG4gICAgICAgICAqIElmIGBtZXRhZGF0YUtleWAgaXMgYWxyZWFkeSBkZWZpbmVkIGZvciB0aGUgdGFyZ2V0IGFuZCB0YXJnZXQga2V5LCB0aGVcbiAgICAgICAgICogbWV0YWRhdGFWYWx1ZSBmb3IgdGhhdCBrZXkgd2lsbCBiZSBvdmVyd3JpdHRlbi5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IsIFR5cGVTY3JpcHQgb25seSlcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIEBSZWZsZWN0Lm1ldGFkYXRhKGtleSwgdmFsdWUpXG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSwgVHlwZVNjcmlwdCBvbmx5KVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBwcm9wZXJ0eTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QoKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBtZXRob2QoKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpICYmICFJc1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUsIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlY29yYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcIm1ldGFkYXRhXCIsIG1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZSBhIHVuaXF1ZSBtZXRhZGF0YSBlbnRyeSBvbiB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YVZhbHVlIEEgdmFsdWUgdGhhdCBjb250YWlucyBhdHRhY2hlZCBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0byBkZWZpbmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBkZWNvcmF0b3IgZmFjdG9yeSBhcyBtZXRhZGF0YS1wcm9kdWNpbmcgYW5ub3RhdGlvbi5cbiAgICAgICAgICogICAgIGZ1bmN0aW9uIE15QW5ub3RhdGlvbihvcHRpb25zKTogRGVjb3JhdG9yIHtcbiAgICAgICAgICogICAgICAgICByZXR1cm4gKHRhcmdldCwga2V5PykgPT4gUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIHRhcmdldCwga2V5KTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZU1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImRlZmluZU1ldGFkYXRhXCIsIGRlZmluZU1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbiBoYXMgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEga2V5IHdhcyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0IG9yIGl0cyBwcm90b3R5cGUgY2hhaW47IG90aGVyd2lzZSwgYGZhbHNlYC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGhhc01ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc01ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImhhc01ldGFkYXRhXCIsIGhhc01ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRhcmdldCBvYmplY3QgaGFzIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG1ldGFkYXRhIGtleSB3YXMgZGVmaW5lZCBvbiB0aGUgdGFyZ2V0IG9iamVjdDsgb3RoZXJ3aXNlLCBgZmFsc2VgLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaGFzT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5SGFzT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiaGFzT3duTWV0YWRhdGFcIiwgaGFzT3duTWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBrZXkgaWYgZm91bmQ7IG90aGVyd2lzZSwgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRNZXRhZGF0YVwiLCBnZXRNZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSB2YWx1ZSBmb3IgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBvbiB0aGUgdGFyZ2V0IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBrZXkgaWYgZm91bmQ7IG90aGVyd2lzZSwgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRPd25NZXRhZGF0YVwiLCBnZXRPd25NZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSBrZXlzIGRlZmluZWQgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgdW5pcXVlIG1ldGFkYXRhIGtleXMuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGFLZXlzKEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0TWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5TWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZ2V0TWV0YWRhdGFLZXlzXCIsIGdldE1ldGFkYXRhS2V5cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSB1bmlxdWUgbWV0YWRhdGEga2V5cyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB1bmlxdWUgbWV0YWRhdGEga2V5cy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRPd25NZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlPd25NZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRPd25NZXRhZGF0YUtleXNcIiwgZ2V0T3duTWV0YWRhdGFLZXlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGV0ZXMgdGhlIG1ldGFkYXRhIGVudHJ5IGZyb20gdGhlIHRhcmdldCBvYmplY3Qgd2l0aCB0aGUgcHJvdmlkZWQga2V5LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEgZW50cnkgd2FzIGZvdW5kIGFuZCBkZWxldGVkOyBvdGhlcndpc2UsIGZhbHNlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcCh0YXJnZXQsIHByb3BlcnR5S2V5LCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKCFtZXRhZGF0YU1hcC5kZWxldGUobWV0YWRhdGFLZXkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YU1hcC5zaXplID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHZhciB0YXJnZXRNZXRhZGF0YSA9IE1ldGFkYXRhLmdldCh0YXJnZXQpO1xuICAgICAgICAgICAgdGFyZ2V0TWV0YWRhdGEuZGVsZXRlKHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRNZXRhZGF0YS5zaXplID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIE1ldGFkYXRhLmRlbGV0ZSh0YXJnZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWxldGVNZXRhZGF0YVwiLCBkZWxldGVNZXRhZGF0YSk7XG4gICAgICAgIGZ1bmN0aW9uIERlY29yYXRlQ29uc3RydWN0b3IoZGVjb3JhdG9ycywgdGFyZ2V0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0ZWQgPSBkZWNvcmF0b3IodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKGRlY29yYXRlZCkgJiYgIUlzTnVsbChkZWNvcmF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNDb25zdHJ1Y3RvcihkZWNvcmF0ZWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBkZWNvcmF0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBEZWNvcmF0ZVByb3BlcnR5KGRlY29yYXRvcnMsIHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRlZCA9IGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKGRlY29yYXRlZCkgJiYgIUlzTnVsbChkZWNvcmF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QoZGVjb3JhdGVkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvciA9IGRlY29yYXRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIENyZWF0ZSkge1xuICAgICAgICAgICAgdmFyIHRhcmdldE1ldGFkYXRhID0gTWV0YWRhdGEuZ2V0KE8pO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKHRhcmdldE1ldGFkYXRhKSkge1xuICAgICAgICAgICAgICAgIGlmICghQ3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRhcmdldE1ldGFkYXRhID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICBNZXRhZGF0YS5zZXQoTywgdGFyZ2V0TWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gdGFyZ2V0TWV0YWRhdGEuZ2V0KFApO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSkge1xuICAgICAgICAgICAgICAgIGlmICghQ3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhTWFwID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRNZXRhZGF0YS5zZXQoUCwgbWV0YWRhdGFNYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhTWFwO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4xLjEgT3JkaW5hcnlIYXNNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnloYXNtZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgaGFzT3duID0gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICBpZiAoaGFzT3duKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTyk7XG4gICAgICAgICAgICBpZiAoIUlzTnVsbChwYXJlbnQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBwYXJlbnQsIFApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4yLjEgT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnloYXNvd25tZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUhhc093bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIC8qQ3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gVG9Cb29sZWFuKG1ldGFkYXRhTWFwLmhhcyhNZXRhZGF0YUtleSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4zLjEgT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnlnZXRtZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldE1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgaGFzT3duID0gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICBpZiAoaGFzT3duKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKTtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pO1xuICAgICAgICAgICAgaWYgKCFJc051bGwocGFyZW50KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgcGFyZW50LCBQKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjQuMSBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWdldG93bm1ldGFkYXRhXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5R2V0T3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLypDcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQobWV0YWRhdGFNYXApKVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gbWV0YWRhdGFNYXAuZ2V0KE1ldGFkYXRhS2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNS4xIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE1ldGFkYXRhVmFsdWUsIE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5ZGVmaW5lb3dubWV0YWRhdGFcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTWV0YWRhdGFWYWx1ZSwgTywgUCkge1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIHRydWUpO1xuICAgICAgICAgICAgbWV0YWRhdGFNYXAuc2V0KE1ldGFkYXRhS2V5LCBNZXRhZGF0YVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNi4xIE9yZGluYXJ5TWV0YWRhdGFLZXlzKE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5bWV0YWRhdGFrZXlzXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5TWV0YWRhdGFLZXlzKE8sIFApIHtcbiAgICAgICAgICAgIHZhciBvd25LZXlzID0gT3JkaW5hcnlPd25NZXRhZGF0YUtleXMoTywgUCk7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gT3JkaW5hcnlHZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG93bktleXM7XG4gICAgICAgICAgICB2YXIgcGFyZW50S2V5cyA9IE9yZGluYXJ5TWV0YWRhdGFLZXlzKHBhcmVudCwgUCk7XG4gICAgICAgICAgICBpZiAocGFyZW50S2V5cy5sZW5ndGggPD0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gb3duS2V5cztcbiAgICAgICAgICAgIGlmIChvd25LZXlzLmxlbmd0aCA8PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRLZXlzO1xuICAgICAgICAgICAgdmFyIHNldCA9IG5ldyBfU2V0KCk7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBvd25LZXlzXzEgPSBvd25LZXlzOyBfaSA8IG93bktleXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gb3duS2V5c18xW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gc2V0LmhhcyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBwYXJlbnRLZXlzXzEgPSBwYXJlbnRLZXlzOyBfYSA8IHBhcmVudEtleXNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gcGFyZW50S2V5c18xW19hXTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gc2V0LmhhcyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjcuMSBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeW93bm1ldGFkYXRha2V5c1xuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgICB2YXIga2V5c09iaiA9IG1ldGFkYXRhTWFwLmtleXMoKTtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IEdldEl0ZXJhdG9yKGtleXNPYmopO1xuICAgICAgICAgICAgdmFyIGsgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IEl0ZXJhdG9yU3RlcChpdGVyYXRvcik7XG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMubGVuZ3RoID0gaztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBuZXh0VmFsdWUgPSBJdGVyYXRvclZhbHVlKG5leHQpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXNba10gPSBuZXh0VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDYgRUNNQVNjcmlwdCBEYXRhIFR5cDBlcyBhbmQgVmFsdWVzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtZGF0YS10eXBlcy1hbmQtdmFsdWVzXG4gICAgICAgIGZ1bmN0aW9uIFR5cGUoeCkge1xuICAgICAgICAgICAgaWYgKHggPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogTnVsbCAqLztcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6IHJldHVybiAwIC8qIFVuZGVmaW5lZCAqLztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOiByZXR1cm4gMiAvKiBCb29sZWFuICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjogcmV0dXJuIDMgLyogU3RyaW5nICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjogcmV0dXJuIDQgLyogU3ltYm9sICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjogcmV0dXJuIDUgLyogTnVtYmVyICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjogcmV0dXJuIHggPT09IG51bGwgPyAxIC8qIE51bGwgKi8gOiA2IC8qIE9iamVjdCAqLztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gNiAvKiBPYmplY3QgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjEgVGhlIFVuZGVmaW5lZCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtdW5kZWZpbmVkLXR5cGVcbiAgICAgICAgZnVuY3Rpb24gSXNVbmRlZmluZWQoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHggPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuMiBUaGUgTnVsbCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtbnVsbC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzTnVsbCh4KSB7XG4gICAgICAgICAgICByZXR1cm4geCA9PT0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuNSBUaGUgU3ltYm9sIFR5cGVcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcy1zeW1ib2wtdHlwZVxuICAgICAgICBmdW5jdGlvbiBJc1N5bWJvbCh4KSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjcgVGhlIE9iamVjdCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzT2JqZWN0KHgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiA/IHggIT09IG51bGwgOiB0eXBlb2YgeCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMSBUeXBlIENvbnZlcnNpb25cbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdHlwZS1jb252ZXJzaW9uXG4gICAgICAgIC8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3ByaW1pdGl2ZVxuICAgICAgICBmdW5jdGlvbiBUb1ByaW1pdGl2ZShpbnB1dCwgUHJlZmVycmVkVHlwZSkge1xuICAgICAgICAgICAgc3dpdGNoIChUeXBlKGlucHV0KSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBVbmRlZmluZWQgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogTnVsbCAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBCb29sZWFuICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIFN0cmluZyAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBTeW1ib2wgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDUgLyogTnVtYmVyICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaGludCA9IFByZWZlcnJlZFR5cGUgPT09IDMgLyogU3RyaW5nICovID8gXCJzdHJpbmdcIiA6IFByZWZlcnJlZFR5cGUgPT09IDUgLyogTnVtYmVyICovID8gXCJudW1iZXJcIiA6IFwiZGVmYXVsdFwiO1xuICAgICAgICAgICAgdmFyIGV4b3RpY1RvUHJpbSA9IEdldE1ldGhvZChpbnB1dCwgdG9QcmltaXRpdmVTeW1ib2wpO1xuICAgICAgICAgICAgaWYgKGV4b3RpY1RvUHJpbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGV4b3RpY1RvUHJpbS5jYWxsKGlucHV0LCBoaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlUb1ByaW1pdGl2ZShpbnB1dCwgaGludCA9PT0gXCJkZWZhdWx0XCIgPyBcIm51bWJlclwiIDogaGludCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjEuMSBPcmRpbmFyeVRvUHJpbWl0aXZlKE8sIGhpbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5dG9wcmltaXRpdmVcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlUb1ByaW1pdGl2ZShPLCBoaW50KSB7XG4gICAgICAgICAgICBpZiAoaGludCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHZhciB0b1N0cmluZ18xID0gTy50b1N0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh0b1N0cmluZ18xKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdG9TdHJpbmdfMS5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVPZiA9IE8udmFsdWVPZjtcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh2YWx1ZU9mKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdmFsdWVPZi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZU9mID0gTy52YWx1ZU9mO1xuICAgICAgICAgICAgICAgIGlmIChJc0NhbGxhYmxlKHZhbHVlT2YpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB2YWx1ZU9mLmNhbGwoTyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB0b1N0cmluZ18yID0gTy50b1N0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh0b1N0cmluZ18yKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdG9TdHJpbmdfMi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMiBUb0Jvb2xlYW4oYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8yMDE2LyNzZWMtdG9ib29sZWFuXG4gICAgICAgIGZ1bmN0aW9uIFRvQm9vbGVhbihhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuICEhYXJndW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjEyIFRvU3RyaW5nKGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3N0cmluZ1xuICAgICAgICBmdW5jdGlvbiBUb1N0cmluZyhhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCIgKyBhcmd1bWVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMTQgVG9Qcm9wZXJ0eUtleShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9wcm9wZXJ0eWtleVxuICAgICAgICBmdW5jdGlvbiBUb1Byb3BlcnR5S2V5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gVG9QcmltaXRpdmUoYXJndW1lbnQsIDMgLyogU3RyaW5nICovKTtcbiAgICAgICAgICAgIGlmIChJc1N5bWJvbChrZXkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICByZXR1cm4gVG9TdHJpbmcoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjIgVGVzdGluZyBhbmQgQ29tcGFyaXNvbiBPcGVyYXRpb25zXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRlc3RpbmctYW5kLWNvbXBhcmlzb24tb3BlcmF0aW9uc1xuICAgICAgICAvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pc2FycmF5XG4gICAgICAgIGZ1bmN0aW9uIElzQXJyYXkoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5XG4gICAgICAgICAgICAgICAgPyBBcnJheS5pc0FycmF5KGFyZ3VtZW50KVxuICAgICAgICAgICAgICAgIDogYXJndW1lbnQgaW5zdGFuY2VvZiBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgPyBhcmd1bWVudCBpbnN0YW5jZW9mIEFycmF5XG4gICAgICAgICAgICAgICAgICAgIDogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi4zIElzQ2FsbGFibGUoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzY2FsbGFibGVcbiAgICAgICAgZnVuY3Rpb24gSXNDYWxsYWJsZShhcmd1bWVudCkge1xuICAgICAgICAgICAgLy8gTk9URTogVGhpcyBpcyBhbiBhcHByb3hpbWF0aW9uIGFzIHdlIGNhbm5vdCBjaGVjayBmb3IgW1tDYWxsXV0gaW50ZXJuYWwgbWV0aG9kLlxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhcmd1bWVudCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi40IElzQ29uc3RydWN0b3IoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzY29uc3RydWN0b3JcbiAgICAgICAgZnVuY3Rpb24gSXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkge1xuICAgICAgICAgICAgLy8gTk9URTogVGhpcyBpcyBhbiBhcHByb3hpbWF0aW9uIGFzIHdlIGNhbm5vdCBjaGVjayBmb3IgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBtZXRob2QuXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGFyZ3VtZW50ID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4yLjcgSXNQcm9wZXJ0eUtleShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXNwcm9wZXJ0eWtleVxuICAgICAgICBmdW5jdGlvbiBJc1Byb3BlcnR5S2V5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKFR5cGUoYXJndW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIFN0cmluZyAqLzogcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0IC8qIFN5bWJvbCAqLzogcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDcuMyBPcGVyYXRpb25zIG9uIE9iamVjdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3BlcmF0aW9ucy1vbi1vYmplY3RzXG4gICAgICAgIC8vIDcuMy45IEdldE1ldGhvZChWLCBQKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1nZXRtZXRob2RcbiAgICAgICAgZnVuY3Rpb24gR2V0TWV0aG9kKFYsIFApIHtcbiAgICAgICAgICAgIHZhciBmdW5jID0gVltQXTtcbiAgICAgICAgICAgIGlmIChmdW5jID09PSB1bmRlZmluZWQgfHwgZnVuYyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCFJc0NhbGxhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNCBPcGVyYXRpb25zIG9uIEl0ZXJhdG9yIE9iamVjdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3BlcmF0aW9ucy1vbi1pdGVyYXRvci1vYmplY3RzXG4gICAgICAgIGZ1bmN0aW9uIEdldEl0ZXJhdG9yKG9iaikge1xuICAgICAgICAgICAgdmFyIG1ldGhvZCA9IEdldE1ldGhvZChvYmosIGl0ZXJhdG9yU3ltYm9sKTtcbiAgICAgICAgICAgIGlmICghSXNDYWxsYWJsZShtZXRob2QpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTsgLy8gZnJvbSBDYWxsXG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBtZXRob2QuY2FsbChvYmopO1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdChpdGVyYXRvcikpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNC40IEl0ZXJhdG9yVmFsdWUoaXRlclJlc3VsdClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLzIwMTYvI3NlYy1pdGVyYXRvcnZhbHVlXG4gICAgICAgIGZ1bmN0aW9uIEl0ZXJhdG9yVmFsdWUoaXRlclJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJSZXN1bHQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjUgSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pdGVyYXRvcnN0ZXBcbiAgICAgICAgZnVuY3Rpb24gSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gZmFsc2UgOiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXRlcmF0b3JjbG9zZVxuICAgICAgICBmdW5jdGlvbiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgZiA9IGl0ZXJhdG9yW1wicmV0dXJuXCJdO1xuICAgICAgICAgICAgaWYgKGYpXG4gICAgICAgICAgICAgICAgZi5jYWxsKGl0ZXJhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA5LjEgT3JkaW5hcnkgT2JqZWN0IEludGVybmFsIE1ldGhvZHMgYW5kIEludGVybmFsIFNsb3RzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5LW9iamVjdC1pbnRlcm5hbC1tZXRob2RzLWFuZC1pbnRlcm5hbC1zbG90c1xuICAgICAgICAvLyA5LjEuMS4xIE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTylcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3JkaW5hcnlnZXRwcm90b3R5cGVvZlxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pIHtcbiAgICAgICAgICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgTyAhPT0gXCJmdW5jdGlvblwiIHx8IE8gPT09IGZ1bmN0aW9uUHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIFR5cGVTY3JpcHQgZG9lc24ndCBzZXQgX19wcm90b19fIGluIEVTNSwgYXMgaXQncyBub24tc3RhbmRhcmQuXG4gICAgICAgICAgICAvLyBUcnkgdG8gZGV0ZXJtaW5lIHRoZSBzdXBlcmNsYXNzIGNvbnN0cnVjdG9yLiBDb21wYXRpYmxlIGltcGxlbWVudGF0aW9uc1xuICAgICAgICAgICAgLy8gbXVzdCBlaXRoZXIgc2V0IF9fcHJvdG9fXyBvbiBhIHN1YmNsYXNzIGNvbnN0cnVjdG9yIHRvIHRoZSBzdXBlcmNsYXNzIGNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgLy8gb3IgZW5zdXJlIGVhY2ggY2xhc3MgaGFzIGEgdmFsaWQgYGNvbnN0cnVjdG9yYCBwcm9wZXJ0eSBvbiBpdHMgcHJvdG90eXBlIHRoYXRcbiAgICAgICAgICAgIC8vIHBvaW50cyBiYWNrIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgbm90IHRoZSBzYW1lIGFzIEZ1bmN0aW9uLltbUHJvdG90eXBlXV0sIHRoZW4gdGhpcyBpcyBkZWZpbmF0ZWx5IGluaGVyaXRlZC5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlbiBpbiBFUzYgb3Igd2hlbiB1c2luZyBfX3Byb3RvX18gaW4gYSBjb21wYXRpYmxlIGJyb3dzZXIuXG4gICAgICAgICAgICBpZiAocHJvdG8gIT09IGZ1bmN0aW9uUHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHRoZSBzdXBlciBwcm90b3R5cGUgaXMgT2JqZWN0LnByb3RvdHlwZSwgbnVsbCwgb3IgdW5kZWZpbmVkLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgdmFyIHByb3RvdHlwZSA9IE8ucHJvdG90eXBlO1xuICAgICAgICAgICAgdmFyIHByb3RvdHlwZVByb3RvID0gcHJvdG90eXBlICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpO1xuICAgICAgICAgICAgaWYgKHByb3RvdHlwZVByb3RvID09IG51bGwgfHwgcHJvdG90eXBlUHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGNvbnN0cnVjdG9yIHdhcyBub3QgYSBmdW5jdGlvbiwgdGhlbiB3ZSBjYW5ub3QgZGV0ZXJtaW5lIHRoZSBoZXJpdGFnZS5cbiAgICAgICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IHByb3RvdHlwZVByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zdHJ1Y3RvciAhPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgc29tZSBraW5kIG9mIHNlbGYtcmVmZXJlbmNlLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgaWYgKGNvbnN0cnVjdG9yID09PSBPKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYSBwcmV0dHkgZ29vZCBndWVzcyBhdCB0aGUgaGVyaXRhZ2UuXG4gICAgICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgTWFwIHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlTWFwUG9seWZpbGwoKSB7XG4gICAgICAgICAgICB2YXIgY2FjaGVTZW50aW5lbCA9IHt9O1xuICAgICAgICAgICAgdmFyIGFycmF5U2VudGluZWwgPSBbXTtcbiAgICAgICAgICAgIHZhciBNYXBJdGVyYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYXBJdGVyYXRvcihrZXlzLCB2YWx1ZXMsIHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGtleXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuX2tleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fc2VsZWN0b3IodGhpcy5fa2V5c1tpbmRleF0sIHRoaXMuX3ZhbHVlc1tpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICsgMSA+PSB0aGlzLl9rZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogcmVzdWx0LCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS50aHJvdyA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS5yZXR1cm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2luZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWFwSXRlcmF0b3I7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYXAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlS2V5ID0gY2FjaGVTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9rZXlzLmxlbmd0aDsgfSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiB0aGlzLl9maW5kKGtleSwgLyppbnNlcnQqLyBmYWxzZSkgPj0gMDsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZChrZXksIC8qaW5zZXJ0Ki8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXggPj0gMCA/IHRoaXMuX3ZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5fa2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gaW5kZXggKyAxOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5c1tpIC0gMV0gPSB0aGlzLl9rZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpIC0gMV0gPSB0aGlzLl92YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzLmxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzLmxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5fY2FjaGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUtleSA9IGNhY2hlU2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVLZXkgPSBjYWNoZVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUluZGV4ID0gLTI7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcy5fa2V5cywgdGhpcy5fdmFsdWVzLCBnZXRLZXkpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMuX2tleXMsIHRoaXMuX3ZhbHVlcywgZ2V0VmFsdWUpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMsIGdldEVudHJ5KTsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZW50cmllcygpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5fZmluZCA9IGZ1bmN0aW9uIChrZXksIGluc2VydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVLZXkgIT09IGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IHRoaXMuX2tleXMuaW5kZXhPZih0aGlzLl9jYWNoZUtleSA9IGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlSW5kZXggPCAwICYmIGluc2VydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IHRoaXMuX2tleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUluZGV4O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hcDtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRLZXkoa2V5LCBfKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFZhbHVlKF8sIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RW50cnkoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBba2V5LCB2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgU2V0IHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlU2V0UG9seWZpbGwoKSB7XG4gICAgICAgICAgICByZXR1cm4gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFNldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNldC5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLnNpemU7IH0sXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuaGFzKHZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdGhpcy5fbWFwLnNldCh2YWx1ZSwgdmFsdWUpLCB0aGlzOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuZGVsZXRlKHZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgeyB0aGlzLl9tYXAuY2xlYXIoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9tYXAua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLnZhbHVlcygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX21hcC5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZVtcIkBAaXRlcmF0b3JcIl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmtleXMoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBTZXQ7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5haXZlIFdlYWtNYXAgc2hpbVxuICAgICAgICBmdW5jdGlvbiBDcmVhdGVXZWFrTWFwUG9seWZpbGwoKSB7XG4gICAgICAgICAgICB2YXIgVVVJRF9TSVpFID0gMTY7XG4gICAgICAgICAgICB2YXIga2V5cyA9IEhhc2hNYXAuY3JlYXRlKCk7XG4gICAgICAgICAgICB2YXIgcm9vdEtleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBXZWFrTWFwKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXkgPSBDcmVhdGVVbmlxdWVLZXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgV2Vha01hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUgIT09IHVuZGVmaW5lZCA/IEhhc2hNYXAuaGFzKHRhYmxlLCB0aGlzLl9rZXkpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gSGFzaE1hcC5nZXQodGFibGUsIHRoaXMuX2tleSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlW3RoaXMuX2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gZGVsZXRlIHRhYmxlW3RoaXMuX2tleV0gOiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFdlYWtNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBub3QgYSByZWFsIGNsZWFyLCBqdXN0IG1ha2VzIHRoZSBwcmV2aW91cyBkYXRhIHVucmVhY2hhYmxlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIFdlYWtNYXA7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlVW5pcXVlS2V5KCkge1xuICAgICAgICAgICAgICAgIHZhciBrZXk7XG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgICAga2V5ID0gXCJAQFdlYWtNYXBAQFwiICsgQ3JlYXRlVVVJRCgpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChIYXNoTWFwLmhhcyhrZXlzLCBrZXkpKTtcbiAgICAgICAgICAgICAgICBrZXlzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIGNyZWF0ZSkge1xuICAgICAgICAgICAgICAgIGlmICghaGFzT3duLmNhbGwodGFyZ2V0LCByb290S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNyZWF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHJvb3RLZXksIHsgdmFsdWU6IEhhc2hNYXAuY3JlYXRlKCkgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRbcm9vdEtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBGaWxsUmFuZG9tQnl0ZXMoYnVmZmVyLCBzaXplKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcltpXSA9IE1hdGgucmFuZG9tKCkgKiAweGZmIHwgMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gR2VuUmFuZG9tQnl0ZXMoc2l6ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgVWludDhBcnJheSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3J5cHRvICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1zQ3J5cHRvICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShzaXplKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGaWxsUmFuZG9tQnl0ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSksIHNpemUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gRmlsbFJhbmRvbUJ5dGVzKG5ldyBBcnJheShzaXplKSwgc2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVVVUlEKCkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gR2VuUmFuZG9tQnl0ZXMoVVVJRF9TSVpFKTtcbiAgICAgICAgICAgICAgICAvLyBtYXJrIGFzIHJhbmRvbSAtIFJGQyA0MTIyIFx1MDBBNyA0LjRcbiAgICAgICAgICAgICAgICBkYXRhWzZdID0gZGF0YVs2XSAmIDB4NGYgfCAweDQwO1xuICAgICAgICAgICAgICAgIGRhdGFbOF0gPSBkYXRhWzhdICYgMHhiZiB8IDB4ODA7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgVVVJRF9TSVpFOyArK29mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnl0ZSA9IGRhdGFbb2Zmc2V0XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA9PT0gNCB8fCBvZmZzZXQgPT09IDYgfHwgb2Zmc2V0ID09PSA4KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiLVwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnl0ZSA8IDE2KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiMFwiO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gYnl0ZS50b1N0cmluZygxNikudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB1c2VzIGEgaGV1cmlzdGljIHVzZWQgYnkgdjggYW5kIGNoYWtyYSB0byBmb3JjZSBhbiBvYmplY3QgaW50byBkaWN0aW9uYXJ5IG1vZGUuXG4gICAgICAgIGZ1bmN0aW9uIE1ha2VEaWN0aW9uYXJ5KG9iaikge1xuICAgICAgICAgICAgb2JqLl9fID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZGVsZXRlIG9iai5fXztcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKFJlZmxlY3QgfHwgKFJlZmxlY3QgPSB7fSkpO1xuIiwgImltcG9ydCBcInJlZmxlY3QtbWV0YWRhdGFcIjtcclxuaW1wb3J0IHsgY29udGFpbmVyIH0gZnJvbSBcInRzeXJpbmdlXCI7XHJcblxyXG5pbXBvcnQgeyBDb21wb25lbnQsIE9iamVjdDNEIH0gZnJvbSBcIkB3b25kZXJsYW5kZW5naW5lL2FwaVwiO1xyXG5pbXBvcnQgeyBPYmplY3RDYWNoZSwgY2xvbmVPYmplY3QgfSBmcm9tIFwiQHNvcnNrb290L3dvbmRlcmxhbmQtY29tcG9uZW50c1wiO1xyXG5pbXBvcnQgeyBNYXplR2VuZXJhdG9yIH0gZnJvbSBcIi4uL2R1bmdlb25nZW4vTWF6ZUdlbmVyYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBUaWxlU2V0IH0gZnJvbSBcIi4uL2R1bmdlb25nZW4vdGlsZXNldC5qc1wiO1xyXG5pbXBvcnQgeyBQYXR0ZXJuU2V0IH0gZnJvbSBcIi4uL2R1bmdlb25nZW4vUGF0dGVyblNldC5qc1wiO1xyXG5pbXBvcnQgeyBSb29tUmVuZGVyZXIgfSBmcm9tIFwiLi4vZHVuZ2Vvbmdlbi9Sb29tUmVuZGVyZXIuanNcIjtcclxuaW1wb3J0IHsgRmFkZVNjcmVlbiB9IGZyb20gXCIuL2ZhZGVTY3JlZW4uanNcIjtcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tIFwiQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanNcIjtcclxuaW1wb3J0IHsgZ2V0SW52ZXJ0ZWREaXJlY3Rpb24gfSBmcm9tIFwiLi4vZHVuZ2Vvbmdlbi91dGlscy9kaXJlY3Rpb25IZWxwZXJzLmpzXCI7XHJcblxyXG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi4vY2xhc3Nlcy9nYW1lU3RhdGUuanNcIjtcclxuXHJcbmNvbnN0IHNpemUgPSA5O1xyXG5jb25zdCBwYXR0ZXJuU2l6ZSA9IDM7XHJcblxyXG5leHBvcnQgY2xhc3MgTGV2ZWxHZW5lcmF0b3IgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHN0YXRpYyBUeXBlTmFtZSA9IFwibGV2ZWwtZ2VuZXJhdG9yXCI7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBvYmplY3QgdXNlZCB0byBnZXQgdGhlIGZhZGUgc2NyZWVuIGNvbXBvbmVudCBmcm9tLlxyXG4gICAqL1xyXG4gIEBwcm9wZXJ0eS5vYmplY3QoKVxyXG4gIGZhZGVTY3JlZW5PYmplY3QhOiBPYmplY3QzRDtcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGxldmVsIHJvb3Qgb2JqZWN0LiBBbGwgbGV2ZWwgb2JqZWN0cyB3aWxsIGJlIGFkZGVkIGFzIGNoaWxkcmVuIG9mIHRoaXMgb2JqZWN0LlxyXG4gICAqL1xyXG4gIEBwcm9wZXJ0eS5vYmplY3QoKVxyXG4gIGxldmVsUm9vdCE6IE9iamVjdDNEO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgcm9vdCBvYmplY3Qgb2YgdGhlIGxpZ2h0cy4gQXZhaWxhYmxlIExpZ2h0cyBhcmUgY2hpbGRyZW4gb2YgdGhpcy5cclxuICAgKi9cclxuICBAcHJvcGVydHkub2JqZWN0KClcclxuICBsaWdodHMhOiBPYmplY3QzRDtcclxuXHJcbiAgQHByb3BlcnR5Lm9iamVjdCgpXHJcbiAgbGV2ZWxCbG9ja3MhOiBPYmplY3QzRDtcclxuXHJcbiAgQHByb3BlcnR5Lm9iamVjdCgpXHJcbiAgZW5lbWllcyE6IE9iamVjdDNEO1xyXG5cclxuICBAcHJvcGVydHkub2JqZWN0KClcclxuICBjaGFyYWN0ZXJzITogT2JqZWN0M0Q7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBjb21wb25lbnQgdGhhdCBpcyB1c2VkIHRvIGZhZGUgdGhlIHNjcmVlbiB0byBibGFjayBhbmQgYmFjay5cclxuICAgKi9cclxuICBmYWRlU2NyZWVuQ29tcG9uZW50ITogRmFkZVNjcmVlbjtcclxuXHJcbiAgZ2VuZXJhdG9yITogTWF6ZUdlbmVyYXRvcjtcclxuICBcclxuICBsZXZlbFBhcmVudCE6IE9iamVjdDNEO1xyXG4gIFxyXG4gIHRpbGVzZXQhOiBUaWxlU2V0O1xyXG4gIHBhdHRlcm5TZXQhOiBQYXR0ZXJuU2V0O1xyXG4gIHJvb21SZW5kZXJlciE6IFJvb21SZW5kZXJlcjtcclxuICBibG9ja0NhY2hlITogT2JqZWN0Q2FjaGU7XHJcbiAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcbiAgZ2xvYmFsT2JqZWN0Q2FjaGUhOiBPYmplY3RDYWNoZTtcclxuICBcclxuICAvKipcclxuICAgKiBvdmVycmlkZXMgdGhlIGluaXQgbWV0aG9kIG9mIHRoZSBjb21wb25lbnRcclxuICAgKi9cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5nYW1lU3RhdGUgPSBjb250YWluZXIucmVzb2x2ZShHYW1lU3RhdGUpO1xyXG4gIFxyXG4gICAgdGhpcy5nZW5lcmF0b3IgPSBuZXcgTWF6ZUdlbmVyYXRvcihzaXplLCBzaXplKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIG92ZXJyaWRlcyB0aGUgc3RhcnQgbWV0aG9kIG9mIHRoZSBjb21wb25lbnRcclxuICAgKi9cclxuICBzdGFydCgpIHtcclxuICAgIGNvbnN0IGZzYyA9IHRoaXMuZmFkZVNjcmVlbk9iamVjdC5nZXRDb21wb25lbnQoRmFkZVNjcmVlbik7XHJcbiAgICBpZiAoIWZzYykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBGYWRlU2NyZWVuIGNvbXBvbmVudCBmb3VuZCBvbiBmYWRlU2NyZWVuT2JqZWN0XCIpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5mYWRlU2NyZWVuQ29tcG9uZW50ID0gZnNjO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhdGVzIGEgbGV2ZWxcclxuICAgKiBAcGFyYW0ge051bWJlcn0gbGV2ZWwgVGhlIGxldmVsIHRvIGdlbmVyYXRlXHJcbiAgICogQHJldHVybnMge2FueX1cclxuICAgKi9cclxuICBnZW5lcmF0ZShsZXZlbDogbnVtYmVyID0gMCwgcGFyZW50OiBPYmplY3QzRCB8IG51bGwgPSBudWxsKTogYW55IHtcclxuICAgIHRoaXMubGV2ZWxQYXJlbnQgPSBwYXJlbnQgfHwgdGhpcy5sZXZlbFJvb3Q7XHJcblxyXG4gICAgdGhpcy50aWxlc2V0ID0gbmV3IFRpbGVTZXQoXHJcbiAgICAgIHRoaXMubGV2ZWxCbG9ja3MuY2hpbGRyZW4sXHJcbiAgICAgIHRoaXMuZW5lbWllcy5jaGlsZHJlbixcclxuICAgICAgdGhpcy5jaGFyYWN0ZXJzLmNoaWxkcmVuKTtcclxuICAgIHRoaXMucGF0dGVyblNldCA9IG5ldyBQYXR0ZXJuU2V0KCk7XHJcblxyXG4gICAgdGhpcy5nZW5lcmF0b3IuZ2VuZXJhdGUoKTtcclxuXHJcbiAgICB0aGlzLmxldmVsUGFyZW50LmNoaWxkcmVuLmxlbmd0aCA9IDA7XHJcbiAgICBpZiAoIXRoaXMuZ2xvYmFsT2JqZWN0Q2FjaGUpIHtcclxuICAgICAgdGhpcy5nbG9iYWxPYmplY3RDYWNoZSA9ICBuZXcgT2JqZWN0Q2FjaGUoXHJcbiAgICAgICAgdGhpcy5lbmdpbmUsXHJcbiAgICAgICAgXCJibG9ja3NcIixcclxuICAgICAgICAyNDAwLFxyXG4gICAgICAgIHRoaXMubGV2ZWxQYXJlbnQsXHJcbiAgICAgICAgMjQwMDBcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZ2xvYmFsT2JqZWN0Q2FjaGUucmVzZXQoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJvb21SZW5kZXJlciA9IG5ldyBSb29tUmVuZGVyZXIoXHJcbiAgICAgIHRoaXMuZW5naW5lLFxyXG4gICAgICB0aGlzLmxldmVsUGFyZW50LFxyXG4gICAgICB0aGlzLnRpbGVzZXQsXHJcbiAgICAgIHRoaXMubGlnaHRzLmNoaWxkcmVuLFxyXG4gICAgICB0aGlzLmdsb2JhbE9iamVjdENhY2hlXHJcbiAgICApO1xyXG4gICAgdGhpcy5ibG9ja0NhY2hlID0gdGhpcy5nbG9iYWxPYmplY3RDYWNoZTtcclxuXHJcbiAgICB0aGlzLmdhbWVTdGF0ZS5jdXJyZW50Um9vbVN1YmplY3Quc3Vic2NyaWJlKChyKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRSb29tID0gdGhpcy5nZW5lcmF0b3IuZ2V0Um9vbShyWzBdLCByWzFdKTtcclxuICAgICAgdGhpcy5mYWRlU2NyZWVuQ29tcG9uZW50LkZhZGVPdXRDb21wbGV0ZWQub25jZSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5ibG9ja0NhY2hlLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy5yb29tUmVuZGVyZXIucmVuZGVyKGN1cnJlbnRSb29tKTtcclxuICAgICAgICBpZiAodGhpcy5nYW1lU3RhdGUucm9vbVByZXZpb3VzRXhpdERpcmVjdGlvbikge1xyXG4gICAgICAgICAgbGV0IGVudGVyRGlyZWN0aW9uID0gZ2V0SW52ZXJ0ZWREaXJlY3Rpb24oXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLnJvb21QcmV2aW91c0V4aXREaXJlY3Rpb25cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBsZXQgZXhpdCA9IGN1cnJlbnRSb29tLmdldERvb3IoZW50ZXJEaXJlY3Rpb24pO1xyXG4gICAgICAgICAgaWYgKGV4aXQpIHtcclxuICAgICAgICAgICAgbGV0IHJvdGF0aW9uID0gMDtcclxuICAgICAgICAgICAgc3dpdGNoIChlbnRlckRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgIGNhc2UgXCJOXCI6XHJcbiAgICAgICAgICAgICAgICBleGl0LnkgKz0gMTtcclxuICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gMTgwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgY2FzZSBcIlNcIjpcclxuICAgICAgICAgICAgICAgIGV4aXQueSAtPSAxO1xyXG4gICAgICAgICAgICAgICAgcm90YXRpb24gPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgY2FzZSBcIkVcIjpcclxuICAgICAgICAgICAgICAgIGV4aXQueCAtPSAxO1xyXG4gICAgICAgICAgICAgICAgcm90YXRpb24gPSA5MDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIGNhc2UgXCJXXCI6XHJcbiAgICAgICAgICAgICAgICBleGl0LnggKz0gMTtcclxuICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gMjcwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGUucGxheWVyUG9zaXRpb24gPSBbZXhpdC54LCAwLCBleGl0LnldO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZS5wbGF5ZXJSb3RhdGlvbiA9IHJvdGF0aW9uO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLmZhZGVTY3JlZW5Db21wb25lbnQuZmFkZU91dCgpO1xyXG4gICAgICB0aGlzLmdhbWVTdGF0ZS5zZXRDdXJyZW50Um9vbShjdXJyZW50Um9vbSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJlbmRlckRlYnVnKHRoaXMuZ2VuZXJhdG9yKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbmRlcnMgYSBkZWJ1ZyB2aWV3IG9mIHRoZSBtYXBcclxuICAgKiBAcGFyYW0ge01hemVHZW5lcmF0b3J9IGdlbmVyYXRvclxyXG4gICAqL1xyXG4gIHJlbmRlckRlYnVnKGdlbmVyYXRvcjogTWF6ZUdlbmVyYXRvcikge1xyXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgIC8vICAgIGNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBjYW52YXMuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICBjYW52YXMuc3R5bGUudG9wID0gXCIwcHhcIjtcclxuICAgIGNhbnZhcy5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcclxuICAgIGNhbnZhcy5zdHlsZS56SW5kZXggPSBcIjEwMFwiO1xyXG4gICAgLy9zY2FsZSBjYW52YXMgMzAwJSwgbmVhcmVzdCBuZWlnaGJvclxyXG4gICAgY2FudmFzLnN0eWxlLndpZHRoID0gXCIyNTZweFwiO1xyXG4gICAgY2FudmFzLnN0eWxlLmltYWdlUmVuZGVyaW5nID0gXCJwaXhlbGF0ZWRcIjtcclxuXHJcbiAgICBjYW52YXMud2lkdGggPSAxMDA7XHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTAwO1xyXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgc2l6ZTsgcm93KyspIHtcclxuICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgc2l6ZTsgY29sKyspIHtcclxuICAgICAgICAvL3RoaXMuY3JlYXRlVGlsZShyb3cgLSBzaXplIC8gMiwgMCwgY29sIC0gc2l6ZSAvIDIsIFwiRmxvb3IwMVwiKTtcclxuICAgICAgICBjb25zdCBjdXJyZW50Um9vbSA9IGdlbmVyYXRvci5nZXRSb29tKHJvdywgY29sKTtcclxuXHJcbiAgICAgICAgbGV0IHBzID0gNTtcclxuXHJcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IHRoaXMucGF0dGVyblNldC5nZXQoY3VycmVudFJvb20udG9LZXkoKSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGdyaWRSb3cgPSAwOyBncmlkUm93IDwgcHM7IGdyaWRSb3crKykge1xyXG4gICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBjb2x1bW5zIG9mIHRoZSAzeDMgZ3JpZFxyXG4gICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbiA9IDA7IGdyaWRDb2x1bW4gPCBwczsgZ3JpZENvbHVtbisrKSB7XHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgcm93IGFuZCBjb2wgcG9zaXRpb25zIGZvciBlYWNoIHRpbGUgaW4gdGhlIDN4MyBncmlkLFxyXG4gICAgICAgICAgICAvLyBhZGp1c3RpbmcgdGhlaXIgcG9zaXRpb25zIGJhc2VkIG9uIHRoZWlyIGluZGljZXMgd2l0aGluIHRoZSBncmlkLlxyXG4gICAgICAgICAgICBjb25zdCBuZXdSb3dQb3MgPSByb3cgKiBwcyArIGdyaWRSb3cgLSAoc2l6ZSAqIHBzKSAvIDI7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbFBvcyA9IGNvbCAqIHBzICsgZ3JpZENvbHVtbiAtIChzaXplICogcHMpIC8gMjtcclxuXHJcbiAgICAgICAgICAgIGxldCB0aWxlSW5kZXggPSBwYXR0ZXJuW2dyaWRSb3ddW2dyaWRDb2x1bW5dO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudFJvb20uaXNFbnRyYW5jZSkge1xyXG4gICAgICAgICAgICAgIHRpbGVJbmRleCA9IDU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRSb29tLmlzRXhpdCkge1xyXG4gICAgICAgICAgICAgIHRpbGVJbmRleCA9IDQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRSb29tLmlzVHJlYXN1cmUgJiYgdGlsZUluZGV4ID09IDYpIHtcclxuICAgICAgICAgICAgICB0aWxlSW5kZXggPSA3O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCB0aWxlID0gdGhpcy50aWxlc2V0LmdldFRpbGUodGlsZUluZGV4KTtcclxuICAgICAgICAgICAgLy8gIHRoaXMuY3JlYXRlVGlsZShuZXdSb3dQb3MsIDAsIG5ld0NvbFBvcywgdGlsZS5vYmplY3QpO1xyXG5cclxuICAgICAgICAgICAgLy9hbHNvIGRyYXcgdGhlIHRpbGUgYXMgYSBwaXhlbCB0byB0aGUgY2FudmFzOlxyXG4gICAgICAgICAgICBzd2l0Y2ggKHRpbGVJbmRleCkge1xyXG4gICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImdyZWVuXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJyZWRcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJsdWVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIGNhc2UgNzpcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInllbGxvd1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImdyYXlcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aWxlSW5kZXggPj0gNClcclxuICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoXHJcbiAgICAgICAgICAgICAgICAobmV3Q29sUG9zICsgKHNpemUgKiBwcykgLyAyKSAqIDIsXHJcbiAgICAgICAgICAgICAgICAobmV3Um93UG9zICsgKHNpemUgKiBwcykgLyAyKSAqIDIsXHJcbiAgICAgICAgICAgICAgICAyLFxyXG4gICAgICAgICAgICAgICAgMlxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgfVxyXG5cclxuIFxyXG4gIGNyZWF0ZVRpbGUoeDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlciwgdGlsZTpPYmplY3QzRCkge1xyXG4gICAgbGV0IGJsb2NrT2JqID0gdGlsZTtcclxuICAgIGxldCBvYmogPSBjbG9uZU9iamVjdCh0aGlzLmVuZ2luZSwgYmxvY2tPYmosIHRoaXMuYmxvY2tDYWNoZSk7XHJcbiAgICBpZighb2JqKXtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGNsb25lIG9iamVjdDogXCIgKyBibG9ja09iai5uYW1lKTtcclxuICAgIH1cclxuICAgIG9iai5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcclxuICAgIG9iai5zZXRQb3NpdGlvbldvcmxkKFt4LCB5LCB6XSk7XHJcbiAgfVxyXG59XHJcbiIsICJ2YXIgTGlmZWN5Y2xlO1xuKGZ1bmN0aW9uIChMaWZlY3ljbGUpIHtcbiAgICBMaWZlY3ljbGVbTGlmZWN5Y2xlW1wiVHJhbnNpZW50XCJdID0gMF0gPSBcIlRyYW5zaWVudFwiO1xuICAgIExpZmVjeWNsZVtMaWZlY3ljbGVbXCJTaW5nbGV0b25cIl0gPSAxXSA9IFwiU2luZ2xldG9uXCI7XG4gICAgTGlmZWN5Y2xlW0xpZmVjeWNsZVtcIlJlc29sdXRpb25TY29wZWRcIl0gPSAyXSA9IFwiUmVzb2x1dGlvblNjb3BlZFwiO1xuICAgIExpZmVjeWNsZVtMaWZlY3ljbGVbXCJDb250YWluZXJTY29wZWRcIl0gPSAzXSA9IFwiQ29udGFpbmVyU2NvcGVkXCI7XG59KShMaWZlY3ljbGUgfHwgKExpZmVjeWNsZSA9IHt9KSk7XG5leHBvcnQgZGVmYXVsdCBMaWZlY3ljbGU7XG4iLCAiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwgImV4cG9ydCB2YXIgSU5KRUNUSU9OX1RPS0VOX01FVEFEQVRBX0tFWSA9IFwiaW5qZWN0aW9uVG9rZW5zXCI7XG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyYW1JbmZvKHRhcmdldCkge1xuICAgIHZhciBwYXJhbXMgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgdGFyZ2V0KSB8fCBbXTtcbiAgICB2YXIgaW5qZWN0aW9uVG9rZW5zID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YShJTkpFQ1RJT05fVE9LRU5fTUVUQURBVEFfS0VZLCB0YXJnZXQpIHx8IHt9O1xuICAgIE9iamVjdC5rZXlzKGluamVjdGlvblRva2VucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHBhcmFtc1sra2V5XSA9IGluamVjdGlvblRva2Vuc1trZXldO1xuICAgIH0pO1xuICAgIHJldHVybiBwYXJhbXM7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lSW5qZWN0aW9uVG9rZW5NZXRhZGF0YShkYXRhLCB0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgX3Byb3BlcnR5S2V5LCBwYXJhbWV0ZXJJbmRleCkge1xuICAgICAgICB2YXIgZGVzY3JpcHRvcnMgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKElOSkVDVElPTl9UT0tFTl9NRVRBREFUQV9LRVksIHRhcmdldCkgfHwge307XG4gICAgICAgIGRlc2NyaXB0b3JzW3BhcmFtZXRlckluZGV4XSA9IHRyYW5zZm9ybVxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgdG9rZW46IGRhdGEsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm0udHJhbnNmb3JtVG9rZW4sXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtQXJnczogdHJhbnNmb3JtLmFyZ3MgfHwgW11cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogZGF0YTtcbiAgICAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShJTkpFQ1RJT05fVE9LRU5fTUVUQURBVEFfS0VZLCBkZXNjcmlwdG9ycywgdGFyZ2V0KTtcbiAgICB9O1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBpc0NsYXNzUHJvdmlkZXIocHJvdmlkZXIpIHtcbiAgICByZXR1cm4gISFwcm92aWRlci51c2VDbGFzcztcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gaXNGYWN0b3J5UHJvdmlkZXIocHJvdmlkZXIpIHtcbiAgICByZXR1cm4gISFwcm92aWRlci51c2VGYWN0b3J5O1xufVxuIiwgImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWQgfSBmcm9tIFwidHNsaWJcIjtcbnZhciBEZWxheWVkQ29uc3RydWN0b3IgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlbGF5ZWRDb25zdHJ1Y3Rvcih3cmFwKSB7XG4gICAgICAgIHRoaXMud3JhcCA9IHdyYXA7XG4gICAgICAgIHRoaXMucmVmbGVjdE1ldGhvZHMgPSBbXG4gICAgICAgICAgICBcImdldFwiLFxuICAgICAgICAgICAgXCJnZXRQcm90b3R5cGVPZlwiLFxuICAgICAgICAgICAgXCJzZXRQcm90b3R5cGVPZlwiLFxuICAgICAgICAgICAgXCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIixcbiAgICAgICAgICAgIFwiZGVmaW5lUHJvcGVydHlcIixcbiAgICAgICAgICAgIFwiaGFzXCIsXG4gICAgICAgICAgICBcInNldFwiLFxuICAgICAgICAgICAgXCJkZWxldGVQcm9wZXJ0eVwiLFxuICAgICAgICAgICAgXCJhcHBseVwiLFxuICAgICAgICAgICAgXCJjb25zdHJ1Y3RcIixcbiAgICAgICAgICAgIFwib3duS2V5c1wiXG4gICAgICAgIF07XG4gICAgfVxuICAgIERlbGF5ZWRDb25zdHJ1Y3Rvci5wcm90b3R5cGUuY3JlYXRlUHJveHkgPSBmdW5jdGlvbiAoY3JlYXRlT2JqZWN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB0YXJnZXQgPSB7fTtcbiAgICAgICAgdmFyIGluaXQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICB2YXIgZGVsYXllZE9iamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghaW5pdCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gY3JlYXRlT2JqZWN0KF90aGlzLndyYXAoKSk7XG4gICAgICAgICAgICAgICAgaW5pdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCB0aGlzLmNyZWF0ZUhhbmRsZXIoZGVsYXllZE9iamVjdCkpO1xuICAgIH07XG4gICAgRGVsYXllZENvbnN0cnVjdG9yLnByb3RvdHlwZS5jcmVhdGVIYW5kbGVyID0gZnVuY3Rpb24gKGRlbGF5ZWRPYmplY3QpIHtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSB7fTtcbiAgICAgICAgdmFyIGluc3RhbGwgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgaGFuZGxlcltuYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJnc1swXSA9IGRlbGF5ZWRPYmplY3QoKTtcbiAgICAgICAgICAgICAgICB2YXIgbWV0aG9kID0gUmVmbGVjdFtuYW1lXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KHZvaWQgMCwgX19zcHJlYWQoYXJncykpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZWZsZWN0TWV0aG9kcy5mb3JFYWNoKGluc3RhbGwpO1xuICAgICAgICByZXR1cm4gaGFuZGxlcjtcbiAgICB9O1xuICAgIHJldHVybiBEZWxheWVkQ29uc3RydWN0b3I7XG59KCkpO1xuZXhwb3J0IHsgRGVsYXllZENvbnN0cnVjdG9yIH07XG5leHBvcnQgZnVuY3Rpb24gZGVsYXkod3JhcHBlZENvbnN0cnVjdG9yKSB7XG4gICAgaWYgKHR5cGVvZiB3cmFwcGVkQ29uc3RydWN0b3IgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdCB0byBgZGVsYXlgIHVuZGVmaW5lZC4gQ29uc3RydWN0b3IgbXVzdCBiZSB3cmFwcGVkIGluIGEgY2FsbGJhY2tcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRGVsYXllZENvbnN0cnVjdG9yKHdyYXBwZWRDb25zdHJ1Y3Rvcik7XG59XG4iLCAiaW1wb3J0IHsgRGVsYXllZENvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL2xhenktaGVscGVyc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzTm9ybWFsVG9rZW4odG9rZW4pIHtcbiAgICByZXR1cm4gdHlwZW9mIHRva2VuID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB0b2tlbiA9PT0gXCJzeW1ib2xcIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1Rva2VuRGVzY3JpcHRvcihkZXNjcmlwdG9yKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgZGVzY3JpcHRvciA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICBcInRva2VuXCIgaW4gZGVzY3JpcHRvciAmJlxuICAgICAgICBcIm11bHRpcGxlXCIgaW4gZGVzY3JpcHRvcik7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNUcmFuc2Zvcm1EZXNjcmlwdG9yKGRlc2NyaXB0b3IpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBkZXNjcmlwdG9yID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgIFwidG9rZW5cIiBpbiBkZXNjcmlwdG9yICYmXG4gICAgICAgIFwidHJhbnNmb3JtXCIgaW4gZGVzY3JpcHRvcik7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25zdHJ1Y3RvclRva2VuKHRva2VuKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0b2tlbiA9PT0gXCJmdW5jdGlvblwiIHx8IHRva2VuIGluc3RhbmNlb2YgRGVsYXllZENvbnN0cnVjdG9yO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBpc1Rva2VuUHJvdmlkZXIocHJvdmlkZXIpIHtcbiAgICByZXR1cm4gISFwcm92aWRlci51c2VUb2tlbjtcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gaXNWYWx1ZVByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgcmV0dXJuIHByb3ZpZGVyLnVzZVZhbHVlICE9IHVuZGVmaW5lZDtcbn1cbiIsICJpbXBvcnQgeyBpc0NsYXNzUHJvdmlkZXIgfSBmcm9tIFwiLi9jbGFzcy1wcm92aWRlclwiO1xuaW1wb3J0IHsgaXNWYWx1ZVByb3ZpZGVyIH0gZnJvbSBcIi4vdmFsdWUtcHJvdmlkZXJcIjtcbmltcG9ydCB7IGlzVG9rZW5Qcm92aWRlciB9IGZyb20gXCIuL3Rva2VuLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBpc0ZhY3RvcnlQcm92aWRlciB9IGZyb20gXCIuL2ZhY3RvcnktcHJvdmlkZXJcIjtcbmV4cG9ydCBmdW5jdGlvbiBpc1Byb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgcmV0dXJuIChpc0NsYXNzUHJvdmlkZXIocHJvdmlkZXIpIHx8XG4gICAgICAgIGlzVmFsdWVQcm92aWRlcihwcm92aWRlcikgfHxcbiAgICAgICAgaXNUb2tlblByb3ZpZGVyKHByb3ZpZGVyKSB8fFxuICAgICAgICBpc0ZhY3RvcnlQcm92aWRlcihwcm92aWRlcikpO1xufVxuIiwgInZhciBSZWdpc3RyeUJhc2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZ2lzdHJ5QmFzZSgpIHtcbiAgICAgICAgdGhpcy5fcmVnaXN0cnlNYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIFJlZ2lzdHJ5QmFzZS5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZ2lzdHJ5TWFwLmVudHJpZXMoKTtcbiAgICB9O1xuICAgIFJlZ2lzdHJ5QmFzZS5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLmVuc3VyZShrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVnaXN0cnlNYXAuZ2V0KGtleSk7XG4gICAgfTtcbiAgICBSZWdpc3RyeUJhc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5lbnN1cmUoa2V5KTtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fcmVnaXN0cnlNYXAuZ2V0KGtleSk7XG4gICAgICAgIHJldHVybiB2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXSB8fCBudWxsO1xuICAgIH07XG4gICAgUmVnaXN0cnlCYXNlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmVuc3VyZShrZXkpO1xuICAgICAgICB0aGlzLl9yZWdpc3RyeU1hcC5nZXQoa2V5KS5wdXNoKHZhbHVlKTtcbiAgICB9O1xuICAgIFJlZ2lzdHJ5QmFzZS5wcm90b3R5cGUuc2V0QWxsID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcmVnaXN0cnlNYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgIH07XG4gICAgUmVnaXN0cnlCYXNlLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMuZW5zdXJlKGtleSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWdpc3RyeU1hcC5nZXQoa2V5KS5sZW5ndGggPiAwO1xuICAgIH07XG4gICAgUmVnaXN0cnlCYXNlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fcmVnaXN0cnlNYXAuY2xlYXIoKTtcbiAgICB9O1xuICAgIFJlZ2lzdHJ5QmFzZS5wcm90b3R5cGUuZW5zdXJlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIXRoaXMuX3JlZ2lzdHJ5TWFwLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWdpc3RyeU1hcC5zZXQoa2V5LCBbXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBSZWdpc3RyeUJhc2U7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUmVnaXN0cnlCYXNlO1xuIiwgImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IFJlZ2lzdHJ5QmFzZSBmcm9tIFwiLi9yZWdpc3RyeS1iYXNlXCI7XG52YXIgUmVnaXN0cnkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZWdpc3RyeSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZWdpc3RyeSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmVnaXN0cnk7XG59KFJlZ2lzdHJ5QmFzZSkpO1xuZXhwb3J0IGRlZmF1bHQgUmVnaXN0cnk7XG4iLCAidmFyIFJlc29sdXRpb25Db250ZXh0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNvbHV0aW9uQ29udGV4dCgpIHtcbiAgICAgICAgdGhpcy5zY29wZWRSZXNvbHV0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc29sdXRpb25Db250ZXh0O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJlc29sdXRpb25Db250ZXh0O1xuIiwgImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWQgfSBmcm9tIFwidHNsaWJcIjtcbmZ1bmN0aW9uIGZvcm1hdERlcGVuZGVuY3kocGFyYW1zLCBpZHgpIHtcbiAgICBpZiAocGFyYW1zID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBcImF0IHBvc2l0aW9uICNcIiArIGlkeDtcbiAgICB9XG4gICAgdmFyIGFyZ05hbWUgPSBwYXJhbXMuc3BsaXQoXCIsXCIpW2lkeF0udHJpbSgpO1xuICAgIHJldHVybiBcIlxcXCJcIiArIGFyZ05hbWUgKyBcIlxcXCIgYXQgcG9zaXRpb24gI1wiICsgaWR4O1xufVxuZnVuY3Rpb24gY29tcG9zZUVycm9yTWVzc2FnZShtc2csIGUsIGluZGVudCkge1xuICAgIGlmIChpbmRlbnQgPT09IHZvaWQgMCkgeyBpbmRlbnQgPSBcIiAgICBcIjsgfVxuICAgIHJldHVybiBfX3NwcmVhZChbbXNnXSwgZS5tZXNzYWdlLnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbiAobCkgeyByZXR1cm4gaW5kZW50ICsgbDsgfSkpLmpvaW4oXCJcXG5cIik7XG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RXJyb3JDdG9yKGN0b3IsIHBhcmFtSWR4LCBlcnJvcikge1xuICAgIHZhciBfYSA9IF9fcmVhZChjdG9yLnRvU3RyaW5nKCkubWF0Y2goL2NvbnN0cnVjdG9yXFwoKFtcXHcsIF0rKVxcKS8pIHx8IFtdLCAyKSwgX2IgPSBfYVsxXSwgcGFyYW1zID0gX2IgPT09IHZvaWQgMCA/IG51bGwgOiBfYjtcbiAgICB2YXIgZGVwID0gZm9ybWF0RGVwZW5kZW5jeShwYXJhbXMsIHBhcmFtSWR4KTtcbiAgICByZXR1cm4gY29tcG9zZUVycm9yTWVzc2FnZShcIkNhbm5vdCBpbmplY3QgdGhlIGRlcGVuZGVuY3kgXCIgKyBkZXAgKyBcIiBvZiBcXFwiXCIgKyBjdG9yLm5hbWUgKyBcIlxcXCIgY29uc3RydWN0b3IuIFJlYXNvbjpcIiwgZXJyb3IpO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBpc0Rpc3Bvc2FibGUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlLmRpc3Bvc2UgIT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBkaXNwb3NlRnVuID0gdmFsdWUuZGlzcG9zZTtcbiAgICBpZiAoZGlzcG9zZUZ1bi5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4iLCAiaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgUmVnaXN0cnlCYXNlIGZyb20gXCIuL3JlZ2lzdHJ5LWJhc2VcIjtcbnZhciBQcmVSZXNvbHV0aW9uSW50ZXJjZXB0b3JzID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUHJlUmVzb2x1dGlvbkludGVyY2VwdG9ycywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcmVSZXNvbHV0aW9uSW50ZXJjZXB0b3JzKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBQcmVSZXNvbHV0aW9uSW50ZXJjZXB0b3JzO1xufShSZWdpc3RyeUJhc2UpKTtcbmV4cG9ydCB7IFByZVJlc29sdXRpb25JbnRlcmNlcHRvcnMgfTtcbnZhciBQb3N0UmVzb2x1dGlvbkludGVyY2VwdG9ycyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBvc3RSZXNvbHV0aW9uSW50ZXJjZXB0b3JzLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFBvc3RSZXNvbHV0aW9uSW50ZXJjZXB0b3JzKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBQb3N0UmVzb2x1dGlvbkludGVyY2VwdG9ycztcbn0oUmVnaXN0cnlCYXNlKSk7XG5leHBvcnQgeyBQb3N0UmVzb2x1dGlvbkludGVyY2VwdG9ycyB9O1xudmFyIEludGVyY2VwdG9ycyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW50ZXJjZXB0b3JzKCkge1xuICAgICAgICB0aGlzLnByZVJlc29sdXRpb24gPSBuZXcgUHJlUmVzb2x1dGlvbkludGVyY2VwdG9ycygpO1xuICAgICAgICB0aGlzLnBvc3RSZXNvbHV0aW9uID0gbmV3IFBvc3RSZXNvbHV0aW9uSW50ZXJjZXB0b3JzKCk7XG4gICAgfVxuICAgIHJldHVybiBJbnRlcmNlcHRvcnM7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgSW50ZXJjZXB0b3JzO1xuIiwgImltcG9ydCB7IF9fYXdhaXRlciwgX19nZW5lcmF0b3IsIF9fcmVhZCwgX19zcHJlYWQsIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0NsYXNzUHJvdmlkZXIsIGlzRmFjdG9yeVByb3ZpZGVyLCBpc05vcm1hbFRva2VuLCBpc1Rva2VuUHJvdmlkZXIsIGlzVmFsdWVQcm92aWRlciB9IGZyb20gXCIuL3Byb3ZpZGVyc1wiO1xuaW1wb3J0IHsgaXNQcm92aWRlciB9IGZyb20gXCIuL3Byb3ZpZGVycy9wcm92aWRlclwiO1xuaW1wb3J0IHsgaXNDb25zdHJ1Y3RvclRva2VuLCBpc1Rva2VuRGVzY3JpcHRvciwgaXNUcmFuc2Zvcm1EZXNjcmlwdG9yIH0gZnJvbSBcIi4vcHJvdmlkZXJzL2luamVjdGlvbi10b2tlblwiO1xuaW1wb3J0IFJlZ2lzdHJ5IGZyb20gXCIuL3JlZ2lzdHJ5XCI7XG5pbXBvcnQgTGlmZWN5Y2xlIGZyb20gXCIuL3R5cGVzL2xpZmVjeWNsZVwiO1xuaW1wb3J0IFJlc29sdXRpb25Db250ZXh0IGZyb20gXCIuL3Jlc29sdXRpb24tY29udGV4dFwiO1xuaW1wb3J0IHsgZm9ybWF0RXJyb3JDdG9yIH0gZnJvbSBcIi4vZXJyb3ItaGVscGVyc1wiO1xuaW1wb3J0IHsgRGVsYXllZENvbnN0cnVjdG9yIH0gZnJvbSBcIi4vbGF6eS1oZWxwZXJzXCI7XG5pbXBvcnQgeyBpc0Rpc3Bvc2FibGUgfSBmcm9tIFwiLi90eXBlcy9kaXNwb3NhYmxlXCI7XG5pbXBvcnQgSW50ZXJjZXB0b3JzIGZyb20gXCIuL2ludGVyY2VwdG9yc1wiO1xuZXhwb3J0IHZhciB0eXBlSW5mbyA9IG5ldyBNYXAoKTtcbnZhciBJbnRlcm5hbERlcGVuZGVuY3lDb250YWluZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEludGVybmFsRGVwZW5kZW5jeUNvbnRhaW5lcihwYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuX3JlZ2lzdHJ5ID0gbmV3IFJlZ2lzdHJ5KCk7XG4gICAgICAgIHRoaXMuaW50ZXJjZXB0b3JzID0gbmV3IEludGVyY2VwdG9ycygpO1xuICAgICAgICB0aGlzLmRpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZXMgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIEludGVybmFsRGVwZW5kZW5jeUNvbnRhaW5lci5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAodG9rZW4sIHByb3ZpZGVyT3JDb25zdHJ1Y3Rvciwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IGxpZmVjeWNsZTogTGlmZWN5Y2xlLlRyYW5zaWVudCB9OyB9XG4gICAgICAgIHRoaXMuZW5zdXJlTm90RGlzcG9zZWQoKTtcbiAgICAgICAgdmFyIHByb3ZpZGVyO1xuICAgICAgICBpZiAoIWlzUHJvdmlkZXIocHJvdmlkZXJPckNvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgcHJvdmlkZXIgPSB7IHVzZUNsYXNzOiBwcm92aWRlck9yQ29uc3RydWN0b3IgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb3ZpZGVyID0gcHJvdmlkZXJPckNvbnN0cnVjdG9yO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Rva2VuUHJvdmlkZXIocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICB2YXIgcGF0aCA9IFt0b2tlbl07XG4gICAgICAgICAgICB2YXIgdG9rZW5Qcm92aWRlciA9IHByb3ZpZGVyO1xuICAgICAgICAgICAgd2hpbGUgKHRva2VuUHJvdmlkZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VG9rZW4gPSB0b2tlblByb3ZpZGVyLnVzZVRva2VuO1xuICAgICAgICAgICAgICAgIGlmIChwYXRoLmluY2x1ZGVzKGN1cnJlbnRUb2tlbikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG9rZW4gcmVnaXN0cmF0aW9uIGN5Y2xlIGRldGVjdGVkISBcIiArIF9fc3ByZWFkKHBhdGgsIFtjdXJyZW50VG9rZW5dKS5qb2luKFwiIC0+IFwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhdGgucHVzaChjdXJyZW50VG9rZW4pO1xuICAgICAgICAgICAgICAgIHZhciByZWdpc3RyYXRpb24gPSB0aGlzLl9yZWdpc3RyeS5nZXQoY3VycmVudFRva2VuKTtcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0cmF0aW9uICYmIGlzVG9rZW5Qcm92aWRlcihyZWdpc3RyYXRpb24ucHJvdmlkZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuUHJvdmlkZXIgPSByZWdpc3RyYXRpb24ucHJvdmlkZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b2tlblByb3ZpZGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubGlmZWN5Y2xlID09PSBMaWZlY3ljbGUuU2luZ2xldG9uIHx8XG4gICAgICAgICAgICBvcHRpb25zLmxpZmVjeWNsZSA9PSBMaWZlY3ljbGUuQ29udGFpbmVyU2NvcGVkIHx8XG4gICAgICAgICAgICBvcHRpb25zLmxpZmVjeWNsZSA9PSBMaWZlY3ljbGUuUmVzb2x1dGlvblNjb3BlZCkge1xuICAgICAgICAgICAgaWYgKGlzVmFsdWVQcm92aWRlcihwcm92aWRlcikgfHwgaXNGYWN0b3J5UHJvdmlkZXIocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBsaWZlY3ljbGUgXFxcIlwiICsgTGlmZWN5Y2xlW29wdGlvbnMubGlmZWN5Y2xlXSArIFwiXFxcIiB3aXRoIFZhbHVlUHJvdmlkZXJzIG9yIEZhY3RvcnlQcm92aWRlcnNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVnaXN0cnkuc2V0KHRva2VuLCB7IHByb3ZpZGVyOiBwcm92aWRlciwgb3B0aW9uczogb3B0aW9ucyB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBJbnRlcm5hbERlcGVuZGVuY3lDb250YWluZXIucHJvdG90eXBlLnJlZ2lzdGVyVHlwZSA9IGZ1bmN0aW9uIChmcm9tLCB0bykge1xuICAgICAgICB0aGlzLmVuc3VyZU5vdERpc3Bvc2VkKCk7XG4gICAgICAgIGlmIChpc05vcm1hbFRva2VuKHRvKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXIoZnJvbSwge1xuICAgICAgICAgICAgICAgIHVzZVRva2VuOiB0b1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXIoZnJvbSwge1xuICAgICAgICAgICAgdXNlQ2xhc3M6IHRvXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSW50ZXJuYWxEZXBlbmRlbmN5Q29udGFpbmVyLnByb3RvdHlwZS5yZWdpc3Rlckluc3RhbmNlID0gZnVuY3Rpb24gKHRva2VuLCBpbnN0YW5jZSkge1xuICAgICAgICB0aGlzLmVuc3VyZU5vdERpc3Bvc2VkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyKHRva2VuLCB7XG4gICAgICAgICAgICB1c2VWYWx1ZTogaW5zdGFuY2VcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBJbnRlcm5hbERlcGVuZGVuY3lDb250YWluZXIucHJvdG90eXBlLnJlZ2lzdGVyU2luZ2xldG9uID0gZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlTm90RGlzcG9zZWQoKTtcbiAgICAgICAgaWYgKGlzTm9ybWFsVG9rZW4oZnJvbSkpIHtcbiAgICAgICAgICAgIGlmIChpc05vcm1hbFRva2VuKHRvKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyKGZyb20sIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlVG9rZW46IHRvXG4gICAgICAgICAgICAgICAgfSwgeyBsaWZlY3ljbGU6IExpZmVjeWNsZS5TaW5nbGV0b24gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0bykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyKGZyb20sIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlQ2xhc3M6IHRvXG4gICAgICAgICAgICAgICAgfSwgeyBsaWZlY3ljbGU6IExpZmVjeWNsZS5TaW5nbGV0b24gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCByZWdpc3RlciBhIHR5cGUgbmFtZSBhcyBhIHNpbmdsZXRvbiB3aXRob3V0IGEgXCJ0b1wiIHRva2VuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVzZUNsYXNzID0gZnJvbTtcbiAgICAgICAgaWYgKHRvICYmICFpc05vcm1hbFRva2VuKHRvKSkge1xuICAgICAgICAgICAgdXNlQ2xhc3MgPSB0bztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3Rlcihmcm9tLCB7XG4gICAgICAgICAgICB1c2VDbGFzczogdXNlQ2xhc3NcbiAgICAgICAgfSwgeyBsaWZlY3ljbGU6IExpZmVjeWNsZS5TaW5nbGV0b24gfSk7XG4gICAgfTtcbiAgICBJbnRlcm5hbERlcGVuZGVuY3lDb250YWluZXIucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiAodG9rZW4sIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbmV3IFJlc29sdXRpb25Db250ZXh0KCk7IH1cbiAgICAgICAgdGhpcy5lbnN1cmVOb3REaXNwb3NlZCgpO1xuICAgICAgICB2YXIgcmVnaXN0cmF0aW9uID0gdGhpcy5nZXRSZWdpc3RyYXRpb24odG9rZW4pO1xuICAgICAgICBpZiAoIXJlZ2lzdHJhdGlvbiAmJiBpc05vcm1hbFRva2VuKHRva2VuKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIHJlc29sdmUgdW5yZWdpc3RlcmVkIGRlcGVuZGVuY3kgdG9rZW46IFxcXCJcIiArIHRva2VuLnRvU3RyaW5nKCkgKyBcIlxcXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5leGVjdXRlUHJlUmVzb2x1dGlvbkludGVyY2VwdG9yKHRva2VuLCBcIlNpbmdsZVwiKTtcbiAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMucmVzb2x2ZVJlZ2lzdHJhdGlvbihyZWdpc3RyYXRpb24sIGNvbnRleHQpO1xuICAgICAgICAgICAgdGhpcy5leGVjdXRlUG9zdFJlc29sdXRpb25JbnRlcmNlcHRvcih0b2tlbiwgcmVzdWx0LCBcIlNpbmdsZVwiKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ29uc3RydWN0b3JUb2tlbih0b2tlbikpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNvbnN0cnVjdCh0b2tlbiwgY29udGV4dCk7XG4gICAgICAgICAgICB0aGlzLmV4ZWN1dGVQb3N0UmVzb2x1dGlvbkludGVyY2VwdG9yKHRva2VuLCByZXN1bHQsIFwiU2luZ2xlXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gY29uc3RydWN0IGFuIHVuZGVmaW5lZCBjb25zdHJ1Y3Rvci4gQ291bGQgbWVhbiBhIGNpcmN1bGFyIGRlcGVuZGVuY3kgcHJvYmxlbS4gVHJ5IHVzaW5nIGBkZWxheWAgZnVuY3Rpb24uXCIpO1xuICAgIH07XG4gICAgSW50ZXJuYWxEZXBlbmRlbmN5Q29udGFpbmVyLnByb3RvdHlwZS5leGVjdXRlUHJlUmVzb2x1dGlvbkludGVyY2VwdG9yID0gZnVuY3Rpb24gKHRva2VuLCByZXNvbHV0aW9uVHlwZSkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJjZXB0b3JzLnByZVJlc29sdXRpb24uaGFzKHRva2VuKSkge1xuICAgICAgICAgICAgdmFyIHJlbWFpbmluZ0ludGVyY2VwdG9ycyA9IFtdO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMuaW50ZXJjZXB0b3JzLnByZVJlc29sdXRpb24uZ2V0QWxsKHRva2VuKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVyY2VwdG9yID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmNlcHRvci5vcHRpb25zLmZyZXF1ZW5jeSAhPSBcIk9uY2VcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nSW50ZXJjZXB0b3JzLnB1c2goaW50ZXJjZXB0b3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGludGVyY2VwdG9yLmNhbGxiYWNrKHRva2VuLCByZXNvbHV0aW9uVHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pbnRlcmNlcHRvcnMucHJlUmVzb2x1dGlvbi5zZXRBbGwodG9rZW4sIHJlbWFpbmluZ0ludGVyY2VwdG9ycyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEludGVybmFsRGVwZW5kZW5jeUNvbnRhaW5lci5wcm90b3R5cGUuZXhlY3V0ZVBvc3RSZXNvbHV0aW9uSW50ZXJjZXB0b3IgPSBmdW5jdGlvbiAodG9rZW4sIHJlc3VsdCwgcmVzb2x1dGlvblR5cGUpIHtcbiAgICAgICAgdmFyIGVfMiwgX2E7XG4gICAgICAgIGlmICh0aGlzLmludGVyY2VwdG9ycy5wb3N0UmVzb2x1dGlvbi5oYXModG9rZW4pKSB7XG4gICAgICAgICAgICB2YXIgcmVtYWluaW5nSW50ZXJjZXB0b3JzID0gW107XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5pbnRlcmNlcHRvcnMucG9zdFJlc29sdXRpb24uZ2V0QWxsKHRva2VuKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVyY2VwdG9yID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmNlcHRvci5vcHRpb25zLmZyZXF1ZW5jeSAhPSBcIk9uY2VcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nSW50ZXJjZXB0b3JzLnB1c2goaW50ZXJjZXB0b3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGludGVyY2VwdG9yLmNhbGxiYWNrKHRva2VuLCByZXN1bHQsIHJlc29sdXRpb25UeXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmludGVyY2VwdG9ycy5wb3N0UmVzb2x1dGlvbi5zZXRBbGwodG9rZW4sIHJlbWFpbmluZ0ludGVyY2VwdG9ycyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEludGVybmFsRGVwZW5kZW5jeUNvbnRhaW5lci5wcm90b3R5cGUucmVzb2x2ZVJlZ2lzdHJhdGlvbiA9IGZ1bmN0aW9uIChyZWdpc3RyYXRpb24sIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVOb3REaXNwb3NlZCgpO1xuICAgICAgICBpZiAocmVnaXN0cmF0aW9uLm9wdGlvbnMubGlmZWN5Y2xlID09PSBMaWZlY3ljbGUuUmVzb2x1dGlvblNjb3BlZCAmJlxuICAgICAgICAgICAgY29udGV4dC5zY29wZWRSZXNvbHV0aW9ucy5oYXMocmVnaXN0cmF0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuc2NvcGVkUmVzb2x1dGlvbnMuZ2V0KHJlZ2lzdHJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzU2luZ2xldG9uID0gcmVnaXN0cmF0aW9uLm9wdGlvbnMubGlmZWN5Y2xlID09PSBMaWZlY3ljbGUuU2luZ2xldG9uO1xuICAgICAgICB2YXIgaXNDb250YWluZXJTY29wZWQgPSByZWdpc3RyYXRpb24ub3B0aW9ucy5saWZlY3ljbGUgPT09IExpZmVjeWNsZS5Db250YWluZXJTY29wZWQ7XG4gICAgICAgIHZhciByZXR1cm5JbnN0YW5jZSA9IGlzU2luZ2xldG9uIHx8IGlzQ29udGFpbmVyU2NvcGVkO1xuICAgICAgICB2YXIgcmVzb2x2ZWQ7XG4gICAgICAgIGlmIChpc1ZhbHVlUHJvdmlkZXIocmVnaXN0cmF0aW9uLnByb3ZpZGVyKSkge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSByZWdpc3RyYXRpb24ucHJvdmlkZXIudXNlVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNUb2tlblByb3ZpZGVyKHJlZ2lzdHJhdGlvbi5wcm92aWRlcikpIHtcbiAgICAgICAgICAgIHJlc29sdmVkID0gcmV0dXJuSW5zdGFuY2VcbiAgICAgICAgICAgICAgICA/IHJlZ2lzdHJhdGlvbi5pbnN0YW5jZSB8fFxuICAgICAgICAgICAgICAgICAgICAocmVnaXN0cmF0aW9uLmluc3RhbmNlID0gdGhpcy5yZXNvbHZlKHJlZ2lzdHJhdGlvbi5wcm92aWRlci51c2VUb2tlbiwgY29udGV4dCkpXG4gICAgICAgICAgICAgICAgOiB0aGlzLnJlc29sdmUocmVnaXN0cmF0aW9uLnByb3ZpZGVyLnVzZVRva2VuLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0NsYXNzUHJvdmlkZXIocmVnaXN0cmF0aW9uLnByb3ZpZGVyKSkge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSByZXR1cm5JbnN0YW5jZVxuICAgICAgICAgICAgICAgID8gcmVnaXN0cmF0aW9uLmluc3RhbmNlIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZWdpc3RyYXRpb24uaW5zdGFuY2UgPSB0aGlzLmNvbnN0cnVjdChyZWdpc3RyYXRpb24ucHJvdmlkZXIudXNlQ2xhc3MsIGNvbnRleHQpKVxuICAgICAgICAgICAgICAgIDogdGhpcy5jb25zdHJ1Y3QocmVnaXN0cmF0aW9uLnByb3ZpZGVyLnVzZUNsYXNzLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0ZhY3RvcnlQcm92aWRlcihyZWdpc3RyYXRpb24ucHJvdmlkZXIpKSB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IHJlZ2lzdHJhdGlvbi5wcm92aWRlci51c2VGYWN0b3J5KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSB0aGlzLmNvbnN0cnVjdChyZWdpc3RyYXRpb24ucHJvdmlkZXIsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWdpc3RyYXRpb24ub3B0aW9ucy5saWZlY3ljbGUgPT09IExpZmVjeWNsZS5SZXNvbHV0aW9uU2NvcGVkKSB7XG4gICAgICAgICAgICBjb250ZXh0LnNjb3BlZFJlc29sdXRpb25zLnNldChyZWdpc3RyYXRpb24sIHJlc29sdmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgfTtcbiAgICBJbnRlcm5hbERlcGVuZGVuY3lDb250YWluZXIucHJvdG90eXBlLnJlc29sdmVBbGwgPSBmdW5jdGlvbiAodG9rZW4sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbmV3IFJlc29sdXRpb25Db250ZXh0KCk7IH1cbiAgICAgICAgdGhpcy5lbnN1cmVOb3REaXNwb3NlZCgpO1xuICAgICAgICB2YXIgcmVnaXN0cmF0aW9ucyA9IHRoaXMuZ2V0QWxsUmVnaXN0cmF0aW9ucyh0b2tlbik7XG4gICAgICAgIGlmICghcmVnaXN0cmF0aW9ucyAmJiBpc05vcm1hbFRva2VuKHRva2VuKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIHJlc29sdmUgdW5yZWdpc3RlcmVkIGRlcGVuZGVuY3kgdG9rZW46IFxcXCJcIiArIHRva2VuLnRvU3RyaW5nKCkgKyBcIlxcXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5leGVjdXRlUHJlUmVzb2x1dGlvbkludGVyY2VwdG9yKHRva2VuLCBcIkFsbFwiKTtcbiAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRfMSA9IHJlZ2lzdHJhdGlvbnMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlc29sdmVSZWdpc3RyYXRpb24oaXRlbSwgY29udGV4dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZXhlY3V0ZVBvc3RSZXNvbHV0aW9uSW50ZXJjZXB0b3IodG9rZW4sIHJlc3VsdF8xLCBcIkFsbFwiKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRfMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gW3RoaXMuY29uc3RydWN0KHRva2VuLCBjb250ZXh0KV07XG4gICAgICAgIHRoaXMuZXhlY3V0ZVBvc3RSZXNvbHV0aW9uSW50ZXJjZXB0b3IodG9rZW4sIHJlc3VsdCwgXCJBbGxcIik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBJbnRlcm5hbERlcGVuZGVuY3lDb250YWluZXIucHJvdG90eXBlLmlzUmVnaXN0ZXJlZCA9IGZ1bmN0aW9uICh0b2tlbiwgcmVjdXJzaXZlKSB7XG4gICAgICAgIGlmIChyZWN1cnNpdmUgPT09IHZvaWQgMCkgeyByZWN1cnNpdmUgPSBmYWxzZTsgfVxuICAgICAgICB0aGlzLmVuc3VyZU5vdERpc3Bvc2VkKCk7XG4gICAgICAgIHJldHVybiAodGhpcy5fcmVnaXN0cnkuaGFzKHRva2VuKSB8fFxuICAgICAgICAgICAgKHJlY3Vyc2l2ZSAmJlxuICAgICAgICAgICAgICAgICh0aGlzLnBhcmVudCB8fCBmYWxzZSkgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5pc1JlZ2lzdGVyZWQodG9rZW4sIHRydWUpKSk7XG4gICAgfTtcbiAgICBJbnRlcm5hbERlcGVuZGVuY3lDb250YWluZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVuc3VyZU5vdERpc3Bvc2VkKCk7XG4gICAgICAgIHRoaXMuX3JlZ2lzdHJ5LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuaW50ZXJjZXB0b3JzLnByZVJlc29sdXRpb24uY2xlYXIoKTtcbiAgICAgICAgdGhpcy5pbnRlcmNlcHRvcnMucG9zdFJlc29sdXRpb24uY2xlYXIoKTtcbiAgICB9O1xuICAgIEludGVybmFsRGVwZW5kZW5jeUNvbnRhaW5lci5wcm90b3R5cGUuY2xlYXJJbnN0YW5jZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzMsIF9hO1xuICAgICAgICB0aGlzLmVuc3VyZU5vdERpc3Bvc2VkKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMuX3JlZ2lzdHJ5LmVudHJpZXMoKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2QgPSBfX3JlYWQoX2MudmFsdWUsIDIpLCB0b2tlbiA9IF9kWzBdLCByZWdpc3RyYXRpb25zID0gX2RbMV07XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVnaXN0cnkuc2V0QWxsKHRva2VuLCByZWdpc3RyYXRpb25zXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbikgeyByZXR1cm4gIWlzVmFsdWVQcm92aWRlcihyZWdpc3RyYXRpb24ucHJvdmlkZXIpOyB9KVxuICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChyZWdpc3RyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uLmluc3RhbmNlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8zXzEpIHsgZV8zID0geyBlcnJvcjogZV8zXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzMpIHRocm93IGVfMy5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBJbnRlcm5hbERlcGVuZGVuY3lDb250YWluZXIucHJvdG90eXBlLmNyZWF0ZUNoaWxkQ29udGFpbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV80LCBfYTtcbiAgICAgICAgdGhpcy5lbnN1cmVOb3REaXNwb3NlZCgpO1xuICAgICAgICB2YXIgY2hpbGRDb250YWluZXIgPSBuZXcgSW50ZXJuYWxEZXBlbmRlbmN5Q29udGFpbmVyKHRoaXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLl9yZWdpc3RyeS5lbnRyaWVzKCkpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9kID0gX19yZWFkKF9jLnZhbHVlLCAyKSwgdG9rZW4gPSBfZFswXSwgcmVnaXN0cmF0aW9ucyA9IF9kWzFdO1xuICAgICAgICAgICAgICAgIGlmIChyZWdpc3RyYXRpb25zLnNvbWUoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gX2Eub3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMubGlmZWN5Y2xlID09PSBMaWZlY3ljbGUuQ29udGFpbmVyU2NvcGVkO1xuICAgICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ29udGFpbmVyLl9yZWdpc3RyeS5zZXRBbGwodG9rZW4sIHJlZ2lzdHJhdGlvbnMubWFwKGZ1bmN0aW9uIChyZWdpc3RyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWdpc3RyYXRpb24ub3B0aW9ucy5saWZlY3ljbGUgPT09IExpZmVjeWNsZS5Db250YWluZXJTY29wZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcjogcmVnaXN0cmF0aW9uLnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiByZWdpc3RyYXRpb24ub3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzRfMSkgeyBlXzQgPSB7IGVycm9yOiBlXzRfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNCkgdGhyb3cgZV80LmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkQ29udGFpbmVyO1xuICAgIH07XG4gICAgSW50ZXJuYWxEZXBlbmRlbmN5Q29udGFpbmVyLnByb3RvdHlwZS5iZWZvcmVSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHRva2VuLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IGZyZXF1ZW5jeTogXCJBbHdheXNcIiB9OyB9XG4gICAgICAgIHRoaXMuaW50ZXJjZXB0b3JzLnByZVJlc29sdXRpb24uc2V0KHRva2VuLCB7XG4gICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSW50ZXJuYWxEZXBlbmRlbmN5Q29udGFpbmVyLnByb3RvdHlwZS5hZnRlclJlc29sdXRpb24gPSBmdW5jdGlvbiAodG9rZW4sIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHsgZnJlcXVlbmN5OiBcIkFsd2F5c1wiIH07IH1cbiAgICAgICAgdGhpcy5pbnRlcmNlcHRvcnMucG9zdFJlc29sdXRpb24uc2V0KHRva2VuLCB7XG4gICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSW50ZXJuYWxEZXBlbmRlbmN5Q29udGFpbmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2FibGVzLmZvckVhY2goZnVuY3Rpb24gKGRpc3Bvc2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gZGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1heWJlUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKG1heWJlUHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIFByb21pc2UuYWxsKHByb21pc2VzKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSW50ZXJuYWxEZXBlbmRlbmN5Q29udGFpbmVyLnByb3RvdHlwZS5nZXRSZWdpc3RyYXRpb24gPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgaWYgKHRoaXMuaXNSZWdpc3RlcmVkKHRva2VuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlZ2lzdHJ5LmdldCh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0UmVnaXN0cmF0aW9uKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEludGVybmFsRGVwZW5kZW5jeUNvbnRhaW5lci5wcm90b3R5cGUuZ2V0QWxsUmVnaXN0cmF0aW9ucyA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICBpZiAodGhpcy5pc1JlZ2lzdGVyZWQodG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVnaXN0cnkuZ2V0QWxsKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5nZXRBbGxSZWdpc3RyYXRpb25zKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEludGVybmFsRGVwZW5kZW5jeUNvbnRhaW5lci5wcm90b3R5cGUuY29uc3RydWN0ID0gZnVuY3Rpb24gKGN0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGN0b3IgaW5zdGFuY2VvZiBEZWxheWVkQ29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiBjdG9yLmNyZWF0ZVByb3h5KGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucmVzb2x2ZSh0YXJnZXQsIGNvbnRleHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluc3RhbmNlID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwYXJhbUluZm8gPSB0eXBlSW5mby5nZXQoY3Rvcik7XG4gICAgICAgICAgICBpZiAoIXBhcmFtSW5mbyB8fCBwYXJhbUluZm8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN0b3IubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgY3RvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHlwZUluZm8gbm90IGtub3duIGZvciBcXFwiXCIgKyBjdG9yLm5hbWUgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHBhcmFtSW5mby5tYXAoX3RoaXMucmVzb2x2ZVBhcmFtcyhjb250ZXh0LCBjdG9yKSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IChjdG9yLmJpbmQuYXBwbHkoY3RvciwgX19zcHJlYWQoW3ZvaWQgMF0sIHBhcmFtcykpKSgpO1xuICAgICAgICB9KSgpO1xuICAgICAgICBpZiAoaXNEaXNwb3NhYmxlKGluc3RhbmNlKSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NhYmxlcy5hZGQoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9O1xuICAgIEludGVybmFsRGVwZW5kZW5jeUNvbnRhaW5lci5wcm90b3R5cGUucmVzb2x2ZVBhcmFtcyA9IGZ1bmN0aW9uIChjb250ZXh0LCBjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAocGFyYW0sIGlkeCkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChpc1Rva2VuRGVzY3JpcHRvcihwYXJhbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVHJhbnNmb3JtRGVzY3JpcHRvcihwYXJhbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbS5tdWx0aXBsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKF9hID0gX3RoaXMucmVzb2x2ZShwYXJhbS50cmFuc2Zvcm0pKS50cmFuc2Zvcm0uYXBwbHkoX2EsIF9fc3ByZWFkKFtfdGhpcy5yZXNvbHZlQWxsKHBhcmFtLnRva2VuKV0sIHBhcmFtLnRyYW5zZm9ybUFyZ3MpKSA6IChfYiA9IF90aGlzLnJlc29sdmUocGFyYW0udHJhbnNmb3JtKSkudHJhbnNmb3JtLmFwcGx5KF9iLCBfX3NwcmVhZChbX3RoaXMucmVzb2x2ZShwYXJhbS50b2tlbiwgY29udGV4dCldLCBwYXJhbS50cmFuc2Zvcm1BcmdzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW0ubXVsdGlwbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IF90aGlzLnJlc29sdmVBbGwocGFyYW0udG9rZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfdGhpcy5yZXNvbHZlKHBhcmFtLnRva2VuLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1RyYW5zZm9ybURlc2NyaXB0b3IocGFyYW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoX2MgPSBfdGhpcy5yZXNvbHZlKHBhcmFtLnRyYW5zZm9ybSwgY29udGV4dCkpLnRyYW5zZm9ybS5hcHBseShfYywgX19zcHJlYWQoW190aGlzLnJlc29sdmUocGFyYW0udG9rZW4sIGNvbnRleHQpXSwgcGFyYW0udHJhbnNmb3JtQXJncykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucmVzb2x2ZShwYXJhbSwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihmb3JtYXRFcnJvckN0b3IoY3RvciwgaWR4LCBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBJbnRlcm5hbERlcGVuZGVuY3lDb250YWluZXIucHJvdG90eXBlLmVuc3VyZU5vdERpc3Bvc2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kaXNwb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBjb250YWluZXIgaGFzIGJlZW4gZGlzcG9zZWQsIHlvdSBjYW5ub3QgaW50ZXJhY3Qgd2l0aCBhIGRpc3Bvc2VkIGNvbnRhaW5lclwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEludGVybmFsRGVwZW5kZW5jeUNvbnRhaW5lcjtcbn0oKSk7XG5leHBvcnQgdmFyIGluc3RhbmNlID0gbmV3IEludGVybmFsRGVwZW5kZW5jeUNvbnRhaW5lcigpO1xuZXhwb3J0IGRlZmF1bHQgaW5zdGFuY2U7XG4iLCAiaW1wb3J0IHsgZGVmaW5lSW5qZWN0aW9uVG9rZW5NZXRhZGF0YSB9IGZyb20gXCIuLi9yZWZsZWN0aW9uLWhlbHBlcnNcIjtcbmZ1bmN0aW9uIGluamVjdCh0b2tlbikge1xuICAgIHJldHVybiBkZWZpbmVJbmplY3Rpb25Ub2tlbk1ldGFkYXRhKHRva2VuKTtcbn1cbmV4cG9ydCBkZWZhdWx0IGluamVjdDtcbiIsICJpbXBvcnQgeyBnZXRQYXJhbUluZm8gfSBmcm9tIFwiLi4vcmVmbGVjdGlvbi1oZWxwZXJzXCI7XG5pbXBvcnQgeyB0eXBlSW5mbyB9IGZyb20gXCIuLi9kZXBlbmRlbmN5LWNvbnRhaW5lclwiO1xuZnVuY3Rpb24gaW5qZWN0YWJsZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICB0eXBlSW5mby5zZXQodGFyZ2V0LCBnZXRQYXJhbUluZm8odGFyZ2V0KSk7XG4gICAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IGluamVjdGFibGU7XG4iLCAiaW1wb3J0IGluamVjdGFibGUgZnJvbSBcIi4vaW5qZWN0YWJsZVwiO1xuaW1wb3J0IHsgaW5zdGFuY2UgYXMgZ2xvYmFsQ29udGFpbmVyIH0gZnJvbSBcIi4uL2RlcGVuZGVuY3ktY29udGFpbmVyXCI7XG5mdW5jdGlvbiBzaW5nbGV0b24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgaW5qZWN0YWJsZSgpKHRhcmdldCk7XG4gICAgICAgIGdsb2JhbENvbnRhaW5lci5yZWdpc3RlclNpbmdsZXRvbih0YXJnZXQpO1xuICAgIH07XG59XG5leHBvcnQgZGVmYXVsdCBzaW5nbGV0b247XG4iLCAiaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmdldE1ldGFkYXRhKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidHN5cmluZ2UgcmVxdWlyZXMgYSByZWZsZWN0IHBvbHlmaWxsLiBQbGVhc2UgYWRkICdpbXBvcnQgXFxcInJlZmxlY3QtbWV0YWRhdGFcXFwiJyB0byB0aGUgdG9wIG9mIHlvdXIgZW50cnkgcG9pbnQuXCIpO1xufVxuZXhwb3J0IHsgTGlmZWN5Y2xlIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2RlY29yYXRvcnNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2ZhY3Rvcmllc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vcHJvdmlkZXJzXCI7XG5leHBvcnQgeyBkZWxheSB9IGZyb20gXCIuL2xhenktaGVscGVyc1wiO1xuZXhwb3J0IHsgaW5zdGFuY2UgYXMgY29udGFpbmVyIH0gZnJvbSBcIi4vZGVwZW5kZW5jeS1jb250YWluZXJcIjtcbiIsICJpbXBvcnQgeyBUaWxlIH0gZnJvbSBcIi4vdGlsZS5qc1wiO1xyXG5pbXBvcnQgeyBSb29tIH0gZnJvbSBcIi4vcm9vbS5qc1wiO1xyXG5pbXBvcnQgeyBzaHVmZmxlQXJyYXkgfSBmcm9tIFwiQHNvcnNrb290L3dvbmRlcmxhbmQtY29tcG9uZW50c1wiO1xyXG5pbXBvcnQgeyBSb29tQ3JlYXRvciB9IGZyb20gXCIuL1Jvb21DcmVhdG9yLmpzXCI7XHJcbmltcG9ydCB7IGluamVjdCB9IGZyb20gXCJ0c3lyaW5nZVwiO1xyXG5cclxuY29uc3QgRElSRUNUSU9OX09GRlNFVFMgPSB7XHJcbiAgbm9ydGg6IHsgeDogMCwgeTogMSB9LFxyXG4gIGVhc3Q6IHsgeDogMSwgeTogMCB9LFxyXG4gIHNvdXRoOiB7IHg6IDAsIHk6IC0xIH0sXHJcbiAgd2VzdDogeyB4OiAtMSwgeTogMCB9LFxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIE1hemVHZW5lcmF0b3Ige1xyXG4gIG1hemVXaWR0aDtcclxuICBtYXplSGVpZ2h0O1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgZ3JpZCBvZiByb29tcyB0aGF0IG1ha2UgdXAgdGhlIGxldmVsLlxyXG4gICAqIEB0eXBlIHtSb29tW11bXX1cclxuICAgKi9cclxuICBtYXplOiBSb29tW11bXSA9IFtbXV07XHJcblxyXG4gIHBhdHRlcm5zOiB7IFt4OiBzdHJpbmddOiBhbnkgfTtcclxuXHJcbiAgY29uc3RyYWludHM6IGFueTtcclxuICBmYXJ0aGVzdFJvb206IHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IGRpc3RhbmNlOiBudW1iZXIgfTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBzaXplWDogbnVtYmVyLFxyXG4gICAgc2l6ZVk6IG51bWJlcixcclxuICAgIHRpbGVTZXQgPSBudWxsLFxyXG4gICAgZXh0cmFjdGVkUGF0dGVybnMgPSBbXSxcclxuICAgIGNvbnN0cmFpbnRNYXBwaW5nRm9yQWxsS2V5U2V0cyA9IG51bGxcclxuICApIHtcclxuICAgIHRoaXMubWF6ZVdpZHRoID0gc2l6ZVg7XHJcbiAgICB0aGlzLm1hemVIZWlnaHQgPSBzaXplWTtcclxuXHJcbiAgICB0aGlzLnBhdHRlcm5zID0gZXh0cmFjdGVkUGF0dGVybnM7XHJcbiAgICB0aGlzLmNvbnN0cmFpbnRzID0gY29uc3RyYWludE1hcHBpbmdGb3JBbGxLZXlTZXRzO1xyXG4gICAgdGhpcy4jY3JlYXRlR3JpZCgpO1xyXG5cclxuICAgIHRoaXMuZmFydGhlc3RSb29tID0geyB4OiAwLCB5OiAwLCBkaXN0YW5jZTogMCB9O1xyXG4gIH1cclxuXHJcbiAgI2NyZWF0ZUdyaWQoKSB7XHJcbiAgICB0aGlzLm1hemUgPSBuZXcgQXJyYXkodGhpcy5tYXplV2lkdGgpO1xyXG5cclxuICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5tYXplV2lkdGg7IHgrKykge1xyXG4gICAgICB0aGlzLm1hemVbeF0gPSBuZXcgQXJyYXkodGhpcy5tYXplSGVpZ2h0KTtcclxuICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLm1hemVIZWlnaHQ7IHkrKykge1xyXG4gICAgICAgIHRoaXMubWF6ZVt4XVt5XSA9IG5ldyBSb29tKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLm1hemU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIGEgcm9vbSBmcm9tIHRoZSBncmlkIGF0IHRoZSBnaXZlbiBpbmRpY2VzLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFgtaW5kZXggb2YgdGhlIHJvb21cclxuICAgKiBAcGFyYW0ge251bWJlcn0geSBZLWluZGV4IG9mIHRoZSByb29tXHJcbiAgICogQHJldHVybnMge1Jvb219IFRoZSByb29tIGF0IHRoZSBnaXZlbiBpbmRpY2VzXHJcbiAgICovXHJcbiAgZ2V0Um9vbSh4OiBudW1iZXIsIHk6IG51bWJlcik6IFJvb20ge1xyXG4gICAgcmV0dXJuIHRoaXMubWF6ZVt4XVt5XTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIHBhdHRlcm4gYXQgdGhlIGdpdmVuIGluZGV4IGZyb20gdGhlIGxpc3Qgb2YgcGF0dGVybnMuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgcGF0dGVybiB0byBnZXQuXHJcbiAgICogQHJldHVybnMge1RpbGV9IFRoZSBwYXR0ZXJuIGF0IHRoZSBnaXZlbiBpbmRleC5cclxuICAgKi9cclxuICBnZXRQYXR0ZXJuKGluZGV4OiBudW1iZXIpOiBUaWxlIHtcclxuICAgIHJldHVybiB0aGlzLnBhdHRlcm5zW2luZGV4XTtcclxuICB9XHJcblxyXG4gIGVuYWJsZURvb3JzKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIGRpcmVjdGlvbjogc3RyaW5nKSB7XHJcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xyXG4gICAgICBjYXNlIFwibm9ydGhcIjpcclxuICAgICAgICB0aGlzLm1hemVbeDFdW3kxXS5kb29ycy5ub3J0aCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5tYXplW3gxXVt5MV0udGFyZ2V0Um9vbXMubm9ydGggPSB7IHg6IHgyLCB5OiB5MiB9O1xyXG4gICAgICAgIHRoaXMubWF6ZVt4Ml1beTJdLmRvb3JzLnNvdXRoID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1hemVbeDJdW3kyXS50YXJnZXRSb29tcy5zb3V0aCA9IHsgeDogeDEsIHk6IHkxIH07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJlYXN0XCI6XHJcbiAgICAgICAgdGhpcy5tYXplW3gxXVt5MV0uZG9vcnMuZWFzdCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5tYXplW3gxXVt5MV0udGFyZ2V0Um9vbXMuZWFzdCA9IHsgeDogeDIsIHk6IHkyIH07XHJcbiAgICAgICAgdGhpcy5tYXplW3gyXVt5Ml0uZG9vcnMud2VzdCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5tYXplW3gyXVt5Ml0udGFyZ2V0Um9vbXMud2VzdCA9IHsgeDogeDEsIHk6IHkxIH07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJzb3V0aFwiOlxyXG4gICAgICAgIHRoaXMubWF6ZVt4MV1beTFdLmRvb3JzLnNvdXRoID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1hemVbeDFdW3kxXS50YXJnZXRSb29tcy5zb3V0aCA9IHsgeDogeDIsIHk6IHkyIH07XHJcbiAgICAgICAgdGhpcy5tYXplW3gyXVt5Ml0uZG9vcnMubm9ydGggPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubWF6ZVt4Ml1beTJdLnRhcmdldFJvb21zLm5vcnRoID0geyB4OiB4MSwgeTogeTEgfTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIndlc3RcIjpcclxuICAgICAgICB0aGlzLm1hemVbeDFdW3kxXS5kb29ycy53ZXN0ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1hemVbeDFdW3kxXS50YXJnZXRSb29tcy53ZXN0ID0geyB4OiB4MiwgeTogeTIgfTtcclxuICAgICAgICB0aGlzLm1hemVbeDJdW3kyXS5kb29ycy5lYXN0ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1hemVbeDJdW3kyXS50YXJnZXRSb29tcy5lYXN0ID0geyB4OiB4MSwgeTogeTEgfTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlzVmFsaWRDb29yZGluYXRlcyh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIHggPj0gMCAmJiB4IDwgdGhpcy5tYXplV2lkdGggJiYgeSA+PSAwICYmIHkgPCB0aGlzLm1hemVIZWlnaHQ7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZSgpIHtcclxuICAgIHRoaXMuI2dlbmVyYXRlTWF6ZVJlY3Vyc2l2ZWx5KDAsIDApO1xyXG4gICAgdGhpcy5nZXRSb29tKHRoaXMuZmFydGhlc3RSb29tLngsIHRoaXMuZmFydGhlc3RSb29tLnkpLmlzRXhpdCA9IHRydWU7XHJcbiAgICB0aGlzLmdldFJvb20oMCwgMCkuaXNFbnRyYW5jZSA9IHRydWU7XHJcbiAgICBjb25zb2xlLmxvZyhgZGlzdGFuY2U6JHt0aGlzLmZhcnRoZXN0Um9vbS5kaXN0YW5jZX1gKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogR2VuZXJhdGVzIGEgbWF6ZSB1c2luZyB0aGUgcmVjdXJzaXZlIGJhY2t0cmFja2luZyBhbGdvcml0aG0uXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggU3RhcnQgWCBjb29yZGluYXRlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgU3RhcnQgWSBjb29yZGluYXRlXHJcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gdmlzaXRlZExpc3QgVGhlIGxpc3Qgb2YgdmlzaXRlZCByb29tcywgb21pdCB0byBzdGFydCBhIG5ldyBsaXN0LlxyXG4gICAqL1xyXG4gICNnZW5lcmF0ZU1hemVSZWN1cnNpdmVseSh4OiBudW1iZXIsIHk6IG51bWJlciwgdmlzaXRlZExpc3Q6IHN0cmluZ1tdID0gW10sIGRpc3RhbmNlID0gMCkge1xyXG4gICAgaWYgKCF2aXNpdGVkTGlzdCkge1xyXG4gICAgICB2aXNpdGVkTGlzdCA9IFtdO1xyXG4gICAgfVxyXG4gICAgdmlzaXRlZExpc3QucHVzaChgJHt4fSwke3l9YCk7XHJcblxyXG4gICAgY29uc3QgZGlyZWN0aW9ucyA9IFtcclxuICAgICAgeyBkeDogLTEsIGR5OiAwLCBkaXJlY3Rpb246IFwibm9ydGhcIiB9LFxyXG4gICAgICB7IGR4OiAxLCBkeTogMCwgZGlyZWN0aW9uOiBcInNvdXRoXCIgfSxcclxuICAgICAgeyBkeDogMCwgZHk6IC0xLCBkaXJlY3Rpb246IFwid2VzdFwiIH0sXHJcbiAgICAgIHsgZHg6IDAsIGR5OiAxLCBkaXJlY3Rpb246IFwiZWFzdFwiIH0sXHJcbiAgICBdO1xyXG5cclxuICAgIHNodWZmbGVBcnJheShkaXJlY3Rpb25zIGFzIFtdKTtcclxuXHJcbiAgICBjb25zdCBjdXJyZW50Um9vbSA9IHRoaXMuZ2V0Um9vbSh4LCB5KTtcclxuICAgIGN1cnJlbnRSb29tLmRpc3RhbmNlRnJvbUVudHJhbmNlID0gZGlzdGFuY2U7XHJcblxyXG4gICAgaWYgKGRpc3RhbmNlICUgMTAgPT0gMCkge1xyXG4gICAgICBjdXJyZW50Um9vbS5pc1RyZWFzdXJlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGNvbnN0IGRpciBvZiBkaXJlY3Rpb25zKSB7XHJcbiAgICAgIGlmICghZGlyKSBjb250aW51ZTsgLy8gV2VpcmQsIHdlIHNob3VsZCBuZXZlciBnZXQgaGVyZSwgYnV0IHdlIGRvLlxyXG4gICAgICBjb25zdCBuZXdYID0geCArIGRpci5keDtcclxuICAgICAgY29uc3QgbmV3WSA9IHkgKyBkaXIuZHk7XHJcblxyXG4gICAgICBpZiAodGhpcy5pc1ZhbGlkQ29vcmRpbmF0ZXMobmV3WCwgbmV3WSkgJiYgIXZpc2l0ZWRMaXN0LmluY2x1ZGVzKGAke25ld1h9LCR7bmV3WX1gKSkge1xyXG4gICAgICAgIHRoaXMuZW5hYmxlRG9vcnMoeCwgeSwgbmV3WCwgbmV3WSwgZGlyLmRpcmVjdGlvbik7XHJcblxyXG4gICAgICAgIGlmIChkaXN0YW5jZSA+IHRoaXMuZmFydGhlc3RSb29tLmRpc3RhbmNlKSB7XHJcbiAgICAgICAgICB0aGlzLmZhcnRoZXN0Um9vbS54ID0gbmV3WDtcclxuICAgICAgICAgIHRoaXMuZmFydGhlc3RSb29tLnkgPSBuZXdZO1xyXG4gICAgICAgICAgdGhpcy5mYXJ0aGVzdFJvb20uZGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuI2dlbmVyYXRlTWF6ZVJlY3Vyc2l2ZWx5KG5ld1gsIG5ld1ksIHZpc2l0ZWRMaXN0LCBkaXN0YW5jZSArIDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsICIvKipcclxuICogVGhpcyBmaWxlIGNvbnRhaW5zIHRoZSBSb29tIGNsYXNzLlxyXG4gKi9cclxuXHJcbnR5cGUgUm9vbURpcmVjdGlvbnMgPSB7XHJcbiAgbm9ydGg6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB8IG51bGwgfCB1bmRlZmluZWQ7XHJcbiAgd2VzdDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHwgbnVsbCB8IHVuZGVmaW5lZDtcclxuICBzb3V0aDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHwgbnVsbCB8IHVuZGVmaW5lZDtcclxuICBlYXN0OiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0gfCBudWxsIHwgdW5kZWZpbmVkO1xyXG59O1xyXG5cclxuaW1wb3J0IHsgZmluZENoYXJJblN0cmluZ0FycmF5IH0gZnJvbSBcIi4uL2ZvckZyYW1ld29yay9maW5kQ2hhckluU3RyaW5nQXJyYXkuanNcIjtcclxuaW1wb3J0IHsgRGlyZWN0aW9uU3ltYm9sLCBQb3NpdGlvbjJEIH0gZnJvbSBcIi4uL3R5cGVzL2luZGV4LmpzXCI7XHJcbmltcG9ydCB7IEdlbmVyaWNJdGVtIH0gZnJvbSBcIi4vb2JqZWN0cy9HZW5lcmljSXRlbS5qc1wiO1xyXG5cclxuaW1wb3J0IHtcclxuICBSb29tVGVtcGxhdGUsXHJcbiAgUm9vbVR5cGVzLFxyXG4gIGNoZXN0RGVmaW5pdGlvbixcclxufSBmcm9tIFwiLi9yb29tVGVtcGxhdGVzLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUm9vbSB7XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogVGhlIHJvb21zIGEgZG9vciB3aWxsIHRha2UgeW91IHRvXHJcbiAgICogQHR5cGUge1Jvb21EaXJlY3Rpb25zfVxyXG4gICAqL1xyXG4gIHRhcmdldFJvb21zOiBSb29tRGlyZWN0aW9ucztcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIHRlbXBsYXRlIHVzZWQgdG8gZ2VuZXJhdGUgdGhpcyByb29tXHJcbiAgICovXHJcbiAgI3Jvb21UZW1wbGF0ZTogUm9vbVRlbXBsYXRlIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIC8qKlxyXG4gICAqIERvZXMgdGhpcyByb29tIGhhdmUgYSBkb29yIGluIGVhY2ggZGlyZWN0aW9uP1xyXG4gICAqL1xyXG4gIGRvb3JzOiB7IG5vcnRoOiBib29sZWFuOyB3ZXN0OiBib29sZWFuOyBzb3V0aDogYm9vbGVhbjsgZWFzdDogYm9vbGVhbiB9O1xyXG5cclxuICAvKipcclxuICAgKiBJcyB0aGlzIHJvb20gdGhlIGV4aXQsIHRoZSBmaW5hbCByb29tIG9mIHRoZSBnYW1lP1xyXG4gICAqL1xyXG4gIGlzRXhpdDogYm9vbGVhbjtcclxuXHJcbiAgLyoqXHJcbiAgICogSXMgdGhpcyByb29tIHRoZSBlbnRyYW5jZSwgdGhlIGZpcnN0IHJvb20gb2YgdGhlIGdhbWU/XHJcbiAgICovXHJcbiAgaXNFbnRyYW5jZTogYm9vbGVhbjtcclxuXHJcbiAgLyoqXHJcbiAgICogSXMgdGhpcyByb29tIGEgdHJlYXN1cmUgcm9vbT9cclxuICAgKi9cclxuICBpc1RyZWFzdXJlOiBib29sZWFuO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgc2VlZCB1c2VkIHRvIGdlbmVyYXRlIHRoaXMgcm9vbVxyXG4gICAqL1xyXG4gIHNlZWQ6IG51bWJlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogV2hlbiBhIHJvb20gaXMgdmlzaXRlZCBmb3IgdGhlIGZpcnN0IHRpbWUsIGl0IGlzIGluaXRpYWxpemVkXHJcbiAgICogVGhpcyBtZWFucyB0aGF0IHRoZSByb29tIGlzIHBvcHVsYXRlZCB3aXRoIGl0ZW1zLCBlbmVtaWVzLCBldGMsIGJhc2VkIG9uIHRoZSBjaG9zZW4gdGVtcGxhdGVcclxuICAgKiBUaGlzIGlzIGRvbmUgdG8gYXZvaWQgaGF2aW5nIHRvIGdlbmVyYXRlIHRoZSBlbnRpcmUgZHVuZ2VvbiBhdCBvbmNlLCB3aGlsZSBtYWtpbmdcclxuICAgKiBzdXJlIHRoZSByb29tIHN0YXlzIHRoZSBzYW1lIHdoZW4gcmV2aXNpdGVkXHJcbiAgICovXHJcbiAgaXNJbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgZGlzdGFuY2UgZnJvbSB0aGUgZW50cmFuY2VcclxuICAgKi9cclxuICBkaXN0YW5jZUZyb21FbnRyYW5jZTogbnVtYmVyO1xyXG5cclxuICBjaGVzdHM/OiBjaGVzdERlZmluaXRpb25bXTtcclxuICBpdGVtcz86IEdlbmVyaWNJdGVtW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5kb29ycyA9IHsgbm9ydGg6IGZhbHNlLCB3ZXN0OiBmYWxzZSwgc291dGg6IGZhbHNlLCBlYXN0OiBmYWxzZSB9O1xyXG4gICAgdGhpcy50YXJnZXRSb29tcyA9IHsgbm9ydGg6IG51bGwsIHdlc3Q6IG51bGwsIHNvdXRoOiBudWxsLCBlYXN0OiBudWxsIH07XHJcbiAgICB0aGlzLmlzRXhpdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5pc0VudHJhbmNlID0gZmFsc2U7XHJcbiAgICB0aGlzLmlzVHJlYXN1cmUgPSBmYWxzZTtcclxuICAgIHRoaXMuc2VlZCA9IDA7XHJcbiAgICB0aGlzLmRpc3RhbmNlRnJvbUVudHJhbmNlID0gMDtcclxuICB9XHJcblxyXG4gIHRvS2V5KCkge1xyXG4gICAgbGV0IGtleSA9IFwiXCI7XHJcbiAgICBpZiAodGhpcy5kb29ycy5ub3J0aCkga2V5ICs9IFwiTlwiO1xyXG4gICAgaWYgKHRoaXMuZG9vcnMuZWFzdCkga2V5ICs9IFwiRVwiO1xyXG4gICAgaWYgKHRoaXMuZG9vcnMuc291dGgpIGtleSArPSBcIlNcIjtcclxuICAgIGlmICh0aGlzLmRvb3JzLndlc3QpIGtleSArPSBcIldcIjtcclxuICAgIHJldHVybiBrZXk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIHRoZSByb29tIGluIGEgc3BlY2lmaWMgZGlyZWN0aW9uXHJcbiAgICogQHBhcmFtIHtEaXJlY3Rpb25TeW1ib2x8c3RyaW5nfSBkaXJlY3Rpb25cclxuICAgKiBAcmV0dXJucyB7e3g6bnVtYmVyLCB5Om51bWJlcn18bnVsbHx1bmRlZmluZWR9IHRoZSByb29tIGluIHRoYXQgZGlyZWN0aW9uOyBudWxsIGlmIHRoZXJlIGlzIG5vIHJvb20gaW4gdGhhdCBkaXJlY3Rpb25cclxuICAgKi9cclxuICBnZXRUYXJnZXRSb29tKGRpcmVjdGlvbjogRGlyZWN0aW9uU3ltYm9sIHwgc3RyaW5nKTogUG9zaXRpb24yRCB8IG51bGwgfCB1bmRlZmluZWQge1xyXG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcclxuICAgICAgY2FzZSBcIk5cIjpcclxuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRSb29tcy5ub3J0aDtcclxuICAgICAgY2FzZSBcIkVcIjpcclxuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRSb29tcy5lYXN0O1xyXG4gICAgICBjYXNlIFwiU1wiOlxyXG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldFJvb21zLnNvdXRoO1xyXG4gICAgICBjYXNlIFwiV1wiOlxyXG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldFJvb21zLndlc3Q7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtSb29tVHlwZX0gdGhlIHR5cGUgb2YgdGhlIHJvb21cclxuICAgKi9cclxuICBnZXRSb29tVHlwZSgpIHtcclxuICAgIGlmICh0aGlzLmlzRW50cmFuY2UpIHtcclxuICAgICAgcmV0dXJuIFJvb21UeXBlcy5FbnRyYW5jZTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmlzRXhpdCkge1xyXG4gICAgICByZXR1cm4gUm9vbVR5cGVzLkV4aXQ7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5pc1RyZWFzdXJlKSB7XHJcbiAgICAgIHJldHVybiBSb29tVHlwZXMuVHJlYXN1cmU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUm9vbVR5cGVzLk5vcm1hbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtSb29tVGVtcGxhdGV9IHJvb21UZW1wbGF0ZVxyXG4gICAqL1xyXG4gIHNldFJvb21UZW1wbGF0ZShyb29tVGVtcGxhdGU6IFJvb21UZW1wbGF0ZSkge1xyXG4gICAgaWYgKHRoaXMuI3Jvb21UZW1wbGF0ZSA9PT0gbnVsbCkge1xyXG4gICAgICB0aGlzLiNyb29tVGVtcGxhdGUgPSByb29tVGVtcGxhdGU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLndhcm4oXCJSb29tVGVtcGxhdGUgYWxyZWFkeSBzZXRcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRSb29tVGVtcGxhdGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4jcm9vbVRlbXBsYXRlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB0aGUgZG9vciBpbiBhIHNwZWNpZmljIGRpcmVjdGlvbiBmcm9tIHRoZSB0ZW1wbGF0ZVxyXG4gICAqIEBwYXJhbSB7RGlyZWN0aW9uU3ltYm9sfSBkaXJlY3Rpb25cclxuICAgKiBAcmV0dXJucyB7e3g6bnVtYmVyLCB5Om51bWJlcn19fG51bGx9IHRoZSBYL1kgY29vcmRpbmF0ZXMgb2YgdGhlIGRvb3I7IG9yIG51bGwgaWYgdGhlcmUgaXMgbm8gZG9vciBpbiB0aGF0IGRpcmVjdGlvblxyXG4gICAqL1xyXG4gIGdldERvb3IoZGlyZWN0aW9uOiBEaXJlY3Rpb25TeW1ib2wgfCBzdHJpbmcpOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0gfCBudWxsIHtcclxuICAgIC8vIGdldCB0aGUgZG9vciBmcm9tIHRoZSB0ZW1wbGF0ZVxyXG4gICAgaWYgKHRoaXMuI3Jvb21UZW1wbGF0ZSAhPT0gbnVsbCkge1xyXG4gICAgICBsZXQgcmVzdWx0ID0gZmluZENoYXJJblN0cmluZ0FycmF5KHRoaXMuI3Jvb21UZW1wbGF0ZS5wYXR0ZXJuLCBkaXJlY3Rpb24pO1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBpbml0aWFsaXplKHRlbXBsYXRlOiBSb29tVGVtcGxhdGUpIHtcclxuICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgLy8gcm9vbSBpcyBhbHJlYWR5IGluaXRpYWxpemVkLCBwcm9iYWJseSBiZWNhdXNlIGl0IHdhcyB2aXNpdGVkIGJlZm9yZVxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFJvb21UZW1wbGF0ZSh0ZW1wbGF0ZSk7XHJcbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgZ2V0SXRlbXNBdFBvc2l0aW9uKHBvc2l0aW9uOiBQb3NpdGlvbjJEKTogR2VuZXJpY0l0ZW1bXSB8IHVuZGVmaW5lZCB7XHJcbiAgICBpZighdGhpcy5pc0luaXRpYWxpemVkKXtcclxuICAgICAgY29uc29sZS53YXJuKFwiUm9vbSBpcyBub3QgaW5pdGlhbGl6ZWQsIGJ1dCBzaG91bGQgc2luY2Ugd2UgYXJlIHRyeWluZyB0byBnZXQgaXRlbXMgZnJvbSBpdFwiKTtcclxuICAgICAgcmV0dXJuOyBcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaXRlbXMgPSB0aGlzLml0ZW1zPy5maWx0ZXIoKGl0ZW0pID0+IHtcclxuICAgICAgcmV0dXJuIGl0ZW0ucG9zaXRpb24ueCA9PT0gcG9zaXRpb24ueCAmJiBpdGVtLnBvc2l0aW9uLnkgPT09IHBvc2l0aW9uLnk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gaXRlbXM7XHJcbiAgfVxyXG59XHJcbiIsICIvKipcclxuICogRmluZHMgYSBjaGFyYWN0ZXIgaW4gYSBzdHJpbmcgYXJyYXkgYW5kIHJldHVybnMgaXRzIGNvb3JkaW5hdGVzXHJcbiAqIEBwYXJhbSB7c3RyaW5nW119IGdyaWQgXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRDaGFyIFxyXG4gKiBAcmV0dXJucyB7e3g6IG51bWJlciwgeTogbnVtYmVyfSB8IG51bGx9IHRoZSBjb29yZGluYXRlcyBvZiB0aGUgY2hhcmFjdGVyIGluIHRoZSBncmlkXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZmluZENoYXJJblN0cmluZ0FycmF5KGdyaWQ6IHN0cmluZ1tdLCB0YXJnZXRDaGFyOiBzdHJpbmcpOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB9IHwgbnVsbCB7XHJcbiAgZm9yIChsZXQgeSA9IDA7IHkgPCBncmlkLmxlbmd0aDsgeSsrKSB7XHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGdyaWRbeV0ubGVuZ3RoOyB4KyspIHtcclxuICAgICAgaWYgKGdyaWRbeV1beF0gPT09IHRhcmdldENoYXIpIHtcclxuICAgICAgICByZXR1cm4geyB4OiB4LCB5OiB5IH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgbm90IGZvdW5kLCByZXR1cm4gbnVsbFxyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogRmluZHMgYSBjaGFyYWN0ZXIgYmFzZWQgb24gaXRzIGNvb3JkaW5hdGVzXHJcbiAgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRDaGFySW5TdHJpbmdBcnJheUJ5UG9zKGdyaWQ6IHN0cmluZ1tdLCB4OiBudW1iZXIsIHk6IG51bWJlcik6IHN0cmluZyB8IG51bGwge1xyXG4gIGlmICh5IDwgMCB8fCB5ID49IGdyaWQubGVuZ3RoKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbiAgaWYoeCA8IDAgfHwgeCA+PSBncmlkW3ldLmxlbmd0aCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZ3JpZFt5XVt4XTtcclxufSIsICIvKipcclxuICogQGZpbGUgVGhpcyBmaWxlIGNvbnRhaW5zIHRoZSBSb29tUmVuZGVyZXIgY2xhc3MuXHJcbiAqIEByZXF1aXJlcyB0eXBlZGVmcy5qc1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IE1hdGVyaWFsVmFsdWUsIFJvb21UeXBlLCBTaXplIH0gZnJvbSBcIi4uL3R5cGVzL2luZGV4LmpzXCI7XHJcbmltcG9ydCB7IGxvb3RUeXBlcyB9IGZyb20gXCIuL2xvb3QvbG9vdFRhYmxlQmFzZS5qc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFJvb21UeXBlczogUmVjb3JkPHN0cmluZywgUm9vbVR5cGU+ID0ge1xyXG4gIEVudHJhbmNlOiBcImVudHJhbmNlXCIsXHJcbiAgRXhpdDogXCJleGl0XCIsXHJcbiAgVHJlYXN1cmU6IFwidHJlYXN1cmVcIixcclxuICBOb3JtYWw6IFwibm9ybWFsXCIsXHJcbn07XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFJvb21UZW1wbGF0ZSB7XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogQGRlc2NyaXB0aW9uIHRoZSBuYW1lIG9mIHRoZSByb29tXHJcbiAgICogQHR5cGUge3N0cmluZyB8IHVuZGVmaW5lZH0gbmFtZVxyXG4gICAqL1xyXG4gIG5hbWU6IHN0cmluZztcclxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24gdGhlIHR5cGUgb2YgdGhlIHJvb21cclxuICAgKiBAdHlwZSB7Um9vbVR5cGUgfCB1bmRlZmluZWR9IHR5cGVcclxuICAgKi9cclxuICB0eXBlOiBSb29tVHlwZTtcclxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24gdGhlIHBhdHRlcm4gb2YgdGhlIHJvb21cclxuICAgKiBAdHlwZSB7c3RyaW5nW10gfCB1bmRlZmluZWR9IHBhdHRlcm5cclxuICAgKi9cclxuICBwYXR0ZXJuOiBzdHJpbmdbXTtcclxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24gdGhlIGhlaWdodCBvZiB0aGUgY2VpbGluZyBpbiB0aWxlcywgcmFuZG9tbHkgY2hvc2VuIGZyb20gdGhpcyBhcnJheVxyXG4gICAqIEB0eXBlIHtudW1iZXJbXX0gY2VpbGluZ0hlaWdodFxyXG4gICAqL1xyXG4gIGNlaWxpbmdIZWlnaHQ6IG51bWJlcltdO1xyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiB3aGV0aGVyIG9yIG5vdCB0aGlzIHJvb20gY2FuIGJlIHJvdGF0ZWRcclxuICAgKiBAdHlwZSB7Ym9vbGVhbiB8IHVuZGVmaW5lZH0gY2FuQmVSb3RhdGVkXHJcbiAgICovXHJcbiAgY2FuQmVSb3RhdGVkOiBib29sZWFuO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgY2hhcmFjdGVycyB0aGF0IGFyZSBzcGF3bmVkIGluIHRoaXMgcm9vbS5cclxuICAgKiBPbiB0aGUgdGVtcGxhdGUgdGhleSBhcmUgcmVwcmVzZW50ZWQgYnkgYSBudW1iZXIgY29ycmVzcG9uZGluZyBcclxuICAgKiB0byB0aGUgaW5kZXggaW4gdGhlIGNoYXJhY3RlcnMgYXJyYXkuXHJcbiAgICovXHJcbiAgY2hhcmFjdGVycz86IHN0cmluZ1tdO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgcHJvcHMgdGhhdCBhcmUgc3Bhd25lZCBpbiB0aGlzIHJvb20uIFxyXG4gICAqIFByb3BzIHdpbGwgYmUgcGxhY2VkIHJhbmRvbSB3aGVyZWV2ZXIgdGhlcmUncyBhIFAgb24gdGhlIHRlbXBsYXRlLiBcclxuICAgKi8gXHJcbiAgcHJvcHM/OiBwcm9wRGVmaW5pdGlvbltdO1xyXG4gIGNoZXN0cz86IGNoZXN0RGVmaW5pdGlvbltdO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIHByb3BEZWZpbml0aW9uIHtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgY2hhbmNlPzogbnVtYmVyO1xyXG4gIGZhY2VXYWxsPzogYm9vbGVhbjtcclxuICBtdXN0QmVBZ2FpbnN0V2FsbD86IGJvb2xlYW47XHJcbn1cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIGNoZXN0RGVmaW5pdGlvbiB7XHJcbiAgY2hhbmNlPzogbnVtYmVyO1xyXG4gIG1hdGVyaWFsOiBNYXRlcmlhbFZhbHVlO1xyXG4gIHNpemU6IFNpemU7XHJcbiAgcm90YXRpb246IDB8OTB8MTgwfDI3MDtcclxuICBsb290dGFibGU/OiBsb290VHlwZXM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgcm9vbSB0ZW1wbGF0ZXMuIFdoZW4gYSByb29tIG9mIGEgY2VydGFpbiB0eXBlIGlzIG5lZWRlZCxcclxuICogYSByYW5kb20gcm9vbSB0ZW1wbGF0ZSBvZiB0aGF0IHR5cGUgaXMgY2hvc2VuIGFuZCBpdCBpcyByb3RhdGVkIGlmIG5lY2Vzc2FyeS5cclxuICogQHR5cGUge1Jvb21UZW1wbGF0ZVtdfVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHJvb21UZW1wbGF0ZXM6IFJvb21UZW1wbGF0ZVtdID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiZW50cmFuY2VcIixcclxuICAgIHR5cGU6IFJvb21UeXBlcy5FbnRyYW5jZSxcclxuICAgIGNlaWxpbmdIZWlnaHQ6IFs0XSxcclxuICAgIGNhbkJlUm90YXRlZDogZmFsc2UsXHJcbiAgICBwYXR0ZXJuOiBbXHJcbiAgICAgIFwiICMjIyMjTiMjIyMjIFwiLFxyXG4gICAgICBcIiNQUC4uLi4uLi5QUCNcIixcclxuICAgICAgXCIjUC4uJS4uLi4uJVAjXCIsXHJcbiAgICAgIFwiI1AuMS5DLi4uLi4jIFwiLFxyXG4gICAgICBcIiMuLi4uLiUuLi4uIyNcIixcclxuICAgICAgXCJXLi4uLi4uLi4uLi5FXCIsXHJcbiAgICAgIFwiI1AuLi4uLi4uLi4uI1wiLFxyXG4gICAgICBcIiNQLi4uLi4uLjIuUCNcIixcclxuICAgICAgXCIjI1AuLi4uJSEuUFAjXCIsXHJcbiAgICAgIFwiICAjIy4uLi5QUFBQI1wiLFxyXG4gICAgICBcIiAgICAjUyMjIyMjIyBcIixcclxuICAgIF0sXHJcbiAgICBjaGFyYWN0ZXJzOiBbXHJcbiAgICAgIFwiTGl0dGxlRHVkZVwiLFxyXG4gICAgICBcIk1hZ2ljRHVkZVwiXHJcbiAgICBdLFxyXG4gICAgcHJvcHM6W1xyXG4gICAgICB7bmFtZTpcIkJhcnJlbFwifSxcclxuICAgICAge25hbWU6XCJCYXJyZWxCcm9rZW5cIiwgY2hhbmNlOjAuNH0sXHJcbiAgICAgIHtuYW1lOlwiQmVuY2hcIixmYWNlV2FsbDp0cnVlLCBjaGFuY2U6MC4xfSxcclxuICAgICAge25hbWU6XCJCYW5uZXJcIixmYWNlV2FsbDp0cnVlLCBjaGFuY2U6MC4zLCBtdXN0QmVBZ2FpbnN0V2FsbDp0cnVlfSxcclxuICAgIF0sXHJcbiAgICBjaGVzdHM6W1xyXG4gICAgICB7bG9vdHRhYmxlOidlbnRyeScsIG1hdGVyaWFsOlwiSXJvblwiLCBzaXplOlwiTGFyZ2VcIiwgcm90YXRpb246MjcwfSxcclxuICAgIF1cclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwibm9ybWFsXCIsXHJcbiAgICB0eXBlOiBSb29tVHlwZXMuTm9ybWFsLFxyXG4gICAgY2VpbGluZ0hlaWdodDogWzMsIDRdLFxyXG4gICAgY2FuQmVSb3RhdGVkOiB0cnVlLFxyXG4gICAgcGF0dGVybjogW1xyXG4gICAgICAgIFwiICNOIyAgIFwiLCBcclxuICAgICAgICBcIiAjLi4jIyBcIiwgXHJcbiAgICAgICAgXCIjWC4uLlgjXCIsIFxyXG4gICAgICAgIFwiVy4uJS4uLkVcIiwgXHJcbiAgICAgICAgXCIjLi4uLlgjXCIsIFxyXG4gICAgICAgIFwiICNTIyMjIFwiXSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwibm9ybWFsXCIsXHJcbiAgICB0eXBlOiBSb29tVHlwZXMuTm9ybWFsLFxyXG4gICAgY2VpbGluZ0hlaWdodDogWzUsIDhdLFxyXG4gICAgY2FuQmVSb3RhdGVkOiB0cnVlLFxyXG4gICAgcGF0dGVybjogW1xyXG4gICAgICAgIFwiICAgICNOI1wiLCBcclxuICAgICAgICBcIiAgICMuLi4jXCIsIFxyXG4gICAgICAgIFwiICAjLi4uLi4jXCIsIFxyXG4gICAgICAgIFwiICMuLi4uLi4uI1wiLCBcclxuICAgICAgICBcIiMuLi4uLi4uLi4jXCIsIFxyXG4gICAgICAgIFwiVy4uLi4lLi4uLkVcIixcclxuICAgICAgICBcIiMuLi4uLi4uLi4jXCIsXHJcbiAgICAgICAgXCIgIy4uLi4uLi4jXCIsICBcclxuICAgICAgICBcIiAgIy4uLi4uI1wiLCBcclxuICAgICAgICBcIiAgICMuLi4jXCIsIFxyXG4gICAgICAgIFwiICAgICNTI1wiXSxcclxuICAgICAgICBcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwibm9ybWFsXCIsXHJcbiAgICB0eXBlOiBSb29tVHlwZXMuTm9ybWFsLFxyXG4gICAgY2VpbGluZ0hlaWdodDogWzVdLFxyXG4gICAgY2FuQmVSb3RhdGVkOiB0cnVlLFxyXG4gICAgcGF0dGVybjogWyAgICAgICAgXHJcbiAgICAgICAgXCIgIyMjI04jIyMjXCIsIFxyXG4gICAgICAgIFwiIy4uLi4uLi4uLiNcIixcclxuICAgICAgICBcIiMuLi4uLi4uLi4jXCIsXHJcbiAgICAgICAgXCIjLi5QLi4uUC4uI1wiLFxyXG4gICAgICAgIFwiIy4uLi4uLi4uLiNcIixcclxuICAgICAgICBcIlcuLi4uJS4uLi5FXCIsXHJcbiAgICAgICAgXCIjLi4uLi4uLi4uI1wiLFxyXG4gICAgICAgIFwiIy4uUC4uLlAuLiNcIixcclxuICAgICAgICBcIiMuLi4uLi4uLi4jXCIsXHJcbiAgICAgICAgXCIjLi4uLi4uLi4uI1wiLFxyXG4gICAgICAgIFwiICMjIyNTIyMjI1wiXSxcclxuICAgIHByb3BzOltcclxuICAgICAge25hbWU6XCJQaWxsYXJcIn0sXHJcbiAgICBdXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIm5vcm1hbFwiLFxyXG4gICAgdHlwZTogUm9vbVR5cGVzLk5vcm1hbCxcclxuICAgIGNlaWxpbmdIZWlnaHQ6IFszLCA0XSxcclxuICAgIGNhbkJlUm90YXRlZDogdHJ1ZSxcclxuICAgIHBhdHRlcm46IFtcclxuICAgICAgXCIjIyMjIyAgICBcIixcclxuICAgICAgXCIjLlguI04jIyNcIixcclxuICAgICAgXCIjLiUuLi4uLkVcIixcclxuICAgICAgXCIjLi4uLi4uLiNcIixcclxuICAgICAgXCIjLi4uLi4uLiNcIixcclxuICAgICAgXCJXLi4uLi4lLiNcIixcclxuICAgICAgXCIjLi4uLi4uLiNcIixcclxuICAgICAgXCIjUyMjIyMjIyNcIixcclxuICAgIF0sXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIm5vcm1hbFwiLFxyXG4gICAgdHlwZTogUm9vbVR5cGVzLk5vcm1hbCxcclxuICAgIGNlaWxpbmdIZWlnaHQ6IFszLCA0XSxcclxuICAgIGNhbkJlUm90YXRlZDogdHJ1ZSxcclxuICAgIHBhdHRlcm46IFtcclxuICAgICAgXCIjI04jIyMgICAgXCIsXHJcbiAgICAgIFwiIy4uJS4jIyMjI1wiLFxyXG4gICAgICBcIiNYLi4uLi4uLkVcIixcclxuICAgICAgXCIjLi4uLi4uLi4jXCIsXHJcbiAgICAgIFwiICMuLi4jIyMjI1wiLFxyXG4gICAgICBcIiBXLiUuIyBcIixcclxuICAgICAgXCIgIy4uLiMgXCIsXHJcbiAgICAgIFwiICMjUyMjIFwiLFxyXG4gICAgXSxcclxuICB9LHtcclxuICAgIG5hbWU6IFwiRmluYWwgcm9vbVwiLFxyXG4gICAgdHlwZTogUm9vbVR5cGVzLkV4aXQsXHJcbiAgICBjZWlsaW5nSGVpZ2h0OiBbNF0sXHJcbiAgICBjYW5CZVJvdGF0ZWQ6IGZhbHNlLFxyXG4gICAgcGF0dGVybjogW1xyXG4gICAgICBcIiNOIyMjIyMjIyMjXCIsXHJcbiAgICAgIFwiVy4uJS4uLi4uLiNcIixcclxuICAgICAgXCIjLi4uLi4uLi4uI1wiLFxyXG4gICAgICBcIiMuLi4uLi4uLi4jXCIsXHJcbiAgICAgIFwiIy4uJS4uLiUuLiNcIixcclxuICAgICAgXCIjLi4uLi4uLi4uI1wiLFxyXG4gICAgICBcIiMuLi4uLi4uLi4jXCIsXHJcbiAgICAgIFwiIy4uLi4uLiUuLkVcIixcclxuICAgICAgXCIjIyMjIyMjIyNTI1wiLFxyXG4gICAgXSxcclxuICB9LHtcclxuICAgIG5hbWU6IFwiVHJlYXN1cmUgUm9vbVwiLFxyXG4gICAgdHlwZTogUm9vbVR5cGVzLlRyZWFzdXJlLFxyXG4gICAgY2VpbGluZ0hlaWdodDogWzNdLFxyXG4gICAgY2FuQmVSb3RhdGVkOiBmYWxzZSxcclxuICAgIHBhdHRlcm46IFtcclxuICAgICAgXCIjTiMjIyMjIyMjI1wiLFxyXG4gICAgICBcIlcuLiUuLiMuLi4jXCIsXHJcbiAgICAgIFwiIy4uLi4uIy4uLiNcIixcclxuICAgICAgXCIjLi4uLi4jLi4uI1wiLFxyXG4gICAgICBcIiMuLiUuLi4lLi4jXCIsXHJcbiAgICAgIFwiIy4uLiMuLi4uLiNcIixcclxuICAgICAgXCIjLi4uIy4uLi4uI1wiLFxyXG4gICAgICBcIiMuLi4jLi4lLi5FXCIsXHJcbiAgICAgIFwiIyMjIyMjIyMjUyNcIixcclxuICAgIF0sXHJcbiAgfSxcclxuXTtcclxuXHJcbmludGVyZmFjZSBSb29tVGVtcGxhdGVQYXR0ZXJue1xyXG4gIGNhblRlbGVwb3J0VG9UaWxlOmJvb2xlYW47XHJcbiAgY2FuSW50ZXJhY3RXaXRoVGlsZTpib29sZWFuO1xyXG4gIGJlaGF2aW9yPzogXCJEb29yXCJ8XCJDaGVzdFwifFwiT3JlXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBSb29tVGVtcGxhdGVQYXR0ZXJuRGVmaW5pdGlvbnM6UmVjb3JkPHN0cmluZywgUm9vbVRlbXBsYXRlUGF0dGVybj4gPSB7XHJcbiAgTjoge1xyXG4gICAgY2FuVGVsZXBvcnRUb1RpbGU6ZmFsc2UsXHJcbiAgICBjYW5JbnRlcmFjdFdpdGhUaWxlOnRydWUsXHJcbiAgICBiZWhhdmlvcjogXCJEb29yXCIsXHJcbiAgICAvLyBEb29yIHRvIHRoZSBub3J0aFxyXG4gIH0sXHJcbiAgRToge1xyXG4gICAgY2FuVGVsZXBvcnRUb1RpbGU6ZmFsc2UsXHJcbiAgICBjYW5JbnRlcmFjdFdpdGhUaWxlOnRydWUsXHJcbiAgICBiZWhhdmlvcjogXCJEb29yXCIsXHJcbiAgICAvLyBEb29yIHRvIHRoZSBlYXN0XHJcbiAgfSxcclxuICBTOiB7XHJcbiAgICBjYW5UZWxlcG9ydFRvVGlsZTpmYWxzZSxcclxuICAgIGNhbkludGVyYWN0V2l0aFRpbGU6dHJ1ZSxcclxuICAgIGJlaGF2aW9yOiBcIkRvb3JcIixcclxuICAgIC8vIERvb3IgdG8gdGhlIHNvdXRoXHJcbiAgfSxcclxuICBXOiB7XHJcbiAgICBjYW5UZWxlcG9ydFRvVGlsZTpmYWxzZSxcclxuICAgIGNhbkludGVyYWN0V2l0aFRpbGU6dHJ1ZSxcclxuICAgIGJlaGF2aW9yOiBcIkRvb3JcIixcclxuICAgIC8vIERvb3IgdG8gdGhlIHdlc3RcclxuICB9LFxyXG4gIEM6IHtcclxuICAgIGNhblRlbGVwb3J0VG9UaWxlOmZhbHNlLFxyXG4gICAgY2FuSW50ZXJhY3RXaXRoVGlsZTpmYWxzZSxcclxuICAgIC8vIENhbXBmaXJlKCBtYXggMSBwZXIgcm9vbSlcclxuICB9LFxyXG4gIFwiLlwiOiB7XHJcbiAgICAvLyBFbXB0eSBzcGFjZVxyXG4gICAgY2FuVGVsZXBvcnRUb1RpbGU6dHJ1ZSxcclxuICAgIGNhbkludGVyYWN0V2l0aFRpbGU6ZmFsc2UsXHJcbiAgfSxcclxuICBcIiNcIjoge1xyXG4gICAgY2FuVGVsZXBvcnRUb1RpbGU6ZmFsc2UsXHJcbiAgICBjYW5JbnRlcmFjdFdpdGhUaWxlOmZhbHNlLFxyXG4gICAgLy8gV2FsbFxyXG4gIH0sXHJcbiAgXCIlXCI6IHtcclxuICAgIGNhblRlbGVwb3J0VG9UaWxlOnRydWUsXHJcbiAgICBjYW5JbnRlcmFjdFdpdGhUaWxlOmZhbHNlLFxyXG4gICAgLy8gVG9yY2ggKGxpZ2h0KVxyXG4gIH0sXHJcbiAgWDoge1xyXG4gICAgLy8gRW5lbXkgc3Bhd24gcG9pbnRcclxuICAgIGNhblRlbGVwb3J0VG9UaWxlOnRydWUsXHJcbiAgICBjYW5JbnRlcmFjdFdpdGhUaWxlOmZhbHNlLFxyXG4gIH0sXHJcbiAgXCIhXCI6IHtcclxuICAgIC8vIEEgY2hlc3QsIGRldGFpbHMgZGVmaW5lZCBpbiB0aGUgcm9vbSBkZWZpbml0aW9uXHJcbiAgICBjYW5UZWxlcG9ydFRvVGlsZTpmYWxzZSxcclxuICAgIGNhbkludGVyYWN0V2l0aFRpbGU6dHJ1ZSxcclxuICAgIGJlaGF2aW9yOiBcIkNoZXN0XCJcclxuICB9LFxyXG4gIFA6IHtcclxuICAgIC8vIFByb3BcclxuICAgIGNhblRlbGVwb3J0VG9UaWxlOmZhbHNlLFxyXG4gICAgY2FuSW50ZXJhY3RXaXRoVGlsZTpmYWxzZSxcclxuICB9LFxyXG4gIE86IHtcclxuICAgIC8vIE9yZVxyXG4gICAgY2FuVGVsZXBvcnRUb1RpbGU6ZmFsc2UsXHJcbiAgICBjYW5JbnRlcmFjdFdpdGhUaWxlOnRydWUsXHJcbiAgICBiZWhhdmlvcjpcIk9yZVwiXHJcbiAgfSxcclxuICBHOiB7XHJcbiAgICBjYW5UZWxlcG9ydFRvVGlsZTpmYWxzZSxcclxuICAgIGNhbkludGVyYWN0V2l0aFRpbGU6dHJ1ZSxcclxuICAgIC8vIEdlbVxyXG4gIH0sXHJcbn07XHJcbiIsICJpbXBvcnQgeyBPYmplY3QzRCB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGlcIjtcclxuaW1wb3J0IHsgVGlsZSB9IGZyb20gXCIuL3RpbGUuanNcIjtcclxuXHJcbi8qKlxyXG4gKiBUaGUgc2V0IG9mIHRpbGVzIHVzZWQgYnkgdGhlIGdhbWUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGlsZVNldCB7XHJcblxyXG4gIFxyXG4gIC8qKlxyXG4gICAqIFRoZSBzZXQgb2YgdGlsZXMuXHJcbiAgICogQHR5cGUge1NldDxUaWxlPn1cclxuICAgKi9cclxuICAjdGlsZXM6IFNldDxUaWxlPjtcclxuXHJcbiAgI2VuZW15T2JqZWN0czogT2JqZWN0M0RbXTtcclxuICAjY2hhcmFjdGVyT2JqZWN0czogT2JqZWN0M0RbXTtcclxuICBcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgVGlsZVNldCBjbGFzcy5cclxuICAgKiBAcGFyYW0ge09iamVjdDNEW119IHRpbGVPYmplY3RzIFRoZSBsaXN0IG9mIFdvbmRlcmxhbmQgb2JqZWN0cyB0aGF0IHJlcHJlc2VudCB0aGUgdGlsZXMuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IodGlsZU9iamVjdHM6IE9iamVjdDNEW10sIGVuZW15T2JqZWN0czogT2JqZWN0M0RbXSwgY2hhcmFjdGVyT2JqZWN0czogT2JqZWN0M0RbXSkge1xyXG4gICAgXHJcbiAgICB0aGlzLiNlbmVteU9iamVjdHMgPSBlbmVteU9iamVjdHM7XHJcbiAgICB0aGlzLiNjaGFyYWN0ZXJPYmplY3RzID0gY2hhcmFjdGVyT2JqZWN0cztcclxuICAgIFxyXG4gICAgdGhpcy4jdGlsZXMgPSBuZXcgU2V0KCk7XHJcblxyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRpbGVPYmplY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHRoaXMuI3RpbGVzLmFkZChcclxuICAgICAgICBuZXcgVGlsZSh0aWxlT2JqZWN0c1tpXS5uYW1lLCB0aWxlT2JqZWN0c1tpXSwgdGhpcy4jdGlsZXMuc2l6ZSlcclxuICAgICAgKTsgIFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB0aGUgdGlsZSBhdCB0aGUgZ2l2ZW4gaW5kZXguXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgdGlsZSB0byBnZXQuXHJcbiAgICogQHJldHVybnMge1RpbGV9IFRoZSB0aWxlIGF0IHRoZSBnaXZlbiBpbmRleC5cclxuICAgKi9cclxuICBnZXRUaWxlKGluZGV4OiBudW1iZXIpOiBUaWxlIHtcclxuICAgIHJldHVybiBbLi4udGhpcy4jdGlsZXNdW2luZGV4XTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhIHRpbGUgYnkgaXRzIG5hbWUuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcclxuICAgKiBAcmV0dXJucyB7VGlsZXx1bmRlZmluZWR9IFRoZSB0aWxlIHdpdGggdGhlIGdpdmVuIG5hbWUuXHJcbiAgICovXHJcbiAgZ2V0VGlsZUJ5TmFtZShuYW1lOiBzdHJpbmcpOiBUaWxlIHwgdW5kZWZpbmVkIHtcclxuICAgIHJldHVybiBbLi4udGhpcy4jdGlsZXNdLmZpbmQoKHgpID0+IHgubmFtZSA9PSBuYW1lKTtcclxuICB9XHJcblxyXG4gIGdldENoYXJhY3RlcihjaGFyYWN0ZXJOYW1lOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLiNjaGFyYWN0ZXJPYmplY3RzLmZpbmQoKHgpID0+IHgubmFtZSA9PT0gY2hhcmFjdGVyTmFtZSk7IFxyXG4gIH1cclxuXHJcbiAgcmVzZXRBbGxDaGFyYWN0ZXJzKCkge1xyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuI2NoYXJhY3Rlck9iamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdGhpcy4jY2hhcmFjdGVyT2JqZWN0c1tpXS5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZpbmRzIGFuIG9iamVjdCBpbiB0aGUgZ2l2ZW4gbGlzdCBvZiBvYmplY3RzIHdpdGggdGhlIGdpdmVuIG5hbWUuXHJcbiAgICogQHBhcmFtIHtPYmplY3QzRFtdfSBvYmplY3RzIGxpc3Qgb2Ygb2JqZWN0cyB0byBzZWFjaCB0aHJvdWdoXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgb2JqZWN0IHRvIGZpbmRcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0M0R8dW5kZWZpbmVkfSB0aGUgb2JqZWN0IHdpdGggdGhlIGdpdmVuIG5hbWVcclxuICAgKi9cclxuICAjZmluZE9iamVjdChvYmplY3RzOiBPYmplY3QzRFtdLCBuYW1lOiBzdHJpbmcpOiBPYmplY3QzRCB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gb2JqZWN0cy5maW5kKCh4KSA9PiB4Lm5hbWUgPT09IG5hbWUpO1xyXG4gIH1cclxuXHJcblxyXG59XHJcbiIsICJpbXBvcnQgeyBPYmplY3QzRCB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGlcIjtcclxuLyoqXHJcbiAqIEEgdGlsZSBpcyBhIHZpc3VhbCByZXByZXNlbnRhdGlvbiBvZiBhIG51bWJlciBhdCBhIHNwZWNpZmljIGxvY2F0aW9uIGluIHRoZSBncmlkLlxyXG4gKiBUaGUgY2VsbHMgaW4gdGhlIG1haW4gM0QgR3JpZCBvZiB0aGUgZ2FtZSBhcmUgbWFkZSBmcm9tIHBhdHRlcnMsIGVhY2ggcGF0dGVybiBpcyBOeE4gdGlsZXNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBUaWxlIHtcclxuXHJcbiAgLyoqXHJcbiAgICogbmFtZSBvZiB0aGUgM2Qgb2JqZWN0XHJcbiAgICogQHR5cGUge3N0cmluZ31cclxuICAgKi9cclxuICBuYW1lOiBzdHJpbmc7XHJcblxyXG4gIC8qKlxyXG4gICAqIHJlZmVyZW5jZSB0byB0aGUgM0Qgb2JqZWN0XHJcbiAgICogQHR5cGUge09iamVjdDNEfVxyXG4gICAqL1xyXG4gIG9iamVjdDogT2JqZWN0M0Q7XHJcblxyXG4gIC8qKlxyXG4gICAqIEluZGV4IGluIHRoZSB0aWxlc2V0XHJcbiAgICogQHR5cGUge251bWJlcn1cclxuICAgKi9cclxuICBpbmRleDogbnVtYmVyO1xyXG5cclxuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIG9iamVjdDogT2JqZWN0M0QgfCB1bmRlZmluZWQsIGluZGV4OiBudW1iZXIpIHtcclxuXHJcbiAgICBpZighb2JqZWN0KXtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwib2JqZWN0IGlzIHVuZGVmaW5lZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZighbmFtZSB8fCBuYW1lLmxlbmd0aCA9PSAwKXtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibmFtZSBzaG91bGQgbm90IGJlIGVtcHR5XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcclxuICAgIHRoaXMuaW5kZXggPSBpbmRleDtcclxuICB9XHJcblxyXG59XHJcbiIsICJpbXBvcnQgeyByb3RhdGVQYXR0ZXJuIH0gZnJvbSBcIi4vdXRpbHMvZXh0cmFjdG9yLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF0dGVyblNldCB7XHJcbiAgI3BhdHRlcm5zID0gbmV3IE1hcCgpO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuI3BhdHRlcm5zLnNldChcIk5cIiwgW1xyXG4gICAgICBbNiwgNiwgMSwgNiwgNl0sXHJcbiAgICAgIFs2LCAxLCAxLCAxLCA2XSxcclxuICAgICAgWzYsIDEsIDEsIDEsIDZdLFxyXG4gICAgICBbNiwgMSwgMSwgMSwgNl0sXHJcbiAgICAgIFs2LCA2LCA2LCA2LCA2XSxcclxuICAgIF0pO1xyXG4gICAgdGhpcy4jcGF0dGVybnMuc2V0KFwiRVwiLCByb3RhdGVQYXR0ZXJuKHRoaXMuI3BhdHRlcm5zLmdldChcIk5cIiksIDUpKTtcclxuICAgIHRoaXMuI3BhdHRlcm5zLnNldChcIlNcIiwgcm90YXRlUGF0dGVybih0aGlzLiNwYXR0ZXJucy5nZXQoXCJFXCIpLCA1KSk7XHJcbiAgICB0aGlzLiNwYXR0ZXJucy5zZXQoXCJXXCIsIHJvdGF0ZVBhdHRlcm4odGhpcy4jcGF0dGVybnMuZ2V0KFwiU1wiKSwgNSkpO1xyXG5cclxuICAgIHRoaXMuI3BhdHRlcm5zLnNldChcIk5FXCIsIFtcclxuICAgICAgWzYsIDYsIDEsIDYsIDZdLFxyXG4gICAgICBbNiwgMSwgMSwgMSwgNl0sXHJcbiAgICAgIFs2LCAxLCAxLCAxLCAxXSxcclxuICAgICAgWzYsIDEsIDEsIDEsIDZdLFxyXG4gICAgICBbNiwgNiwgNiwgNiwgNl0sXHJcbiAgICBdKTtcclxuICAgIHRoaXMuI3BhdHRlcm5zLnNldChcIkVTXCIsIHJvdGF0ZVBhdHRlcm4odGhpcy4jcGF0dGVybnMuZ2V0KFwiTkVcIiksIDUpKTtcclxuICAgIHRoaXMuI3BhdHRlcm5zLnNldChcIlNXXCIsIHJvdGF0ZVBhdHRlcm4odGhpcy4jcGF0dGVybnMuZ2V0KFwiRVNcIiksIDUpKTtcclxuICAgIHRoaXMuI3BhdHRlcm5zLnNldChcIk5XXCIsIHJvdGF0ZVBhdHRlcm4odGhpcy4jcGF0dGVybnMuZ2V0KFwiU1dcIiksIDUpKTtcclxuXHJcbiAgICB0aGlzLiNwYXR0ZXJucy5zZXQoXCJOU1wiLCBbXHJcbiAgICAgIFs2LCA2LCAxLCA2LCA2XSxcclxuICAgICAgWzYsIDEsIDEsIDEsIDZdLFxyXG4gICAgICBbNiwgMSwgMSwgMSwgNl0sXHJcbiAgICAgIFs2LCAxLCAxLCAxLCA2XSxcclxuICAgICAgWzYsIDYsIDEsIDYsIDZdLFxyXG4gICAgXSk7XHJcbiAgICB0aGlzLiNwYXR0ZXJucy5zZXQoXCJFV1wiLCByb3RhdGVQYXR0ZXJuKHRoaXMuI3BhdHRlcm5zLmdldChcIk5TXCIpLCA1KSk7XHJcblxyXG4gICAgdGhpcy4jcGF0dGVybnMuc2V0KFwiTkVTXCIsIFtcclxuICAgICAgWzYsIDYsIDEsIDYsIDZdLFxyXG4gICAgICBbNiwgMSwgMSwgMSwgNl0sXHJcbiAgICAgIFs2LCAxLCAxLCAxLCAxXSxcclxuICAgICAgWzYsIDEsIDEsIDEsIDZdLFxyXG4gICAgICBbNiwgNiwgMSwgNiwgNl0sXHJcbiAgICBdKTtcclxuICAgIHRoaXMuI3BhdHRlcm5zLnNldChcIkVTV1wiLCByb3RhdGVQYXR0ZXJuKHRoaXMuI3BhdHRlcm5zLmdldChcIk5FU1wiKSwgNSkpO1xyXG4gICAgdGhpcy4jcGF0dGVybnMuc2V0KFwiTlNXXCIsIHJvdGF0ZVBhdHRlcm4odGhpcy4jcGF0dGVybnMuZ2V0KFwiRVNXXCIpLCA1KSk7XHJcbiAgICB0aGlzLiNwYXR0ZXJucy5zZXQoXCJORVdcIiwgcm90YXRlUGF0dGVybih0aGlzLiNwYXR0ZXJucy5nZXQoXCJOU1dcIiksIDUpKTtcclxuXHJcbiAgICB0aGlzLiNwYXR0ZXJucy5zZXQoXCJORVNXXCIsIFtcclxuICAgICAgWzYsIDYsIDEsIDYsIDZdLFxyXG4gICAgICBbNiwgMSwgMSwgMSwgNl0sXHJcbiAgICAgIFsxLCAxLCAxLCAxLCAxXSxcclxuICAgICAgWzYsIDEsIDEsIDEsIDZdLFxyXG4gICAgICBbNiwgNiwgMSwgNiwgNl0sXHJcbiAgICBdKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGdldCB0aGUgcGF0dGVybiBmb3IgdGhlIGdpdmVuIGtleVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgXHJcbiAgICogQHJldHVybnMge251bWJlcltdW119IHRoZSBwYXR0ZXJuIGZvciB0aGUgZ2l2ZW4ga2V5XHJcbiAgICovXHJcblxyXG4gIGdldChrZXk6IHN0cmluZyk6IG51bWJlcltdW10ge1xyXG4gICAgaWYgKHRoaXMuI3BhdHRlcm5zLmhhcyhrZXkpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLiNwYXR0ZXJucy5nZXQoa2V5KTtcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUGF0dGVyblNldDogTm8gcGF0dGVybiBmb3Iga2V5ICR7a2V5fWApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCAiLy8gRnVuY3Rpb24gdG8gcm90YXRlIGEgcGF0dGVybiA5MCBkZWdyZWVzIGNsb2Nrd2lzZVxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlUGF0dGVybihwYXR0ZXJuOiBhbnlbXVtdLCBwYXR0ZXJuU2l6ZTogbnVtYmVyKSB7XHJcbiAgbGV0IHJvdGF0ZWRQYXR0ZXJuOmFueVtdID0gW107XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXR0ZXJuU2l6ZTsgaSsrKSB7XHJcbiAgICByb3RhdGVkUGF0dGVybi5wdXNoKFtdKTtcclxuICAgIGZvciAobGV0IGogPSBwYXR0ZXJuU2l6ZSAtIDE7IGogPj0gMDsgai0tKSB7XHJcbiAgICAgIHJvdGF0ZWRQYXR0ZXJuW2ldLnB1c2gocGF0dGVybltqXVtpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiByb3RhdGVkUGF0dGVybjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RQYXR0ZXJuczJEKGlucHV0OiBzdHJpbmcgfCBhbnlbXSwgcGF0dGVyblNpemU6IG51bWJlcikge1xyXG4gIGNvbnN0IHdpZHRoID0gaW5wdXRbMF0ubGVuZ3RoO1xyXG4gIGNvbnN0IGhlaWdodCA9IGlucHV0Lmxlbmd0aDtcclxuXHJcbiAgbGV0IHBhdHRlcm5zID0gbmV3IE1hcCgpO1xyXG5cclxuICBmb3IgKGxldCB5ID0gMDsgeSA8PSBoZWlnaHQgLSBwYXR0ZXJuU2l6ZTsgeSsrKSB7XHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8PSB3aWR0aCAtIHBhdHRlcm5TaXplOyB4KyspIHtcclxuICAgICAgbGV0IGJhc2VQYXR0ZXJuID0gW107XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdHRlcm5TaXplOyBpKyspIHtcclxuICAgICAgICBsZXQgcm93ID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwYXR0ZXJuU2l6ZTsgaisrKSB7XHJcbiAgICAgICAgICByb3cucHVzaChpbnB1dFt5ICsgaV1beCArIGpdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYmFzZVBhdHRlcm4ucHVzaChyb3cpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgY3VycmVudFBhdHRlcm49IGJhc2VQYXR0ZXJuO1xyXG4gICAgICAvLyBSb3RhdGUgYW5kIGFkZCB0aGUgcGF0dGVybiB0byB0aGUgbWFwXHJcbiAgICAgIC8vIGZvciAobGV0IHIgPSAwOyByIDwgNDsgcisrKSB7XHJcbiAgICAgIC8vICAgLy8gRm91ciBjYXJkaW5hbCBkaXJlY3Rpb25zXHJcblxyXG4gICAgICAvLyAgIGlmIChyICE9PSAwKSB7XHJcbiAgICAgIC8vICAgICBjdXJyZW50UGF0dGVybiA9IHJvdGF0ZVBhdHRlcm4oY3VycmVudFBhdHRlcm4scGF0dGVyblNpemUpO1xyXG4gICAgICAvLyAgIH1cclxuXHJcbiAgICAgIGxldCBrZXkgPSBKU09OLnN0cmluZ2lmeShjdXJyZW50UGF0dGVybik7XHJcblxyXG4gICAgICAgIGlmICghcGF0dGVybnMuaGFzKGtleSkpIHtcclxuICAgICAgICAgIHBhdHRlcm5zLnNldChrZXksIHsgcGF0dGVybjogY3VycmVudFBhdHRlcm4sIHdlaWdodDogMSB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbGV0IHZhbHVlID0gcGF0dGVybnMuZ2V0KGtleSk7XHJcbiAgICAgICAgICB2YWx1ZS53ZWlnaHQgKz0gMTtcclxuICAgICAgICAgIHBhdHRlcm5zLnNldChrZXksIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIC8vfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIEFycmF5LmZyb20ocGF0dGVybnMudmFsdWVzKCkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFBhdHRlcm5zV3JhcChpbnB1dDogc3RyaW5nIHwgYW55W10sIHBhdHRlcm5TaXplOiBudW1iZXIpIHtcclxuICBjb25zdCB3aWR0aCA9IGlucHV0WzBdLmxlbmd0aDtcclxuICBjb25zdCBoZWlnaHQgPSBpbnB1dC5sZW5ndGg7XHJcblxyXG4gIGxldCBwYXR0ZXJucyA9IG5ldyBNYXAoKTtcclxuXHJcbiAgZm9yIChsZXQgeSA9IDA7IHkgPCBoZWlnaHQgOyB5KyspIHtcclxuICAgIGZvciAobGV0IHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xyXG4gICAgICBsZXQgYmFzZVBhdHRlcm4gPSBbXTtcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0dGVyblNpemU7IGkrKykge1xyXG4gICAgICAgIGxldCByb3cgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBhdHRlcm5TaXplOyBqKyspIHtcclxuICAgICAgICAgIHJvdy5wdXNoKGlucHV0Wyh4ICsgaSklIGhlaWdodF1bKHkgKyBqKSV3aWR0aF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBiYXNlUGF0dGVybi5wdXNoKHJvdyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBjdXJyZW50UGF0dGVybj0gYmFzZVBhdHRlcm47XHJcbiAgICAgIC8vIFJvdGF0ZSBhbmQgYWRkIHRoZSBwYXR0ZXJuIHRvIHRoZSBtYXBcclxuICAgICAgLy8gZm9yIChsZXQgciA9IDA7IHIgPCA0OyByKyspIHtcclxuICAgICAgLy8gICAvLyBGb3VyIGNhcmRpbmFsIGRpcmVjdGlvbnNcclxuXHJcbiAgICAgIC8vICAgaWYgKHIgIT09IDApIHtcclxuICAgICAgLy8gICAgIGN1cnJlbnRQYXR0ZXJuID0gcm90YXRlUGF0dGVybihjdXJyZW50UGF0dGVybixwYXR0ZXJuU2l6ZSk7XHJcbiAgICAgIC8vICAgfVxyXG5cclxuICAgICAgICBsZXQga2V5ID0gSlNPTi5zdHJpbmdpZnkoY3VycmVudFBhdHRlcm4pO1xyXG5cclxuICAgICAgICBpZiAoIXBhdHRlcm5zLmhhcyhrZXkpKSB7XHJcbiAgICAgICAgICBwYXR0ZXJucy5zZXQoa2V5LCB7IHBhdHRlcm46IGN1cnJlbnRQYXR0ZXJuLCB3ZWlnaHQ6IDEgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxldCB2YWx1ZSA9IHBhdHRlcm5zLmdldChrZXkpO1xyXG4gICAgICAgICAgdmFsdWUud2VpZ2h0ICs9IDE7XHJcbiAgICAgICAgICBwYXR0ZXJucy5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAvL31cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBBcnJheS5mcm9tKHBhdHRlcm5zLnZhbHVlcygpKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RQYXR0ZXJuczNEKGlucHV0OiBzdHJpbmcgfCBhbnlbXSwgcGF0dGVyblNpemU6IG51bWJlcikge1xyXG4gIGNvbnN0IHdpZHRoID0gaW5wdXRbMF1bMF0ubGVuZ3RoO1xyXG4gIGNvbnN0IGhlaWdodCA9IGlucHV0WzBdLmxlbmd0aDtcclxuICBjb25zdCBkZXB0aCA9IGlucHV0Lmxlbmd0aDtcclxuXHJcbiAgbGV0IHBhdHRlcm5zID0gbmV3IE1hcCgpO1xyXG5cclxuICBmb3IgKGxldCB6ID0gMDsgeiA8PSBkZXB0aCAtIHBhdHRlcm5TaXplOyB6KyspIHtcclxuICAgIGZvciAobGV0IHkgPSAwOyB5IDw9IGhlaWdodCAtIHBhdHRlcm5TaXplOyB5KyspIHtcclxuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPD0gd2lkdGggLSBwYXR0ZXJuU2l6ZTsgeCsrKSB7XHJcbiAgICAgICAgbGV0IHBhdHRlcm4gPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXR0ZXJuU2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICBsZXQgbGF5ZXIgPSBbXTtcclxuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGF0dGVyblNpemU7IGorKykge1xyXG4gICAgICAgICAgICBsZXQgcm93ID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcGF0dGVyblNpemU7IGsrKykge1xyXG4gICAgICAgICAgICAgIHJvdy5wdXNoKGlucHV0W3ogKyBpXVt5ICsgal1beCArIGtdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsYXllci5wdXNoKHJvdyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBwYXR0ZXJuLnB1c2gobGF5ZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGtleSA9IEpTT04uc3RyaW5naWZ5KHBhdHRlcm4pO1xyXG5cclxuICAgICAgICBpZiAoIXBhdHRlcm5zLmhhcyhrZXkpKSB7XHJcbiAgICAgICAgICBwYXR0ZXJucy5zZXQoa2V5LCB7IHBhdHRlcm46IHBhdHRlcm4sIGNvdW50OiAxIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBsZXQgdmFsdWUgPSBwYXR0ZXJucy5nZXQoa2V5KTtcclxuICAgICAgICAgIHZhbHVlLmNvdW50ICs9IDE7XHJcbiAgICAgICAgICBwYXR0ZXJucy5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tDb25zdHJhaW50cyhwYXR0ZXJuQTogc3RyaW5nIHwgYW55W10sIHBhdHRlcm5COiBhbnlbXVtdKSB7XHJcbiAgY29uc3Qgc2l6ZSA9IHBhdHRlcm5BLmxlbmd0aDtcclxuXHJcbiAgLy8gQ2hlY2sgdG9wXHJcbiAgbGV0IHRvcE1hdGNoID0gdHJ1ZTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xyXG4gICAgXHJcbiAgICBpZiAocGF0dGVybkFbaV1bMF0gIT09IHBhdHRlcm5CW2ldW3NpemUgLSAxXSkge1xyXG4gICAgICB0b3BNYXRjaCA9IGZhbHNlO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGJvdHRvbVxyXG4gIGxldCBib3R0b21NYXRjaCA9IHRydWU7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcclxuICAgIGlmIChwYXR0ZXJuQVtpXVtzaXplIC0gMV0gIT09IHBhdHRlcm5CW2ldWzBdKSB7XHJcbiAgICAgIGJvdHRvbU1hdGNoID0gZmFsc2U7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgbGVmdFxyXG4gIGxldCBsZWZ0TWF0Y2ggPSB0cnVlO1xyXG4gIGZvciAobGV0IGogPSAwOyBqIDwgc2l6ZTsgaisrKSB7XHJcbiAgICBpZiAocGF0dGVybkFbMF1bal0gIT09IHBhdHRlcm5CW3NpemUgLSAxXVtqXSkge1xyXG4gICAgICBsZWZ0TWF0Y2ggPSBmYWxzZTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBDaGVjayByaWdodFxyXG4gIGxldCByaWdodE1hdGNoID0gdHJ1ZTtcclxuICBmb3IgKGxldCBqID0gMDsgaiA8IHNpemU7IGorKykge1xyXG4gICAgaWYgKHBhdHRlcm5BW3NpemUgLSAxXVtqXSAhPT0gcGF0dGVybkJbMF1bal0pIHtcclxuICAgICAgcmlnaHRNYXRjaCA9IGZhbHNlO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7IG5vcnRoOiB0b3BNYXRjaCwgc291dGg6IGJvdHRvbU1hdGNoLCB3ZXN0OiBsZWZ0TWF0Y2gsIGVhc3Q6IHJpZ2h0TWF0Y2ggfTtcclxufVxyXG5cclxuLy8gZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkQ29uc3RyYWludHNNYXAocGF0dGVybnM6IGFueVtdKSB7XHJcbi8vICAgY29uc3QgY29uc3RyYWludHNNYXAgPSBuZXcgTWFwKCk7XHJcblxyXG4vLyAgIHBhdHRlcm5zLmZvckVhY2goKHBhdHRlcm5EYXRhQTogeyBwYXR0ZXJuOiBhbnk7IH0sIGtleUE6IGFueSkgPT4ge1xyXG4vLyAgICAgbGV0IGNvbnN0cmFpbnRzT2JqZWN0UGVyUGF0dGVybkRpcmVjdGlvbldpc2UgPSB7fTtcclxuXHJcbi8vICAgICBwYXR0ZXJucy5mb3JFYWNoKChwYXR0ZXJuRGF0YUI6IHsgcGF0dGVybjogYW55OyB9LCBrZXlCOiBhbnkpID0+IHtcclxuLy8gICAgICAgY29uc3QgY29uc3RyYWludHNCZXR3ZWVuUGF0dGVybnMgPSBjaGVja0NvbnN0cmFpbnRzKFxyXG4vLyAgICAgICAgIHBhdHRlcm5EYXRhQS5wYXR0ZXJuLFxyXG4vLyAgICAgICAgIHBhdHRlcm5EYXRhQi5wYXR0ZXJuXHJcbi8vICAgICAgICk7XHJcblxyXG4vLyAgICAgICAvL2NoZWNrIGFsbCBkaXJlY3Rpb24gYW5kIHN0b3JlIGFjY29yZGluZ2x5XHJcblxyXG4vLyAgICAgICBPYmplY3Qua2V5cyhjb25zdHJhaW50c0JldHdlZW5QYXR0ZXJucykuZm9yRWFjaCgoZGlyZWN0aW9uKSA9PiB7XHJcbi8vICAgICAgICAgaWYgKGNvbnN0cmFpbnRzQmV0d2VlblBhdHRlcm5zW2RpcmVjdGlvbl0pIHtcclxuLy8gICAgICAgICAgIGlmICghY29uc3RyYWludHNPYmplY3RQZXJQYXR0ZXJuRGlyZWN0aW9uV2lzZVtkaXJlY3Rpb25dKVxyXG4vLyAgICAgICAgICAgICBjb25zdHJhaW50c09iamVjdFBlclBhdHRlcm5EaXJlY3Rpb25XaXNlW2RpcmVjdGlvbl0gPSBba2V5Ql07XHJcbi8vICAgICAgICAgICBlbHNlIGNvbnN0cmFpbnRzT2JqZWN0UGVyUGF0dGVybkRpcmVjdGlvbldpc2VbZGlyZWN0aW9uXS5wdXNoKGtleUIpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgfSk7XHJcbi8vICAgICB9KTtcclxuXHJcbi8vICAgICBjb25zdHJhaW50c01hcC5zZXQoa2V5QSwgY29uc3RyYWludHNPYmplY3RQZXJQYXR0ZXJuRGlyZWN0aW9uV2lzZSk7XHJcbi8vICAgfSk7XHJcblxyXG4vLyAgIHJldHVybiBjb25zdHJhaW50c01hcDtcclxuLy8gfVxyXG4iLCAiLyoqXHJcbiAqIEBmaWxlIFRoaXMgZmlsZSBjb250YWlucyB0aGUgUm9vbVJlbmRlcmVyIGNsYXNzLlxyXG4gKiBAcmVxdWlyZXMgdHlwZWRlZnMuanNcclxuICovXHJcblxyXG5pbXBvcnQgeyBXb25kZXJsYW5kRW5naW5lLCBPYmplY3QzRCwgTGlnaHRDb21wb25lbnQgfSBmcm9tIFwiQHdvbmRlcmxhbmRlbmdpbmUvYXBpXCI7XHJcbmltcG9ydCB7IE9iamVjdENhY2hlLCBUYWdzLCBjbG9uZU9iamVjdCwgcm5nV2l0aFdlaWdodCB9IGZyb20gXCJAc29yc2tvb3Qvd29uZGVybGFuZC1jb21wb25lbnRzXCI7XHJcbmltcG9ydCB7IERvb3JIYW5kbGVyIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZG9vci1oYW5kbGVyLmpzXCI7XHJcbmltcG9ydCB7IHJuZyB9IGZyb20gXCJAc29yc2tvb3Qvd29uZGVybGFuZC1jb21wb25lbnRzXCI7XHJcbmltcG9ydCB7IHByb3BEZWZpbml0aW9uLCByb29tVGVtcGxhdGVzIH0gZnJvbSBcIi4vcm9vbVRlbXBsYXRlcy5qc1wiO1xyXG5pbXBvcnQgeyBUaWxlU2V0IH0gZnJvbSBcIi4vdGlsZXNldC5qc1wiO1xyXG5pbXBvcnQgeyBSb29tIH0gZnJvbSBcIi4vcm9vbS5qc1wiO1xyXG5pbXBvcnQgeyBEaXJlY3Rpb25TeW1ib2wgfSBmcm9tIFwiLi4vdHlwZXMvaW5kZXguanNcIjtcclxuaW1wb3J0IHsgVGlsZSB9IGZyb20gXCIuL3RpbGUuanNcIjtcclxuaW1wb3J0IHsgZmluZENoYXJJblN0cmluZ0FycmF5IH0gZnJvbSBcIi4uL2ZvckZyYW1ld29yay9maW5kQ2hhckluU3RyaW5nQXJyYXkuanNcIjtcclxuaW1wb3J0IHsgY29udGFpbmVyIH0gZnJvbSBcInRzeXJpbmdlXCI7XHJcbmltcG9ydCB7IFJvb21DcmVhdG9yIH0gZnJvbSBcIi4vUm9vbUNyZWF0b3IuanNcIjtcclxuXHJcbi8qKlxyXG4gKiBUaGUgUm9vbSBSZW5kZXJlciBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIGEgcm9vbS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBSb29tUmVuZGVyZXIge1xyXG4gIC8qKlxyXG4gICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBXb25kZXJsYW5kIEVuZ2luZVxyXG4gICAqIEB0eXBlIHtXb25kZXJsYW5kRW5naW5lfVxyXG4gICAqL1xyXG4gICNlbmdpbmU6IFdvbmRlcmxhbmRFbmdpbmU7XHJcblxyXG4gIC8qKlxyXG4gICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgb2YgYWxsIG9iamVjdHMgaW4gdGhlIHJvb20uXHJcbiAgICogR2VuZXJhdGVkIG9iamVjdHMgd2lsbCBiZSBhIGNoaWxkIG9mIHRoaXMgb2JqZWN0LlxyXG4gICAqIEB0eXBlIHtPYmplY3QzRH1cclxuICAgKi9cclxuICAjcGFyZW50OiBPYmplY3QzRDtcclxuXHJcbiAgLyoqXHJcbiAgICogQSByZWZlcmVuY2UgdG8gdGhlIHRpbGVzZXRcclxuICAgKiBAdHlwZSB7VGlsZVNldH1cclxuICAgKi9cclxuICAjdGlsZXNldDogVGlsZVNldDtcclxuXHJcbiAgLyoqXHJcbiAgICogQSByZWZlcmVuY2UgdG8gdGhlIGxpZ2h0cyBvYmplY3RzIHRoYXQgY2FuIGJlIHVzZWQgaW4gdGhlIHJvb21cclxuICAgKiBAdHlwZSB7T2JqZWN0M0RbXX1cclxuICAgKi9cclxuICAjbGlnaHRzOiBPYmplY3QzRFtdO1xyXG5cclxuICAvKipcclxuICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgYmxvY2sgY2FjaGVcclxuICAgKiBAdHlwZSB7T2JqZWN0Q2FjaGV9XHJcbiAgICovXHJcbiAgI2Jsb2NrQ2FjaGUhOiBPYmplY3RDYWNoZTtcclxuICByb29tQ3JlYXRvcjogUm9vbUNyZWF0b3I7XHJcblxyXG4gIC8qKlxyXG4gICAqIEluc3RhbnRpYXRlcyBhIG5ldyBSb29tUmVuZGVyZXJcclxuICAgKiBAcGFyYW0ge1dvbmRlcmxhbmRFbmdpbmV9IGVuZ2luZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0M0R9IHBhcmVudFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0M0RbXX0gbGlnaHRzXHJcbiAgICogQHBhcmFtIHtUaWxlU2V0fSB0aWxlc2V0XHJcbiAgICogQHBhcmFtIHtPYmplY3RDYWNoZX0gYmxvY2tDYWNoZVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZW5naW5lOiBXb25kZXJsYW5kRW5naW5lLFxyXG4gICAgcGFyZW50OiBPYmplY3QzRCxcclxuICAgIHRpbGVzZXQ6IFRpbGVTZXQsXHJcbiAgICBsaWdodHM6IE9iamVjdDNEW10sXHJcbiAgICBibG9ja0NhY2hlOiBPYmplY3RDYWNoZVxyXG4gICkge1xyXG4gICAgdGhpcy5yb29tQ3JlYXRvciA9IGNvbnRhaW5lci5yZXNvbHZlKFJvb21DcmVhdG9yKSxcclxuICAgIHRoaXMuI2VuZ2luZSA9IGVuZ2luZTtcclxuICAgIHRoaXMuI3BhcmVudCA9IHBhcmVudDtcclxuICAgIHRoaXMuI3RpbGVzZXQgPSB0aWxlc2V0O1xyXG4gICAgdGhpcy4jbGlnaHRzID0gbGlnaHRzO1xyXG4gICAgdGhpcy4jYmxvY2tDYWNoZSA9IGJsb2NrQ2FjaGU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW5kZXJzIGEgcm9vbVxyXG4gICAqIEBwYXJhbSB7Um9vbX0gcm9vbSBUaGUgcm9vbSB0byByZW5kZXJcclxuICAgKi9cclxuICByZW5kZXIocm9vbTogUm9vbSkge1xyXG4gICAgXHJcblxyXG4gICAgaWYoIXJvb20uaXNJbml0aWFsaXplZCl7XHJcbiAgICBcclxuICAgICAgY29uc3QgcG9zc2l0YmxlVGVtcGxhdGUgPSByb29tVGVtcGxhdGVzLmZpbHRlcigodCkgPT4gdC50eXBlID09IHJvb20uZ2V0Um9vbVR5cGUoKSk7XHJcbiAgICAgIGxldCBuZXdUZW1wbGF0ZSA9IHJuZy5nZXRJdGVtKHBvc3NpdGJsZVRlbXBsYXRlKTtcclxuICAgICAgaWYgKCFuZXdUZW1wbGF0ZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gdGVtcGxhdGUgZm91bmQgZm9yIHJvb20gdHlwZSAke3Jvb20uZ2V0Um9vbVR5cGUoKX1gKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgdGhpcy5yb29tQ3JlYXRvci5zZXRVcFJvb20ocm9vbSwgbmV3VGVtcGxhdGUpO1xyXG5cclxuICAgICAgcm9vbS5pbml0aWFsaXplKG5ld1RlbXBsYXRlKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgbGV0IHRlbXBsYXRlID0gcm9vbS5nZXRSb29tVGVtcGxhdGUoKTtcclxuXHJcbiAgICBsZXQgcm9vbUxpZ2h0cyA9IFtdO1xyXG5cclxuICAgIGlmICghdGVtcGxhdGUpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyB0ZW1wbGF0ZSBmb3VuZCBmb3Igcm9vbSB0eXBlICR7cm9vbS5nZXRSb29tVHlwZSgpfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJvb21kZXNpZ24gPSB0ZW1wbGF0ZS5wYXR0ZXJuO1xyXG4gICAgaWYgKCFyb29tZGVzaWduKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gcm9vbSBkZXNpZ24gZm91bmQgZm9yIHJvb20gdHlwZSAke3Jvb20uZ2V0Um9vbVR5cGUoKX1gKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHJvb21kZXNpZ24ubGVuZ3RoOyB5KyspIHtcclxuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCByb29tZGVzaWduW3ldLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaCA9IDA7IGggPCB0ZW1wbGF0ZS5jZWlsaW5nSGVpZ2h0WzBdOyBoKyspIHtcclxuICAgICAgICAgIGxldCB0aWxlO1xyXG4gICAgICAgICAgc3dpdGNoIChyb29tZGVzaWduW3ldW3hdKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCIjXCI6XHJcbiAgICAgICAgICAgICAgdGlsZSA9IHRoaXMuI3RpbGVzZXQuZ2V0VGlsZUJ5TmFtZShcIldhbGwwMVwiKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIiVcIjogLy8gTGlnaHQsIGJ1dCBmbG9vciBvciB3YWxsIGlzIHJlbmRlcmVkIGFzIHdlbGxcclxuICAgICAgICAgICAgICBpZiAoaCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBvbmx5IHN0b3JlIGxpZ2h0IG9uY2VcclxuICAgICAgICAgICAgICAgIHJvb21MaWdodHMucHVzaChbeCwgaCwgeV0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBcIjFcIjogLy8gQ2hhcmFjdGVyIDFcclxuICAgICAgICAgICAgY2FzZSBcIjJcIjogLy8gQ2hhcmFjdGVyIDJcclxuICAgICAgICAgICAgY2FzZSBcIjNcIjogLy8gQ2hhcmFjdGVyIDNcclxuICAgICAgICAgICAgY2FzZSBcIkNcIjogLy8gQ2FtcGZpcmUsIGJ1dCBmbG9vciBvciB3YWxsIGlzIHJlbmRlcmVkIGFzIHdlbGxcclxuICAgICAgICAgICAgY2FzZSBcIlhcIjogLy8gRW1lbXksIGJ1dCBmbG9vciBvciB3YWxsIGlzIHJlbmRlcmVkIGFzIHdlbGxcclxuICAgICAgICAgICAgY2FzZSBcIlBcIjogLy8gUHJvcFxyXG4gICAgICAgICAgICBjYXNlIFwiIVwiOiAvLyBDaGVzdFxyXG4gICAgICAgICAgICBjYXNlIFwiLlwiOlxyXG4gICAgICAgICAgICAgIGlmIChoID09IDApIHtcclxuICAgICAgICAgICAgICAgIHRpbGUgPSB0aGlzLiN0aWxlc2V0LmdldFRpbGVCeU5hbWUoXCJGbG9vcjAxXCIpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoaCA9PSB0ZW1wbGF0ZS5jZWlsaW5nSGVpZ2h0WzBdIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGlsZSA9IHRoaXMuI3RpbGVzZXQuZ2V0VGlsZUJ5TmFtZShcIkNlaWxpbmcwMVwiKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiTlwiOlxyXG4gICAgICAgICAgICAgIHRpbGUgPSB0aGlzLiNyZW5kZXJGbG9vck9yV2FsbChoLCByb29tLmRvb3JzLm5vcnRoKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkVcIjpcclxuICAgICAgICAgICAgICB0aWxlID0gdGhpcy4jcmVuZGVyRmxvb3JPcldhbGwoaCwgcm9vbS5kb29ycy5lYXN0KTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIlNcIjpcclxuICAgICAgICAgICAgICB0aWxlID0gdGhpcy4jcmVuZGVyRmxvb3JPcldhbGwoaCwgcm9vbS5kb29ycy5zb3V0aCk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJXXCI6XHJcbiAgICAgICAgICAgICAgdGlsZSA9IHRoaXMuI3JlbmRlckZsb29yT3JXYWxsKGgsIHJvb20uZG9vcnMud2VzdCk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAodGlsZSkge1xyXG4gICAgICAgICAgICAvLyBvbmx5IHJlbmRlciBhIHRpbGUgaWYgd2UgaGF2ZSBhIHRpbGUuXHJcbiAgICAgICAgICAgIGxldCBuZXdPYmogPSB0aGlzLmNyZWF0ZVRpbGUoeCwgaCwgeSwgdGlsZS5vYmplY3QpO1xyXG4gICAgICAgICAgICBpZiAoIW5ld09iaikge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihgTm8gb2JqZWN0IGZvdW5kIGZvciB0aWxlICR7dGlsZS5uYW1lfWApO1xyXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy4jYWRkRG9vcnMocm9vbSwgcm9vbWRlc2lnbik7XHJcbiAgICB0aGlzLiNzZXR1cExpZ2h0cyhyb29tTGlnaHRzLCByb29tKTtcclxuICAgIHRoaXMuI2NyZWF0ZUludGVyaW9yKHJvb20sIHJvb21kZXNpZ24pO1xyXG4gICAgdGhpcy4jYWRkQ2hhcmFjdGVycyhyb29tLCByb29tZGVzaWduKTtcclxuICB9XHJcblxyXG4gICNhZGREb29ycyhyb29tOiBSb29tLCByb29tZGVzaWduOiBzdHJpbmdbXSkge1xyXG4gICAgaWYgKHJvb20uZG9vcnMubm9ydGgpIHtcclxuICAgICAgbGV0IGRvb3IgPSBmaW5kQ2hhckluU3RyaW5nQXJyYXkocm9vbWRlc2lnbiwgXCJOXCIpITtcclxuICAgICAgbGV0IHRpbGUgPSB0aGlzLiN0aWxlc2V0LmdldFRpbGVCeU5hbWUoXCJEb29yXCIpITtcclxuICAgICAgbGV0IG5ld09iaiA9IHRoaXMuY3JlYXRlVGlsZShkb29yLngsIDAsIGRvb3IueSwgdGlsZS5vYmplY3QpO1xyXG4gICAgICBuZXdPYmoucm90YXRlQXhpc0FuZ2xlRGVnT2JqZWN0KFswLCAxLCAwXSwgMTgwKTtcclxuICAgICAgdGhpcy5zZXR1cERvb3IobmV3T2JqLCByb29tLmdldFRhcmdldFJvb20oXCJOXCIpLCBcIk5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJvb20uZG9vcnMuc291dGgpIHtcclxuICAgICAgbGV0IGRvb3IgPSBmaW5kQ2hhckluU3RyaW5nQXJyYXkocm9vbWRlc2lnbiwgXCJTXCIpITtcclxuICAgICAgbGV0IHRpbGUgPSB0aGlzLiN0aWxlc2V0LmdldFRpbGVCeU5hbWUoXCJEb29yXCIpITtcclxuICAgICAgbGV0IG5ld09iaiA9IHRoaXMuY3JlYXRlVGlsZShkb29yLngsIDAsIGRvb3IueSwgdGlsZS5vYmplY3QpO1xyXG4gICAgICB0aGlzLnNldHVwRG9vcihuZXdPYmosIHJvb20uZ2V0VGFyZ2V0Um9vbShcIlNcIiksIFwiU1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocm9vbS5kb29ycy5lYXN0KSB7XHJcbiAgICAgIGxldCBkb29yID0gZmluZENoYXJJblN0cmluZ0FycmF5KHJvb21kZXNpZ24sIFwiRVwiKSE7XHJcbiAgICAgIGxldCB0aWxlID0gdGhpcy4jdGlsZXNldC5nZXRUaWxlQnlOYW1lKFwiRG9vclwiKSE7XHJcbiAgICAgIGxldCBuZXdPYmogPSB0aGlzLmNyZWF0ZVRpbGUoZG9vci54LCAwLCBkb29yLnksIHRpbGUub2JqZWN0KTtcclxuICAgICAgbmV3T2JqLnJvdGF0ZUF4aXNBbmdsZURlZ09iamVjdChbMCwgMSwgMF0sIDkwKTtcclxuICAgICAgdGhpcy5zZXR1cERvb3IobmV3T2JqLCByb29tLmdldFRhcmdldFJvb20oXCJFXCIpLCBcIkVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJvb20uZG9vcnMud2VzdCkge1xyXG4gICAgICBsZXQgZG9vciA9IGZpbmRDaGFySW5TdHJpbmdBcnJheShyb29tZGVzaWduLCBcIldcIikhO1xyXG4gICAgICBsZXQgdGlsZSA9IHRoaXMuI3RpbGVzZXQuZ2V0VGlsZUJ5TmFtZShcIkRvb3JcIikhO1xyXG4gICAgICBsZXQgbmV3T2JqID0gdGhpcy5jcmVhdGVUaWxlKGRvb3IueCwgMCwgZG9vci55LCB0aWxlLm9iamVjdCk7XHJcbiAgICAgIG5ld09iai5yb3RhdGVBeGlzQW5nbGVEZWdPYmplY3QoWzAsIDEsIDBdLCAyNzApO1xyXG4gICAgICB0aGlzLnNldHVwRG9vcihuZXdPYmosIHJvb20uZ2V0VGFyZ2V0Um9vbShcIldcIiksIFwiV1wiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICNhZGRDaGFyYWN0ZXJzKHJvb206IFJvb20sIHJvb21kZXNpZ246IHN0cmluZ1tdKSB7XHJcbiAgICB0aGlzLiN0aWxlc2V0LnJlc2V0QWxsQ2hhcmFjdGVycygpO1xyXG5cclxuICAgIGNvbnN0IHJvb21UZW1wbGF0ZSA9IHJvb20uZ2V0Um9vbVRlbXBsYXRlKCk7XHJcblxyXG4gICAgaWYgKCFyb29tVGVtcGxhdGUpIHtcclxuICAgICAgY29uc29sZS53YXJuKFwiYE5vIHJvb20gdGVtcGxhdGUgZm91bmQgZm9yIGN1cnJlbnQgcm9vbVwiKTtcclxuICAgICAgcmV0dXJuOyAvLyBjYW4ndCBkbyBhbnl0aGluZyB3aXRob3V0IGEgdGVtcGxhdGUuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFyb29tVGVtcGxhdGUuY2hhcmFjdGVycyB8fCByb29tVGVtcGxhdGUuY2hhcmFjdGVycy5sZW5ndGggPT0gMCkge1xyXG4gICAgICByZXR1cm47IC8vIG5vIGNoYXJhY3RlcnMgdG8gYWRkXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNoYXJhY3RlcjFQb3MgPSBmaW5kQ2hhckluU3RyaW5nQXJyYXkocm9vbWRlc2lnbiwgXCIxXCIpO1xyXG4gICAgaWYgKGNoYXJhY3RlcjFQb3MpIHtcclxuICAgICAgY29uc3QgY2hhcmFjdGVyTmFtZSA9IHJvb21UZW1wbGF0ZS5jaGFyYWN0ZXJzIVswXTtcclxuICAgICAgY29uc3QgY2hhcmFjdGVyID0gdGhpcy4jdGlsZXNldC5nZXRDaGFyYWN0ZXIoY2hhcmFjdGVyTmFtZSk7XHJcbiAgICAgIGNoYXJhY3Rlcj8uc2V0UG9zaXRpb25Xb3JsZChbY2hhcmFjdGVyMVBvcy54LCAwLjUsIGNoYXJhY3RlcjFQb3MueV0pO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBjaGFyYWN0ZXIyUG9zID0gZmluZENoYXJJblN0cmluZ0FycmF5KHJvb21kZXNpZ24sIFwiMlwiKTtcclxuICAgIGlmIChjaGFyYWN0ZXIyUG9zKSB7XHJcbiAgICAgIGNvbnN0IGNoYXJhY3Rlck5hbWUgPSByb29tVGVtcGxhdGUuY2hhcmFjdGVycyFbMV07XHJcbiAgICAgIGNvbnN0IGNoYXJhY3RlciA9IHRoaXMuI3RpbGVzZXQuZ2V0Q2hhcmFjdGVyKGNoYXJhY3Rlck5hbWUpO1xyXG4gICAgICBjaGFyYWN0ZXI/LnNldFBvc2l0aW9uV29ybGQoW2NoYXJhY3RlcjJQb3MueCwgMC41LCBjaGFyYWN0ZXIyUG9zLnldKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgY2hhcmFjdGVyM1BvcyA9IGZpbmRDaGFySW5TdHJpbmdBcnJheShyb29tZGVzaWduLCBcIjNcIik7XHJcbiAgICBpZiAoY2hhcmFjdGVyM1Bvcykge1xyXG4gICAgICBjb25zdCBjaGFyYWN0ZXJOYW1lID0gcm9vbVRlbXBsYXRlLmNoYXJhY3RlcnMhWzFdO1xyXG4gICAgICBjb25zdCBjaGFyYWN0ZXIgPSB0aGlzLiN0aWxlc2V0LmdldENoYXJhY3RlcihjaGFyYWN0ZXJOYW1lKTtcclxuICAgICAgY2hhcmFjdGVyPy5zZXRQb3NpdGlvbldvcmxkKFtjaGFyYWN0ZXIzUG9zLngsIDAuNSwgY2hhcmFjdGVyM1Bvcy55XSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXR1cCB0aGUgc2NyaXB0cyBmb3IgdGhlIGRvb3IsIGFkZGluZyBhIG5ldyBvbmUgaWYgbmVlZGVkLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0M0R9IG5ld09iaiB0aGUgbmV3bHkgY3JlYXRlZCBvYmplY3QgKHRoZSBkb29yKVxyXG4gICAqIEBwYXJhbSB7Kn0gcm9vbVxyXG4gICAqIEBwYXJhbSB7RGlyZWN0aW9uU3ltYm9sfSBkaXJlY3Rpb25cclxuICAgKi9cclxuICBzZXR1cERvb3IobmV3T2JqOiBPYmplY3QzRCwgcm9vbTogYW55LCBkaXJlY3Rpb246IERpcmVjdGlvblN5bWJvbCkge1xyXG4gICAgbGV0IG9sZENvbXAgPSBuZXdPYmouZ2V0Q29tcG9uZW50KERvb3JIYW5kbGVyKTtcclxuICAgIGlmIChvbGRDb21wKSB7XHJcbiAgICAgIG9sZENvbXAuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xyXG4gICAgICBvbGRDb21wLnRhcmdldFJvb21YID0gcm9vbS54O1xyXG4gICAgICBvbGRDb21wLnRhcmdldFJvb21ZID0gcm9vbS55O1xyXG4gICAgICBvbGRDb21wLmFjdGl2ZSA9IHRydWU7XHJcbiAgICB9IGVsc2VcclxuICAgICAgbmV3T2JqLmFkZENvbXBvbmVudChEb29ySGFuZGxlciwge1xyXG4gICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxyXG4gICAgICAgIHRhcmdldFJvb21YOiByb29tLngsXHJcbiAgICAgICAgdGFyZ2V0Um9vbVk6IHJvb20ueSxcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW5kZXJzIGEgZmxvb3IgdGlsZSB3aGVuIHRoZXJlJ3MgYSBkb29yd2F5IG9yIHdhbGwgZGVwZW5kaW5nIG9uIHRoZSBoZWlnaHQgYW5kIGlmIGl0IHRoZXJlJ3MgYSBkb29yIG9yIG5vdFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoXHJcbiAgICogQHBhcmFtIHtib29sZWFufSBoYXNEb29yXHJcbiAgICogQHJldHVybnMge1RpbGV9XHJcbiAgICovXHJcbiAgI3JlbmRlckZsb29yT3JXYWxsKGg6IG51bWJlciwgaGFzRG9vcjogYm9vbGVhbik6IFRpbGUgfCB1bmRlZmluZWQge1xyXG4gICAgaWYgKGggPT09IDApIHtcclxuICAgICAgaWYgKGhhc0Rvb3IpIHtcclxuICAgICAgICBjb25zdCBmbG9vclRpbGUgPSB0aGlzLiN0aWxlc2V0LmdldFRpbGVCeU5hbWUoXCJGbG9vcjAxXCIpO1xyXG4gICAgICAgIGlmICghZmxvb3JUaWxlKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBmbG9vciB0aWxlIGZvdW5kXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmxvb3JUaWxlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHdhbGxUaWxlID0gdGhpcy4jdGlsZXNldC5nZXRUaWxlQnlOYW1lKFwiV2FsbDAxXCIpO1xyXG4gICAgICAgIGlmICghd2FsbFRpbGUpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHdhbGwgdGlsZSBmb3VuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHdhbGxUaWxlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGggPT09IDEpIHtcclxuICAgICAgaWYgKCFoYXNEb29yKSB7XHJcbiAgICAgICAgY29uc3Qgd2FsbFRpbGUgPSB0aGlzLiN0aWxlc2V0LmdldFRpbGVCeU5hbWUoXCJXYWxsMDFcIik7XHJcbiAgICAgICAgaWYgKCF3YWxsVGlsZSkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gd2FsbCB0aWxlIGZvdW5kXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd2FsbFRpbGU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCB3YWxsVGlsZSA9IHRoaXMuI3RpbGVzZXQuZ2V0VGlsZUJ5TmFtZShcIldhbGwwMVwiKTtcclxuICAgICAgaWYgKCF3YWxsVGlsZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHdhbGwgdGlsZSBmb3VuZFwiKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gd2FsbFRpbGU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHVwIHRoZSBsaWdodHMgaW4gYSByb29tXHJcbiAgICogQHBhcmFtIHtudW1iZXJbXVtdfSByb29tTGlnaHRzXHJcbiAgICogQHBhcmFtIHsqfSByb29tXHJcbiAgICovXHJcblxyXG4gICNzZXR1cExpZ2h0cyhyb29tTGlnaHRzOiBudW1iZXJbXVtdLCByb29tOiBhbnkpIHtcclxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLiNsaWdodHMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgIGNvbnN0IGxpZ2h0ID0gdGhpcy4jbGlnaHRzW2luZGV4XTtcclxuICAgICAgbGlnaHQucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgIGlmIChyb29tTGlnaHRzW2luZGV4XSkge1xyXG4gICAgICAgIGxpZ2h0LmdldENvbXBvbmVudChMaWdodENvbXBvbmVudCkhLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgbGlnaHQuc2V0UG9zaXRpb25Xb3JsZChbcm9vbUxpZ2h0c1tpbmRleF1bMF0sIDIsIHJvb21MaWdodHNbaW5kZXhdWzJdXSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGlnaHQuZ2V0Q29tcG9uZW50KExpZ2h0Q29tcG9uZW50KSEuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuI2xpZ2h0cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgdGhlIGludGVyaW9yIG9mIGEgcm9vbVxyXG4gICAqIEBwYXJhbSB7Um9vbX0gcm9vbVxyXG4gICAqIEBwYXJhbSB7Kn0gcm9vbWRlc2lnblxyXG4gICAqL1xyXG4gICNjcmVhdGVJbnRlcmlvcihyb29tOiBSb29tLCByb29tZGVzaWduOiBhbnkpIHtcclxuICAgIGNvbnN0IHJvb21STkcgPSBybmcuY2xvbmUoKS5zZXRTZWVkKDEpOyAvL3Jvb20uc2VlZCk7XHJcblxyXG4gICAgbGV0IGhhc0ZpcmVwaXQgPSBmYWxzZTtcclxuXHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHJvb21kZXNpZ24ubGVuZ3RoOyB5KyspIHtcclxuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCByb29tZGVzaWduW3ldLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgbGV0IHRpbGU7XHJcbiAgICAgICAgbGV0IHJvdGF0aW9uID0gMDtcclxuICAgICAgICBzd2l0Y2ggKHJvb21kZXNpZ25beV1beF0pIHtcclxuICAgICAgICAgIGNhc2UgXCJQXCI6IC8vIHByb3BcclxuICAgICAgICAgICAgLy8gdG9kbzogdXNlIHdlaWdodGVkIHJhbmRvbVxyXG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IHJvb20uZ2V0Um9vbVRlbXBsYXRlKCkhLnByb3BzO1xyXG4gICAgICAgICAgICBpZiAoIXByb3BzKSB7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcHJvcENoYW5jZXMgPSBwcm9wcy5yZWR1Y2UoKGFjYzogUmVjb3JkPHN0cmluZywgbnVtYmVyPiwgcCkgPT4ge1xyXG4gICAgICAgICAgICAgIGFjY1twLm5hbWVdID0gcC5jaGFuY2UgPz8gMTtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgICAgIGxldCBwcm9wbmFtZSA9IHJvb21STkcuZ2V0V2VpZ2h0ZWRWYWx1ZShwcm9wQ2hhbmNlcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb3AgPSBwcm9wcy5maW5kKChwKSA9PiBwLm5hbWUgPT09IHByb3BuYW1lKSE7XHJcbiAgICAgICAgICAgIHRpbGUgPSB0aGlzLiN0aWxlc2V0LmdldFRpbGVCeU5hbWUocHJvcC5uYW1lKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwcm9wLm11c3RCZUFnYWluc3RXYWxsKSB7XHJcbiAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgcm9vbWRlc2lnblt5IC0gMV1beF0gIT09IFwiI1wiICYmXHJcbiAgICAgICAgICAgICAgICByb29tZGVzaWduW3kgKyAxXVt4XSAhPT0gXCIjXCIgJiZcclxuICAgICAgICAgICAgICAgIHJvb21kZXNpZ25beV1beCAtIDFdICE9PSBcIiNcIiAmJlxyXG4gICAgICAgICAgICAgICAgcm9vbWRlc2lnblt5XVt4ICsgMV0gIT09IFwiI1wiXHJcbiAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gbm90IG5leHQgdG8gYSB3YWxsLCBza2lwIHRoZSBwcm9wLlxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHByb3AuZmFjZVdhbGwpIHtcclxuICAgICAgICAgICAgICBjb25zdCBkaXJlY3Rpb25zID0gW1xyXG4gICAgICAgICAgICAgICAgeyB4OiAwLCB5OiAtMSwgcm90YXRpb246IDE4MCB9LFxyXG4gICAgICAgICAgICAgICAgeyB4OiAxLCB5OiAwLCByb3RhdGlvbjogOTAgfSxcclxuICAgICAgICAgICAgICAgIHsgeDogLTEsIHk6IDAsIHJvdGF0aW9uOiAyNzAgfSxcclxuICAgICAgICAgICAgICAgIHsgeDogMCwgeTogMSwgcm90YXRpb246IDAgfSxcclxuICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgIGxldCBwb3NzaWJsZVJvdGF0aW9ucyA9IFtdO1xyXG4gICAgICAgICAgICAgIGZvciAoY29uc3QgZGlyIG9mIGRpcmVjdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyb29tZGVzaWduW3kgKyBkaXIueV1beCArIGRpci54XSA9PT0gXCIjXCIpIHtcclxuICAgICAgICAgICAgICAgICAgcG9zc2libGVSb3RhdGlvbnMucHVzaChkaXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAocG9zc2libGVSb3RhdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcm90YXRpb24gPSByb29tUk5HLmdldEl0ZW0ocG9zc2libGVSb3RhdGlvbnMpLnJvdGF0aW9uO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgXCJDXCI6IC8vIENhbXBmaXJlIC9GaXJlcGl0XHJcbiAgICAgICAgICAgIGlmICghaGFzRmlyZXBpdCkge1xyXG4gICAgICAgICAgICAgIHRpbGUgPSB0aGlzLiN0aWxlc2V0LmdldFRpbGVCeU5hbWUoXCJGaXJlcGl0XCIpO1xyXG4gICAgICAgICAgICAgIGhhc0ZpcmVwaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcIiFcIjpcclxuICAgICAgICAgICAgY29uc3QgY2hlc3RzID0gcm9vbS5nZXRSb29tVGVtcGxhdGUoKSEuY2hlc3RzO1xyXG4gICAgICAgICAgICBpZiAoIWNoZXN0cykge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk5vIGNoZXN0cyBpbiByb29tIHRlbXBsYXRlLCBidXQgdGhlcmUncyBhIGNoZXN0IGluIHRoZSByb29tIGRlc2lnbi5cIik7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY2hlc3RDaGFuY2VzID0gY2hlc3RzLnJlZHVjZSgoYWNjOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+LCBwKSA9PiB7XHJcbiAgICAgICAgICAgICAgYWNjW2BDaGVzdF8ke3AubWF0ZXJpYWx9XyR7cC5zaXplfWBdID0gcC5jaGFuY2UgPz8gMTtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgICAgIGxldCBjaGVzdG5hbWUgPSByb29tUk5HLmdldFdlaWdodGVkVmFsdWUoY2hlc3RDaGFuY2VzKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNoZXN0ID0gY2hlc3RzLmZpbmQoXHJcbiAgICAgICAgICAgICAgKGMpID0+IGMubWF0ZXJpYWwgPT09IGNoZXN0bmFtZSEuc3BsaXQoXCJfXCIpWzFdICYmIGMuc2l6ZSA9PT0gY2hlc3RuYW1lIS5zcGxpdChcIl9cIilbMl1cclxuICAgICAgICAgICAgKSE7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBhZGQgc29tZXRoaW5nIHRvIGFkZCBsb290IHRvIHRoZSBjaGVzdC5cclxuXHJcbiAgICAgICAgICAgIHRpbGUgPSB0aGlzLiN0aWxlc2V0LmdldFRpbGVCeU5hbWUoY2hlc3RuYW1lISk7XHJcbiAgICAgICAgICAgIHJvdGF0aW9uID0gY2hlc3Qucm90YXRpb247XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aWxlKSB7XHJcbiAgICAgICAgICAvLyBvbmx5IHJlbmRlciBhIHRpbGUgaWYgd2UgaGF2ZSBhIHRpbGUuXHJcbiAgICAgICAgICBsZXQgbmV3T2JqID0gdGhpcy5jcmVhdGVUaWxlKHgsIDAsIHksIHRpbGUub2JqZWN0KTtcclxuICAgICAgICAgIG5ld09iai5yb3RhdGVBeGlzQW5nbGVEZWdPYmplY3QoWzAsIDEsIDBdLCByb3RhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Kn0geFxyXG4gICAqIEBwYXJhbSB7Kn0geVxyXG4gICAqIEBwYXJhbSB7Kn0gelxyXG4gICAqIEBwYXJhbSB7Kn0gdGlsZVxyXG4gICAqIEByZXR1cm5zIE9iamVjdDNEXHJcbiAgICovXHJcbiAgY3JlYXRlVGlsZSh4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyLCB0aWxlOiBPYmplY3QzRCkge1xyXG4gICAgbGV0IGJsb2NrT2JqID0gdGlsZTtcclxuICAgIGxldCBvYmogPSBjbG9uZU9iamVjdCh0aGlzLiNlbmdpbmUsIGJsb2NrT2JqLCB0aGlzLiNibG9ja0NhY2hlKTtcclxuICAgIGlmICghb2JqKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNsb25pbmcgb2JqZWN0IGZhaWxlZFwiKTtcclxuICAgIH1cclxuICAgIG9iai5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcclxuICAgIG9iai5zZXRQb3NpdGlvbldvcmxkKFt4LCB5LCB6XSk7XHJcbiAgICByZXR1cm4gb2JqO1xyXG4gIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgaW5qZWN0LCBzaW5nbGV0b24gfSBmcm9tIFwidHN5cmluZ2VcIjtcclxuaW1wb3J0IHsgUm9vbUl0ZW1DcmVhdG9yIH0gZnJvbSBcIi4vcm9vbUl0ZW1DcmVhdG9yLmpzXCI7XHJcbmltcG9ydCB7IFJvb20gfSBmcm9tIFwiLi9yb29tLmpzXCI7XHJcbmltcG9ydCB7IFJvb21UZW1wbGF0ZSB9IGZyb20gXCIuL3Jvb21UZW1wbGF0ZXMuanNcIjtcclxuXHJcbkBzaW5nbGV0b24oKVxyXG5leHBvcnQgY2xhc3MgUm9vbUNyZWF0b3J7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKEBpbmplY3QoUm9vbUl0ZW1DcmVhdG9yKSBwcml2YXRlIHJvb21JdGVtQ3JlYXRvcjogUm9vbUl0ZW1DcmVhdG9yKXtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBSb29tKHJvb206Um9vbSwgdGVtcGxhdGU6Um9vbVRlbXBsYXRlKTpib29sZWFue1xyXG4gICAgICAgIHJvb20uaW5pdGlhbGl6ZSh0ZW1wbGF0ZSlcclxuICAgICAgICByb29tLml0ZW1zID0gdGhpcy5yb29tSXRlbUNyZWF0b3IuY3JlYXRlSXRlbXModGVtcGxhdGUscm9vbSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgUm9vbVRlbXBsYXRlLCBSb29tVGVtcGxhdGVQYXR0ZXJuRGVmaW5pdGlvbnMsIGNoZXN0RGVmaW5pdGlvbiB9IGZyb20gXCIuL3Jvb21UZW1wbGF0ZXMuanNcIjtcclxuaW1wb3J0IHsgUm9vbSB9IGZyb20gXCIuL3Jvb20uanNcIjtcclxuaW1wb3J0IHsgRGlyZWN0aW9uU3ltYm9sIH0gZnJvbSBcIi4uL3R5cGVzL3NpbXBsZVR5cGVzLmpzXCI7XHJcbmltcG9ydCB7IERvb3IgfSBmcm9tIFwiLi9vYmplY3RzL2Rvb3IuanNcIjtcclxuaW1wb3J0IHsgR2VuZXJpY0l0ZW0gfSBmcm9tIFwiLi9vYmplY3RzL0dlbmVyaWNJdGVtLmpzXCI7XHJcblxyXG5pbXBvcnQgeyBpbmplY3QsIHNpbmdsZXRvbiB9IGZyb20gXCJ0c3lyaW5nZVwiO1xyXG5pbXBvcnQgeyBDaGVzdENyZWF0b3IgfSBmcm9tIFwiLi9DaGVzdENyZWF0b3IuanNcIjtcclxuaW1wb3J0IHsgcm5nIH0gIGZyb20gXCJAc29yc2tvb3Qvd29uZGVybGFuZC1jb21wb25lbnRzXCI7XHJcbmltcG9ydCB7IHNob3dJbnZlbnRvcnkgfSBmcm9tIFwiLi9vYmplY3RzL2JlaGF2aW9ycy9zaG93SW52ZW50b3J5LmpzXCI7XHJcblxyXG5Ac2luZ2xldG9uKClcclxuZXhwb3J0IGNsYXNzIFJvb21JdGVtQ3JlYXRvciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoQGluamVjdChDaGVzdENyZWF0b3IpIHByaXZhdGUgY2hlc3RDcmVhdG9yOiBDaGVzdENyZWF0b3Ipe1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUl0ZW1zKHRlbXBsYXRlOlJvb21UZW1wbGF0ZSwgcm9vbTpSb29tKTpHZW5lcmljSXRlbVtde1xyXG4gICAgICAgIGxldCBpdGVtczpHZW5lcmljSXRlbVtdID0gW107XHJcbiAgICAgICAgY29uc3QgY3VycmVudFJuZyA9IHJuZy5jbG9uZSgpLnNldFNlZWQocm9vbS5zZWVkKTtcclxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRlbXBsYXRlLnBhdHRlcm4ubGVuZ3RoOyB5KyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0ZW1wbGF0ZS5wYXR0ZXJuW3ldLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgaWYgKFJvb21UZW1wbGF0ZVBhdHRlcm5EZWZpbml0aW9uc1t0ZW1wbGF0ZS5wYXR0ZXJuW3ldW3hdXT8uYmVoYXZpb3IpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGVtcGxhdGUucGF0dGVyblt5XVt4XSkge1xyXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiTlwiOlxyXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiU1wiOlxyXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiRVwiOlxyXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiV1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkaXJlY3Rpb24gPSB0ZW1wbGF0ZS5wYXR0ZXJuW3ldW3hdIGFzIERpcmVjdGlvblN5bWJvbDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gcm9vbS5nZXRUYXJnZXRSb29tKGRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdMb2NhbCA9IG5ldyBEb29yKGRpcmVjdGlvbiwgdGFyZ2V0LCB7IHg6IHgsIHk6IHkgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKG5ld0xvY2FsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCIhXCI6IC8vY2hlc3RcclxuICAgICAgICAgICAgICAgICAgICBpZighdGVtcGxhdGUuY2hlc3RzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIGNoZXN0IGRlZmluaXRpb24gZm91bmQgZm9yIHJvb20gdGVtcGxhdGUsIGJ1dCBhIGNoZXN0IHdhcyBmb3VuZCBpbiB0aGUgcGF0dGVyblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGVzdCA9IGN1cnJlbnRSbmcuZ2V0SXRlbSh0ZW1wbGF0ZS5jaGVzdHMpIGFzIGNoZXN0RGVmaW5pdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGRvIHNvbWV0aGluZyBoZXJlIHdpdGggdGhlIGxvb3QgdGFibGVzLiBcclxuICAgICAgICAgICAgICAgICAgICAvLyBMb290IHRhYmxlcyBhcmUgc3BlY2lmaWMgdG8gdGhlIHJvb20sIHNvIHdlIG5lZWQgdG8gcGFzcyBpbmZvcm1hdGlvbiB0byB0aGUgY2hlc3QgY3JlYXRvci5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hlc3RJdGVtID0gdGhpcy5jaGVzdENyZWF0b3IuY3JlYXRlQ2hlc3QoeyB4OiB4LCB5OiB5IH0sIGNoZXN0KTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjaGVzdEl0ZW0uYWRkQmVoYXZpb3Ioc2hvd0ludmVudG9yeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChjaGVzdEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpdGVtcztcclxuICAgIH1cclxufSIsICJpbXBvcnQgeyBUdXJuQmFzZWRFbnRpdHkgfSBmcm9tIFwiLi4vLi4vY2xhc3Nlcy9iYXNlL3R1cm5iYXNlZC5qc1wiO1xyXG5cclxuaW50ZXJmYWNlIEJlaGF2aW9yIHtcclxuICBuYW1lPzogc3RyaW5nO1xyXG4gIGluaXRpYWxpemU/OiAoKSA9PiB2b2lkO1xyXG4gIFtrZXk6IHN0cmluZ106IGFueTtcclxufVxyXG4vKipcclxuICogVGhpcyBjbGFzcyBpcyB0aGUgYmFzZSBvZiBhbGwgYmVoYXZpb3JzLlxyXG4gKiBUaGUgaWRlYSBpcyB0aGF0IGFsbCBiZWhhdmlvcnMgaGF2ZSBhIGNvbW1vbiBiYXNlIGNsYXNzLFxyXG4gKiBzbyB0aGF0IHRoZXkgY2FuIGJlIHN0b3JlZCBpbiBhIGxpc3QgYW5kIGl0ZXJhdGVkIG92ZXIuXHJcbiAqIEV2ZXJ5IG9iamVjdCwgZW5lbXksIHdlYXBvbiwgZXRjLiBjYW4gaGF2ZSBhIGxpc3Qgb2YgYmVoYXZpb3JzLlxyXG4gKi9cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJlaGF2aW9yQmFzZSB7XHJcbiAgW2tleTogc3RyaW5nXTogYW55O1xyXG5cclxuICBwcml2YXRlIF9iZWhhdmlvckhhbmRsZXJzOiB7IFtoYW5kbGVyTmFtZTogc3RyaW5nXTogQXJyYXk8KC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+IH0gPSB7fTtcclxuICBwcml2YXRlIF9iZWhhdmlvcnM6IEFycmF5PHN0cmluZz4gPSBbXTtcclxuXHJcbiAgYWRkQmVoYXZpb3JIYW5kbGVyKGhhbmRsZXJOYW1lOiBzdHJpbmcsIGhhbmRsZXI6ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55KTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuX2JlaGF2aW9ySGFuZGxlcnNbaGFuZGxlck5hbWVdKSB7XHJcbiAgICAgIHRoaXMuX2JlaGF2aW9ySGFuZGxlcnNbaGFuZGxlck5hbWVdID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fYmVoYXZpb3JIYW5kbGVyc1toYW5kbGVyTmFtZV0ucHVzaChoYW5kbGVyKTtcclxuICB9XHJcblxyXG4gIGV4ZWN1dGVCZWhhdmlvcihoYW5kbGVyTmFtZTogc3RyaW5nLCByZXQ6IGFueSwgLi4uYXJnczogYW55W10pOiBhbnkge1xyXG4gICAgaWYgKHRoaXMuX2JlaGF2aW9ySGFuZGxlcnMgJiYgdGhpcy5fYmVoYXZpb3JIYW5kbGVyc1toYW5kbGVyTmFtZV0pIHtcclxuICAgICAgdGhpcy5fYmVoYXZpb3JIYW5kbGVyc1toYW5kbGVyTmFtZV0uZm9yRWFjaCgoaGFuZGxlcikgPT4ge1xyXG4gICAgICAgIGFyZ3MgPSBbcmV0LCAuLi5hcmdzXTtcclxuICAgICAgICByZXQgPSBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbiAgfVxyXG5cclxuICB3cmFwRnVuY3Rpb24oaGFuZGxlck5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLl9iZWhhdmlvckhhbmRsZXJzIHx8ICF0aGlzLl9iZWhhdmlvckhhbmRsZXJzW2hhbmRsZXJOYW1lXSkge1xyXG4gICAgICBjb25zdCBvcmlnaW5hbEZ1bmN0aW9uID0gdGhpc1toYW5kbGVyTmFtZV07XHJcbiAgICAgIFxyXG4gICAgICAvLyBNYWtlIHN1cmUgdG8gYW5ub3RhdGUgdGhlIHdyYXBwZWQgZnVuY3Rpb24gY29ycmVjdGx5XHJcbiAgICAgIHRoaXNbaGFuZGxlck5hbWVdID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmV0ID0gb3JpZ2luYWxGdW5jdGlvbi5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5leGVjdXRlQmVoYXZpb3IoaGFuZGxlck5hbWUsIHJldCwgLi4uYXJncyk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhZGRCZWhhdmlvcih0ZW1wbGF0ZTogQmVoYXZpb3IpOiBCZWhhdmlvckJhc2Uge1xyXG4gICAgY29uc3QgYmVoYXZpb3JDbG9uZSA9IHsgLi4udGVtcGxhdGUgfTtcclxuXHJcbiAgICBjb25zdCBuYW1lID0gYmVoYXZpb3JDbG9uZS5uYW1lO1xyXG5cclxuICAgIGRlbGV0ZSBiZWhhdmlvckNsb25lLm5hbWU7XHJcblxyXG4gICAgYmVoYXZpb3JDbG9uZS5pbml0aWFsaXplIS5hcHBseSh0aGlzKTtcclxuXHJcbiAgICBkZWxldGUgYmVoYXZpb3JDbG9uZS5pbml0aWFsaXplO1xyXG5cclxuICAgIE9iamVjdC5rZXlzKGJlaGF2aW9yQ2xvbmUpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICB0aGlzLndyYXBGdW5jdGlvbihrZXkpO1xyXG4gICAgICB0aGlzLmFkZEJlaGF2aW9ySGFuZGxlcihrZXksIGJlaGF2aW9yQ2xvbmVba2V5XSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9iZWhhdmlvcnMucHVzaChuYW1lISk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBJdGVtIH0gZnJvbSBcIi4vaXRlbS5qc1wiO1xyXG5pbXBvcnQgeyBCZWhhdmlvckJhc2UgfSBmcm9tIFwiLi9iZWhhdmlvckJhc2UuanNcIjtcclxuaW1wb3J0IHsgUG9zaXRpb24yRCB9IGZyb20gXCIuLi8uLi90eXBlcy9wb3NpdGlvbi5qc1wiO1xyXG5pbXBvcnQgeyBPYmplY3QzRCwgVGV4dHVyZSB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGlcIjtcclxuXHJcbnR5cGUgUmFyaXR5ID0gXCJjb21tb25cIiB8IFwicmFyZVwiIHwgXCJlcGljXCIgfCBcImxlZ2VuZGFyeVwiO1xyXG50eXBlIEl0ZW1UeXBlID0gXCJ3ZWFwb25cIiB8IFwiY29udGFpbmVyXCIgfCBcIml0ZW1cIiB8IFwic2hpZWxkXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgR2VuZXJpY0l0ZW0gZXh0ZW5kcyBCZWhhdmlvckJhc2UgaW1wbGVtZW50cyBJdGVtIHtcclxuICBpZDogbnVtYmVyO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBhY3RpdmU6IGJvb2xlYW47XHJcbiAgdHlwZTogSXRlbVR5cGU7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICByYXJpdHk6IFJhcml0eTtcclxuICBwb3NpdGlvbjogUG9zaXRpb24yRCA9IHsgeDogMCwgeTogMCB9O1xyXG4gIHRleHR1cmU6IFRleHR1cmU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHRleHR1cmU6VGV4dHVyZXxudWxsID0gbnVsbCwgcmFyaXR5OiBSYXJpdHkgPSBcImNvbW1vblwiLCBwb3NpdGlvbjogUG9zaXRpb24yRCA9IHsgeDogMCwgeTogMCB9KSB7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgdGhpcy5pZCA9ICtuZXcgRGF0ZSgpO1xyXG4gICAgaWYodGV4dHVyZSl7XHJcbiAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XHJcbiAgICB9XHJcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgdGhpcy50eXBlID0gXCJpdGVtXCI7XHJcbiAgICB0aGlzLm5hbWUgPSBcIk5hbWVsZXNzIEl0ZW1cIjtcclxuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBcIml0IGlzIG5vdGhpbmcgc3BlY2lhbFwiO1xyXG4gICAgdGhpcy5yYXJpdHkgPSByYXJpdHk7XHJcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBkYW1hZ2UoaGl0OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIGhpdDtcclxuICB9XHJcblxyXG4gIHByb3RlY3Rpb24oKTogbnVtYmVyIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgcmFuZ2UoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgaW50ZXJhY3Qob2JqOiBPYmplY3QzRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcikge31cclxuXHJcbiAgYXR0YWNrKCkge31cclxuXHJcbiAgdHVybigpIHt9XHJcblxyXG4gIGVxdWlwKCkge31cclxuXHJcbiAgdW5lcXVpcCgpIHt9XHJcblxyXG4gIHJlZnJlc2goKSB7fVxyXG5cclxuICBvdmVyKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVVST8oKSB7XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcbn1cclxuIiwgIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXG5cbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xuICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xuICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufVxuXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgICByZXR1cm4gdDtcbiAgfVxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgdFtwXSA9IHNbcF07XG4gIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgfVxuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19lc0RlY29yYXRlKGN0b3IsIGRlc2NyaXB0b3JJbiwgZGVjb3JhdG9ycywgY29udGV4dEluLCBpbml0aWFsaXplcnMsIGV4dHJhSW5pdGlhbGl6ZXJzKSB7XG4gIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxuICB2YXIga2luZCA9IGNvbnRleHRJbi5raW5kLCBrZXkgPSBraW5kID09PSBcImdldHRlclwiID8gXCJnZXRcIiA6IGtpbmQgPT09IFwic2V0dGVyXCIgPyBcInNldFwiIDogXCJ2YWx1ZVwiO1xuICB2YXIgdGFyZ2V0ID0gIWRlc2NyaXB0b3JJbiAmJiBjdG9yID8gY29udGV4dEluW1wic3RhdGljXCJdID8gY3RvciA6IGN0b3IucHJvdG90eXBlIDogbnVsbDtcbiAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XG4gIHZhciBfLCBkb25lID0gZmFsc2U7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4pIGNvbnRleHRbcF0gPSBwID09PSBcImFjY2Vzc1wiID8ge30gOiBjb250ZXh0SW5bcF07XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbi5hY2Nlc3MpIGNvbnRleHQuYWNjZXNzW3BdID0gY29udGV4dEluLmFjY2Vzc1twXTtcbiAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XG4gICAgICB2YXIgcmVzdWx0ID0gKDAsIGRlY29yYXRvcnNbaV0pKGtpbmQgPT09IFwiYWNjZXNzb3JcIiA/IHsgZ2V0OiBkZXNjcmlwdG9yLmdldCwgc2V0OiBkZXNjcmlwdG9yLnNldCB9IDogZGVzY3JpcHRvcltrZXldLCBjb250ZXh0KTtcbiAgICAgIGlmIChraW5kID09PSBcImFjY2Vzc29yXCIpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgdHlwZW9mIHJlc3VsdCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuZ2V0KSkgZGVzY3JpcHRvci5nZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmluaXQpKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xuICAgICAgICAgIGlmIChraW5kID09PSBcImZpZWxkXCIpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgICAgIGVsc2UgZGVzY3JpcHRvcltrZXldID0gXztcbiAgICAgIH1cbiAgfVxuICBpZiAodGFyZ2V0KSBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSwgZGVzY3JpcHRvcik7XG4gIGRvbmUgPSB0cnVlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXNBcmcsIGluaXRpYWxpemVycywgdmFsdWUpIHtcbiAgdmFyIHVzZVZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdGlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZSA9IHVzZVZhbHVlID8gaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZywgdmFsdWUpIDogaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZyk7XG4gIH1cbiAgcmV0dXJuIHVzZVZhbHVlID8gdmFsdWUgOiB2b2lkIDA7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19wcm9wS2V5KHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiID8geCA6IFwiXCIuY29uY2F0KHgpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fc2V0RnVuY3Rpb25OYW1lKGYsIG5hbWUsIHByZWZpeCkge1xuICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3ltYm9sXCIpIG5hbWUgPSBuYW1lLmRlc2NyaXB0aW9uID8gXCJbXCIuY29uY2F0KG5hbWUuZGVzY3JpcHRpb24sIFwiXVwiKSA6IFwiXCI7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwgXCJuYW1lXCIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogcHJlZml4ID8gXCJcIi5jb25jYXQocHJlZml4LCBcIiBcIiwgbmFtZSkgOiBuYW1lIH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcbiAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gIH1cbn1cblxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIG9bazJdID0gbVtrXTtcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcbiAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xuICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgfVxuICB9O1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICB0cnkge1xuICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gIH1cbiAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gIGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgIH1cbiAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICB9XG4gIHJldHVybiBhcjtcbn1cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xuICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgcltrXSA9IGFbal07XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xuICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XG4gIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cbiAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxuICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cbiAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xuICB2YXIgaSwgcDtcbiAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogZmFsc2UgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xuICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xuICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cbiAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcbiAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cbiAgcmV0dXJuIGNvb2tlZDtcbn07XG5cbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gIG9bXCJkZWZhdWx0XCJdID0gdjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XG4gIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xuICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XG4gIGlmIChyZWNlaXZlciA9PT0gbnVsbCB8fCAodHlwZW9mIHJlY2VpdmVyICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZWNlaXZlciAhPT0gXCJmdW5jdGlvblwiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xuICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZXh0ZW5kcyxcbiAgX19hc3NpZ24sXG4gIF9fcmVzdCxcbiAgX19kZWNvcmF0ZSxcbiAgX19wYXJhbSxcbiAgX19tZXRhZGF0YSxcbiAgX19hd2FpdGVyLFxuICBfX2dlbmVyYXRvcixcbiAgX19jcmVhdGVCaW5kaW5nLFxuICBfX2V4cG9ydFN0YXIsXG4gIF9fdmFsdWVzLFxuICBfX3JlYWQsXG4gIF9fc3ByZWFkLFxuICBfX3NwcmVhZEFycmF5cyxcbiAgX19zcHJlYWRBcnJheSxcbiAgX19hd2FpdCxcbiAgX19hc3luY0dlbmVyYXRvcixcbiAgX19hc3luY0RlbGVnYXRvcixcbiAgX19hc3luY1ZhbHVlcyxcbiAgX19tYWtlVGVtcGxhdGVPYmplY3QsXG4gIF9faW1wb3J0U3RhcixcbiAgX19pbXBvcnREZWZhdWx0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4sXG59O1xuIiwgIi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgYSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2tcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWU6IGFueSk6IHZhbHVlIGlzICguLi5hcmdzOiBhbnlbXSkgPT4gYW55IHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbiIsICIvKipcbiAqIFVzZWQgdG8gY3JlYXRlIEVycm9yIHN1YmNsYXNzZXMgdW50aWwgdGhlIGNvbW11bml0eSBtb3ZlcyBhd2F5IGZyb20gRVM1LlxuICpcbiAqIFRoaXMgaXMgYmVjYXVzZSBjb21waWxpbmcgZnJvbSBUeXBlU2NyaXB0IGRvd24gdG8gRVM1IGhhcyBpc3N1ZXMgd2l0aCBzdWJjbGFzc2luZyBFcnJvcnNcbiAqIGFzIHdlbGwgYXMgb3RoZXIgYnVpbHQtaW4gdHlwZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMTIxMjNcbiAqXG4gKiBAcGFyYW0gY3JlYXRlSW1wbCBBIGZhY3RvcnkgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBhY3R1YWwgY29uc3RydWN0b3IgaW1wbGVtZW50YXRpb24uIFRoZSByZXR1cm5lZFxuICogZnVuY3Rpb24gc2hvdWxkIGJlIGEgbmFtZWQgZnVuY3Rpb24gdGhhdCBjYWxscyBgX3N1cGVyYCBpbnRlcm5hbGx5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXJyb3JDbGFzczxUPihjcmVhdGVJbXBsOiAoX3N1cGVyOiBhbnkpID0+IGFueSk6IFQge1xuICBjb25zdCBfc3VwZXIgPSAoaW5zdGFuY2U6IGFueSkgPT4ge1xuICAgIEVycm9yLmNhbGwoaW5zdGFuY2UpO1xuICAgIGluc3RhbmNlLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gIH07XG5cbiAgY29uc3QgY3RvckZ1bmMgPSBjcmVhdGVJbXBsKF9zdXBlcik7XG4gIGN0b3JGdW5jLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgY3RvckZ1bmMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvckZ1bmM7XG4gIHJldHVybiBjdG9yRnVuYztcbn1cbiIsICJpbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi9jcmVhdGVFcnJvckNsYXNzJztcblxuZXhwb3J0IGludGVyZmFjZSBVbnN1YnNjcmlwdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICByZWFkb25seSBlcnJvcnM6IGFueVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVuc3Vic2NyaXB0aW9uRXJyb3JDdG9yIHtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbC4gRG8gbm90IGNvbnN0cnVjdCBlcnJvciBpbnN0YW5jZXMuXG4gICAqIENhbm5vdCBiZSB0YWdnZWQgYXMgaW50ZXJuYWw6IGh0dHBzOi8vZ2l0aHViLmNvbS9SZWFjdGl2ZVgvcnhqcy9pc3N1ZXMvNjI2OVxuICAgKi9cbiAgbmV3IChlcnJvcnM6IGFueVtdKTogVW5zdWJzY3JpcHRpb25FcnJvcjtcbn1cblxuLyoqXG4gKiBBbiBlcnJvciB0aHJvd24gd2hlbiBvbmUgb3IgbW9yZSBlcnJvcnMgaGF2ZSBvY2N1cnJlZCBkdXJpbmcgdGhlXG4gKiBgdW5zdWJzY3JpYmVgIG9mIGEge0BsaW5rIFN1YnNjcmlwdGlvbn0uXG4gKi9cbmV4cG9ydCBjb25zdCBVbnN1YnNjcmlwdGlvbkVycm9yOiBVbnN1YnNjcmlwdGlvbkVycm9yQ3RvciA9IGNyZWF0ZUVycm9yQ2xhc3MoXG4gIChfc3VwZXIpID0+XG4gICAgZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwodGhpczogYW55LCBlcnJvcnM6IChFcnJvciB8IHN0cmluZylbXSkge1xuICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzXG4gICAgICAgID8gYCR7ZXJyb3JzLmxlbmd0aH0gZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcbiR7ZXJyb3JzLm1hcCgoZXJyLCBpKSA9PiBgJHtpICsgMX0pICR7ZXJyLnRvU3RyaW5nKCl9YCkuam9pbignXFxuICAnKX1gXG4gICAgICAgIDogJyc7XG4gICAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgICB9XG4pO1xuIiwgIi8qKlxuICogUmVtb3ZlcyBhbiBpdGVtIGZyb20gYW4gYXJyYXksIG11dGF0aW5nIGl0LlxuICogQHBhcmFtIGFyciBUaGUgYXJyYXkgdG8gcmVtb3ZlIHRoZSBpdGVtIGZyb21cbiAqIEBwYXJhbSBpdGVtIFRoZSBpdGVtIHRvIHJlbW92ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJyUmVtb3ZlPFQ+KGFycjogVFtdIHwgdW5kZWZpbmVkIHwgbnVsbCwgaXRlbTogVCkge1xuICBpZiAoYXJyKSB7XG4gICAgY29uc3QgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKTtcbiAgICAwIDw9IGluZGV4ICYmIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IFVuc3Vic2NyaXB0aW9uRXJyb3IgfSBmcm9tICcuL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb25MaWtlLCBUZWFyZG93bkxvZ2ljLCBVbnN1YnNjcmliYWJsZSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi91dGlsL2FyclJlbW92ZSc7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGRpc3Bvc2FibGUgcmVzb3VyY2UsIHN1Y2ggYXMgdGhlIGV4ZWN1dGlvbiBvZiBhbiBPYnNlcnZhYmxlLiBBXG4gKiBTdWJzY3JpcHRpb24gaGFzIG9uZSBpbXBvcnRhbnQgbWV0aG9kLCBgdW5zdWJzY3JpYmVgLCB0aGF0IHRha2VzIG5vIGFyZ3VtZW50XG4gKiBhbmQganVzdCBkaXNwb3NlcyB0aGUgcmVzb3VyY2UgaGVsZCBieSB0aGUgc3Vic2NyaXB0aW9uLlxuICpcbiAqIEFkZGl0aW9uYWxseSwgc3Vic2NyaXB0aW9ucyBtYXkgYmUgZ3JvdXBlZCB0b2dldGhlciB0aHJvdWdoIHRoZSBgYWRkKClgXG4gKiBtZXRob2QsIHdoaWNoIHdpbGwgYXR0YWNoIGEgY2hpbGQgU3Vic2NyaXB0aW9uIHRvIHRoZSBjdXJyZW50IFN1YnNjcmlwdGlvbi5cbiAqIFdoZW4gYSBTdWJzY3JpcHRpb24gaXMgdW5zdWJzY3JpYmVkLCBhbGwgaXRzIGNoaWxkcmVuIChhbmQgaXRzIGdyYW5kY2hpbGRyZW4pXG4gKiB3aWxsIGJlIHVuc3Vic2NyaWJlZCBhcyB3ZWxsLlxuICpcbiAqIEBjbGFzcyBTdWJzY3JpcHRpb25cbiAqL1xuZXhwb3J0IGNsYXNzIFN1YnNjcmlwdGlvbiBpbXBsZW1lbnRzIFN1YnNjcmlwdGlvbkxpa2Uge1xuICAvKiogQG5vY29sbGFwc2UgKi9cbiAgcHVibGljIHN0YXRpYyBFTVBUWSA9ICgoKSA9PiB7XG4gICAgY29uc3QgZW1wdHkgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgZW1wdHkuY2xvc2VkID0gdHJ1ZTtcbiAgICByZXR1cm4gZW1wdHk7XG4gIH0pKCk7XG5cbiAgLyoqXG4gICAqIEEgZmxhZyB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoaXMgU3Vic2NyaXB0aW9uIGhhcyBhbHJlYWR5IGJlZW4gdW5zdWJzY3JpYmVkLlxuICAgKi9cbiAgcHVibGljIGNsb3NlZCA9IGZhbHNlO1xuXG4gIHByaXZhdGUgX3BhcmVudGFnZTogU3Vic2NyaXB0aW9uW10gfCBTdWJzY3JpcHRpb24gfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgcmVnaXN0ZXJlZCBmaW5hbGl6ZXJzIHRvIGV4ZWN1dGUgdXBvbiB1bnN1YnNjcmlwdGlvbi4gQWRkaW5nIGFuZCByZW1vdmluZyBmcm9tIHRoaXNcbiAgICogbGlzdCBvY2N1cnMgaW4gdGhlIHtAbGluayAjYWRkfSBhbmQge0BsaW5rICNyZW1vdmV9IG1ldGhvZHMuXG4gICAqL1xuICBwcml2YXRlIF9maW5hbGl6ZXJzOiBFeGNsdWRlPFRlYXJkb3duTG9naWMsIHZvaWQ+W10gfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogQHBhcmFtIGluaXRpYWxUZWFyZG93biBBIGZ1bmN0aW9uIGV4ZWN1dGVkIGZpcnN0IGFzIHBhcnQgb2YgdGhlIGZpbmFsaXphdGlvblxuICAgKiBwcm9jZXNzIHRoYXQgaXMga2lja2VkIG9mZiB3aGVuIHtAbGluayAjdW5zdWJzY3JpYmV9IGlzIGNhbGxlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaW5pdGlhbFRlYXJkb3duPzogKCkgPT4gdm9pZCkge31cblxuICAvKipcbiAgICogRGlzcG9zZXMgdGhlIHJlc291cmNlcyBoZWxkIGJ5IHRoZSBzdWJzY3JpcHRpb24uIE1heSwgZm9yIGluc3RhbmNlLCBjYW5jZWxcbiAgICogYW4gb25nb2luZyBPYnNlcnZhYmxlIGV4ZWN1dGlvbiBvciBjYW5jZWwgYW55IG90aGVyIHR5cGUgb2Ygd29yayB0aGF0XG4gICAqIHN0YXJ0ZWQgd2hlbiB0aGUgU3Vic2NyaXB0aW9uIHdhcyBjcmVhdGVkLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdW5zdWJzY3JpYmUoKTogdm9pZCB7XG4gICAgbGV0IGVycm9yczogYW55W10gfCB1bmRlZmluZWQ7XG5cbiAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG5cbiAgICAgIC8vIFJlbW92ZSB0aGlzIGZyb20gaXQncyBwYXJlbnRzLlxuICAgICAgY29uc3QgeyBfcGFyZW50YWdlIH0gPSB0aGlzO1xuICAgICAgaWYgKF9wYXJlbnRhZ2UpIHtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHBhcmVudCBvZiBfcGFyZW50YWdlKSB7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfcGFyZW50YWdlLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB7IGluaXRpYWxUZWFyZG93bjogaW5pdGlhbEZpbmFsaXplciB9ID0gdGhpcztcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGluaXRpYWxGaW5hbGl6ZXIpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaW5pdGlhbEZpbmFsaXplcigpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IgPyBlLmVycm9ycyA6IFtlXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB7IF9maW5hbGl6ZXJzIH0gPSB0aGlzO1xuICAgICAgaWYgKF9maW5hbGl6ZXJzKSB7XG4gICAgICAgIHRoaXMuX2ZpbmFsaXplcnMgPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGZpbmFsaXplciBvZiBfZmluYWxpemVycykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBleGVjRmluYWxpemVyKGZpbmFsaXplcik7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgPz8gW107XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICBlcnJvcnMgPSBbLi4uZXJyb3JzLCAuLi5lcnIuZXJyb3JzXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGZpbmFsaXplciB0byB0aGlzIHN1YnNjcmlwdGlvbiwgc28gdGhhdCBmaW5hbGl6YXRpb24gd2lsbCBiZSB1bnN1YnNjcmliZWQvY2FsbGVkXG4gICAqIHdoZW4gdGhpcyBzdWJzY3JpcHRpb24gaXMgdW5zdWJzY3JpYmVkLiBJZiB0aGlzIHN1YnNjcmlwdGlvbiBpcyBhbHJlYWR5IHtAbGluayAjY2xvc2VkfSxcbiAgICogYmVjYXVzZSBpdCBoYXMgYWxyZWFkeSBiZWVuIHVuc3Vic2NyaWJlZCwgdGhlbiB3aGF0ZXZlciBmaW5hbGl6ZXIgaXMgcGFzc2VkIHRvIGl0XG4gICAqIHdpbGwgYXV0b21hdGljYWxseSBiZSBleGVjdXRlZCAodW5sZXNzIHRoZSBmaW5hbGl6ZXIgaXRzZWxmIGlzIGFsc28gYSBjbG9zZWQgc3Vic2NyaXB0aW9uKS5cbiAgICpcbiAgICogQ2xvc2VkIFN1YnNjcmlwdGlvbnMgY2Fubm90IGJlIGFkZGVkIGFzIGZpbmFsaXplcnMgdG8gYW55IHN1YnNjcmlwdGlvbi4gQWRkaW5nIGEgY2xvc2VkXG4gICAqIHN1YnNjcmlwdGlvbiB0byBhIGFueSBzdWJzY3JpcHRpb24gd2lsbCByZXN1bHQgaW4gbm8gb3BlcmF0aW9uLiAoQSBub29wKS5cbiAgICpcbiAgICogQWRkaW5nIGEgc3Vic2NyaXB0aW9uIHRvIGl0c2VsZiwgb3IgYWRkaW5nIGBudWxsYCBvciBgdW5kZWZpbmVkYCB3aWxsIG5vdCBwZXJmb3JtIGFueVxuICAgKiBvcGVyYXRpb24gYXQgYWxsLiAoQSBub29wKS5cbiAgICpcbiAgICogYFN1YnNjcmlwdGlvbmAgaW5zdGFuY2VzIHRoYXQgYXJlIGFkZGVkIHRvIHRoaXMgaW5zdGFuY2Ugd2lsbCBhdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGVtc2VsdmVzXG4gICAqIGlmIHRoZXkgYXJlIHVuc3Vic2NyaWJlZC4gRnVuY3Rpb25zIGFuZCB7QGxpbmsgVW5zdWJzY3JpYmFibGV9IG9iamVjdHMgdGhhdCB5b3Ugd2lzaCB0byByZW1vdmVcbiAgICogd2lsbCBuZWVkIHRvIGJlIHJlbW92ZWQgbWFudWFsbHkgd2l0aCB7QGxpbmsgI3JlbW92ZX1cbiAgICpcbiAgICogQHBhcmFtIHRlYXJkb3duIFRoZSBmaW5hbGl6YXRpb24gbG9naWMgdG8gYWRkIHRvIHRoaXMgc3Vic2NyaXB0aW9uLlxuICAgKi9cbiAgYWRkKHRlYXJkb3duOiBUZWFyZG93bkxvZ2ljKTogdm9pZCB7XG4gICAgLy8gT25seSBhZGQgdGhlIGZpbmFsaXplciBpZiBpdCdzIG5vdCB1bmRlZmluZWRcbiAgICAvLyBhbmQgZG9uJ3QgYWRkIGEgc3Vic2NyaXB0aW9uIHRvIGl0c2VsZi5cbiAgICBpZiAodGVhcmRvd24gJiYgdGVhcmRvd24gIT09IHRoaXMpIHtcbiAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAvLyBJZiB0aGlzIHN1YnNjcmlwdGlvbiBpcyBhbHJlYWR5IGNsb3NlZCxcbiAgICAgICAgLy8gZXhlY3V0ZSB3aGF0ZXZlciBmaW5hbGl6ZXIgaXMgaGFuZGVkIHRvIGl0IGF1dG9tYXRpY2FsbHkuXG4gICAgICAgIGV4ZWNGaW5hbGl6ZXIodGVhcmRvd24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRlYXJkb3duIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgLy8gV2UgZG9uJ3QgYWRkIGNsb3NlZCBzdWJzY3JpcHRpb25zLCBhbmQgd2UgZG9uJ3QgYWRkIHRoZSBzYW1lIHN1YnNjcmlwdGlvblxuICAgICAgICAgIC8vIHR3aWNlLiBTdWJzY3JpcHRpb24gdW5zdWJzY3JpYmUgaXMgaWRlbXBvdGVudC5cbiAgICAgICAgICBpZiAodGVhcmRvd24uY2xvc2VkIHx8IHRlYXJkb3duLl9oYXNQYXJlbnQodGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGVhcmRvd24uX2FkZFBhcmVudCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICAodGhpcy5fZmluYWxpemVycyA9IHRoaXMuX2ZpbmFsaXplcnMgPz8gW10pLnB1c2godGVhcmRvd24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgdG8gc2VlIGlmIGEgdGhpcyBzdWJzY3JpcHRpb24gYWxyZWFkeSBoYXMgYSBwYXJ0aWN1bGFyIHBhcmVudC5cbiAgICogVGhpcyB3aWxsIHNpZ25hbCB0aGF0IHRoaXMgc3Vic2NyaXB0aW9uIGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQgdG8gdGhlIHBhcmVudCBpbiBxdWVzdGlvbi5cbiAgICogQHBhcmFtIHBhcmVudCB0aGUgcGFyZW50IHRvIGNoZWNrIGZvclxuICAgKi9cbiAgcHJpdmF0ZSBfaGFzUGFyZW50KHBhcmVudDogU3Vic2NyaXB0aW9uKSB7XG4gICAgY29uc3QgeyBfcGFyZW50YWdlIH0gPSB0aGlzO1xuICAgIHJldHVybiBfcGFyZW50YWdlID09PSBwYXJlbnQgfHwgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkgJiYgX3BhcmVudGFnZS5pbmNsdWRlcyhwYXJlbnQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgcGFyZW50IHRvIHRoaXMgc3Vic2NyaXB0aW9uIHNvIGl0IGNhbiBiZSByZW1vdmVkIGZyb20gdGhlIHBhcmVudCBpZiBpdFxuICAgKiB1bnN1YnNjcmliZXMgb24gaXQncyBvd24uXG4gICAqXG4gICAqIE5PVEU6IFRISVMgQVNTVU1FUyBUSEFUIHtAbGluayBfaGFzUGFyZW50fSBIQVMgQUxSRUFEWSBCRUVOIENIRUNLRUQuXG4gICAqIEBwYXJhbSBwYXJlbnQgVGhlIHBhcmVudCBzdWJzY3JpcHRpb24gdG8gYWRkXG4gICAqL1xuICBwcml2YXRlIF9hZGRQYXJlbnQocGFyZW50OiBTdWJzY3JpcHRpb24pIHtcbiAgICBjb25zdCB7IF9wYXJlbnRhZ2UgfSA9IHRoaXM7XG4gICAgdGhpcy5fcGFyZW50YWdlID0gQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSA/IChfcGFyZW50YWdlLnB1c2gocGFyZW50KSwgX3BhcmVudGFnZSkgOiBfcGFyZW50YWdlID8gW19wYXJlbnRhZ2UsIHBhcmVudF0gOiBwYXJlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIG9uIGEgY2hpbGQgd2hlbiBpdCBpcyByZW1vdmVkIHZpYSB7QGxpbmsgI3JlbW92ZX0uXG4gICAqIEBwYXJhbSBwYXJlbnQgVGhlIHBhcmVudCB0byByZW1vdmVcbiAgICovXG4gIHByaXZhdGUgX3JlbW92ZVBhcmVudChwYXJlbnQ6IFN1YnNjcmlwdGlvbikge1xuICAgIGNvbnN0IHsgX3BhcmVudGFnZSB9ID0gdGhpcztcbiAgICBpZiAoX3BhcmVudGFnZSA9PT0gcGFyZW50KSB7XG4gICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSkge1xuICAgICAgYXJyUmVtb3ZlKF9wYXJlbnRhZ2UsIHBhcmVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBmaW5hbGl6ZXIgZnJvbSB0aGlzIHN1YnNjcmlwdGlvbiB0aGF0IHdhcyBwcmV2aW91c2x5IGFkZGVkIHdpdGggdGhlIHtAbGluayAjYWRkfSBtZXRob2QuXG4gICAqXG4gICAqIE5vdGUgdGhhdCBgU3Vic2NyaXB0aW9uYCBpbnN0YW5jZXMsIHdoZW4gdW5zdWJzY3JpYmVkLCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZW1zZWx2ZXNcbiAgICogZnJvbSBldmVyeSBvdGhlciBgU3Vic2NyaXB0aW9uYCB0aGV5IGhhdmUgYmVlbiBhZGRlZCB0by4gVGhpcyBtZWFucyB0aGF0IHVzaW5nIHRoZSBgcmVtb3ZlYCBtZXRob2RcbiAgICogaXMgbm90IGEgY29tbW9uIHRoaW5nIGFuZCBzaG91bGQgYmUgdXNlZCB0aG91Z2h0ZnVsbHkuXG4gICAqXG4gICAqIElmIHlvdSBhZGQgdGhlIHNhbWUgZmluYWxpemVyIGluc3RhbmNlIG9mIGEgZnVuY3Rpb24gb3IgYW4gdW5zdWJzY3JpYmFibGUgb2JqZWN0IHRvIGEgYFN1YnNjcmlwdGlvbmAgaW5zdGFuY2VcbiAgICogbW9yZSB0aGFuIG9uY2UsIHlvdSB3aWxsIG5lZWQgdG8gY2FsbCBgcmVtb3ZlYCB0aGUgc2FtZSBudW1iZXIgb2YgdGltZXMgdG8gcmVtb3ZlIGFsbCBpbnN0YW5jZXMuXG4gICAqXG4gICAqIEFsbCBmaW5hbGl6ZXIgaW5zdGFuY2VzIGFyZSByZW1vdmVkIHRvIGZyZWUgdXAgbWVtb3J5IHVwb24gdW5zdWJzY3JpcHRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB0ZWFyZG93biBUaGUgZmluYWxpemVyIHRvIHJlbW92ZSBmcm9tIHRoaXMgc3Vic2NyaXB0aW9uXG4gICAqL1xuICByZW1vdmUodGVhcmRvd246IEV4Y2x1ZGU8VGVhcmRvd25Mb2dpYywgdm9pZD4pOiB2b2lkIHtcbiAgICBjb25zdCB7IF9maW5hbGl6ZXJzIH0gPSB0aGlzO1xuICAgIF9maW5hbGl6ZXJzICYmIGFyclJlbW92ZShfZmluYWxpemVycywgdGVhcmRvd24pO1xuXG4gICAgaWYgKHRlYXJkb3duIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICB0ZWFyZG93bi5fcmVtb3ZlUGFyZW50KHRoaXMpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgRU1QVFlfU1VCU0NSSVBUSU9OID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNTdWJzY3JpcHRpb24odmFsdWU6IGFueSk6IHZhbHVlIGlzIFN1YnNjcmlwdGlvbiB7XG4gIHJldHVybiAoXG4gICAgdmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24gfHxcbiAgICAodmFsdWUgJiYgJ2Nsb3NlZCcgaW4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5yZW1vdmUpICYmIGlzRnVuY3Rpb24odmFsdWUuYWRkKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnVuc3Vic2NyaWJlKSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gZXhlY0ZpbmFsaXplcihmaW5hbGl6ZXI6IFVuc3Vic2NyaWJhYmxlIHwgKCgpID0+IHZvaWQpKSB7XG4gIGlmIChpc0Z1bmN0aW9uKGZpbmFsaXplcikpIHtcbiAgICBmaW5hbGl6ZXIoKTtcbiAgfSBlbHNlIHtcbiAgICBmaW5hbGl6ZXIudW5zdWJzY3JpYmUoKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgR2xvYmFsQ29uZmlnfSBvYmplY3QgZm9yIFJ4SlMuIEl0IGlzIHVzZWQgdG8gY29uZmlndXJlIHRoaW5nc1xuICogbGlrZSBob3cgdG8gcmVhY3Qgb24gdW5oYW5kbGVkIGVycm9ycy5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbmZpZzogR2xvYmFsQ29uZmlnID0ge1xuICBvblVuaGFuZGxlZEVycm9yOiBudWxsLFxuICBvblN0b3BwZWROb3RpZmljYXRpb246IG51bGwsXG4gIFByb21pc2U6IHVuZGVmaW5lZCxcbiAgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZzogZmFsc2UsXG4gIHVzZURlcHJlY2F0ZWROZXh0Q29udGV4dDogZmFsc2UsXG59O1xuXG4vKipcbiAqIFRoZSBnbG9iYWwgY29uZmlndXJhdGlvbiBvYmplY3QgZm9yIFJ4SlMsIHVzZWQgdG8gY29uZmlndXJlIHRoaW5nc1xuICogbGlrZSBob3cgdG8gcmVhY3Qgb24gdW5oYW5kbGVkIGVycm9ycy4gQWNjZXNzaWJsZSB2aWEge0BsaW5rIGNvbmZpZ31cbiAqIG9iamVjdC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHbG9iYWxDb25maWcge1xuICAvKipcbiAgICogQSByZWdpc3RyYXRpb24gcG9pbnQgZm9yIHVuaGFuZGxlZCBlcnJvcnMgZnJvbSBSeEpTLiBUaGVzZSBhcmUgZXJyb3JzIHRoYXRcbiAgICogY2Fubm90IHdlcmUgbm90IGhhbmRsZWQgYnkgY29uc3VtaW5nIGNvZGUgaW4gdGhlIHVzdWFsIHN1YnNjcmlwdGlvbiBwYXRoLiBGb3JcbiAgICogZXhhbXBsZSwgaWYgeW91IGhhdmUgdGhpcyBjb25maWd1cmVkLCBhbmQgeW91IHN1YnNjcmliZSB0byBhbiBvYnNlcnZhYmxlIHdpdGhvdXRcbiAgICogcHJvdmlkaW5nIGFuIGVycm9yIGhhbmRsZXIsIGVycm9ycyBmcm9tIHRoYXQgc3Vic2NyaXB0aW9uIHdpbGwgZW5kIHVwIGhlcmUuIFRoaXNcbiAgICogd2lsbCBfYWx3YXlzXyBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHkgb24gYW5vdGhlciBqb2IgaW4gdGhlIHJ1bnRpbWUuIFRoaXMgaXMgYmVjYXVzZVxuICAgKiB3ZSBkbyBub3Qgd2FudCBlcnJvcnMgdGhyb3duIGluIHRoaXMgdXNlci1jb25maWd1cmVkIGhhbmRsZXIgdG8gaW50ZXJmZXJlIHdpdGggdGhlXG4gICAqIGJlaGF2aW9yIG9mIHRoZSBsaWJyYXJ5LlxuICAgKi9cbiAgb25VbmhhbmRsZWRFcnJvcjogKChlcnI6IGFueSkgPT4gdm9pZCkgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIHJlZ2lzdHJhdGlvbiBwb2ludCBmb3Igbm90aWZpY2F0aW9ucyB0aGF0IGNhbm5vdCBiZSBzZW50IHRvIHN1YnNjcmliZXJzIGJlY2F1c2UgdGhleVxuICAgKiBoYXZlIGNvbXBsZXRlZCwgZXJyb3JlZCBvciBoYXZlIGJlZW4gZXhwbGljaXRseSB1bnN1YnNjcmliZWQuIEJ5IGRlZmF1bHQsIG5leHQsIGNvbXBsZXRlXG4gICAqIGFuZCBlcnJvciBub3RpZmljYXRpb25zIHNlbnQgdG8gc3RvcHBlZCBzdWJzY3JpYmVycyBhcmUgbm9vcHMuIEhvd2V2ZXIsIHNvbWV0aW1lcyBjYWxsZXJzXG4gICAqIG1pZ2h0IHdhbnQgYSBkaWZmZXJlbnQgYmVoYXZpb3IuIEZvciBleGFtcGxlLCB3aXRoIHNvdXJjZXMgdGhhdCBhdHRlbXB0IHRvIHJlcG9ydCBlcnJvcnNcbiAgICogdG8gc3RvcHBlZCBzdWJzY3JpYmVycywgYSBjYWxsZXIgY2FuIGNvbmZpZ3VyZSBSeEpTIHRvIHRocm93IGFuIHVuaGFuZGxlZCBlcnJvciBpbnN0ZWFkLlxuICAgKiBUaGlzIHdpbGwgX2Fsd2F5c18gYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5IG9uIGFub3RoZXIgam9iIGluIHRoZSBydW50aW1lLiBUaGlzIGlzIGJlY2F1c2VcbiAgICogd2UgZG8gbm90IHdhbnQgZXJyb3JzIHRocm93biBpbiB0aGlzIHVzZXItY29uZmlndXJlZCBoYW5kbGVyIHRvIGludGVyZmVyZSB3aXRoIHRoZVxuICAgKiBiZWhhdmlvciBvZiB0aGUgbGlicmFyeS5cbiAgICovXG4gIG9uU3RvcHBlZE5vdGlmaWNhdGlvbjogKChub3RpZmljYXRpb246IE9ic2VydmFibGVOb3RpZmljYXRpb248YW55Piwgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxhbnk+KSA9PiB2b2lkKSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBwcm9taXNlIGNvbnN0cnVjdG9yIHVzZWQgYnkgZGVmYXVsdCBmb3Ige0BsaW5rIE9ic2VydmFibGUjdG9Qcm9taXNlIHRvUHJvbWlzZX0gYW5kIHtAbGluayBPYnNlcnZhYmxlI2ZvckVhY2ggZm9yRWFjaH1cbiAgICogbWV0aG9kcy5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgQXMgb2YgdmVyc2lvbiA4LCBSeEpTIHdpbGwgbm8gbG9uZ2VyIHN1cHBvcnQgdGhpcyBzb3J0IG9mIGluamVjdGlvbiBvZiBhXG4gICAqIFByb21pc2UgY29uc3RydWN0b3IuIElmIHlvdSBuZWVkIGEgUHJvbWlzZSBpbXBsZW1lbnRhdGlvbiBvdGhlciB0aGFuIG5hdGl2ZSBwcm9taXNlcyxcbiAgICogcGxlYXNlIHBvbHlmaWxsL3BhdGNoIFByb21pc2UgYXMgeW91IHNlZSBhcHByb3ByaWF0ZS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgUHJvbWlzZT86IFByb21pc2VDb25zdHJ1Y3Rvckxpa2U7XG5cbiAgLyoqXG4gICAqIElmIHRydWUsIHR1cm5zIG9uIHN5bmNocm9ub3VzIGVycm9yIHJldGhyb3dpbmcsIHdoaWNoIGlzIGEgZGVwcmVjYXRlZCBiZWhhdmlvclxuICAgKiBpbiB2NiBhbmQgaGlnaGVyLiBUaGlzIGJlaGF2aW9yIGVuYWJsZXMgYmFkIHBhdHRlcm5zIGxpa2Ugd3JhcHBpbmcgYSBzdWJzY3JpYmVcbiAgICogY2FsbCBpbiBhIHRyeS9jYXRjaCBibG9jay4gSXQgYWxzbyBlbmFibGVzIHByb2R1Y2VyIGludGVyZmVyZW5jZSwgYSBuYXN0eSBidWdcbiAgICogd2hlcmUgYSBtdWx0aWNhc3QgY2FuIGJlIGJyb2tlbiBmb3IgYWxsIG9ic2VydmVycyBieSBhIGRvd25zdHJlYW0gY29uc3VtZXIgd2l0aFxuICAgKiBhbiB1bmhhbmRsZWQgZXJyb3IuIERPIE5PVCBVU0UgVEhJUyBGTEFHIFVOTEVTUyBJVCdTIE5FRURFRCBUTyBCVVkgVElNRVxuICAgKiBGT1IgTUlHUkFUSU9OIFJFQVNPTlMuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIEFzIG9mIHZlcnNpb24gOCwgUnhKUyB3aWxsIG5vIGxvbmdlciBzdXBwb3J0IHN5bmNocm9ub3VzIHRocm93aW5nXG4gICAqIG9mIHVuaGFuZGxlZCBlcnJvcnMuIEFsbCBlcnJvcnMgd2lsbCBiZSB0aHJvd24gb24gYSBzZXBhcmF0ZSBjYWxsIHN0YWNrIHRvIHByZXZlbnQgYmFkXG4gICAqIGJlaGF2aW9ycyBkZXNjcmliZWQgYWJvdmUuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAgICovXG4gIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIElmIHRydWUsIGVuYWJsZXMgYW4gYXMtb2YteWV0IHVuZG9jdW1lbnRlZCBmZWF0dXJlIGZyb20gdjU6IFRoZSBhYmlsaXR5IHRvIGFjY2Vzc1xuICAgKiBgdW5zdWJzY3JpYmUoKWAgdmlhIGB0aGlzYCBjb250ZXh0IGluIGBuZXh0YCBmdW5jdGlvbnMgY3JlYXRlZCBpbiBvYnNlcnZlcnMgcGFzc2VkXG4gICAqIHRvIGBzdWJzY3JpYmVgLlxuICAgKlxuICAgKiBUaGlzIGlzIGJlaW5nIHJlbW92ZWQgYmVjYXVzZSB0aGUgcGVyZm9ybWFuY2Ugd2FzIHNldmVyZWx5IHByb2JsZW1hdGljLCBhbmQgaXQgY291bGQgYWxzbyBjYXVzZVxuICAgKiBpc3N1ZXMgd2hlbiB0eXBlcyBvdGhlciB0aGFuIFBPSk9zIGFyZSBwYXNzZWQgdG8gc3Vic2NyaWJlIGFzIHN1YnNjcmliZXJzLCBhcyB0aGV5IHdpbGwgbGlrZWx5IGhhdmVcbiAgICogdGhlaXIgYHRoaXNgIGNvbnRleHQgb3ZlcndyaXR0ZW4uXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIEFzIG9mIHZlcnNpb24gOCwgUnhKUyB3aWxsIG5vIGxvbmdlciBzdXBwb3J0IGFsdGVyaW5nIHRoZVxuICAgKiBjb250ZXh0IG9mIG5leHQgZnVuY3Rpb25zIHByb3ZpZGVkIGFzIHBhcnQgb2YgYW4gb2JzZXJ2ZXIgdG8gU3Vic2NyaWJlLiBJbnN0ZWFkLFxuICAgKiB5b3Ugd2lsbCBoYXZlIGFjY2VzcyB0byBhIHN1YnNjcmlwdGlvbiBvciBhIHNpZ25hbCBvciB0b2tlbiB0aGF0IHdpbGwgYWxsb3cgeW91IHRvIGRvIHRoaW5ncyBsaWtlXG4gICAqIHVuc3Vic2NyaWJlIGFuZCB0ZXN0IGNsb3NlZCBzdGF0dXMuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAgICovXG4gIHVzZURlcHJlY2F0ZWROZXh0Q29udGV4dDogYm9vbGVhbjtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IFRpbWVySGFuZGxlIH0gZnJvbSAnLi90aW1lckhhbmRsZSc7XG50eXBlIFNldFRpbWVvdXRGdW5jdGlvbiA9IChoYW5kbGVyOiAoKSA9PiB2b2lkLCB0aW1lb3V0PzogbnVtYmVyLCAuLi5hcmdzOiBhbnlbXSkgPT4gVGltZXJIYW5kbGU7XG50eXBlIENsZWFyVGltZW91dEZ1bmN0aW9uID0gKGhhbmRsZTogVGltZXJIYW5kbGUpID0+IHZvaWQ7XG5cbmludGVyZmFjZSBUaW1lb3V0UHJvdmlkZXIge1xuICBzZXRUaW1lb3V0OiBTZXRUaW1lb3V0RnVuY3Rpb247XG4gIGNsZWFyVGltZW91dDogQ2xlYXJUaW1lb3V0RnVuY3Rpb247XG4gIGRlbGVnYXRlOlxuICAgIHwge1xuICAgICAgICBzZXRUaW1lb3V0OiBTZXRUaW1lb3V0RnVuY3Rpb247XG4gICAgICAgIGNsZWFyVGltZW91dDogQ2xlYXJUaW1lb3V0RnVuY3Rpb247XG4gICAgICB9XG4gICAgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjb25zdCB0aW1lb3V0UHJvdmlkZXI6IFRpbWVvdXRQcm92aWRlciA9IHtcbiAgLy8gV2hlbiBhY2Nlc3NpbmcgdGhlIGRlbGVnYXRlLCB1c2UgdGhlIHZhcmlhYmxlIHJhdGhlciB0aGFuIGB0aGlzYCBzbyB0aGF0XG4gIC8vIHRoZSBmdW5jdGlvbnMgY2FuIGJlIGNhbGxlZCB3aXRob3V0IGJlaW5nIGJvdW5kIHRvIHRoZSBwcm92aWRlci5cbiAgc2V0VGltZW91dChoYW5kbGVyOiAoKSA9PiB2b2lkLCB0aW1lb3V0PzogbnVtYmVyLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgeyBkZWxlZ2F0ZSB9ID0gdGltZW91dFByb3ZpZGVyO1xuICAgIGlmIChkZWxlZ2F0ZT8uc2V0VGltZW91dCkge1xuICAgICAgcmV0dXJuIGRlbGVnYXRlLnNldFRpbWVvdXQoaGFuZGxlciwgdGltZW91dCwgLi4uYXJncyk7XG4gICAgfVxuICAgIHJldHVybiBzZXRUaW1lb3V0KGhhbmRsZXIsIHRpbWVvdXQsIC4uLmFyZ3MpO1xuICB9LFxuICBjbGVhclRpbWVvdXQoaGFuZGxlKSB7XG4gICAgY29uc3QgeyBkZWxlZ2F0ZSB9ID0gdGltZW91dFByb3ZpZGVyO1xuICAgIHJldHVybiAoZGVsZWdhdGU/LmNsZWFyVGltZW91dCB8fCBjbGVhclRpbWVvdXQpKGhhbmRsZSBhcyBhbnkpO1xuICB9LFxuICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbiIsICJpbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHsgdGltZW91dFByb3ZpZGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlcic7XG5cbi8qKlxuICogSGFuZGxlcyBhbiBlcnJvciBvbiBhbm90aGVyIGpvYiBlaXRoZXIgd2l0aCB0aGUgdXNlci1jb25maWd1cmVkIHtAbGluayBvblVuaGFuZGxlZEVycm9yfSxcbiAqIG9yIGJ5IHRocm93aW5nIGl0IG9uIHRoYXQgbmV3IGpvYiBzbyBpdCBjYW4gYmUgcGlja2VkIHVwIGJ5IGB3aW5kb3cub25lcnJvcmAsIGBwcm9jZXNzLm9uKCdlcnJvcicpYCwgZXRjLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCB3aGVuZXZlciB0aGVyZSBpcyBhbiBlcnJvciB0aGF0IGlzIG91dC1vZi1iYW5kIHdpdGggdGhlIHN1YnNjcmlwdGlvblxuICogb3Igd2hlbiBhbiBlcnJvciBoaXRzIGEgdGVybWluYWwgYm91bmRhcnkgb2YgdGhlIHN1YnNjcmlwdGlvbiBhbmQgbm8gZXJyb3IgaGFuZGxlciB3YXMgcHJvdmlkZWQuXG4gKlxuICogQHBhcmFtIGVyciB0aGUgZXJyb3IgdG8gcmVwb3J0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnI6IGFueSkge1xuICB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgY29uc3QgeyBvblVuaGFuZGxlZEVycm9yIH0gPSBjb25maWc7XG4gICAgaWYgKG9uVW5oYW5kbGVkRXJyb3IpIHtcbiAgICAgIC8vIEV4ZWN1dGUgdGhlIHVzZXItY29uZmlndXJlZCBlcnJvciBoYW5kbGVyLlxuICAgICAgb25VbmhhbmRsZWRFcnJvcihlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaHJvdyBzbyBpdCBpcyBwaWNrZWQgdXAgYnkgdGhlIHJ1bnRpbWUncyB1bmNhdWdodCBlcnJvciBtZWNoYW5pc20uXG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9KTtcbn1cbiIsICIvKiB0c2xpbnQ6ZGlzYWJsZTpuby1lbXB0eSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7IH1cbiIsICJpbXBvcnQgeyBDb21wbGV0ZU5vdGlmaWNhdGlvbiwgTmV4dE5vdGlmaWNhdGlvbiwgRXJyb3JOb3RpZmljYXRpb24gfSBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBBIGNvbXBsZXRpb24gb2JqZWN0IG9wdGltaXplZCBmb3IgbWVtb3J5IHVzZSBhbmQgY3JlYXRlZCB0byBiZSB0aGVcbiAqIHNhbWUgXCJzaGFwZVwiIGFzIG90aGVyIG5vdGlmaWNhdGlvbnMgaW4gdjguXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IENPTVBMRVRFX05PVElGSUNBVElPTiA9ICgoKSA9PiBjcmVhdGVOb3RpZmljYXRpb24oJ0MnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCkgYXMgQ29tcGxldGVOb3RpZmljYXRpb24pKCk7XG5cbi8qKlxuICogSW50ZXJuYWwgdXNlIG9ubHkuIENyZWF0ZXMgYW4gb3B0aW1pemVkIGVycm9yIG5vdGlmaWNhdGlvbiB0aGF0IGlzIHRoZSBzYW1lIFwic2hhcGVcIlxuICogYXMgb3RoZXIgbm90aWZpY2F0aW9ucy5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JOb3RpZmljYXRpb24oZXJyb3I6IGFueSk6IEVycm9yTm90aWZpY2F0aW9uIHtcbiAgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignRScsIHVuZGVmaW5lZCwgZXJyb3IpIGFzIGFueTtcbn1cblxuLyoqXG4gKiBJbnRlcm5hbCB1c2Ugb25seS4gQ3JlYXRlcyBhbiBvcHRpbWl6ZWQgbmV4dCBub3RpZmljYXRpb24gdGhhdCBpcyB0aGUgc2FtZSBcInNoYXBlXCJcbiAqIGFzIG90aGVyIG5vdGlmaWNhdGlvbnMuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5leHROb3RpZmljYXRpb248VD4odmFsdWU6IFQpIHtcbiAgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignTicsIHZhbHVlLCB1bmRlZmluZWQpIGFzIE5leHROb3RpZmljYXRpb248VD47XG59XG5cbi8qKlxuICogRW5zdXJlcyB0aGF0IGFsbCBub3RpZmljYXRpb25zIGNyZWF0ZWQgaW50ZXJuYWxseSBoYXZlIHRoZSBzYW1lIFwic2hhcGVcIiBpbiB2OC5cbiAqXG4gKiBUT0RPOiBUaGlzIGlzIG9ubHkgZXhwb3J0ZWQgdG8gc3VwcG9ydCBhIGNyYXp5IGxlZ2FjeSB0ZXN0IGluIGBncm91cEJ5YC5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTm90aWZpY2F0aW9uKGtpbmQ6ICdOJyB8ICdFJyB8ICdDJywgdmFsdWU6IGFueSwgZXJyb3I6IGFueSkge1xuICByZXR1cm4ge1xuICAgIGtpbmQsXG4gICAgdmFsdWUsXG4gICAgZXJyb3IsXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJztcblxubGV0IGNvbnRleHQ6IHsgZXJyb3JUaHJvd246IGJvb2xlYW47IGVycm9yOiBhbnkgfSB8IG51bGwgPSBudWxsO1xuXG4vKipcbiAqIEhhbmRsZXMgZGVhbGluZyB3aXRoIGVycm9ycyBmb3Igc3VwZXItZ3Jvc3MgbW9kZS4gQ3JlYXRlcyBhIGNvbnRleHQsIGluIHdoaWNoXG4gKiBhbnkgc3luY2hyb25vdXNseSB0aHJvd24gZXJyb3JzIHdpbGwgYmUgcGFzc2VkIHRvIHtAbGluayBjYXB0dXJlRXJyb3J9LiBXaGljaFxuICogd2lsbCByZWNvcmQgdGhlIGVycm9yIHN1Y2ggdGhhdCBpdCB3aWxsIGJlIHJldGhyb3duIGFmdGVyIHRoZSBjYWxsIGJhY2sgaXMgY29tcGxldGUuXG4gKiBUT0RPOiBSZW1vdmUgaW4gdjhcbiAqIEBwYXJhbSBjYiBBbiBpbW1lZGlhdGVseSBleGVjdXRlZCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVycm9yQ29udGV4dChjYjogKCkgPT4gdm9pZCkge1xuICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICBjb25zdCBpc1Jvb3QgPSAhY29udGV4dDtcbiAgICBpZiAoaXNSb290KSB7XG4gICAgICBjb250ZXh0ID0geyBlcnJvclRocm93bjogZmFsc2UsIGVycm9yOiBudWxsIH07XG4gICAgfVxuICAgIGNiKCk7XG4gICAgaWYgKGlzUm9vdCkge1xuICAgICAgY29uc3QgeyBlcnJvclRocm93biwgZXJyb3IgfSA9IGNvbnRleHQhO1xuICAgICAgY29udGV4dCA9IG51bGw7XG4gICAgICBpZiAoZXJyb3JUaHJvd24pIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFRoaXMgaXMgdGhlIGdlbmVyYWwgbm9uLWRlcHJlY2F0ZWQgcGF0aCBmb3IgZXZlcnlvbmUgdGhhdFxuICAgIC8vIGlzbid0IGNyYXp5IGVub3VnaCB0byB1c2Ugc3VwZXItZ3Jvc3MgbW9kZSAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZylcbiAgICBjYigpO1xuICB9XG59XG5cbi8qKlxuICogQ2FwdHVyZXMgZXJyb3JzIG9ubHkgaW4gc3VwZXItZ3Jvc3MgbW9kZS5cbiAqIEBwYXJhbSBlcnIgdGhlIGVycm9yIHRvIGNhcHR1cmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhcHR1cmVFcnJvcihlcnI6IGFueSkge1xuICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgJiYgY29udGV4dCkge1xuICAgIGNvbnRleHQuZXJyb3JUaHJvd24gPSB0cnVlO1xuICAgIGNvbnRleHQuZXJyb3IgPSBlcnI7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgT2JzZXJ2ZXIsIE9ic2VydmFibGVOb3RpZmljYXRpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGlzU3Vic2NyaXB0aW9uLCBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4vdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi91dGlsL25vb3AnO1xuaW1wb3J0IHsgbmV4dE5vdGlmaWNhdGlvbiwgZXJyb3JOb3RpZmljYXRpb24sIENPTVBMRVRFX05PVElGSUNBVElPTiB9IGZyb20gJy4vTm90aWZpY2F0aW9uRmFjdG9yaWVzJztcbmltcG9ydCB7IHRpbWVvdXRQcm92aWRlciB9IGZyb20gJy4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlcic7XG5pbXBvcnQgeyBjYXB0dXJlRXJyb3IgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSB7QGxpbmsgT2JzZXJ2ZXJ9IGludGVyZmFjZSBhbmQgZXh0ZW5kcyB0aGVcbiAqIHtAbGluayBTdWJzY3JpcHRpb259IGNsYXNzLiBXaGlsZSB0aGUge0BsaW5rIE9ic2VydmVyfSBpcyB0aGUgcHVibGljIEFQSSBmb3JcbiAqIGNvbnN1bWluZyB0aGUgdmFsdWVzIG9mIGFuIHtAbGluayBPYnNlcnZhYmxlfSwgYWxsIE9ic2VydmVycyBnZXQgY29udmVydGVkIHRvXG4gKiBhIFN1YnNjcmliZXIsIGluIG9yZGVyIHRvIHByb3ZpZGUgU3Vic2NyaXB0aW9uLWxpa2UgY2FwYWJpbGl0aWVzIHN1Y2ggYXNcbiAqIGB1bnN1YnNjcmliZWAuIFN1YnNjcmliZXIgaXMgYSBjb21tb24gdHlwZSBpbiBSeEpTLCBhbmQgY3J1Y2lhbCBmb3JcbiAqIGltcGxlbWVudGluZyBvcGVyYXRvcnMsIGJ1dCBpdCBpcyByYXJlbHkgdXNlZCBhcyBhIHB1YmxpYyBBUEkuXG4gKlxuICogQGNsYXNzIFN1YnNjcmliZXI8VD5cbiAqL1xuZXhwb3J0IGNsYXNzIFN1YnNjcmliZXI8VD4gZXh0ZW5kcyBTdWJzY3JpcHRpb24gaW1wbGVtZW50cyBPYnNlcnZlcjxUPiB7XG4gIC8qKlxuICAgKiBBIHN0YXRpYyBmYWN0b3J5IGZvciBhIFN1YnNjcmliZXIsIGdpdmVuIGEgKHBvdGVudGlhbGx5IHBhcnRpYWwpIGRlZmluaXRpb25cbiAgICogb2YgYW4gT2JzZXJ2ZXIuXG4gICAqIEBwYXJhbSBuZXh0IFRoZSBgbmV4dGAgY2FsbGJhY2sgb2YgYW4gT2JzZXJ2ZXIuXG4gICAqIEBwYXJhbSBlcnJvciBUaGUgYGVycm9yYCBjYWxsYmFjayBvZiBhblxuICAgKiBPYnNlcnZlci5cbiAgICogQHBhcmFtIGNvbXBsZXRlIFRoZSBgY29tcGxldGVgIGNhbGxiYWNrIG9mIGFuXG4gICAqIE9ic2VydmVyLlxuICAgKiBAcmV0dXJuIEEgU3Vic2NyaWJlciB3cmFwcGluZyB0aGUgKHBhcnRpYWxseSBkZWZpbmVkKVxuICAgKiBPYnNlcnZlciByZXByZXNlbnRlZCBieSB0aGUgZ2l2ZW4gYXJndW1lbnRzLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAZGVwcmVjYXRlZCBEbyBub3QgdXNlLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIFRoZXJlIGlzIG5vIHJlcGxhY2VtZW50IGZvciB0aGlzXG4gICAqIG1ldGhvZCwgYW5kIHRoZXJlIGlzIG5vIHJlYXNvbiB0byBiZSBjcmVhdGluZyBpbnN0YW5jZXMgb2YgYFN1YnNjcmliZXJgIGRpcmVjdGx5LlxuICAgKiBJZiB5b3UgaGF2ZSBhIHNwZWNpZmljIHVzZSBjYXNlLCBwbGVhc2UgZmlsZSBhbiBpc3N1ZS5cbiAgICovXG4gIHN0YXRpYyBjcmVhdGU8VD4obmV4dD86ICh4PzogVCkgPT4gdm9pZCwgZXJyb3I/OiAoZT86IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaWJlcjxUPiB7XG4gICAgcmV0dXJuIG5ldyBTYWZlU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICB9XG5cbiAgLyoqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZSBkaXJlY3RseS4gV2lsbCBiZSBtYWRlIGludGVybmFsIGluIHY4LiAqL1xuICBwcm90ZWN0ZWQgaXNTdG9wcGVkOiBib29sZWFuID0gZmFsc2U7XG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgcHJvdGVjdGVkIGRlc3RpbmF0aW9uOiBTdWJzY3JpYmVyPGFueT4gfCBPYnNlcnZlcjxhbnk+OyAvLyB0aGlzIGBhbnlgIGlzIHRoZSBlc2NhcGUgaGF0Y2ggdG8gZXJhc2UgZXh0cmEgdHlwZSBwYXJhbSAoZS5nLiBSKVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC5cbiAgICogVGhlcmUgaXMgbm8gcmVhc29uIHRvIGRpcmVjdGx5IGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiBTdWJzY3JpYmVyLiBUaGlzIHR5cGUgaXMgZXhwb3J0ZWQgZm9yIHR5cGluZ3MgcmVhc29ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGRlc3RpbmF0aW9uPzogU3Vic2NyaWJlcjxhbnk+IHwgT2JzZXJ2ZXI8YW55Pikge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKGRlc3RpbmF0aW9uKSB7XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAvLyBBdXRvbWF0aWNhbGx5IGNoYWluIHN1YnNjcmlwdGlvbnMgdG9nZXRoZXIgaGVyZS5cbiAgICAgIC8vIGlmIGRlc3RpbmF0aW9uIGlzIGEgU3Vic2NyaXB0aW9uLCB0aGVuIGl0IGlzIGEgU3Vic2NyaWJlci5cbiAgICAgIGlmIChpc1N1YnNjcmlwdGlvbihkZXN0aW5hdGlvbikpIHtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkKHRoaXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uID0gRU1QVFlfT0JTRVJWRVI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB7QGxpbmsgT2JzZXJ2ZXJ9IGNhbGxiYWNrIHRvIHJlY2VpdmUgbm90aWZpY2F0aW9ucyBvZiB0eXBlIGBuZXh0YCBmcm9tXG4gICAqIHRoZSBPYnNlcnZhYmxlLCB3aXRoIGEgdmFsdWUuIFRoZSBPYnNlcnZhYmxlIG1heSBjYWxsIHRoaXMgbWV0aG9kIDAgb3IgbW9yZVxuICAgKiB0aW1lcy5cbiAgICogQHBhcmFtIHtUfSBbdmFsdWVdIFRoZSBgbmV4dGAgdmFsdWUuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBuZXh0KHZhbHVlPzogVCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihuZXh0Tm90aWZpY2F0aW9uKHZhbHVlKSwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX25leHQodmFsdWUhKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhlIHtAbGluayBPYnNlcnZlcn0gY2FsbGJhY2sgdG8gcmVjZWl2ZSBub3RpZmljYXRpb25zIG9mIHR5cGUgYGVycm9yYCBmcm9tXG4gICAqIHRoZSBPYnNlcnZhYmxlLCB3aXRoIGFuIGF0dGFjaGVkIGBFcnJvcmAuIE5vdGlmaWVzIHRoZSBPYnNlcnZlciB0aGF0XG4gICAqIHRoZSBPYnNlcnZhYmxlIGhhcyBleHBlcmllbmNlZCBhbiBlcnJvciBjb25kaXRpb24uXG4gICAqIEBwYXJhbSB7YW55fSBbZXJyXSBUaGUgYGVycm9yYCBleGNlcHRpb24uXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBlcnJvcihlcnI/OiBhbnkpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oZXJyb3JOb3RpZmljYXRpb24oZXJyKSwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2Vycm9yKGVycik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB7QGxpbmsgT2JzZXJ2ZXJ9IGNhbGxiYWNrIHRvIHJlY2VpdmUgYSB2YWx1ZWxlc3Mgbm90aWZpY2F0aW9uIG9mIHR5cGVcbiAgICogYGNvbXBsZXRlYCBmcm9tIHRoZSBPYnNlcnZhYmxlLiBOb3RpZmllcyB0aGUgT2JzZXJ2ZXIgdGhhdCB0aGUgT2JzZXJ2YWJsZVxuICAgKiBoYXMgZmluaXNoZWQgc2VuZGluZyBwdXNoLWJhc2VkIG5vdGlmaWNhdGlvbnMuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBjb21wbGV0ZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oQ09NUExFVEVfTk9USUZJQ0FUSU9OLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICB9XG4gIH1cblxuICB1bnN1YnNjcmliZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICBzdXBlci51bnN1YnNjcmliZSgpO1xuICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IG51bGwhO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfbmV4dCh2YWx1ZTogVCk6IHZvaWQge1xuICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX2Vycm9yKGVycjogYW55KTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfY29tcGxldGUoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgYmluZCBpcyBjYXB0dXJlZCBoZXJlIGJlY2F1c2Ugd2Ugd2FudCB0byBiZSBhYmxlIHRvIGhhdmVcbiAqIGNvbXBhdGliaWxpdHkgd2l0aCBtb25vaWQgbGlicmFyaWVzIHRoYXQgdGVuZCB0byB1c2UgYSBtZXRob2QgbmFtZWRcbiAqIGBiaW5kYC4gSW4gcGFydGljdWxhciwgYSBsaWJyYXJ5IGNhbGxlZCBNb25pbyByZXF1aXJlcyB0aGlzLlxuICovXG5jb25zdCBfYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuXG5mdW5jdGlvbiBiaW5kPEZuIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KGZuOiBGbiwgdGhpc0FyZzogYW55KTogRm4ge1xuICByZXR1cm4gX2JpbmQuY2FsbChmbiwgdGhpc0FyZyk7XG59XG5cbi8qKlxuICogSW50ZXJuYWwgb3B0aW1pemF0aW9uIG9ubHksIERPIE5PVCBFWFBPU0UuXG4gKiBAaW50ZXJuYWxcbiAqL1xuY2xhc3MgQ29uc3VtZXJPYnNlcnZlcjxUPiBpbXBsZW1lbnRzIE9ic2VydmVyPFQ+IHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBwYXJ0aWFsT2JzZXJ2ZXI6IFBhcnRpYWw8T2JzZXJ2ZXI8VD4+KSB7fVxuXG4gIG5leHQodmFsdWU6IFQpOiB2b2lkIHtcbiAgICBjb25zdCB7IHBhcnRpYWxPYnNlcnZlciB9ID0gdGhpcztcbiAgICBpZiAocGFydGlhbE9ic2VydmVyLm5leHQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHBhcnRpYWxPYnNlcnZlci5uZXh0KHZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlcnJvcihlcnI6IGFueSk6IHZvaWQge1xuICAgIGNvbnN0IHsgcGFydGlhbE9ic2VydmVyIH0gPSB0aGlzO1xuICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIuZXJyb3IpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHBhcnRpYWxPYnNlcnZlci5lcnJvcihlcnIpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBsZXRlKCk6IHZvaWQge1xuICAgIGNvbnN0IHsgcGFydGlhbE9ic2VydmVyIH0gPSB0aGlzO1xuICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIuY29tcGxldGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHBhcnRpYWxPYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2FmZVN1YnNjcmliZXI8VD4gZXh0ZW5kcyBTdWJzY3JpYmVyPFQ+IHtcbiAgY29uc3RydWN0b3IoXG4gICAgb2JzZXJ2ZXJPck5leHQ/OiBQYXJ0aWFsPE9ic2VydmVyPFQ+PiB8ICgodmFsdWU6IFQpID0+IHZvaWQpIHwgbnVsbCxcbiAgICBlcnJvcj86ICgoZT86IGFueSkgPT4gdm9pZCkgfCBudWxsLFxuICAgIGNvbXBsZXRlPzogKCgpID0+IHZvaWQpIHwgbnVsbFxuICApIHtcbiAgICBzdXBlcigpO1xuXG4gICAgbGV0IHBhcnRpYWxPYnNlcnZlcjogUGFydGlhbDxPYnNlcnZlcjxUPj47XG4gICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpIHx8ICFvYnNlcnZlck9yTmV4dCkge1xuICAgICAgLy8gVGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgZnVuY3Rpb24sIG5vdCBhbiBvYnNlcnZlci4gVGhlIG5leHRcbiAgICAgIC8vIHR3byBhcmd1bWVudHMgKmNvdWxkKiBiZSBvYnNlcnZlcnMsIG9yIHRoZXkgY291bGQgYmUgZW1wdHkuXG4gICAgICBwYXJ0aWFsT2JzZXJ2ZXIgPSB7XG4gICAgICAgIG5leHQ6IChvYnNlcnZlck9yTmV4dCA/PyB1bmRlZmluZWQpIGFzICgoKHZhbHVlOiBUKSA9PiB2b2lkKSB8IHVuZGVmaW5lZCksXG4gICAgICAgIGVycm9yOiBlcnJvciA/PyB1bmRlZmluZWQsXG4gICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZSA/PyB1bmRlZmluZWQsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGUgZmlyc3QgYXJndW1lbnQgaXMgYSBwYXJ0aWFsIG9ic2VydmVyLlxuICAgICAgbGV0IGNvbnRleHQ6IGFueTtcbiAgICAgIGlmICh0aGlzICYmIGNvbmZpZy51c2VEZXByZWNhdGVkTmV4dENvbnRleHQpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIGRlcHJlY2F0ZWQgcGF0aCB0aGF0IG1hZGUgYHRoaXMudW5zdWJzY3JpYmUoKWAgYXZhaWxhYmxlIGluXG4gICAgICAgIC8vIG5leHQgaGFuZGxlciBmdW5jdGlvbnMgcGFzc2VkIHRvIHN1YnNjcmliZS4gVGhpcyBvbmx5IGV4aXN0cyBiZWhpbmQgYSBmbGFnXG4gICAgICAgIC8vIG5vdywgYXMgaXQgaXMgKnZlcnkqIHNsb3cuXG4gICAgICAgIGNvbnRleHQgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgY29udGV4dC51bnN1YnNjcmliZSA9ICgpID0+IHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgcGFydGlhbE9ic2VydmVyID0ge1xuICAgICAgICAgIG5leHQ6IG9ic2VydmVyT3JOZXh0Lm5leHQgJiYgYmluZChvYnNlcnZlck9yTmV4dC5uZXh0LCBjb250ZXh0KSxcbiAgICAgICAgICBlcnJvcjogb2JzZXJ2ZXJPck5leHQuZXJyb3IgJiYgYmluZChvYnNlcnZlck9yTmV4dC5lcnJvciwgY29udGV4dCksXG4gICAgICAgICAgY29tcGxldGU6IG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlICYmIGJpbmQob2JzZXJ2ZXJPck5leHQuY29tcGxldGUsIGNvbnRleHQpLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhlIFwibm9ybWFsXCIgcGF0aC4gSnVzdCB1c2UgdGhlIHBhcnRpYWwgb2JzZXJ2ZXIgZGlyZWN0bHkuXG4gICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdyYXAgdGhlIHBhcnRpYWwgb2JzZXJ2ZXIgdG8gZW5zdXJlIGl0J3MgYSBmdWxsIG9ic2VydmVyLCBhbmRcbiAgICAvLyBtYWtlIHN1cmUgcHJvcGVyIGVycm9yIGhhbmRsaW5nIGlzIGFjY291bnRlZCBmb3IuXG4gICAgdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBDb25zdW1lck9ic2VydmVyKHBhcnRpYWxPYnNlcnZlcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3I6IGFueSkge1xuICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICBjYXB0dXJlRXJyb3IoZXJyb3IpO1xuICB9IGVsc2Uge1xuICAgIC8vIElkZWFsIHBhdGgsIHdlIHJlcG9ydCB0aGlzIGFzIGFuIHVuaGFuZGxlZCBlcnJvcixcbiAgICAvLyB3aGljaCBpcyB0aHJvd24gb24gYSBuZXcgY2FsbCBzdGFjay5cbiAgICByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gIH1cbn1cblxuLyoqXG4gKiBBbiBlcnJvciBoYW5kbGVyIHVzZWQgd2hlbiBubyBlcnJvciBoYW5kbGVyIHdhcyBzdXBwbGllZFxuICogdG8gdGhlIFNhZmVTdWJzY3JpYmVyIC0tIG1lYW5pbmcgbm8gZXJyb3IgaGFuZGxlciB3YXMgc3VwcGxpZWRcbiAqIGRvIHRoZSBgc3Vic2NyaWJlYCBjYWxsIG9uIG91ciBvYnNlcnZhYmxlLlxuICogQHBhcmFtIGVyciBUaGUgZXJyb3IgdG8gaGFuZGxlXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRFcnJvckhhbmRsZXIoZXJyOiBhbnkpIHtcbiAgdGhyb3cgZXJyO1xufVxuXG4vKipcbiAqIEEgaGFuZGxlciBmb3Igbm90aWZpY2F0aW9ucyB0aGF0IGNhbm5vdCBiZSBzZW50IHRvIGEgc3RvcHBlZCBzdWJzY3JpYmVyLlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbiBUaGUgbm90aWZpY2F0aW9uIGJlaW5nIHNlbnRcbiAqIEBwYXJhbSBzdWJzY3JpYmVyIFRoZSBzdG9wcGVkIHN1YnNjcmliZXJcbiAqL1xuZnVuY3Rpb24gaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb246IE9ic2VydmFibGVOb3RpZmljYXRpb248YW55Piwgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxhbnk+KSB7XG4gIGNvbnN0IHsgb25TdG9wcGVkTm90aWZpY2F0aW9uIH0gPSBjb25maWc7XG4gIG9uU3RvcHBlZE5vdGlmaWNhdGlvbiAmJiB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dCgoKSA9PiBvblN0b3BwZWROb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBzdWJzY3JpYmVyKSk7XG59XG5cbi8qKlxuICogVGhlIG9ic2VydmVyIHVzZWQgYXMgYSBzdHViIGZvciBzdWJzY3JpcHRpb25zIHdoZXJlIHRoZSB1c2VyIGRpZCBub3RcbiAqIHBhc3MgYW55IGFyZ3VtZW50cyB0byBgc3Vic2NyaWJlYC4gQ29tZXMgd2l0aCB0aGUgZGVmYXVsdCBlcnJvciBoYW5kbGluZ1xuICogYmVoYXZpb3IuXG4gKi9cbmV4cG9ydCBjb25zdCBFTVBUWV9PQlNFUlZFUjogUmVhZG9ubHk8T2JzZXJ2ZXI8YW55Pj4gJiB7IGNsb3NlZDogdHJ1ZSB9ID0ge1xuICBjbG9zZWQ6IHRydWUsXG4gIG5leHQ6IG5vb3AsXG4gIGVycm9yOiBkZWZhdWx0RXJyb3JIYW5kbGVyLFxuICBjb21wbGV0ZTogbm9vcCxcbn07XG4iLCAiLyoqXG4gKiBTeW1ib2wub2JzZXJ2YWJsZSBvciBhIHN0cmluZyBcIkBAb2JzZXJ2YWJsZVwiLiBVc2VkIGZvciBpbnRlcm9wXG4gKlxuICogQGRlcHJlY2F0ZWQgV2Ugd2lsbCBubyBsb25nZXIgYmUgZXhwb3J0aW5nIHRoaXMgc3ltYm9sIGluIHVwY29taW5nIHZlcnNpb25zIG9mIFJ4SlMuXG4gKiBJbnN0ZWFkIHBvbHlmaWxsIGFuZCB1c2UgU3ltYm9sLm9ic2VydmFibGUgZGlyZWN0bHkgKm9yKiB1c2UgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2Uvc3ltYm9sLW9ic2VydmFibGVcbiAqL1xuZXhwb3J0IGNvbnN0IG9ic2VydmFibGU6IHN0cmluZyB8IHN5bWJvbCA9ICgoKSA9PiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSkgfHwgJ0BAb2JzZXJ2YWJsZScpKCk7XG4iLCAiLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIG9uZSBwYXJhbWV0ZXIgYW5kIGp1c3QgcmV0dXJucyBpdC4gU2ltcGx5IHB1dCxcbiAqIHRoaXMgaXMgbGlrZSBgPFQ+KHg6IFQpOiBUID0+IHhgLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogVGhpcyBpcyB1c2VmdWwgaW4gc29tZSBjYXNlcyB3aGVuIHVzaW5nIHRoaW5ncyBsaWtlIGBtZXJnZU1hcGBcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UsIG1hcCwgcmFuZ2UsIG1lcmdlTWFwLCBpZGVudGl0eSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSQgPSBpbnRlcnZhbCgxMDAwKS5waXBlKHRha2UoNSkpO1xuICpcbiAqIGNvbnN0IHJlc3VsdCQgPSBzb3VyY2UkLnBpcGUoXG4gKiAgIG1hcChpID0+IHJhbmdlKGkpKSxcbiAqICAgbWVyZ2VNYXAoaWRlbnRpdHkpIC8vIHNhbWUgYXMgbWVyZ2VNYXAoeCA9PiB4KVxuICogKTtcbiAqXG4gKiByZXN1bHQkLnN1YnNjcmliZSh7XG4gKiAgIG5leHQ6IGNvbnNvbGUubG9nXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIE9yIHdoZW4geW91IHdhbnQgdG8gc2VsZWN0aXZlbHkgYXBwbHkgYW4gb3BlcmF0b3JcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UsIGlkZW50aXR5IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc2hvdWxkTGltaXQgPSAoKSA9PiBNYXRoLnJhbmRvbSgpIDwgMC41O1xuICpcbiAqIGNvbnN0IHNvdXJjZSQgPSBpbnRlcnZhbCgxMDAwKTtcbiAqXG4gKiBjb25zdCByZXN1bHQkID0gc291cmNlJC5waXBlKHNob3VsZExpbWl0KCkgPyB0YWtlKDUpIDogaWRlbnRpdHkpO1xuICpcbiAqIHJlc3VsdCQuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogY29uc29sZS5sb2dcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHggQW55IHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgYnkgdGhpcyBmdW5jdGlvblxuICogQHJldHVybnMgVGhlIHZhbHVlIHBhc3NlZCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyIHRvIHRoaXMgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5PFQ+KHg6IFQpOiBUIHtcbiAgcmV0dXJuIHg7XG59XG4iLCAiaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuL2lkZW50aXR5JztcbmltcG9ydCB7IFVuYXJ5RnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwaXBlKCk6IHR5cGVvZiBpZGVudGl0eTtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEE+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPik6IFVuYXJ5RnVuY3Rpb248VCwgQT47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCPihmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPik6IFVuYXJ5RnVuY3Rpb248VCwgQj47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDPihmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPiwgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+KTogVW5hcnlGdW5jdGlvbjxULCBDPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQ+KFxuICBmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sXG4gIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPixcbiAgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LFxuICBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD5cbik6IFVuYXJ5RnVuY3Rpb248VCwgRD47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDLCBELCBFPihcbiAgZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LFxuICBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sXG4gIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPixcbiAgZm40OiBVbmFyeUZ1bmN0aW9uPEMsIEQ+LFxuICBmbjU6IFVuYXJ5RnVuY3Rpb248RCwgRT5cbik6IFVuYXJ5RnVuY3Rpb248VCwgRT47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDLCBELCBFLCBGPihcbiAgZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LFxuICBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sXG4gIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPixcbiAgZm40OiBVbmFyeUZ1bmN0aW9uPEMsIEQ+LFxuICBmbjU6IFVuYXJ5RnVuY3Rpb248RCwgRT4sXG4gIGZuNjogVW5hcnlGdW5jdGlvbjxFLCBGPlxuKTogVW5hcnlGdW5jdGlvbjxULCBGPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEUsIEYsIEc+KFxuICBmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sXG4gIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPixcbiAgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LFxuICBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sXG4gIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPixcbiAgZm42OiBVbmFyeUZ1bmN0aW9uPEUsIEY+LFxuICBmbjc6IFVuYXJ5RnVuY3Rpb248RiwgRz5cbik6IFVuYXJ5RnVuY3Rpb248VCwgRz47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDLCBELCBFLCBGLCBHLCBIPihcbiAgZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LFxuICBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sXG4gIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPixcbiAgZm40OiBVbmFyeUZ1bmN0aW9uPEMsIEQ+LFxuICBmbjU6IFVuYXJ5RnVuY3Rpb248RCwgRT4sXG4gIGZuNjogVW5hcnlGdW5jdGlvbjxFLCBGPixcbiAgZm43OiBVbmFyeUZ1bmN0aW9uPEYsIEc+LFxuICBmbjg6IFVuYXJ5RnVuY3Rpb248RywgSD5cbik6IFVuYXJ5RnVuY3Rpb248VCwgSD47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDLCBELCBFLCBGLCBHLCBILCBJPihcbiAgZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LFxuICBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sXG4gIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPixcbiAgZm40OiBVbmFyeUZ1bmN0aW9uPEMsIEQ+LFxuICBmbjU6IFVuYXJ5RnVuY3Rpb248RCwgRT4sXG4gIGZuNjogVW5hcnlGdW5jdGlvbjxFLCBGPixcbiAgZm43OiBVbmFyeUZ1bmN0aW9uPEYsIEc+LFxuICBmbjg6IFVuYXJ5RnVuY3Rpb248RywgSD4sXG4gIGZuOTogVW5hcnlGdW5jdGlvbjxILCBJPlxuKTogVW5hcnlGdW5jdGlvbjxULCBJPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEUsIEYsIEcsIEgsIEk+KFxuICBmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sXG4gIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPixcbiAgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LFxuICBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sXG4gIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPixcbiAgZm42OiBVbmFyeUZ1bmN0aW9uPEUsIEY+LFxuICBmbjc6IFVuYXJ5RnVuY3Rpb248RiwgRz4sXG4gIGZuODogVW5hcnlGdW5jdGlvbjxHLCBIPixcbiAgZm45OiBVbmFyeUZ1bmN0aW9uPEgsIEk+LFxuICAuLi5mbnM6IFVuYXJ5RnVuY3Rpb248YW55LCBhbnk+W11cbik6IFVuYXJ5RnVuY3Rpb248VCwgdW5rbm93bj47XG5cbi8qKlxuICogcGlwZSgpIGNhbiBiZSBjYWxsZWQgb24gb25lIG9yIG1vcmUgZnVuY3Rpb25zLCBlYWNoIG9mIHdoaWNoIGNhbiB0YWtlIG9uZSBhcmd1bWVudCAoXCJVbmFyeUZ1bmN0aW9uXCIpXG4gKiBhbmQgdXNlcyBpdCB0byByZXR1cm4gYSB2YWx1ZS5cbiAqIEl0IHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHRha2VzIG9uZSBhcmd1bWVudCwgcGFzc2VzIGl0IHRvIHRoZSBmaXJzdCBVbmFyeUZ1bmN0aW9uLCBhbmQgdGhlblxuICogcGFzc2VzIHRoZSByZXN1bHQgdG8gdGhlIG5leHQgb25lLCBwYXNzZXMgdGhhdCByZXN1bHQgdG8gdGhlIG5leHQgb25lLCBhbmQgc28gb24uICBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoLi4uZm5zOiBBcnJheTxVbmFyeUZ1bmN0aW9uPGFueSwgYW55Pj4pOiBVbmFyeUZ1bmN0aW9uPGFueSwgYW55PiB7XG4gIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBwaXBlRnJvbUFycmF5PFQsIFI+KGZuczogQXJyYXk8VW5hcnlGdW5jdGlvbjxULCBSPj4pOiBVbmFyeUZ1bmN0aW9uPFQsIFI+IHtcbiAgaWYgKGZucy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gaWRlbnRpdHkgYXMgVW5hcnlGdW5jdGlvbjxhbnksIGFueT47XG4gIH1cblxuICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBmbnNbMF07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQ6IFQpOiBSIHtcbiAgICByZXR1cm4gZm5zLnJlZHVjZSgocHJldjogYW55LCBmbjogVW5hcnlGdW5jdGlvbjxULCBSPikgPT4gZm4ocHJldiksIGlucHV0IGFzIGFueSk7XG4gIH07XG59XG4iLCAiaW1wb3J0IHsgT3BlcmF0b3IgfSBmcm9tICcuL09wZXJhdG9yJztcbmltcG9ydCB7IFNhZmVTdWJzY3JpYmVyLCBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IGlzU3Vic2NyaXB0aW9uLCBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBUZWFyZG93bkxvZ2ljLCBPcGVyYXRvckZ1bmN0aW9uLCBTdWJzY3JpYmFibGUsIE9ic2VydmVyIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGVycm9yQ29udGV4dCB9IGZyb20gJy4vdXRpbC9lcnJvckNvbnRleHQnO1xuXG4vKipcbiAqIEEgcmVwcmVzZW50YXRpb24gb2YgYW55IHNldCBvZiB2YWx1ZXMgb3ZlciBhbnkgYW1vdW50IG9mIHRpbWUuIFRoaXMgaXMgdGhlIG1vc3QgYmFzaWMgYnVpbGRpbmcgYmxvY2tcbiAqIG9mIFJ4SlMuXG4gKlxuICogQGNsYXNzIE9ic2VydmFibGU8VD5cbiAqL1xuZXhwb3J0IGNsYXNzIE9ic2VydmFibGU8VD4gaW1wbGVtZW50cyBTdWJzY3JpYmFibGU8VD4ge1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguXG4gICAqL1xuICBzb3VyY2U6IE9ic2VydmFibGU8YW55PiB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguXG4gICAqL1xuICBvcGVyYXRvcjogT3BlcmF0b3I8YW55LCBUPiB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHN1YnNjcmliZSB0aGUgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgT2JzZXJ2YWJsZSBpc1xuICAgKiBpbml0aWFsbHkgc3Vic2NyaWJlZCB0by4gVGhpcyBmdW5jdGlvbiBpcyBnaXZlbiBhIFN1YnNjcmliZXIsIHRvIHdoaWNoIG5ldyB2YWx1ZXNcbiAgICogY2FuIGJlIGBuZXh0YGVkLCBvciBhbiBgZXJyb3JgIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJhaXNlIGFuIGVycm9yLCBvclxuICAgKiBgY29tcGxldGVgIGNhbiBiZSBjYWxsZWQgdG8gbm90aWZ5IG9mIGEgc3VjY2Vzc2Z1bCBjb21wbGV0aW9uLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioc3Vic2NyaWJlPzogKHRoaXM6IE9ic2VydmFibGU8VD4sIHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pID0+IFRlYXJkb3duTG9naWMpIHtcbiAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgfVxuICB9XG5cbiAgLy8gSEFDSzogU2luY2UgVHlwZVNjcmlwdCBpbmhlcml0cyBzdGF0aWMgcHJvcGVydGllcyB0b28sIHdlIGhhdmUgdG9cbiAgLy8gZmlnaHQgYWdhaW5zdCBUeXBlU2NyaXB0IGhlcmUgc28gU3ViamVjdCBjYW4gaGF2ZSBhIGRpZmZlcmVudCBzdGF0aWMgY3JlYXRlIHNpZ25hdHVyZVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBPYnNlcnZhYmxlIGJ5IGNhbGxpbmcgdGhlIE9ic2VydmFibGUgY29uc3RydWN0b3JcbiAgICogQG93bmVyIE9ic2VydmFibGVcbiAgICogQG1ldGhvZCBjcmVhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3Vic2NyaWJlPyB0aGUgc3Vic2NyaWJlciBmdW5jdGlvbiB0byBiZSBwYXNzZWQgdG8gdGhlIE9ic2VydmFibGUgY29uc3RydWN0b3JcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gYSBuZXcgb2JzZXJ2YWJsZVxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYG5ldyBPYnNlcnZhYmxlKClgIGluc3RlYWQuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAgICovXG4gIHN0YXRpYyBjcmVhdGU6ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55ID0gPFQ+KHN1YnNjcmliZT86IChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KSA9PiBUZWFyZG93bkxvZ2ljKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPFQ+KHN1YnNjcmliZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgT2JzZXJ2YWJsZSwgd2l0aCB0aGlzIE9ic2VydmFibGUgaW5zdGFuY2UgYXMgdGhlIHNvdXJjZSwgYW5kIHRoZSBwYXNzZWRcbiAgICogb3BlcmF0b3IgZGVmaW5lZCBhcyB0aGUgbmV3IG9ic2VydmFibGUncyBvcGVyYXRvci5cbiAgICogQG1ldGhvZCBsaWZ0XG4gICAqIEBwYXJhbSBvcGVyYXRvciB0aGUgb3BlcmF0b3IgZGVmaW5pbmcgdGhlIG9wZXJhdGlvbiB0byB0YWtlIG9uIHRoZSBvYnNlcnZhYmxlXG4gICAqIEByZXR1cm4gYSBuZXcgb2JzZXJ2YWJsZSB3aXRoIHRoZSBPcGVyYXRvciBhcHBsaWVkXG4gICAqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZSBkaXJlY3RseS4gV2lsbCBiZSBtYWRlIGludGVybmFsIGluIHY4LlxuICAgKiBJZiB5b3UgaGF2ZSBpbXBsZW1lbnRlZCBhbiBvcGVyYXRvciB1c2luZyBgbGlmdGAsIGl0IGlzIHJlY29tbWVuZGVkIHRoYXQgeW91IGNyZWF0ZSBhblxuICAgKiBvcGVyYXRvciBieSBzaW1wbHkgcmV0dXJuaW5nIGBuZXcgT2JzZXJ2YWJsZSgpYCBkaXJlY3RseS4gU2VlIFwiQ3JlYXRpbmcgbmV3IG9wZXJhdG9ycyBmcm9tXG4gICAqIHNjcmF0Y2hcIiBzZWN0aW9uIGhlcmU6IGh0dHBzOi8vcnhqcy5kZXYvZ3VpZGUvb3BlcmF0b3JzXG4gICAqL1xuICBsaWZ0PFI+KG9wZXJhdG9yPzogT3BlcmF0b3I8VCwgUj4pOiBPYnNlcnZhYmxlPFI+IHtcbiAgICBjb25zdCBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8Uj4oKTtcbiAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICB9XG5cbiAgc3Vic2NyaWJlKG9ic2VydmVyT3JOZXh0PzogUGFydGlhbDxPYnNlcnZlcjxUPj4gfCAoKHZhbHVlOiBUKSA9PiB2b2lkKSk6IFN1YnNjcmlwdGlvbjtcbiAgLyoqIEBkZXByZWNhdGVkIEluc3RlYWQgb2YgcGFzc2luZyBzZXBhcmF0ZSBjYWxsYmFjayBhcmd1bWVudHMsIHVzZSBhbiBvYnNlcnZlciBhcmd1bWVudC4gU2lnbmF0dXJlcyB0YWtpbmcgc2VwYXJhdGUgY2FsbGJhY2sgYXJndW1lbnRzIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvc3Vic2NyaWJlLWFyZ3VtZW50cyAqL1xuICBzdWJzY3JpYmUobmV4dD86ICgodmFsdWU6IFQpID0+IHZvaWQpIHwgbnVsbCwgZXJyb3I/OiAoKGVycm9yOiBhbnkpID0+IHZvaWQpIHwgbnVsbCwgY29tcGxldGU/OiAoKCkgPT4gdm9pZCkgfCBudWxsKTogU3Vic2NyaXB0aW9uO1xuICAvKipcbiAgICogSW52b2tlcyBhbiBleGVjdXRpb24gb2YgYW4gT2JzZXJ2YWJsZSBhbmQgcmVnaXN0ZXJzIE9ic2VydmVyIGhhbmRsZXJzIGZvciBub3RpZmljYXRpb25zIGl0IHdpbGwgZW1pdC5cbiAgICpcbiAgICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlVzZSBpdCB3aGVuIHlvdSBoYXZlIGFsbCB0aGVzZSBPYnNlcnZhYmxlcywgYnV0IHN0aWxsIG5vdGhpbmcgaXMgaGFwcGVuaW5nLjwvc3Bhbj5cbiAgICpcbiAgICogYHN1YnNjcmliZWAgaXMgbm90IGEgcmVndWxhciBvcGVyYXRvciwgYnV0IGEgbWV0aG9kIHRoYXQgY2FsbHMgT2JzZXJ2YWJsZSdzIGludGVybmFsIGBzdWJzY3JpYmVgIGZ1bmN0aW9uLiBJdFxuICAgKiBtaWdodCBiZSBmb3IgZXhhbXBsZSBhIGZ1bmN0aW9uIHRoYXQgeW91IHBhc3NlZCB0byBPYnNlcnZhYmxlJ3MgY29uc3RydWN0b3IsIGJ1dCBtb3N0IG9mIHRoZSB0aW1lIGl0IGlzXG4gICAqIGEgbGlicmFyeSBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggZGVmaW5lcyB3aGF0IHdpbGwgYmUgZW1pdHRlZCBieSBhbiBPYnNlcnZhYmxlLCBhbmQgd2hlbiBpdCBiZSB3aWxsIGVtaXR0ZWQuIFRoaXMgbWVhbnNcbiAgICogdGhhdCBjYWxsaW5nIGBzdWJzY3JpYmVgIGlzIGFjdHVhbGx5IHRoZSBtb21lbnQgd2hlbiBPYnNlcnZhYmxlIHN0YXJ0cyBpdHMgd29yaywgbm90IHdoZW4gaXQgaXMgY3JlYXRlZCwgYXMgaXQgaXMgb2Z0ZW5cbiAgICogdGhlIHRob3VnaHQuXG4gICAqXG4gICAqIEFwYXJ0IGZyb20gc3RhcnRpbmcgdGhlIGV4ZWN1dGlvbiBvZiBhbiBPYnNlcnZhYmxlLCB0aGlzIG1ldGhvZCBhbGxvd3MgeW91IHRvIGxpc3RlbiBmb3IgdmFsdWVzXG4gICAqIHRoYXQgYW4gT2JzZXJ2YWJsZSBlbWl0cywgYXMgd2VsbCBhcyBmb3Igd2hlbiBpdCBjb21wbGV0ZXMgb3IgZXJyb3JzLiBZb3UgY2FuIGFjaGlldmUgdGhpcyBpbiB0d29cbiAgICogb2YgdGhlIGZvbGxvd2luZyB3YXlzLlxuICAgKlxuICAgKiBUaGUgZmlyc3Qgd2F5IGlzIGNyZWF0aW5nIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMge0BsaW5rIE9ic2VydmVyfSBpbnRlcmZhY2UuIEl0IHNob3VsZCBoYXZlIG1ldGhvZHNcbiAgICogZGVmaW5lZCBieSB0aGF0IGludGVyZmFjZSwgYnV0IG5vdGUgdGhhdCBpdCBzaG91bGQgYmUganVzdCBhIHJlZ3VsYXIgSmF2YVNjcmlwdCBvYmplY3QsIHdoaWNoIHlvdSBjYW4gY3JlYXRlXG4gICAqIHlvdXJzZWxmIGluIGFueSB3YXkgeW91IHdhbnQgKEVTNiBjbGFzcywgY2xhc3NpYyBmdW5jdGlvbiBjb25zdHJ1Y3Rvciwgb2JqZWN0IGxpdGVyYWwgZXRjLikuIEluIHBhcnRpY3VsYXIsIGRvXG4gICAqIG5vdCBhdHRlbXB0IHRvIHVzZSBhbnkgUnhKUyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIHRvIGNyZWF0ZSBPYnNlcnZlcnMgLSB5b3UgZG9uJ3QgbmVlZCB0aGVtLiBSZW1lbWJlciBhbHNvXG4gICAqIHRoYXQgeW91ciBvYmplY3QgZG9lcyBub3QgaGF2ZSB0byBpbXBsZW1lbnQgYWxsIG1ldGhvZHMuIElmIHlvdSBmaW5kIHlvdXJzZWxmIGNyZWF0aW5nIGEgbWV0aG9kIHRoYXQgZG9lc24ndFxuICAgKiBkbyBhbnl0aGluZywgeW91IGNhbiBzaW1wbHkgb21pdCBpdC4gTm90ZSBob3dldmVyLCBpZiB0aGUgYGVycm9yYCBtZXRob2QgaXMgbm90IHByb3ZpZGVkIGFuZCBhbiBlcnJvciBoYXBwZW5zLFxuICAgKiBpdCB3aWxsIGJlIHRocm93biBhc3luY2hyb25vdXNseS4gRXJyb3JzIHRocm93biBhc3luY2hyb25vdXNseSBjYW5ub3QgYmUgY2F1Z2h0IHVzaW5nIGB0cnlgL2BjYXRjaGAuIEluc3RlYWQsXG4gICAqIHVzZSB0aGUge0BsaW5rIG9uVW5oYW5kbGVkRXJyb3J9IGNvbmZpZ3VyYXRpb24gb3B0aW9uIG9yIHVzZSBhIHJ1bnRpbWUgaGFuZGxlciAobGlrZSBgd2luZG93Lm9uZXJyb3JgIG9yXG4gICAqIGBwcm9jZXNzLm9uKCdlcnJvcilgKSB0byBiZSBub3RpZmllZCBvZiB1bmhhbmRsZWQgZXJyb3JzLiBCZWNhdXNlIG9mIHRoaXMsIGl0J3MgcmVjb21tZW5kZWQgdGhhdCB5b3UgcHJvdmlkZVxuICAgKiBhbiBgZXJyb3JgIG1ldGhvZCB0byBhdm9pZCBtaXNzaW5nIHRocm93biBlcnJvcnMuXG4gICAqXG4gICAqIFRoZSBzZWNvbmQgd2F5IGlzIHRvIGdpdmUgdXAgb24gT2JzZXJ2ZXIgb2JqZWN0IGFsdG9nZXRoZXIgYW5kIHNpbXBseSBwcm92aWRlIGNhbGxiYWNrIGZ1bmN0aW9ucyBpbiBwbGFjZSBvZiBpdHMgbWV0aG9kcy5cbiAgICogVGhpcyBtZWFucyB5b3UgY2FuIHByb3ZpZGUgdGhyZWUgZnVuY3Rpb25zIGFzIGFyZ3VtZW50cyB0byBgc3Vic2NyaWJlYCwgd2hlcmUgdGhlIGZpcnN0IGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnRcbiAgICogb2YgYSBgbmV4dGAgbWV0aG9kLCB0aGUgc2Vjb25kIG9mIGFuIGBlcnJvcmAgbWV0aG9kIGFuZCB0aGUgdGhpcmQgb2YgYSBgY29tcGxldGVgIG1ldGhvZC4gSnVzdCBhcyBpbiBjYXNlIG9mIGFuIE9ic2VydmVyLFxuICAgKiBpZiB5b3UgZG8gbm90IG5lZWQgdG8gbGlzdGVuIGZvciBzb21ldGhpbmcsIHlvdSBjYW4gb21pdCBhIGZ1bmN0aW9uIGJ5IHBhc3NpbmcgYHVuZGVmaW5lZGAgb3IgYG51bGxgLFxuICAgKiBzaW5jZSBgc3Vic2NyaWJlYCByZWNvZ25pemVzIHRoZXNlIGZ1bmN0aW9ucyBieSB3aGVyZSB0aGV5IHdlcmUgcGxhY2VkIGluIGZ1bmN0aW9uIGNhbGwuIFdoZW4gaXQgY29tZXNcbiAgICogdG8gdGhlIGBlcnJvcmAgZnVuY3Rpb24sIGFzIHdpdGggYW4gT2JzZXJ2ZXIsIGlmIG5vdCBwcm92aWRlZCwgZXJyb3JzIGVtaXR0ZWQgYnkgYW4gT2JzZXJ2YWJsZSB3aWxsIGJlIHRocm93biBhc3luY2hyb25vdXNseS5cbiAgICpcbiAgICogWW91IGNhbiwgaG93ZXZlciwgc3Vic2NyaWJlIHdpdGggbm8gcGFyYW1ldGVycyBhdCBhbGwuIFRoaXMgbWF5IGJlIHRoZSBjYXNlIHdoZXJlIHlvdSdyZSBub3QgaW50ZXJlc3RlZCBpbiB0ZXJtaW5hbCBldmVudHNcbiAgICogYW5kIHlvdSBhbHNvIGhhbmRsZWQgZW1pc3Npb25zIGludGVybmFsbHkgYnkgdXNpbmcgb3BlcmF0b3JzIChlLmcuIHVzaW5nIGB0YXBgKS5cbiAgICpcbiAgICogV2hpY2hldmVyIHN0eWxlIG9mIGNhbGxpbmcgYHN1YnNjcmliZWAgeW91IHVzZSwgaW4gYm90aCBjYXNlcyBpdCByZXR1cm5zIGEgU3Vic2NyaXB0aW9uIG9iamVjdC5cbiAgICogVGhpcyBvYmplY3QgYWxsb3dzIHlvdSB0byBjYWxsIGB1bnN1YnNjcmliZWAgb24gaXQsIHdoaWNoIGluIHR1cm4gd2lsbCBzdG9wIHRoZSB3b3JrIHRoYXQgYW4gT2JzZXJ2YWJsZSBkb2VzIGFuZCB3aWxsIGNsZWFuXG4gICAqIHVwIGFsbCByZXNvdXJjZXMgdGhhdCBhbiBPYnNlcnZhYmxlIHVzZWQuIE5vdGUgdGhhdCBjYW5jZWxsaW5nIGEgc3Vic2NyaXB0aW9uIHdpbGwgbm90IGNhbGwgYGNvbXBsZXRlYCBjYWxsYmFja1xuICAgKiBwcm92aWRlZCB0byBgc3Vic2NyaWJlYCBmdW5jdGlvbiwgd2hpY2ggaXMgcmVzZXJ2ZWQgZm9yIGEgcmVndWxhciBjb21wbGV0aW9uIHNpZ25hbCB0aGF0IGNvbWVzIGZyb20gYW4gT2JzZXJ2YWJsZS5cbiAgICpcbiAgICogUmVtZW1iZXIgdGhhdCBjYWxsYmFja3MgcHJvdmlkZWQgdG8gYHN1YnNjcmliZWAgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGJlIGNhbGxlZCBhc3luY2hyb25vdXNseS5cbiAgICogSXQgaXMgYW4gT2JzZXJ2YWJsZSBpdHNlbGYgdGhhdCBkZWNpZGVzIHdoZW4gdGhlc2UgZnVuY3Rpb25zIHdpbGwgYmUgY2FsbGVkLiBGb3IgZXhhbXBsZSB7QGxpbmsgb2Z9XG4gICAqIGJ5IGRlZmF1bHQgZW1pdHMgYWxsIGl0cyB2YWx1ZXMgc3luY2hyb25vdXNseS4gQWx3YXlzIGNoZWNrIGRvY3VtZW50YXRpb24gZm9yIGhvdyBnaXZlbiBPYnNlcnZhYmxlXG4gICAqIHdpbGwgYmVoYXZlIHdoZW4gc3Vic2NyaWJlZCBhbmQgaWYgaXRzIGRlZmF1bHQgYmVoYXZpb3IgY2FuIGJlIG1vZGlmaWVkIHdpdGggYSBgc2NoZWR1bGVyYC5cbiAgICpcbiAgICogIyMjIyBFeGFtcGxlc1xuICAgKlxuICAgKiBTdWJzY3JpYmUgd2l0aCBhbiB7QGxpbmsgZ3VpZGUvb2JzZXJ2ZXIgT2JzZXJ2ZXJ9XG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGltcG9ydCB7IG9mIH0gZnJvbSAncnhqcyc7XG4gICAqXG4gICAqIGNvbnN0IHN1bU9ic2VydmVyID0ge1xuICAgKiAgIHN1bTogMCxcbiAgICogICBuZXh0KHZhbHVlKSB7XG4gICAqICAgICBjb25zb2xlLmxvZygnQWRkaW5nOiAnICsgdmFsdWUpO1xuICAgKiAgICAgdGhpcy5zdW0gPSB0aGlzLnN1bSArIHZhbHVlO1xuICAgKiAgIH0sXG4gICAqICAgZXJyb3IoKSB7XG4gICAqICAgICAvLyBXZSBhY3R1YWxseSBjb3VsZCBqdXN0IHJlbW92ZSB0aGlzIG1ldGhvZCxcbiAgICogICAgIC8vIHNpbmNlIHdlIGRvIG5vdCByZWFsbHkgY2FyZSBhYm91dCBlcnJvcnMgcmlnaHQgbm93LlxuICAgKiAgIH0sXG4gICAqICAgY29tcGxldGUoKSB7XG4gICAqICAgICBjb25zb2xlLmxvZygnU3VtIGVxdWFsczogJyArIHRoaXMuc3VtKTtcbiAgICogICB9XG4gICAqIH07XG4gICAqXG4gICAqIG9mKDEsIDIsIDMpIC8vIFN5bmNocm9ub3VzbHkgZW1pdHMgMSwgMiwgMyBhbmQgdGhlbiBjb21wbGV0ZXMuXG4gICAqICAgLnN1YnNjcmliZShzdW1PYnNlcnZlcik7XG4gICAqXG4gICAqIC8vIExvZ3M6XG4gICAqIC8vICdBZGRpbmc6IDEnXG4gICAqIC8vICdBZGRpbmc6IDInXG4gICAqIC8vICdBZGRpbmc6IDMnXG4gICAqIC8vICdTdW0gZXF1YWxzOiA2J1xuICAgKiBgYGBcbiAgICpcbiAgICogU3Vic2NyaWJlIHdpdGggZnVuY3Rpb25zICh7QGxpbmsgZGVwcmVjYXRpb25zL3N1YnNjcmliZS1hcmd1bWVudHMgZGVwcmVjYXRlZH0pXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGltcG9ydCB7IG9mIH0gZnJvbSAncnhqcydcbiAgICpcbiAgICogbGV0IHN1bSA9IDA7XG4gICAqXG4gICAqIG9mKDEsIDIsIDMpLnN1YnNjcmliZShcbiAgICogICB2YWx1ZSA9PiB7XG4gICAqICAgICBjb25zb2xlLmxvZygnQWRkaW5nOiAnICsgdmFsdWUpO1xuICAgKiAgICAgc3VtID0gc3VtICsgdmFsdWU7XG4gICAqICAgfSxcbiAgICogICB1bmRlZmluZWQsXG4gICAqICAgKCkgPT4gY29uc29sZS5sb2coJ1N1bSBlcXVhbHM6ICcgKyBzdW0pXG4gICAqICk7XG4gICAqXG4gICAqIC8vIExvZ3M6XG4gICAqIC8vICdBZGRpbmc6IDEnXG4gICAqIC8vICdBZGRpbmc6IDInXG4gICAqIC8vICdBZGRpbmc6IDMnXG4gICAqIC8vICdTdW0gZXF1YWxzOiA2J1xuICAgKiBgYGBcbiAgICpcbiAgICogQ2FuY2VsIGEgc3Vic2NyaXB0aW9uXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGltcG9ydCB7IGludGVydmFsIH0gZnJvbSAncnhqcyc7XG4gICAqXG4gICAqIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGludGVydmFsKDEwMDApLnN1YnNjcmliZSh7XG4gICAqICAgbmV4dChudW0pIHtcbiAgICogICAgIGNvbnNvbGUubG9nKG51bSlcbiAgICogICB9LFxuICAgKiAgIGNvbXBsZXRlKCkge1xuICAgKiAgICAgLy8gV2lsbCBub3QgYmUgY2FsbGVkLCBldmVuIHdoZW4gY2FuY2VsbGluZyBzdWJzY3JpcHRpb24uXG4gICAqICAgICBjb25zb2xlLmxvZygnY29tcGxldGVkIScpO1xuICAgKiAgIH1cbiAgICogfSk7XG4gICAqXG4gICAqIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgKiAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgKiAgIGNvbnNvbGUubG9nKCd1bnN1YnNjcmliZWQhJyk7XG4gICAqIH0sIDI1MDApO1xuICAgKlxuICAgKiAvLyBMb2dzOlxuICAgKiAvLyAwIGFmdGVyIDFzXG4gICAqIC8vIDEgYWZ0ZXIgMnNcbiAgICogLy8gJ3Vuc3Vic2NyaWJlZCEnIGFmdGVyIDIuNXNcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7T2JzZXJ2ZXJ8RnVuY3Rpb259IG9ic2VydmVyT3JOZXh0IChvcHRpb25hbCkgRWl0aGVyIGFuIG9ic2VydmVyIHdpdGggbWV0aG9kcyB0byBiZSBjYWxsZWQsXG4gICAqIG9yIHRoZSBmaXJzdCBvZiB0aHJlZSBwb3NzaWJsZSBoYW5kbGVycywgd2hpY2ggaXMgdGhlIGhhbmRsZXIgZm9yIGVhY2ggdmFsdWUgZW1pdHRlZCBmcm9tIHRoZSBzdWJzY3JpYmVkXG4gICAqIE9ic2VydmFibGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVycm9yIChvcHRpb25hbCkgQSBoYW5kbGVyIGZvciBhIHRlcm1pbmFsIGV2ZW50IHJlc3VsdGluZyBmcm9tIGFuIGVycm9yLiBJZiBubyBlcnJvciBoYW5kbGVyIGlzIHByb3ZpZGVkLFxuICAgKiB0aGUgZXJyb3Igd2lsbCBiZSB0aHJvd24gYXN5bmNocm9ub3VzbHkgYXMgdW5oYW5kbGVkLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wbGV0ZSAob3B0aW9uYWwpIEEgaGFuZGxlciBmb3IgYSB0ZXJtaW5hbCBldmVudCByZXN1bHRpbmcgZnJvbSBzdWNjZXNzZnVsIGNvbXBsZXRpb24uXG4gICAqIEByZXR1cm4ge1N1YnNjcmlwdGlvbn0gYSBzdWJzY3JpcHRpb24gcmVmZXJlbmNlIHRvIHRoZSByZWdpc3RlcmVkIGhhbmRsZXJzXG4gICAqIEBtZXRob2Qgc3Vic2NyaWJlXG4gICAqL1xuICBzdWJzY3JpYmUoXG4gICAgb2JzZXJ2ZXJPck5leHQ/OiBQYXJ0aWFsPE9ic2VydmVyPFQ+PiB8ICgodmFsdWU6IFQpID0+IHZvaWQpIHwgbnVsbCxcbiAgICBlcnJvcj86ICgoZXJyb3I6IGFueSkgPT4gdm9pZCkgfCBudWxsLFxuICAgIGNvbXBsZXRlPzogKCgpID0+IHZvaWQpIHwgbnVsbFxuICApOiBTdWJzY3JpcHRpb24ge1xuICAgIGNvbnN0IHN1YnNjcmliZXIgPSBpc1N1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQpID8gb2JzZXJ2ZXJPck5leHQgOiBuZXcgU2FmZVN1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG5cbiAgICBlcnJvckNvbnRleHQoKCkgPT4ge1xuICAgICAgY29uc3QgeyBvcGVyYXRvciwgc291cmNlIH0gPSB0aGlzO1xuICAgICAgc3Vic2NyaWJlci5hZGQoXG4gICAgICAgIG9wZXJhdG9yXG4gICAgICAgICAgPyAvLyBXZSdyZSBkZWFsaW5nIHdpdGggYSBzdWJzY3JpcHRpb24gaW4gdGhlXG4gICAgICAgICAgICAvLyBvcGVyYXRvciBjaGFpbiB0byBvbmUgb2Ygb3VyIGxpZnRlZCBvcGVyYXRvcnMuXG4gICAgICAgICAgICBvcGVyYXRvci5jYWxsKHN1YnNjcmliZXIsIHNvdXJjZSlcbiAgICAgICAgICA6IHNvdXJjZVxuICAgICAgICAgID8gLy8gSWYgYHNvdXJjZWAgaGFzIGEgdmFsdWUsIGJ1dCBgb3BlcmF0b3JgIGRvZXMgbm90LCBzb21ldGhpbmcgdGhhdFxuICAgICAgICAgICAgLy8gaGFkIGludGltYXRlIGtub3dsZWRnZSBvZiBvdXIgQVBJLCBsaWtlIG91ciBgU3ViamVjdGAsIG11c3QgaGF2ZVxuICAgICAgICAgICAgLy8gc2V0IGl0LiBXZSdyZSBnb2luZyB0byBqdXN0IGNhbGwgYF9zdWJzY3JpYmVgIGRpcmVjdGx5LlxuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlKHN1YnNjcmliZXIpXG4gICAgICAgICAgOiAvLyBJbiBhbGwgb3RoZXIgY2FzZXMsIHdlJ3JlIGxpa2VseSB3cmFwcGluZyBhIHVzZXItcHJvdmlkZWQgaW5pdGlhbGl6ZXJcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uLCBzbyB3ZSBuZWVkIHRvIGNhdGNoIGVycm9ycyBhbmQgaGFuZGxlIHRoZW0gYXBwcm9wcmlhdGVseS5cbiAgICAgICAgICAgIHRoaXMuX3RyeVN1YnNjcmliZShzdWJzY3JpYmVyKVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3RyeVN1YnNjcmliZShzaW5rOiBTdWJzY3JpYmVyPFQ+KTogVGVhcmRvd25Mb2dpYyB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoc2luayk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBXZSBkb24ndCBuZWVkIHRvIHJldHVybiBhbnl0aGluZyBpbiB0aGlzIGNhc2UsXG4gICAgICAvLyBiZWNhdXNlIGl0J3MganVzdCBnb2luZyB0byB0cnkgdG8gYGFkZCgpYCB0byBhIHN1YnNjcmlwdGlvblxuICAgICAgLy8gYWJvdmUuXG4gICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYXMgYSBOT04tQ0FOQ0VMTEFCTEUgbWVhbnMgb2Ygc3Vic2NyaWJpbmcgdG8gYW4gb2JzZXJ2YWJsZSwgZm9yIHVzZSB3aXRoXG4gICAqIEFQSXMgdGhhdCBleHBlY3QgcHJvbWlzZXMsIGxpa2UgYGFzeW5jL2F3YWl0YC4gWW91IGNhbm5vdCB1bnN1YnNjcmliZSBmcm9tIHRoaXMuXG4gICAqXG4gICAqICoqV0FSTklORyoqOiBPbmx5IHVzZSB0aGlzIHdpdGggb2JzZXJ2YWJsZXMgeW91ICprbm93KiB3aWxsIGNvbXBsZXRlLiBJZiB0aGUgc291cmNlXG4gICAqIG9ic2VydmFibGUgZG9lcyBub3QgY29tcGxldGUsIHlvdSB3aWxsIGVuZCB1cCB3aXRoIGEgcHJvbWlzZSB0aGF0IGlzIGh1bmcgdXAsIGFuZFxuICAgKiBwb3RlbnRpYWxseSBhbGwgb2YgdGhlIHN0YXRlIG9mIGFuIGFzeW5jIGZ1bmN0aW9uIGhhbmdpbmcgb3V0IGluIG1lbW9yeS4gVG8gYXZvaWRcbiAgICogdGhpcyBzaXR1YXRpb24sIGxvb2sgaW50byBhZGRpbmcgc29tZXRoaW5nIGxpa2Uge0BsaW5rIHRpbWVvdXR9LCB7QGxpbmsgdGFrZX0sXG4gICAqIHtAbGluayB0YWtlV2hpbGV9LCBvciB7QGxpbmsgdGFrZVVudGlsfSBhbW9uZ3N0IG90aGVycy5cbiAgICpcbiAgICogIyMjIyBFeGFtcGxlXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGltcG9ydCB7IGludGVydmFsLCB0YWtlIH0gZnJvbSAncnhqcyc7XG4gICAqXG4gICAqIGNvbnN0IHNvdXJjZSQgPSBpbnRlcnZhbCgxMDAwKS5waXBlKHRha2UoNCkpO1xuICAgKlxuICAgKiBhc3luYyBmdW5jdGlvbiBnZXRUb3RhbCgpIHtcbiAgICogICBsZXQgdG90YWwgPSAwO1xuICAgKlxuICAgKiAgIGF3YWl0IHNvdXJjZSQuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAqICAgICB0b3RhbCArPSB2YWx1ZTtcbiAgICogICAgIGNvbnNvbGUubG9nKCdvYnNlcnZhYmxlIC0+ICcgKyB2YWx1ZSk7XG4gICAqICAgfSk7XG4gICAqXG4gICAqICAgcmV0dXJuIHRvdGFsO1xuICAgKiB9XG4gICAqXG4gICAqIGdldFRvdGFsKCkudGhlbihcbiAgICogICB0b3RhbCA9PiBjb25zb2xlLmxvZygnVG90YWw6ICcgKyB0b3RhbClcbiAgICogKTtcbiAgICpcbiAgICogLy8gRXhwZWN0ZWQ6XG4gICAqIC8vICdvYnNlcnZhYmxlIC0+IDAnXG4gICAqIC8vICdvYnNlcnZhYmxlIC0+IDEnXG4gICAqIC8vICdvYnNlcnZhYmxlIC0+IDInXG4gICAqIC8vICdvYnNlcnZhYmxlIC0+IDMnXG4gICAqIC8vICdUb3RhbDogNidcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBuZXh0IGEgaGFuZGxlciBmb3IgZWFjaCB2YWx1ZSBlbWl0dGVkIGJ5IHRoZSBvYnNlcnZhYmxlXG4gICAqIEByZXR1cm4gYSBwcm9taXNlIHRoYXQgZWl0aGVyIHJlc29sdmVzIG9uIG9ic2VydmFibGUgY29tcGxldGlvbiBvclxuICAgKiAgcmVqZWN0cyB3aXRoIHRoZSBoYW5kbGVkIGVycm9yXG4gICAqL1xuICBmb3JFYWNoKG5leHQ6ICh2YWx1ZTogVCkgPT4gdm9pZCk6IFByb21pc2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBuZXh0IGEgaGFuZGxlciBmb3IgZWFjaCB2YWx1ZSBlbWl0dGVkIGJ5IHRoZSBvYnNlcnZhYmxlXG4gICAqIEBwYXJhbSBwcm9taXNlQ3RvciBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHVzZWQgdG8gaW5zdGFudGlhdGUgdGhlIFByb21pc2VcbiAgICogQHJldHVybiBhIHByb21pc2UgdGhhdCBlaXRoZXIgcmVzb2x2ZXMgb24gb2JzZXJ2YWJsZSBjb21wbGV0aW9uIG9yXG4gICAqICByZWplY3RzIHdpdGggdGhlIGhhbmRsZWQgZXJyb3JcbiAgICogQGRlcHJlY2F0ZWQgUGFzc2luZyBhIFByb21pc2UgY29uc3RydWN0b3Igd2lsbCBubyBsb25nZXIgYmUgYXZhaWxhYmxlXG4gICAqIGluIHVwY29taW5nIHZlcnNpb25zIG9mIFJ4SlMuIFRoaXMgaXMgYmVjYXVzZSBpdCBhZGRzIHdlaWdodCB0byB0aGUgbGlicmFyeSwgZm9yIHZlcnlcbiAgICogbGl0dGxlIGJlbmVmaXQuIElmIHlvdSBuZWVkIHRoaXMgZnVuY3Rpb25hbGl0eSwgaXQgaXMgcmVjb21tZW5kZWQgdGhhdCB5b3UgZWl0aGVyXG4gICAqIHBvbHlmaWxsIFByb21pc2UsIG9yIHlvdSBjcmVhdGUgYW4gYWRhcHRlciB0byBjb252ZXJ0IHRoZSByZXR1cm5lZCBuYXRpdmUgcHJvbWlzZVxuICAgKiB0byB3aGF0ZXZlciBwcm9taXNlIGltcGxlbWVudGF0aW9uIHlvdSB3YW50ZWQuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAgICovXG4gIGZvckVhY2gobmV4dDogKHZhbHVlOiBUKSA9PiB2b2lkLCBwcm9taXNlQ3RvcjogUHJvbWlzZUNvbnN0cnVjdG9yTGlrZSk6IFByb21pc2U8dm9pZD47XG5cbiAgZm9yRWFjaChuZXh0OiAodmFsdWU6IFQpID0+IHZvaWQsIHByb21pc2VDdG9yPzogUHJvbWlzZUNvbnN0cnVjdG9yTGlrZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuXG4gICAgcmV0dXJuIG5ldyBwcm9taXNlQ3Rvcjx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBzdWJzY3JpYmVyID0gbmV3IFNhZmVTdWJzY3JpYmVyPFQ+KHtcbiAgICAgICAgbmV4dDogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogcmVqZWN0LFxuICAgICAgICBjb21wbGV0ZTogcmVzb2x2ZSxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfSkgYXMgUHJvbWlzZTx2b2lkPjtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJvdGVjdGVkIF9zdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxhbnk+KTogVGVhcmRvd25Mb2dpYyB7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlPy5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gIH1cblxuICAvKipcbiAgICogQW4gaW50ZXJvcCBwb2ludCBkZWZpbmVkIGJ5IHRoZSBlczctb2JzZXJ2YWJsZSBzcGVjIGh0dHBzOi8vZ2l0aHViLmNvbS96ZW5wYXJzaW5nL2VzLW9ic2VydmFibGVcbiAgICogQG1ldGhvZCBTeW1ib2wub2JzZXJ2YWJsZVxuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSB0aGlzIGluc3RhbmNlIG9mIHRoZSBvYnNlcnZhYmxlXG4gICAqL1xuICBbU3ltYm9sX29ic2VydmFibGVdKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG4gIHBpcGUoKTogT2JzZXJ2YWJsZTxUPjtcbiAgcGlwZTxBPihvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4pOiBPYnNlcnZhYmxlPEE+O1xuICBwaXBlPEEsIEI+KG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPiwgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+KTogT2JzZXJ2YWJsZTxCPjtcbiAgcGlwZTxBLCBCLCBDPihvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPiwgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+KTogT2JzZXJ2YWJsZTxDPjtcbiAgcGlwZTxBLCBCLCBDLCBEPihcbiAgICBvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sXG4gICAgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LFxuICAgIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPixcbiAgICBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD5cbiAgKTogT2JzZXJ2YWJsZTxEPjtcbiAgcGlwZTxBLCBCLCBDLCBELCBFPihcbiAgICBvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sXG4gICAgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LFxuICAgIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPixcbiAgICBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD4sXG4gICAgb3A1OiBPcGVyYXRvckZ1bmN0aW9uPEQsIEU+XG4gICk6IE9ic2VydmFibGU8RT47XG4gIHBpcGU8QSwgQiwgQywgRCwgRSwgRj4oXG4gICAgb3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LFxuICAgIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPixcbiAgICBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4sXG4gICAgb3A0OiBPcGVyYXRvckZ1bmN0aW9uPEMsIEQ+LFxuICAgIG9wNTogT3BlcmF0b3JGdW5jdGlvbjxELCBFPixcbiAgICBvcDY6IE9wZXJhdG9yRnVuY3Rpb248RSwgRj5cbiAgKTogT2JzZXJ2YWJsZTxGPjtcbiAgcGlwZTxBLCBCLCBDLCBELCBFLCBGLCBHPihcbiAgICBvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sXG4gICAgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LFxuICAgIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPixcbiAgICBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD4sXG4gICAgb3A1OiBPcGVyYXRvckZ1bmN0aW9uPEQsIEU+LFxuICAgIG9wNjogT3BlcmF0b3JGdW5jdGlvbjxFLCBGPixcbiAgICBvcDc6IE9wZXJhdG9yRnVuY3Rpb248RiwgRz5cbiAgKTogT2JzZXJ2YWJsZTxHPjtcbiAgcGlwZTxBLCBCLCBDLCBELCBFLCBGLCBHLCBIPihcbiAgICBvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sXG4gICAgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LFxuICAgIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPixcbiAgICBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD4sXG4gICAgb3A1OiBPcGVyYXRvckZ1bmN0aW9uPEQsIEU+LFxuICAgIG9wNjogT3BlcmF0b3JGdW5jdGlvbjxFLCBGPixcbiAgICBvcDc6IE9wZXJhdG9yRnVuY3Rpb248RiwgRz4sXG4gICAgb3A4OiBPcGVyYXRvckZ1bmN0aW9uPEcsIEg+XG4gICk6IE9ic2VydmFibGU8SD47XG4gIHBpcGU8QSwgQiwgQywgRCwgRSwgRiwgRywgSCwgST4oXG4gICAgb3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LFxuICAgIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPixcbiAgICBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4sXG4gICAgb3A0OiBPcGVyYXRvckZ1bmN0aW9uPEMsIEQ+LFxuICAgIG9wNTogT3BlcmF0b3JGdW5jdGlvbjxELCBFPixcbiAgICBvcDY6IE9wZXJhdG9yRnVuY3Rpb248RSwgRj4sXG4gICAgb3A3OiBPcGVyYXRvckZ1bmN0aW9uPEYsIEc+LFxuICAgIG9wODogT3BlcmF0b3JGdW5jdGlvbjxHLCBIPixcbiAgICBvcDk6IE9wZXJhdG9yRnVuY3Rpb248SCwgST5cbiAgKTogT2JzZXJ2YWJsZTxJPjtcbiAgcGlwZTxBLCBCLCBDLCBELCBFLCBGLCBHLCBILCBJPihcbiAgICBvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sXG4gICAgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LFxuICAgIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPixcbiAgICBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD4sXG4gICAgb3A1OiBPcGVyYXRvckZ1bmN0aW9uPEQsIEU+LFxuICAgIG9wNjogT3BlcmF0b3JGdW5jdGlvbjxFLCBGPixcbiAgICBvcDc6IE9wZXJhdG9yRnVuY3Rpb248RiwgRz4sXG4gICAgb3A4OiBPcGVyYXRvckZ1bmN0aW9uPEcsIEg+LFxuICAgIG9wOTogT3BlcmF0b3JGdW5jdGlvbjxILCBJPixcbiAgICAuLi5vcGVyYXRpb25zOiBPcGVyYXRvckZ1bmN0aW9uPGFueSwgYW55PltdXG4gICk6IE9ic2VydmFibGU8dW5rbm93bj47XG4gIC8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gc3RpdGNoIHRvZ2V0aGVyIGZ1bmN0aW9uYWwgb3BlcmF0b3JzIGludG8gYSBjaGFpbi5cbiAgICogQG1ldGhvZCBwaXBlXG4gICAqIEByZXR1cm4ge09ic2VydmFibGV9IHRoZSBPYnNlcnZhYmxlIHJlc3VsdCBvZiBhbGwgb2YgdGhlIG9wZXJhdG9ycyBoYXZpbmdcbiAgICogYmVlbiBjYWxsZWQgaW4gdGhlIG9yZGVyIHRoZXkgd2VyZSBwYXNzZWQgaW4uXG4gICAqXG4gICAqICMjIEV4YW1wbGVcbiAgICpcbiAgICogYGBgdHNcbiAgICogaW1wb3J0IHsgaW50ZXJ2YWwsIGZpbHRlciwgbWFwLCBzY2FuIH0gZnJvbSAncnhqcyc7XG4gICAqXG4gICAqIGludGVydmFsKDEwMDApXG4gICAqICAgLnBpcGUoXG4gICAqICAgICBmaWx0ZXIoeCA9PiB4ICUgMiA9PT0gMCksXG4gICAqICAgICBtYXAoeCA9PiB4ICsgeCksXG4gICAqICAgICBzY2FuKChhY2MsIHgpID0+IGFjYyArIHgpXG4gICAqICAgKVxuICAgKiAgIC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gICAqIGBgYFxuICAgKi9cbiAgcGlwZSguLi5vcGVyYXRpb25zOiBPcGVyYXRvckZ1bmN0aW9uPGFueSwgYW55PltdKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICByZXR1cm4gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKTtcbiAgfVxuXG4gIC8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuICAvKiogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgZmlyc3RWYWx1ZUZyb219IGFuZCB7QGxpbmsgbGFzdFZhbHVlRnJvbX0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvdG8tcHJvbWlzZSAqL1xuICB0b1Byb21pc2UoKTogUHJvbWlzZTxUIHwgdW5kZWZpbmVkPjtcbiAgLyoqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIGZpcnN0VmFsdWVGcm9tfSBhbmQge0BsaW5rIGxhc3RWYWx1ZUZyb219LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3RvLXByb21pc2UgKi9cbiAgdG9Qcm9taXNlKFByb21pc2VDdG9yOiB0eXBlb2YgUHJvbWlzZSk6IFByb21pc2U8VCB8IHVuZGVmaW5lZD47XG4gIC8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBmaXJzdFZhbHVlRnJvbX0gYW5kIHtAbGluayBsYXN0VmFsdWVGcm9tfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy90by1wcm9taXNlICovXG4gIHRvUHJvbWlzZShQcm9taXNlQ3RvcjogUHJvbWlzZUNvbnN0cnVjdG9yTGlrZSk6IFByb21pc2U8VCB8IHVuZGVmaW5lZD47XG4gIC8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byB0aGlzIE9ic2VydmFibGUgYW5kIGdldCBhIFByb21pc2UgcmVzb2x2aW5nIG9uXG4gICAqIGBjb21wbGV0ZWAgd2l0aCB0aGUgbGFzdCBlbWlzc2lvbiAoaWYgYW55KS5cbiAgICpcbiAgICogKipXQVJOSU5HKio6IE9ubHkgdXNlIHRoaXMgd2l0aCBvYnNlcnZhYmxlcyB5b3UgKmtub3cqIHdpbGwgY29tcGxldGUuIElmIHRoZSBzb3VyY2VcbiAgICogb2JzZXJ2YWJsZSBkb2VzIG5vdCBjb21wbGV0ZSwgeW91IHdpbGwgZW5kIHVwIHdpdGggYSBwcm9taXNlIHRoYXQgaXMgaHVuZyB1cCwgYW5kXG4gICAqIHBvdGVudGlhbGx5IGFsbCBvZiB0aGUgc3RhdGUgb2YgYW4gYXN5bmMgZnVuY3Rpb24gaGFuZ2luZyBvdXQgaW4gbWVtb3J5LiBUbyBhdm9pZFxuICAgKiB0aGlzIHNpdHVhdGlvbiwgbG9vayBpbnRvIGFkZGluZyBzb21ldGhpbmcgbGlrZSB7QGxpbmsgdGltZW91dH0sIHtAbGluayB0YWtlfSxcbiAgICoge0BsaW5rIHRha2VXaGlsZX0sIG9yIHtAbGluayB0YWtlVW50aWx9IGFtb25nc3Qgb3RoZXJzLlxuICAgKlxuICAgKiBAbWV0aG9kIHRvUHJvbWlzZVxuICAgKiBAcGFyYW0gW3Byb21pc2VDdG9yXSBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHVzZWQgdG8gaW5zdGFudGlhdGVcbiAgICogdGhlIFByb21pc2VcbiAgICogQHJldHVybiBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBsYXN0IHZhbHVlIGVtaXQsIG9yXG4gICAqIHJlamVjdHMgb24gYW4gZXJyb3IuIElmIHRoZXJlIHdlcmUgbm8gZW1pc3Npb25zLCBQcm9taXNlXG4gICAqIHJlc29sdmVzIHdpdGggdW5kZWZpbmVkLlxuICAgKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBmaXJzdFZhbHVlRnJvbX0gYW5kIHtAbGluayBsYXN0VmFsdWVGcm9tfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy90by1wcm9taXNlXG4gICAqL1xuICB0b1Byb21pc2UocHJvbWlzZUN0b3I/OiBQcm9taXNlQ29uc3RydWN0b3JMaWtlKTogUHJvbWlzZTxUIHwgdW5kZWZpbmVkPiB7XG4gICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG5cbiAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCB2YWx1ZTogVCB8IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuc3Vic2NyaWJlKFxuICAgICAgICAoeDogVCkgPT4gKHZhbHVlID0geCksXG4gICAgICAgIChlcnI6IGFueSkgPT4gcmVqZWN0KGVyciksXG4gICAgICAgICgpID0+IHJlc29sdmUodmFsdWUpXG4gICAgICApO1xuICAgIH0pIGFzIFByb21pc2U8VCB8IHVuZGVmaW5lZD47XG4gIH1cbn1cblxuLyoqXG4gKiBEZWNpZGVzIGJldHdlZW4gYSBwYXNzZWQgcHJvbWlzZSBjb25zdHJ1Y3RvciBmcm9tIGNvbnN1bWluZyBjb2RlLFxuICogQSBkZWZhdWx0IGNvbmZpZ3VyZWQgcHJvbWlzZSBjb25zdHJ1Y3RvciwgYW5kIHRoZSBuYXRpdmUgcHJvbWlzZVxuICogY29uc3RydWN0b3IgYW5kIHJldHVybnMgaXQuIElmIG5vdGhpbmcgY2FuIGJlIGZvdW5kLCBpdCB3aWxsIHRocm93XG4gKiBhbiBlcnJvci5cbiAqIEBwYXJhbSBwcm9taXNlQ3RvciBUaGUgb3B0aW9uYWwgcHJvbWlzZSBjb25zdHJ1Y3RvciB0byBwYXNzZWQgYnkgY29uc3VtaW5nIGNvZGVcbiAqL1xuZnVuY3Rpb24gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3I6IFByb21pc2VDb25zdHJ1Y3Rvckxpa2UgfCB1bmRlZmluZWQpIHtcbiAgcmV0dXJuIHByb21pc2VDdG9yID8/IGNvbmZpZy5Qcm9taXNlID8/IFByb21pc2U7XG59XG5cbmZ1bmN0aW9uIGlzT2JzZXJ2ZXI8VD4odmFsdWU6IGFueSk6IHZhbHVlIGlzIE9ic2VydmVyPFQ+IHtcbiAgcmV0dXJuIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUubmV4dCkgJiYgaXNGdW5jdGlvbih2YWx1ZS5lcnJvcikgJiYgaXNGdW5jdGlvbih2YWx1ZS5jb21wbGV0ZSk7XG59XG5cbmZ1bmN0aW9uIGlzU3Vic2NyaWJlcjxUPih2YWx1ZTogYW55KTogdmFsdWUgaXMgU3Vic2NyaWJlcjxUPiB7XG4gIHJldHVybiAodmFsdWUgJiYgdmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB8fCAoaXNPYnNlcnZlcih2YWx1ZSkgJiYgaXNTdWJzY3JpcHRpb24odmFsdWUpKTtcbn1cbiIsICJpbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi9jcmVhdGVFcnJvckNsYXNzJztcblxuZXhwb3J0IGludGVyZmFjZSBPYmplY3RVbnN1YnNjcmliZWRFcnJvciBleHRlbmRzIEVycm9yIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JDdG9yIHtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbC4gRG8gbm90IGNvbnN0cnVjdCBlcnJvciBpbnN0YW5jZXMuXG4gICAqIENhbm5vdCBiZSB0YWdnZWQgYXMgaW50ZXJuYWw6IGh0dHBzOi8vZ2l0aHViLmNvbS9SZWFjdGl2ZVgvcnhqcy9pc3N1ZXMvNjI2OVxuICAgKi9cbiAgbmV3ICgpOiBPYmplY3RVbnN1YnNjcmliZWRFcnJvcjtcbn1cblxuLyoqXG4gKiBBbiBlcnJvciB0aHJvd24gd2hlbiBhbiBhY3Rpb24gaXMgaW52YWxpZCBiZWNhdXNlIHRoZSBvYmplY3QgaGFzIGJlZW5cbiAqIHVuc3Vic2NyaWJlZC5cbiAqXG4gKiBAc2VlIHtAbGluayBTdWJqZWN0fVxuICogQHNlZSB7QGxpbmsgQmVoYXZpb3JTdWJqZWN0fVxuICpcbiAqIEBjbGFzcyBPYmplY3RVbnN1YnNjcmliZWRFcnJvclxuICovXG5leHBvcnQgY29uc3QgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3I6IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yQ3RvciA9IGNyZWF0ZUVycm9yQ2xhc3MoXG4gIChfc3VwZXIpID0+XG4gICAgZnVuY3Rpb24gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsKHRoaXM6IGFueSkge1xuICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgdGhpcy5uYW1lID0gJ09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbiAgICAgIHRoaXMubWVzc2FnZSA9ICdvYmplY3QgdW5zdWJzY3JpYmVkJztcbiAgICB9XG4pO1xuIiwgImltcG9ydCB7IE9wZXJhdG9yIH0gZnJvbSAnLi9PcGVyYXRvcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uLCBFTVBUWV9TVUJTQ1JJUFRJT04gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPYnNlcnZlciwgU3Vic2NyaXB0aW9uTGlrZSwgVGVhcmRvd25Mb2dpYyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi91dGlsL2FyclJlbW92ZSc7XG5pbXBvcnQgeyBlcnJvckNvbnRleHQgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcblxuLyoqXG4gKiBBIFN1YmplY3QgaXMgYSBzcGVjaWFsIHR5cGUgb2YgT2JzZXJ2YWJsZSB0aGF0IGFsbG93cyB2YWx1ZXMgdG8gYmVcbiAqIG11bHRpY2FzdGVkIHRvIG1hbnkgT2JzZXJ2ZXJzLiBTdWJqZWN0cyBhcmUgbGlrZSBFdmVudEVtaXR0ZXJzLlxuICpcbiAqIEV2ZXJ5IFN1YmplY3QgaXMgYW4gT2JzZXJ2YWJsZSBhbmQgYW4gT2JzZXJ2ZXIuIFlvdSBjYW4gc3Vic2NyaWJlIHRvIGFcbiAqIFN1YmplY3QsIGFuZCB5b3UgY2FuIGNhbGwgbmV4dCB0byBmZWVkIHZhbHVlcyBhcyB3ZWxsIGFzIGVycm9yIGFuZCBjb21wbGV0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN1YmplY3Q8VD4gZXh0ZW5kcyBPYnNlcnZhYmxlPFQ+IGltcGxlbWVudHMgU3Vic2NyaXB0aW9uTGlrZSB7XG4gIGNsb3NlZCA9IGZhbHNlO1xuXG4gIHByaXZhdGUgY3VycmVudE9ic2VydmVyczogT2JzZXJ2ZXI8VD5bXSB8IG51bGwgPSBudWxsO1xuXG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgb2JzZXJ2ZXJzOiBPYnNlcnZlcjxUPltdID0gW107XG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgaXNTdG9wcGVkID0gZmFsc2U7XG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgaGFzRXJyb3IgPSBmYWxzZTtcbiAgLyoqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZSBkaXJlY3RseS4gV2lsbCBiZSBtYWRlIGludGVybmFsIGluIHY4LiAqL1xuICB0aHJvd25FcnJvcjogYW55ID0gbnVsbDtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIFwic3ViamVjdFwiIGJ5IGJhc2ljYWxseSBnbHVpbmcgYW4gb2JzZXJ2ZXIgdG8gYW4gb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGRlcHJlY2F0ZWQgUmVjb21tZW5kZWQgeW91IGRvIG5vdCB1c2UuIFdpbGwgYmUgcmVtb3ZlZCBhdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUuIFBsYW5zIGZvciByZXBsYWNlbWVudCBzdGlsbCB1bmRlciBkaXNjdXNzaW9uLlxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZTogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkgPSA8VD4oZGVzdGluYXRpb246IE9ic2VydmVyPFQ+LCBzb3VyY2U6IE9ic2VydmFibGU8VD4pOiBBbm9ueW1vdXNTdWJqZWN0PFQ+ID0+IHtcbiAgICByZXR1cm4gbmV3IEFub255bW91c1N1YmplY3Q8VD4oZGVzdGluYXRpb24sIHNvdXJjZSk7XG4gIH07XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gTk9URTogVGhpcyBtdXN0IGJlIGhlcmUgdG8gb2JzY3VyZSBPYnNlcnZhYmxlJ3MgY29uc3RydWN0b3IuXG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgbGlmdDxSPihvcGVyYXRvcjogT3BlcmF0b3I8VCwgUj4pOiBPYnNlcnZhYmxlPFI+IHtcbiAgICBjb25zdCBzdWJqZWN0ID0gbmV3IEFub255bW91c1N1YmplY3QodGhpcywgdGhpcyk7XG4gICAgc3ViamVjdC5vcGVyYXRvciA9IG9wZXJhdG9yIGFzIGFueTtcbiAgICByZXR1cm4gc3ViamVjdCBhcyBhbnk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfdGhyb3dJZkNsb3NlZCgpIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgIH1cbiAgfVxuXG4gIG5leHQodmFsdWU6IFQpIHtcbiAgICBlcnJvckNvbnRleHQoKCkgPT4ge1xuICAgICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICBpZiAoIXRoaXMuY3VycmVudE9ic2VydmVycykge1xuICAgICAgICAgIHRoaXMuY3VycmVudE9ic2VydmVycyA9IEFycmF5LmZyb20odGhpcy5vYnNlcnZlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qgb2JzZXJ2ZXIgb2YgdGhpcy5jdXJyZW50T2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGVycm9yKGVycjogYW55KSB7XG4gICAgZXJyb3JDb250ZXh0KCgpID0+IHtcbiAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50aHJvd25FcnJvciA9IGVycjtcbiAgICAgICAgY29uc3QgeyBvYnNlcnZlcnMgfSA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChvYnNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgb2JzZXJ2ZXJzLnNoaWZ0KCkhLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBsZXRlKCkge1xuICAgIGVycm9yQ29udGV4dCgoKSA9PiB7XG4gICAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgeyBvYnNlcnZlcnMgfSA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChvYnNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgb2JzZXJ2ZXJzLnNoaWZ0KCkhLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHVuc3Vic2NyaWJlKCkge1xuICAgIHRoaXMuaXNTdG9wcGVkID0gdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgIHRoaXMub2JzZXJ2ZXJzID0gdGhpcy5jdXJyZW50T2JzZXJ2ZXJzID0gbnVsbCE7XG4gIH1cblxuICBnZXQgb2JzZXJ2ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JzZXJ2ZXJzPy5sZW5ndGggPiAwO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3RyeVN1YnNjcmliZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KTogVGVhcmRvd25Mb2dpYyB7XG4gICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgIHJldHVybiBzdXBlci5fdHJ5U3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3N1YnNjcmliZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KTogU3Vic2NyaXB0aW9uIHtcbiAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgdGhpcy5fY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyhzdWJzY3JpYmVyKTtcbiAgICByZXR1cm4gdGhpcy5faW5uZXJTdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfaW5uZXJTdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxhbnk+KSB7XG4gICAgY29uc3QgeyBoYXNFcnJvciwgaXNTdG9wcGVkLCBvYnNlcnZlcnMgfSA9IHRoaXM7XG4gICAgaWYgKGhhc0Vycm9yIHx8IGlzU3RvcHBlZCkge1xuICAgICAgcmV0dXJuIEVNUFRZX1NVQlNDUklQVElPTjtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50T2JzZXJ2ZXJzID0gbnVsbDtcbiAgICBvYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICByZXR1cm4gbmV3IFN1YnNjcmlwdGlvbigoKSA9PiB7XG4gICAgICB0aGlzLmN1cnJlbnRPYnNlcnZlcnMgPSBudWxsO1xuICAgICAgYXJyUmVtb3ZlKG9ic2VydmVycywgc3Vic2NyaWJlcik7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyhzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPGFueT4pIHtcbiAgICBjb25zdCB7IGhhc0Vycm9yLCB0aHJvd25FcnJvciwgaXNTdG9wcGVkIH0gPSB0aGlzO1xuICAgIGlmIChoYXNFcnJvcikge1xuICAgICAgc3Vic2NyaWJlci5lcnJvcih0aHJvd25FcnJvcik7XG4gICAgfSBlbHNlIGlmIChpc1N0b3BwZWQpIHtcbiAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBPYnNlcnZhYmxlIHdpdGggdGhpcyBTdWJqZWN0IGFzIHRoZSBzb3VyY2UuIFlvdSBjYW4gZG8gdGhpc1xuICAgKiB0byBjcmVhdGUgY3VzdG9tIE9ic2VydmVyLXNpZGUgbG9naWMgb2YgdGhlIFN1YmplY3QgYW5kIGNvbmNlYWwgaXQgZnJvbVxuICAgKiBjb2RlIHRoYXQgdXNlcyB0aGUgT2JzZXJ2YWJsZS5cbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gT2JzZXJ2YWJsZSB0aGF0IHRoZSBTdWJqZWN0IGNhc3RzIHRvXG4gICAqL1xuICBhc09ic2VydmFibGUoKTogT2JzZXJ2YWJsZTxUPiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZTogYW55ID0gbmV3IE9ic2VydmFibGU8VD4oKTtcbiAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgcmV0dXJuIG9ic2VydmFibGU7XG4gIH1cbn1cblxuLyoqXG4gKiBAY2xhc3MgQW5vbnltb3VzU3ViamVjdDxUPlxuICovXG5leHBvcnQgY2xhc3MgQW5vbnltb3VzU3ViamVjdDxUPiBleHRlbmRzIFN1YmplY3Q8VD4ge1xuICBjb25zdHJ1Y3RvcihcbiAgICAvKiogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguICovXG4gICAgcHVibGljIGRlc3RpbmF0aW9uPzogT2JzZXJ2ZXI8VD4sXG4gICAgc291cmNlPzogT2JzZXJ2YWJsZTxUPlxuICApIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICB9XG5cbiAgbmV4dCh2YWx1ZTogVCkge1xuICAgIHRoaXMuZGVzdGluYXRpb24/Lm5leHQ/Lih2YWx1ZSk7XG4gIH1cblxuICBlcnJvcihlcnI6IGFueSkge1xuICAgIHRoaXMuZGVzdGluYXRpb24/LmVycm9yPy4oZXJyKTtcbiAgfVxuXG4gIGNvbXBsZXRlKCkge1xuICAgIHRoaXMuZGVzdGluYXRpb24/LmNvbXBsZXRlPy4oKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJvdGVjdGVkIF9zdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPik6IFN1YnNjcmlwdGlvbiB7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlPy5zdWJzY3JpYmUoc3Vic2NyaWJlcikgPz8gRU1QVFlfU1VCU0NSSVBUSU9OO1xuICB9XG59XG4iLCAiaW1wb3J0IEdhbWVHbG9iYWxzIGZyb20gXCIuLi9nbG9iYWxzLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTGV2ZWxTdGF0ZSB7XHJcblxyXG4gICAgLy8gY29uc3RydWN0b3IoKSB7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gI2xldmVsID0gMDtcclxuXHJcbiAgICAvLyBpbml0TGV2ZWxTdGF0ZShsZXZlbCkge1xyXG4gICAgLy8gICAgIHRoaXMuI2xldmVsID0gbGV2ZWw7XHJcbiAgICAgICAgXHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coJ2luaXRMZXZlbFN0YXRlJyk7XHJcbiAgICAvLyAgICAgLy90aGlzLmN1cnJlbnRMZXZlbERhdGEgPSBjbG9uZShMZXZlbERhdGFbbGV2ZWxdKTtcclxuICAgIC8vICAgIC8vIEdhbWVHbG9iYWxzLnBhcnRpY2xlUG9vbC5yZXNldCgpO1xyXG4gICAgLy8gfVxyXG59XHJcbiIsICJpbXBvcnQgeyBzaW5nbGV0b24gfSBmcm9tIFwidHN5cmluZ2VcIjtcclxuaW1wb3J0IHsgVWlNYW5hZ2VyIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdWktbWFuYWdlci5qc1wiO1xyXG5pbXBvcnQgeyBOdW1iZXJBcnJheSwgT2JqZWN0M0QgfSBmcm9tIFwiQHdvbmRlcmxhbmRlbmdpbmUvYXBpXCI7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBpcyB1c2VkIGFzIGFuIGludGVybWVkaWFyeSBiZXR3ZWVuIHRoZSBVSSBjb21wb25lbnRzIGFuZCB0aGUgcmVzdCBvZiB0aGUgZ2FtZS5cclxuICogVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSB0byBhY2Nlc3MgdGhlIFVJIGZyb20gYW55d2hlcmUgaW4gdGhlIGdhbWUuXHJcbiAqL1xyXG5Ac2luZ2xldG9uKClcclxuZXhwb3J0IGNsYXNzIEludGVybmFsVUlNYW5hZ2VyIHtcclxuICBcclxuICB1aU1hbmFnZXI6IFVpTWFuYWdlcjtcclxuXHJcbiAgcmVnaXN0ZXJDb21wb25lbnQodWlNYW5hZ2VyOiBVaU1hbmFnZXIpIHtcclxuICAgIHRoaXMudWlNYW5hZ2VyID0gdWlNYW5hZ2VyO1xyXG4gIH1cclxuXHJcbiAgaXNVaU9wZW4oKTogYm9vbGVhbiB7XHJcbiAgICBpZiAodGhpcy51aU1hbmFnZXIpIHtcclxuICAgICAgcmV0dXJuIHRoaXMudWlNYW5hZ2VyLmlzVWlPcGVuKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvcGVuKG5hbWU6IHN0cmluZywgcG9zaXRpb246IFJlYWRvbmx5PE51bWJlckFycmF5Pik6IE9iamVjdDNEIHtcclxuICAgIGlmICghdGhpcy51aU1hbmFnZXIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB1aSBtYW5hZ2VyIHJlZ2lzdGVyZWRcIik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiB0aGlzLnVpTWFuYWdlci5vcGVuKG5hbWUsIHBvc2l0aW9uKTtcclxuICB9XHJcblxyXG4gIGNsb3NlQWxsKCkge1xyXG4gICAgaWYgKHRoaXMudWlNYW5hZ2VyKSB7XHJcbiAgICAgICAgdGhpcy51aU1hbmFnZXIuY2xvc2VBbGwoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwgImltcG9ydCBcInJlZmxlY3QtbWV0YWRhdGFcIjtcclxuaW1wb3J0IHsgaW5qZWN0LCBzaW5nbGV0b24gfSBmcm9tIFwidHN5cmluZ2VcIjtcclxuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gXCJyeGpzXCI7XHJcblxyXG5pbXBvcnQgeyBMZXZlbFN0YXRlIH0gZnJvbSBcIi4vbGV2ZWxTdGF0ZS5qc1wiO1xyXG5pbXBvcnQgeyBEaXJlY3Rpb25TeW1ib2wgfSBmcm9tIFwiLi4vdHlwZXMvaW5kZXguanNcIjtcclxuaW1wb3J0IHsgUm9vbSB9IGZyb20gXCIuLi9kdW5nZW9uZ2VuL3Jvb20uanNcIjtcclxuaW1wb3J0IHsgZmluZENoYXJJblN0cmluZ0FycmF5QnlQb3MgfSBmcm9tIFwiLi4vZm9yRnJhbWV3b3JrL2ZpbmRDaGFySW5TdHJpbmdBcnJheS5qc1wiO1xyXG5pbXBvcnQgeyBSb29tVGVtcGxhdGVQYXR0ZXJuRGVmaW5pdGlvbnMgfSBmcm9tIFwiLi4vZHVuZ2Vvbmdlbi9yb29tVGVtcGxhdGVzLmpzXCI7XHJcbmltcG9ydCB7IE9iamVjdDNEIH0gZnJvbSBcIkB3b25kZXJsYW5kZW5naW5lL2FwaVwiO1xyXG5pbXBvcnQgeyBJbnRlcm5hbFVJTWFuYWdlciB9IGZyb20gXCIuLi91aS9jbGFzc2VzL0ludGVybmFsVUlNYW5hZ2VyLmpzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBTdGF0ZSA9IHtcclxuICBJbml0OiAtMSxcclxuICBUaXRsZTogMCxcclxuICBQYXVzZTogMSxcclxuICBQbGF5aW5nOiAyLFxyXG4gIEVuZDogMyxcclxuICBDb21wbGV0ZTogNCxcclxufTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgR2FtZVN0YXRlQmFzZXtcclxuXHJcbn1cclxuXHJcbkBzaW5nbGV0b24oKVxyXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlIGltcGxlbWVudHMgR2FtZVN0YXRlQmFzZSB7XHJcbiAgXHJcbiAgcm9vbTogUm9vbSB8IG51bGwgPSBudWxsO1xyXG5cclxuICBjb25zdHJ1Y3RvcihAaW5qZWN0KEludGVybmFsVUlNYW5hZ2VyKSBwcml2YXRlIHVpTWFuYWdlcjogSW50ZXJuYWxVSU1hbmFnZXIpIHtcclxuICAgIHRoaXMucGxheWVyUG9zaXRpb25TdWJqZWN0ID0gbmV3IFN1YmplY3QoKTtcclxuICAgIHRoaXMucGxheWVyUm90YXRpb25TdWJqZWN0ID0gbmV3IFN1YmplY3QoKTtcclxuICAgIHRoaXMuaXNJblZSU3ViamVjdCA9IG5ldyBTdWJqZWN0KCk7XHJcbiAgICB0aGlzLmxldmVsU3ViamVjdCA9IG5ldyBTdWJqZWN0KCk7XHJcbiAgICB0aGlzLmF2YWlsYWJsZVRhcmdldHNTdWJqZWN0ID0gbmV3IFN1YmplY3QoKTtcclxuXHJcbiAgICB0aGlzLmxldmVsU3RhdGUgPSBuZXcgTGV2ZWxTdGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuY3VycmVudFJvb21TdWJqZWN0ID0gbmV3IFN1YmplY3QoKTtcclxuXHJcbiAgICB0aGlzLmN1cnJlbnRSb29tU3ViamVjdC5zdWJzY3JpYmUoKHJvb20pID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCJjdXJyZW50Um9vbVN1YmplY3RcIiwgcm9vbSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnN0YXRlU3ViamVjdCA9IG5ldyBTdWJqZWN0KCk7XHJcbiAgICBjb25zb2xlLmxvZyhcIm5ldyBHYW1lIFN0YXRlIGNyZWF0ZWRcIik7XHJcbiAgfVxyXG5cclxuICBsZXZlbFN0YXRlOiBMZXZlbFN0YXRlO1xyXG5cclxuICBzdGF0ZVN1YmplY3Q6IFN1YmplY3Q8bnVtYmVyPjtcclxuICBfc3RhdGUgPSBTdGF0ZS5Jbml0O1xyXG4gIHNldCBzdGF0ZSh2YWx1ZSkge1xyXG4gICAgdGhpcy5fc3RhdGUgPSB2YWx1ZTtcclxuICAgIHRoaXMuc3RhdGVTdWJqZWN0Lm5leHQodmFsdWUpO1xyXG4gIH1cclxuICBnZXQgc3RhdGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fc3RhdGU7XHJcbiAgfVxyXG5cclxuICBhdmFpbGFibGVUYXJnZXRzU3ViamVjdDogU3ViamVjdDxudW1iZXI+O1xyXG4gIF9hdmFpbGFibGVUYXJnZXRzID0gMDtcclxuICBzZXQgYXZhaWxhYmxlVGFyZ2V0cyh2YWx1ZSkge1xyXG4gICAgdGhpcy5fYXZhaWxhYmxlVGFyZ2V0cyA9IHZhbHVlO1xyXG4gICAgdGhpcy5hdmFpbGFibGVUYXJnZXRzU3ViamVjdC5uZXh0KHZhbHVlKTtcclxuICB9XHJcbiAgZ2V0IGF2YWlsYWJsZVRhcmdldHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fYXZhaWxhYmxlVGFyZ2V0cztcclxuICB9XHJcblxyXG4gIGxldmVsU3ViamVjdDogU3ViamVjdDxudW1iZXI+O1xyXG4gIF9sZXZlbCA9IDA7XHJcbiAgc2V0IGxldmVsKHZhbHVlKSB7XHJcbiAgICB0aGlzLl9sZXZlbCA9IHZhbHVlO1xyXG4gICAgdGhpcy5sZXZlbFN1YmplY3QubmV4dCh2YWx1ZSk7XHJcbiAgfVxyXG4gIGdldCBsZXZlbCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9sZXZlbDtcclxuICB9XHJcblxyXG4gIHBsYXllclBvc2l0aW9uU3ViamVjdDogU3ViamVjdDxudW1iZXJbXT47XHJcbiAgX3BsYXllclBvc2l0aW9uID0gWzAsIDAsIDBdO1xyXG4gIHNldCBwbGF5ZXJQb3NpdGlvbih2YWx1ZSkge1xyXG4gICAgdGhpcy5fcHJldmlvdXNQbGF5ZXJQb3NpdGlvbiA9IHRoaXMuX3BsYXllclBvc2l0aW9uO1xyXG4gICAgdGhpcy5fcGxheWVyUG9zaXRpb24gPSB2YWx1ZTtcclxuICAgIHRoaXMucGxheWVyUG9zaXRpb25TdWJqZWN0Lm5leHQodmFsdWUpO1xyXG4gIH1cclxuICBnZXQgcGxheWVyUG9zaXRpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcGxheWVyUG9zaXRpb247XHJcbiAgfVxyXG4gIF9wcmV2aW91c1BsYXllclBvc2l0aW9uID0gWzAsIDAsIDBdO1xyXG4gIGdldCBwcmV2aW91c1BsYXllclBvc2l0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3ByZXZpb3VzUGxheWVyUG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBwbGF5ZXJSb3RhdGlvblN1YmplY3Q6IFN1YmplY3Q8bnVtYmVyPjtcclxuICBfcGxheWVyUm90YXRpb24gPSAwO1xyXG4gIHNldCBwbGF5ZXJSb3RhdGlvbih2YWx1ZSkge1xyXG4gICAgdGhpcy5fcHJldmlvdXNQbGF5ZXJSb3RhdGlvbiA9IHRoaXMuX3BsYXllclJvdGF0aW9uO1xyXG4gICAgdGhpcy5fcGxheWVyUm90YXRpb24gPSB2YWx1ZTtcclxuICAgIHRoaXMucGxheWVyUm90YXRpb25TdWJqZWN0Lm5leHQodmFsdWUpO1xyXG4gIH1cclxuICBnZXQgcGxheWVyUm90YXRpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcGxheWVyUm90YXRpb247XHJcbiAgfVxyXG5cclxuICBfcHJldmlvdXNQbGF5ZXJSb3RhdGlvbiA9IDA7XHJcbiAgZ2V0IHByZXZpb3VzUGxheWVyUm90YXRpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcHJldmlvdXNQbGF5ZXJSb3RhdGlvbjtcclxuICB9XHJcblxyXG4gIGlzSW5WUlN1YmplY3Q6IFN1YmplY3Q8Ym9vbGVhbj47XHJcbiAgX2lzSW5WUiA9IGZhbHNlO1xyXG4gIHNldCBpc0luVlIodmFsdWUpIHtcclxuICAgIHRoaXMuX2lzSW5WUiA9IHZhbHVlO1xyXG4gICAgdGhpcy5pc0luVlJTdWJqZWN0Lm5leHQodmFsdWUpO1xyXG4gIH1cclxuICBnZXQgaXNJblZSKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzSW5WUjtcclxuICB9XHJcblxyXG4gIGN1cnJlbnRSb29tU3ViamVjdDogU3ViamVjdDxudW1iZXJbXT47XHJcbiAgX2N1cnJlbnRSb29tID0gWzAsMF07XHJcbiAgc2V0IGN1cnJlbnRSb29tKHZhbHVlKSB7XHJcbiAgICB0aGlzLl9jdXJyZW50Um9vbSA9IHZhbHVlO1xyXG4gICAgdGhpcy5jdXJyZW50Um9vbVN1YmplY3QubmV4dCh2YWx1ZSk7XHJcbiAgfVxyXG4gIGdldCBjdXJyZW50Um9vbSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXJyZW50Um9vbTtcclxuICB9XHJcblxyXG4gIG9mZlRhcmdldCgpIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgb3Igbm90IHRoZSBwbGF5ZXIgaXMgY3VycmVudGx5IG5hdmlnYXRpbmcgdG8gYSByb29tXHJcbiAgICovXHJcbiAgbmF2aWdhdGluZyA9IGZhbHNlO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgZGlyZWN0aW9uIHRoZSBwbGF5ZXIgZW50ZXJlZCB0aGUgcm9vbSBmcm9tXHJcbiAgICovXHJcbiAgcm9vbVByZXZpb3VzRXhpdERpcmVjdGlvbjogRGlyZWN0aW9uU3ltYm9sIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIC8qKlxyXG4gICAqIE5hdmlnYXRlIHRvIGEgcm9vbVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb29teCB0aGUgeCBwb3NpdGlvbiBvbiB0aGUgbWFwIG9mIHRoZSByb29tIHRvIG5hdmlnYXRlIHRvXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvb215IHRoZSB5IHBvc2l0aW9uIG9uIHRoZSBtYXAgb2YgdGhlIHJvb20gdG8gbmF2aWdhdGUgdG9cclxuICAgKiBAcGFyYW0ge0RpcmVjdGlvblN5bWJvbHxudWxsfSBkaXJlY3Rpb24gdGhlIGRpcmVjdGlvbiB0aGUgcGxheWVyIGV4aXRlZCB0aGUgcm9vbSBmcm9tLCBpZiBudWxsIHRoZSBwbGF5ZXIgd2lsbCBiZSB0ZWxlcG9ydGVkIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHJvb20gKHRoaXMgc2hvdWxkIG9ubHkgaGFwcGVuIGF0IHRoZSBzdGFydClcclxuICAgKi9cclxuICBuYXZpZ2F0ZVRvUm9vbShyb29teDogbnVtYmVyLCByb29teTogbnVtYmVyLCBkaXJlY3Rpb246IERpcmVjdGlvblN5bWJvbCB8IG51bGwgPSBudWxsKSB7XHJcbiAgICBpZiAodGhpcy5uYXZpZ2F0aW5nKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMubmF2aWdhdGluZyA9IHRydWU7XHJcblxyXG4gICAgLy8gY2xvc2UgYW55IFVJIGlmIGl0J3Mgb3BlblxyXG4gICAgdGhpcy51aU1hbmFnZXIuY2xvc2VBbGwoKTtcclxuXHJcbiAgICBpZiAoZGlyZWN0aW9uKSB7XHJcbiAgICAgIHRoaXMucm9vbVByZXZpb3VzRXhpdERpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucGxheWVyUG9zaXRpb24gPSBbMywgMCwgN107XHJcbiAgICAgIHRoaXMucGxheWVyUm90YXRpb24gPSAyNzA7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jdXJyZW50Um9vbSA9IFtyb29teCwgcm9vbXldO1xyXG5cclxuICAgIC8vIHVzZSBkaXJlY3Rpb24gdG8gdGVsZXBvcnQgdG8gdGhlIGNvcnJlY3QgbG9jYXRpb24gaW4gdGhlIG5ldyByb29tXHJcblxyXG4gICAgdGhpcy5uYXZpZ2F0aW5nID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJcyBpdCBwb3NzaWJsZSB0byB0ZWxlcG9ydCB0byB0aGUgZ2l2ZW4gcG9zaXRpb24/XHJcbiAgICogQHBhcmFtIHhcclxuICAgKiBAcGFyYW0geVxyXG4gICAqIEBwYXJhbSB6XHJcbiAgICogQHJldHVybnMgdHJ1ZSBpZiBpdCBpcyBwb3NzaWJsZSB0byB0ZWxlcG9ydCB0byB0aGUgZ2l2ZW4gcG9zaXRpb25cclxuICAgKi9cclxuICBjYW5QaWNrKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpIHtcclxuICAgIGlmICghdGhpcy5yb29tKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMucm9vbS5nZXRSb29tVGVtcGxhdGUoKTtcclxuICAgIGlmICghdGVtcGxhdGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgbm8gdGVtcGxhdGUgZm91bmQgZm9yIGN1cnJlbnQgcm9vbS4gT2RkLi4uIFdlJ3JlIGluIGl0LmApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2hhciA9IGZpbmRDaGFySW5TdHJpbmdBcnJheUJ5UG9zKHRlbXBsYXRlLnBhdHRlcm4sIE1hdGguZmxvb3IoeCksIE1hdGguZmxvb3IoeikpO1xyXG4gICAgaWYoIWNoYXIpe1xyXG4gICAgICAvLyBzb21laG93IHRoZXJlJ3MgTk8gY2hhciBhdCB0aGlzIHBvc2l0aW9uXHJcbiAgICAgIGNvbnNvbGUud2Fybihgbm8gY2hhciBmb3VuZCBhdCBwb3NpdGlvbiAke3h9LCR7en0gaW4gdGVtcGxhdGUgJHt0ZW1wbGF0ZS5uYW1lfWApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb25zdCBkZWZpbml0aW9uID0gUm9vbVRlbXBsYXRlUGF0dGVybkRlZmluaXRpb25zW2NoYXJdO1xyXG5cclxuICAgIGlmKGRlZmluaXRpb24uYmVoYXZpb3IgPT09IFwiRG9vclwiKXtcclxuICAgICAgcmV0dXJuIChjaGFyID09PSBcIk5cIiAmJiB0aGlzLnJvb20uZG9vcnMubm9ydGgpIHx8XHJcbiAgICAgIChjaGFyID09PSBcIkVcIiAmJiB0aGlzLnJvb20uZG9vcnMuZWFzdCkgfHxcclxuICAgICAgKGNoYXIgPT09IFwiU1wiICYmIHRoaXMucm9vbS5kb29ycy5zb3V0aCkgfHxcclxuICAgICAgKGNoYXIgPT09IFwiV1wiICYmIHRoaXMucm9vbS5kb29ycy53ZXN0KTsgXHJcbiAgICB9ZWxzZXtcclxuICAgICAgcmV0dXJuIGRlZmluaXRpb24uY2FuVGVsZXBvcnRUb1RpbGUgfHwgZGVmaW5pdGlvbi5jYW5JbnRlcmFjdFdpdGhUaWxlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcGljayhvYmo6T2JqZWN0M0QsIHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpIHtcclxuICAgIGlmICghdGhpcy5yb29tKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMucm9vbS5nZXRSb29tVGVtcGxhdGUoKTtcclxuICAgIGlmICghdGVtcGxhdGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgbm8gdGVtcGxhdGUgZm91bmQgZm9yIGN1cnJlbnQgcm9vbS4gT2RkLi4uIFdlJ3JlIGluIGl0LmApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2hhciA9IGZpbmRDaGFySW5TdHJpbmdBcnJheUJ5UG9zKHRlbXBsYXRlLnBhdHRlcm4sIE1hdGguZmxvb3IoeCksIE1hdGguZmxvb3IoeikpO1xyXG4gICAgaWYoIWNoYXIpe1xyXG4gICAgICAvLyBzb21laG93IHRoZXJlJ3MgTk8gY2hhciBhdCB0aGlzIHBvc2l0aW9uXHJcbiAgICAgIGNvbnNvbGUud2Fybihgbm8gY2hhciBmb3VuZCBhdCBwb3NpdGlvbiAke3h9LCR7en0gaW4gdGVtcGxhdGUgJHt0ZW1wbGF0ZS5uYW1lfWApO1xyXG4gICAgICByZXR1cm4gO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGdldCB0aGUgaXRlbXMgaW4gdGhlcmUgZm9yIHRoZSBnaXZlbiBwb3NpdGlvblxyXG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLnJvb20uZ2V0SXRlbXNBdFBvc2l0aW9uKHt4Ok1hdGguZmxvb3IoeCksIHk6TWF0aC5mbG9vcih6KX0pO1xyXG4gICBcclxuICAgIGlmKCFpdGVtcyB8fCBpdGVtcy5sZW5ndGggPT09IDApe1xyXG4gICAgICBpZihSb29tVGVtcGxhdGVQYXR0ZXJuRGVmaW5pdGlvbnNbY2hhcl0uY2FuVGVsZXBvcnRUb1RpbGUpe1xyXG4gICAgICAgIC8vIGNsb3NlIGFueSBVSSBpZiBpdCdzIG9wZW5cclxuICAgICAgICB0aGlzLnVpTWFuYWdlci5jbG9zZUFsbCgpO1xyXG5cclxuICAgICAgICAvLyB0ZWxlcG9ydCB0byB0aGUgdGlsZVxyXG4gICAgICAgIHRoaXMuc2V0UGxheWVyUG9zaXRpb24oeCx6KTtcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcclxuICAgICAgaXRlbS5pbnRlcmFjdChvYmosIHgsIHksIHopO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG5cclxuICAgIC8vIGV4ZWN1dGUgYmVoYXZpb3IgcGlja2VkIG9uIHRpbGVcclxuICAgICAgXHJcbiAgICAgIC8vIGZvciBhIGRvb3IgdGhpcyBzaG91bGQgYmUgbmF2aWdhdGluZyB0byB0aGUgbmV4dCByb29tXHJcbiAgICAgIC8vIGZvciBhIGZsb29yIHRpbGUgdGhpcyBzaG91bGQgYmUgdGVsZXBvcnRpbmcgdG8gdGhhdCBsb2NhdGlvblxyXG4gICAgICAvLyBmb3IgYSBjaGVzdCB0aGlzIHNob3VsZCBiZSBvcGVuaW5nIHRoZSBjaGVzdFxyXG4gICAgICAvLyBmb3IgYSBjaGFyYWN0ZXIgdGhpcyBzaG91bGQgYmUgdGFsa2luZyB0byB0aGUgY2hhcmFjdGVyXHJcbiAgICAgIC8vIGV0Y1xyXG4gICAgICAvLyBidXQgaG93PyBTb21laG93IHRoZXJlIHNob3VsZCBiZSBhIGxpbmsgdG8gdGhlIHJvb20gdGVtcGxhdGUsIHRoZSB0aWxlcyBcclxuICAgICAgLy8gYW5kIHRoZSBvYmplY3RzIGluIHRoZSByb29tLlxyXG4gICAgICAvLyBtYXliZSB0aGUgcm9vbSB0ZW1wbGF0ZSBzaG91bGQgaGF2ZSBhIGxpc3Qgb2Ygb2JqZWN0cyBpbiB0aGUgcm9vbT9cclxuICAgICAgLy8gd291bGQgaXQgYmUgcG9zc2libGUgdG8gc3RvcmUgdGhlbSBpbiBhIDJEIGFycmF5P1xyXG4gICAgICAvLyBzbyB3ZSBjYW4ganVzdCByZXF1ZXN0IFgsWSBhbmQgZ2V0IHRoZSBvYmplY3QsIGFuZCBleGVjdXRlIHRoZSBiZWhhdmlvcj9cclxuICAgICAgXHJcbiAgICBcclxuXHJcbiAgICAvL2RlZmluaXRpb24uYmVoYXZpb3I7XHJcblxyXG5cclxuICAgIHJldHVybjtcclxuICAgIC8vIGxldCB0YWdzID0gb2JqLmdldENvbXBvbmVudChUYWdzKTtcclxuICAgIC8vIGlmICghdGFncykgcmV0dXJuO1xyXG4gICAgLy8gbGV0IHBvc2l0aW9uID0gdGhpcy5wbGF5ZXJQb3NpdGlvbjtcclxuICAgIC8vIC8vdGhpcy5wbGF5ZXIuZ2V0VHJhbnNsYXRpb25Xb3JsZChwb3NpdGlvbik7XHJcbiAgIFxyXG4gICAgLy8gc3dpdGNoICh0cnVlKSB7XHJcbiAgICAvLyAgIGNhc2UgdGFncy5oYXNUYWcoXCJmbG9vclwiKTpcclxuICAgIC8vICAgICBnbG9iYWxzLnNvdW5kRnhQbGF5ZXIucGxheVNvdW5kKFNvdW5kcy50ZWxlcG9ydCk7XHJcbiAgICAvLyAgICAgdGhpcy5wbGF5ZXJQb3NpdGlvbiA9IFt4LCBwb3NpdGlvblsxXSwgel07XHJcbiAgICAvLyAgICAgYnJlYWs7XHJcbiAgICAvLyAgIGNhc2UgdGFncy5oYXNUYWcoXCJidXR0b25cIik6XHJcbiAgICAvLyAgICAgYnJlYWs7XHJcbiAgICAvLyAgIGNhc2UgdGFncy5oYXNUYWcoXCJjaGVzdFwiKTpcclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhgcGlja2luZyBjaGVzdCBub3QgaW1wbGVtZW50ZWQgeWV0LiAke3h9LCAke3p9YCk7XHJcbiAgICAvLyAgICAgYnJlYWs7XHJcbiAgICAvLyAgIGNhc2UgdGFncy5oYXNUYWcoXCJkb29yXCIpOlxyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKFwicGlja2luZyBkb29yIG5vdCBpbXBsZW1lbnRlZCB5ZXRcIik7XHJcbiAgICAvLyAgICAgYnJlYWs7XHJcbiAgICAvLyB9XHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50Um9vbShjdXJyZW50Um9vbTogUm9vbSkge1xyXG4gICAgdGhpcy5yb29tID0gY3VycmVudFJvb207XHJcbiAgfVxyXG5cclxuICBzZXRQbGF5ZXJQb3NpdGlvbih4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgdGhpcy5wbGF5ZXJQb3NpdGlvbiA9IFt4LCB0aGlzLnBsYXllclBvc2l0aW9uWzFdLCB5XTtcclxufVxyXG59XHJcbiIsICJpbXBvcnQgeyBPYmplY3QzRCB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGlcIjtcclxuaW1wb3J0IGdsb2JhbHMgZnJvbSBcIi4uLy4uL2dsb2JhbHMuanNcIjtcclxuaW1wb3J0IHsgRGlyZWN0aW9uU3ltYm9sLCBQb3NpdGlvbjJEIH0gZnJvbSBcIi4uLy4uL3R5cGVzL2luZGV4LmpzXCI7XHJcbmltcG9ydCB7IEdlbmVyaWNJdGVtIH0gZnJvbSBcIi4vR2VuZXJpY0l0ZW0uanNcIjtcclxuaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4uLy4uL2NsYXNzZXMvZ2FtZVN0YXRlLmpzXCI7XHJcbmltcG9ydCB7IGNvbnRhaW5lciB9IGZyb20gXCJ0c3lyaW5nZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERvb3IgZXh0ZW5kcyBHZW5lcmljSXRlbXtcclxuICAgIFxyXG4gICAgZGlyZWN0aW9uOkRpcmVjdGlvblN5bWJvbDtcclxuICAgIHRhcmdldFJvb206UG9zaXRpb24yRDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBkaXJlY3Rpb246RGlyZWN0aW9uU3ltYm9sLCBcclxuICAgICAgICB0YXJnZXRSb29tOlBvc2l0aW9uMkQsXHJcbiAgICAgICAgY3VycmVudFBvc2l0aW9uOlBvc2l0aW9uMkQpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgc3VwZXIubmFtZSA9IFwiRG9vclwiO1xyXG4gICAgICAgIHN1cGVyLnR5cGUgPSBcIml0ZW1cIjtcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuICAgICAgICB0aGlzLnRhcmdldFJvb20gPSB0YXJnZXRSb29tO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBjdXJyZW50UG9zaXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgb3ZlcnJpZGUgaW50ZXJhY3Qob2JqOk9iamVjdDNELCB4Om51bWJlciwgeTpudW1iZXIsIHo6bnVtYmVyKXtcclxuICAgICAgICBjb25zdCBnYW1lU3RhdGUgPSBjb250YWluZXIucmVzb2x2ZShHYW1lU3RhdGUpO1xyXG4gICAgICAgIGdhbWVTdGF0ZS5uYXZpZ2F0ZVRvUm9vbSh0aGlzLnRhcmdldFJvb20ueCwgdGhpcy50YXJnZXRSb29tLnksIHRoaXMuZGlyZWN0aW9uKTtcclxuICAgIH1cclxuXHJcbn0iLCAiaW1wb3J0IHsgUG9zaXRpb24yRCB9IGZyb20gXCIuLi90eXBlcy9wb3NpdGlvbi5qc1wiO1xyXG5pbXBvcnQgeyBMb290VGFibGUgfSBmcm9tIFwiLi9sb290L2xvb3RUYWJsZUJhc2UuanNcIjtcclxuaW1wb3J0IHsgY2hlc3REZWZpbml0aW9uIH0gZnJvbSBcIi4vcm9vbVRlbXBsYXRlcy5qc1wiO1xyXG5pbXBvcnQgeyBHZW5lcmljSXRlbSB9IGZyb20gXCIuL29iamVjdHMvR2VuZXJpY0l0ZW0uanNcIjtcclxuaW1wb3J0IHsgaW5qZWN0LCBzaW5nbGV0b24gfSBmcm9tIFwidHN5cmluZ2VcIjtcclxuaW1wb3J0IHsgQ2hlc3QgfSBmcm9tIFwiLi9vYmplY3RzL2NoZXN0LmpzXCI7XHJcblxyXG5cclxuQHNpbmdsZXRvbigpXHJcbmV4cG9ydCBjbGFzcyBDaGVzdENyZWF0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKEBpbmplY3QoTG9vdFRhYmxlKSBwcml2YXRlIGxvb3RUYWJsZTogTG9vdFRhYmxlKSB7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ2hlc3QocG9zaXRpb246IFBvc2l0aW9uMkQsIGNoZXN0RGVmaW5pdGlvbjogY2hlc3REZWZpbml0aW9uKTogR2VuZXJpY0l0ZW0ge1xyXG5cclxuICAgICAgICBjb25zdCBsdCA9IHRoaXMubG9vdFRhYmxlLmxvb3RFbnRyaWVzLmdldChjaGVzdERlZmluaXRpb24ubG9vdHRhYmxlID8/IFwiY29tbW9uXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIDtcclxuICAgICAgICBjb25zdCBjaGVzdEl0ZW0gPSBcclxuICAgICAgICBuZXcgQ2hlc3QoY2hlc3REZWZpbml0aW9uLnNpemUsIFxyXG4gICAgICAgICAgICBjaGVzdERlZmluaXRpb24ubWF0ZXJpYWwsIDQsIHRoaXMubG9vdFRhYmxlKTtcclxuXHJcbiAgICAgICAgY2hlc3RJdGVtLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgY2hlc3RJdGVtLm5hbWUgPSBcIkNoZXN0XCI7XHJcblxyXG4gICAgICAgIHJldHVybiBjaGVzdEl0ZW07XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IEdlbmVyaWNJdGVtIH0gZnJvbSBcIi4uLy4uL2R1bmdlb25nZW4vb2JqZWN0cy9HZW5lcmljSXRlbS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoaWVsZCBleHRlbmRzIEdlbmVyaWNJdGVtIHtcclxuICBiYXNlQmxvY2tDaGFuY2U6IG51bWJlciA9IDAuMTtcclxuICBkYW1hZ2VSZWR1Y3Rpb246IG51bWJlciA9IDE7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIHN1cGVyLm5hbWUgPSBcIlNoaWVsZFwiO1xyXG4gICAgc3VwZXIudHlwZSA9IFwic2hpZWxkXCI7XHJcbiAgfVxyXG5cclxuICBpc0Jsb2NrZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSA8PSB0aGlzLmJhc2VCbG9ja0NoYW5jZSAvIDEwMDtcclxuICB9XHJcblxyXG4gIGFwcGx5RGFtYWdlUmVkdWN0aW9uKGRhbWFnZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLm1heCgwLCBkYW1hZ2UgLSB0aGlzLmRhbWFnZVJlZHVjdGlvbik7XHJcbiAgfVxyXG5cclxuICBkYW1hZ2UoaGl0Om51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5hcHBseURhbWFnZVJlZHVjdGlvbihoaXQpO1xyXG4gIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgVGV4dHVyZSwgV29uZGVybGFuZEVuZ2luZSB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGlcIjtcclxuaW1wb3J0IHsgR2VuZXJpY0l0ZW0gfSBmcm9tIFwiLi4vLi4vZHVuZ2Vvbmdlbi9vYmplY3RzL0dlbmVyaWNJdGVtLmpzXCI7XHJcbmltcG9ydCB7IGNvbnRhaW5lciB9IGZyb20gXCJ0c3lyaW5nZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN3b3JkIGV4dGVuZHMgR2VuZXJpY0l0ZW0ge1xyXG4gIGJhc2VNaW5EYW1hZ2U6IG51bWJlciA9IDE7XHJcbiAgYmFzZU1heERhbWFnZTogbnVtYmVyID0gMztcclxuICBjcml0aWNhbEhpdENoYW5jZTogbnVtYmVyID0gMC4wNTsgLy8gNSVcclxuICBjcml0aWNhbERhbWFnZU11bHRpcGxpZXI6IG51bWJlciA9IDIuMDtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBjb25zdCBlbmdpbmUgPSBjb250YWluZXIucmVzb2x2ZShXb25kZXJsYW5kRW5naW5lKTtcclxuICAgIGNvbnN0IGNzID0gbmV3IEltYWdlKCk7XHJcbiAgICBjcy5zcmMgPSBgL1dlYXBvbnMvSXJvbi9pcm9uLXdlYXBvbnNfMDAucG5nYDtcclxuICAgIGNvbnN0IHQgPSBuZXcgVGV4dHVyZShlbmdpbmUsIGNzKTtcclxuICAgIHN1cGVyKHQpO1xyXG4gICAgc3VwZXIubmFtZSA9IFwiU3dvcmRcIjtcclxuICAgIHN1cGVyLnR5cGUgPSBcIndlYXBvblwiO1xyXG4gIH1cclxuXHJcbiAgaXNDcml0aWNhbEhpdCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpIDw9IHRoaXMuY3JpdGljYWxIaXRDaGFuY2UgLyAxMDA7XHJcbiAgfVxyXG5cclxuICBjYWxjdWxhdGVSYXdCYXNlRGFtYWdlKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodGhpcy5iYXNlTWF4RGFtYWdlIC0gdGhpcy5iYXNlTWluRGFtYWdlICsgMSkpICsgdGhpcy5iYXNlTWluRGFtYWdlXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb3ZlcnJpZGUgYXR0YWNrKCk6IG51bWJlciB7XHJcbiAgICBjb25zdCByYXdCYXNlRG1nID0gdGhpcy5jYWxjdWxhdGVSYXdCYXNlRGFtYWdlKCk7XHJcbiAgICBpZiAodGhpcy5pc0NyaXRpY2FsSGl0KCkpIHtcclxuICAgICAgcmV0dXJuIHJhd0Jhc2VEbWcgKiB0aGlzLmNyaXRpY2FsRGFtYWdlTXVsdGlwbGllcjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiByYXdCYXNlRG1nO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgU2hpZWxkIH0gZnJvbSBcIi4uLy4uL2NsYXNzZXMvaXRlbXMvc2hpZWxkLmpzXCI7XHJcbmltcG9ydCB7IFN3b3JkIH0gZnJvbSBcIi4uLy4uL2NsYXNzZXMvaXRlbXMvc3dvcmQuanNcIjtcclxuaW1wb3J0IHsgSXRlbSB9IGZyb20gXCIuLi9vYmplY3RzL2l0ZW0uanNcIjtcclxuaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gXCJ0c3lyaW5nZVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMb290VGFibGVFbnRyeSB7XHJcbiAgaXRlbTogSXRlbTtcclxuICB3ZWlnaHQ6IG51bWJlcjsgLy8gVGhlIGhpZ2hlciB0aGUgd2VpZ2h0LCB0aGUgbW9yZSBsaWtlbHkgdGhpcyBpdGVtIHdpbGwgZHJvcFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIExvb3RUYWJsZUJhc2Uge1xyXG4gIGxvb3RFbnRyaWVzOiBNYXA8c3RyaW5nLCBMb290VGFibGVFbnRyeVtdPjtcclxufVxyXG5leHBvcnQgdHlwZSBsb290VHlwZXMgPSBcImNvbW1vblwiIHwgXCJyYXJlXCIgfCBcImVwaWNcIiB8IFwibGVnZW5kYXJ5XCIgfFwiZW50cnlcIjtcclxuXHJcbkBpbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIExvb3RUYWJsZSBpbXBsZW1lbnRzIExvb3RUYWJsZUJhc2Uge1xyXG5cclxuICBsb290RW50cmllczogTWFwPGxvb3RUeXBlcywgTG9vdFRhYmxlRW50cnlbXT47XHJcblxyXG4gIGNvbnN0cnVjdG9yKCl7XHJcbiAgLy9AaW5qZWN0KEl0ZW1DcmVhdG9yKSBwcml2YXRlIGl0ZW1DcmVhdG9yOiBJdGVtQ3JlYXRvcikge1xyXG4gICAgdGhpcy5sb290RW50cmllcyA9IG5ldyBNYXAoW1xyXG4gICAgICBbXCJlbnRyeVwiLCBbXHJcbiAgICAgICAgeyBpdGVtOiBuZXcgU3dvcmQoKSAsIHdlaWdodDogMSB9LFxyXG4gICAgICAgIHsgaXRlbTogbmV3IFNoaWVsZCgpLCB3ZWlnaHQ6IDEgfSxcclxuICAgICAgXV0sXHJcbiAgICAgIFtcInJhcmVcIiwgW1xyXG4gICAgICAgIHsgaXRlbTogbmV3IFN3b3JkKCksIHdlaWdodDogMSB9LFxyXG4gICAgICAgIHsgaXRlbTogbmV3IFN3b3JkKCksIHdlaWdodDogMSB9LFxyXG4gICAgICBdXVxyXG4gICAgXSk7XHJcbiAgfVxyXG4gIFxyXG4gIGdldEl0ZW1zKHR5cGU6bG9vdFR5cGVzKTogSXRlbVtdIHtcclxuICAgIHJldHVybiB0aGlzLmxvb3RFbnRyaWVzLmdldCh0eXBlKSEubWFwKGU9PmUuaXRlbSk7XHJcbiAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBPYmplY3QzRCwgVGV4dHVyZSB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGlcIjtcclxuaW1wb3J0IHsgTG9vdFRhYmxlQmFzZSB9IGZyb20gXCIuLi9sb290L2xvb3RUYWJsZUJhc2UuanNcIjtcclxuaW1wb3J0IHsgR2VuZXJpY0l0ZW0gfSBmcm9tIFwiLi9HZW5lcmljSXRlbS5qc1wiO1xyXG5pbXBvcnQgeyBJdGVtIH0gZnJvbSBcIi4vaXRlbS5qc1wiO1xyXG5pbXBvcnQgeyBjb250YWluZXIsIGluamVjdGFibGUgfSBmcm9tIFwidHN5cmluZ2VcIjtcclxuaW1wb3J0IHsgTWF0ZXJpYWxWYWx1ZSwgU2l6ZSB9IGZyb20gXCIuLi8uLi90eXBlcy9zaW1wbGVUeXBlcy5qc1wiO1xyXG5cclxuLypcclxuKiBhIGNvbnRhaW5lciBpcyBhbiBvYmplY3QgdGhhdCBjYW4gaG9sZCBpdGVtc1xyXG4qL1xyXG5leHBvcnQgaW50ZXJmYWNlIGNvbnRhaW5lcntcclxuICAgIG1heEl0ZW1zOiBudW1iZXI7XHJcbiAgICBpdGVtczogQXJyYXk8SXRlbT58bnVsbDtcclxuICAgIGhhc0JlZW5PcGVuZWQ6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgY2hlc3QgZXh0ZW5kcyBjb250YWluZXJ7IFxyXG4gICAgY2hlc3RUeXBlOiBTaXplOyAvLyBzbWFsbCwgbWVkaXVtLCBsYXJnZVxyXG4gICAgY2hlc3RWYWx1ZTogTWF0ZXJpYWxWYWx1ZTsgLy8gd29vZCwgaXJvbiwgZ29sZFxyXG4gICAgaGFzQmVlbk9wZW5lZDogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENoZXN0IGV4dGVuZHMgR2VuZXJpY0l0ZW0gaW1wbGVtZW50cyBjaGVzdHtcclxuICAgIGNoZXN0VHlwZTogU2l6ZTtcclxuICAgIGNoZXN0VmFsdWU6IE1hdGVyaWFsVmFsdWU7XHJcbiAgICBtYXhJdGVtczogbnVtYmVyO1xyXG4gICAgaXRlbXM6IEFycmF5PEl0ZW0+fG51bGw7XHJcbiAgICBoYXNCZWVuT3BlbmVkOiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNoZXN0VHlwZTogU2l6ZSwgY2hlc3RWYWx1ZTogTWF0ZXJpYWxWYWx1ZSwgbWF4SXRlbXM6IG51bWJlciwgbG9vdFRhYmxlOkxvb3RUYWJsZUJhc2Upe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5jaGVzdFR5cGUgPSBjaGVzdFR5cGU7XHJcbiAgICAgICAgdGhpcy5jaGVzdFZhbHVlID0gY2hlc3RWYWx1ZTtcclxuICAgICAgICB0aGlzLm1heEl0ZW1zID0gbWF4SXRlbXM7XHJcbiAgICAgICAgdGhpcy5sb290VGFibGUgPSBsb290VGFibGU7XHJcbiAgICAgICAgdGhpcy5oYXNCZWVuT3BlbmVkID0gZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgb3ZlcnJpZGUgaW50ZXJhY3Qob2JqOiBPYmplY3QzRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcikge1xyXG4gICAgICAgICBpZighdGhpcy5oYXNCZWVuT3BlbmVkIHx8IHRoaXMuaXRlbXMgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgIHRoaXMuaGFzQmVlbk9wZW5lZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNoZXN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLmxvb3RUYWJsZS5nZXRJdGVtcyhcImVudHJ5XCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaXRlbXMpO1xyXG4gICAgICAgIC8vIGRvIHNvbWV0aGluZyB0byB2aXN1YWxpemUgdGhlIGl0ZW1zIGluIHRoZSBjaGVzdDtcclxuICAgICAgICAvL3JldHVybiB0aGlzLml0ZW1zITtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluaXRpYWxpemVDaGVzdCgpe1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuIiwgImltcG9ydCB7Q29tcG9uZW50LCBPYmplY3QzRCwgV29uZGVybGFuZEVuZ2luZX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHtwcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xyXG5pbXBvcnQgeyBVaUNvbXBvbmVudCB9IGZyb20gJy4vdWktY29tcG9uZW50LmpzJztcclxuXHJcbi8qKlxyXG4gKiB1aS1pbnZlbnRvcnlcclxuICogXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVWlJbnZlbnRvcnkgZXh0ZW5kcyBVaUNvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndWktaW52ZW50b3J5JztcclxuXHJcbiAgICBAcHJvcGVydHkub2JqZWN0KClcclxuICAgIHNsb3QxT2JqZWN0OiBPYmplY3QzRDtcclxuXHJcbiAgICBzZXRJbnZlbnRvcnkoY2hlc3RUeXBlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnRpdGxlVGV4dC50ZXh0ID0gY2hlc3RUeXBlO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBPYmplY3QzRCwgVGV4dENvbXBvbmVudCB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGlcIjtcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tIFwiQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanNcIjtcclxuaW1wb3J0IHsgdGhyb3dFcnJvciB9IGZyb20gXCIuLi8uLi9mb3JGcmFtZXdvcmsvdGhyb3dFcnJvci5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFVpQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBcclxuXHJcbiAgICBAcHJvcGVydHkub2JqZWN0KClcclxuICAgIHRpdGxlT2JqZWN0OiBPYmplY3QzRDtcclxuICAgIFxyXG4gICAgdGl0bGVUZXh0OiBUZXh0Q29tcG9uZW50O1xyXG5cclxuICAgIHN0YXJ0KCk6IHZvaWQge1xyXG4gICAgICAgIGlmKCF0aGlzLnRpdGxlT2JqZWN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdGl0bGUgb2JqZWN0IHNldCBvbiB1aSBjb21wb25lbnQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudGl0bGVUZXh0ID0gdGhpcy50aXRsZU9iamVjdC5nZXRDb21wb25lbnQoVGV4dENvbXBvbmVudCkgPz8gdGhyb3dFcnJvcignTm8gdGV4dCBjb21wb25lbnQgZm91bmQgb24gdGl0bGUgb2JqZWN0Jyk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbn0iLCAiZXhwb3J0IGZ1bmN0aW9uIHRocm93RXJyb3IobWVzc2FnZTogc3RyaW5nKTogbmV2ZXIge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG59IiwgImltcG9ydCB7IE9iamVjdDNEIH0gZnJvbSBcIkB3b25kZXJsYW5kZW5naW5lL2FwaVwiO1xyXG5pbXBvcnQgeyBjb250YWluZXIgfSBmcm9tIFwidHN5cmluZ2VcIjtcclxuaW1wb3J0IHsgSW50ZXJuYWxVSU1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vLi4vdWkvY2xhc3Nlcy9JbnRlcm5hbFVJTWFuYWdlci5qc1wiO1xyXG5pbXBvcnQgeyBVaUludmVudG9yeSB9IGZyb20gXCIuLi8uLi8uLi91aS9jb21wb25lbnRzL3VpLWludmVudG9yeS5qc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNob3dJbnZlbnRvcnkgPSB7XHJcbiAgbmFtZTogXCJTaG93IEludmVudG9yeVwiLFxyXG5cclxuICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyB0aGlzLm5hbWUgPSBgU2hvdyBJbnZlbnRvcnlgO1xyXG4gIH0sXHJcblxyXG4gIGludGVyYWN0OiBmdW5jdGlvbiAocmV0OiBhbnksIG9iajogT2JqZWN0M0QsIHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGludGVybmFsVUlNYW5hZ2VyID0gY29udGFpbmVyLnJlc29sdmUoSW50ZXJuYWxVSU1hbmFnZXIpO1xyXG5cclxuICAgIGNvbnN0IHVpT2JqZWN0ID0gaW50ZXJuYWxVSU1hbmFnZXIub3BlbihcIkludmVudG9yeVwiLCBbeCwgeSwgel0pO1xyXG4gICAgY29uc3QgdWlJbnZlbnRvcnkgPSB1aU9iamVjdC5nZXRDb21wb25lbnQoVWlJbnZlbnRvcnkpO1xyXG4gICAgaWYgKCF1aUludmVudG9yeSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBVaUludmVudG9yeSBjb21wb25lbnQgZm91bmQgb24gSW52ZW50b3J5IFVJIG9iamVjdFwiKTtcclxuICAgIH1cclxuICAgIHVpSW52ZW50b3J5LnNldEludmVudG9yeShgJHt0aGlzLmNoZXN0VHlwZX0gJHt0aGlzLmNoZXN0VmFsdWV9IENoZXN0YCk7XHJcbiAgfSxcclxufTtcclxuIiwgImltcG9ydCB7IERpcmVjdGlvblN5bWJvbCB9IGZyb20gXCIuLi8uLi90eXBlcy9pbmRleC5qc1wiO1xyXG5cclxuLyoqXHJcbiAqIEludmVydHMgYSBkaXJlY3Rpb25cclxuICogQHBhcmFtIHtEaXJlY3Rpb25TeW1ib2x9IGRpcmVjdGlvbiBEaXJlY3Rpb24gdG8gaW52ZXJ0XHJcbiAqIEByZXR1cm5zIHtEaXJlY3Rpb25TeW1ib2x9IEludmVydGVkIERpcmVjdGlvblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEludmVydGVkRGlyZWN0aW9uKGRpcmVjdGlvbjpEaXJlY3Rpb25TeW1ib2wpOkRpcmVjdGlvblN5bWJvbHtcclxuICAgIHN3aXRjaChkaXJlY3Rpb24pe1xyXG4gICAgICAgIGNhc2UgXCJOXCI6IHJldHVybiBcIlNcIjtcclxuICAgICAgICBjYXNlIFwiU1wiOiByZXR1cm4gXCJOXCI7XHJcbiAgICAgICAgY2FzZSBcIkVcIjogcmV0dXJuIFwiV1wiO1xyXG4gICAgICAgIGNhc2UgXCJXXCI6IHJldHVybiBcIkVcIjtcclxuICAgIH1cclxufVxyXG4iLCAiY29uc3QgaXJvbiA9IHtcclxuICAgIG5hbWU6IFwiSXJvblwiLFxyXG4gICAgXHJcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gYElyb24gJHt0aGlzLm5hbWV9YDtcclxuICAgIH0sXHJcblxyXG4gICAgYXR0YWNrKGFjYyA9IDApIHtcclxuICAgICAgICBpZiAoYWNjID4gMCkge1xyXG4gICAgICAgICAgICBhY2MgKz0gMVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYWNjXHJcbiAgICB9LFxyXG5cclxuICAgIHByb3RlY3Rpb24oYWNjID0gMCkge1xyXG4gICAgICAgIGlmIChhY2MgPiAwKSB7XHJcbiAgICAgICAgICAgIGFjYyArPSAxXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhY2NcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgaXJvbiIsICJpbXBvcnQge0NvbXBvbmVudCwgT2JqZWN0M0R9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7cHJvcGVydHl9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBMb29rQXQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2xvb2stYXQnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHBsYXllciBvYmplY3QgdGhhdCB0aGUgb2JqZWN0IGxvb2tzIGF0XHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eS5vYmplY3QoKVxyXG4gICAgdGFyZ2V0ITpPYmplY3QzRDtcclxuXHJcbiAgICB1cGRhdGUoZHQ6IG51bWJlcikge1xyXG4gICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcclxuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMudGFyZ2V0LmdldFBvc2l0aW9uV29ybGQoKTtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QubG9va0F0KFtwb3NbMF0sMCxwb3NbMl1dKTtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3Qucm90YXRlQXhpc0FuZ2xlRGVnT2JqZWN0KFswLCAxLCAwXSwgMTgwKTtcclxuICAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufTsiLCAiaW1wb3J0IFwicmVmbGVjdC1tZXRhZGF0YVwiO1xyXG5pbXBvcnQgeyBjb250YWluZXIgfSBmcm9tIFwidHN5cmluZ2VcIjtcclxuXHJcbmltcG9ydCB7IENvbXBvbmVudCwgT2JqZWN0M0QsIG1hdGggfSBmcm9tIFwiQHdvbmRlcmxhbmRlbmdpbmUvYXBpXCI7XHJcbmltcG9ydCB7IHZlYzIsIHZlYzN9IGZyb20gXCJnbC1tYXRyaXhcIjtcclxuaW1wb3J0IHsgR2FtZVN0YXRlLCBTdGF0ZSB9IGZyb20gXCIuLi9jbGFzc2VzL2dhbWVTdGF0ZS5qc1wiO1xyXG5pbXBvcnQgeyBUYWdzIH0gZnJvbSBcIkBzb3Jza29vdC93b25kZXJsYW5kLWNvbXBvbmVudHNcIjtcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tIFwiQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUGlja1RhcmdldCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc3RhdGljIFR5cGVOYW1lID0gXCJwaWNrLXRhcmdldFwiO1xyXG4gIFxyXG4gIC8qKlxyXG4gICAqIEB0eXBlIHtPYmplY3QzRH1cclxuICAgKi8gXHJcbiAgQHByb3BlcnR5Lm9iamVjdCgpXHJcbiAgYWxsb3dlZFBpY2tlck1lc2hPYmplY3QhOiBPYmplY3QzRDtcclxuXHJcbiAgLyoqXHJcbiAgICogQHR5cGUge09iamVjdDNEfVxyXG4gICAqL1xyXG4gIEBwcm9wZXJ0eS5vYmplY3QoKVxyXG4gIG5vdEFsbG93ZWRQaWNrZXJNZXNoT2JqZWN0ITogT2JqZWN0M0Q7XHJcblxyXG4gIC8qKlxyXG4gICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICovXHJcbiAgQHByb3BlcnR5LmludCgxPDwyKVxyXG4gIGZsb29yR3JvdXA6IG51bWJlciA9IDE8PDI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEB0eXBlIHtPYmplY3QzRH1cclxuICAgKi9cclxuICBAcHJvcGVydHkub2JqZWN0KClcclxuICBwbGF5ZXIhOiBPYmplY3QzRDtcclxuXHJcbiAgLyoqXHJcbiAgICogQHR5cGUge09iamVjdDNEfVxyXG4gICAqL1xyXG4gIEBwcm9wZXJ0eS5vYmplY3QoKVxyXG4gIG5hdkNvbnRyb2xsZXJPYmplY3QhOiBPYmplY3QzRDtcclxuICBwaWNraW5nQWN0aXZlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgaW5wdXQ6IGFueTtcclxuICBpbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIGhpdFNwb3Q6IGFueTtcclxuICBoaXRPYmplY3Q6IGFueTtcclxuICBpbmRpY2F0b3JIaWRkZW46IGFueTtcclxuICBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuXHJcbiAgaW5pdCgpOiB2b2lkIHtcclxuICAgIHRoaXMuZ2FtZVN0YXRlID0gY29udGFpbmVyLnJlc29sdmUoR2FtZVN0YXRlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgdGhlIHBpY2tpbmcgaXMgYWN0aXZlIG9yIG5vdFxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAqL1xyXG4gICNjYW5UcmlnZ2VyKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgb2JqZWN0IGNhbiBiZSBwaWNrZWQgb3Igbm90XHJcbiAgICogQHBhcmFtIHtPYmplY3QzRH0gb2JqIFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB6IFxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgb2JqZWN0IGNhbiBiZSBwaWNrZWQgb3Igbm90XHJcbiAgICovXHJcbiAgI3BpY2tpbmdBbGxvd2VkKG9iajogT2JqZWN0M0QsIHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIGxldCB0YWdzID0gb2JqLmdldENvbXBvbmVudChUYWdzKTtcclxuICAgIGlmICghdGFncykge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5nYW1lU3RhdGUuc3RhdGUgIT09IFN0YXRlLlBsYXlpbmcpIHtcclxuICAgICAgaWYgKHRhZ3MuaGFzVGFnKFwiYnV0dG9uXCIpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmdhbWVTdGF0ZS5jYW5QaWNrKHgsIHksIHopO1xyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhhbmRsZXMgdGhlIHBpY2tpbmcgb2YgYW4gb2JqZWN0XHJcbiAgICogQHBhcmFtIHtPYmplY3QzRH0gb2JqIFRoZSBvYmplY3QgdGhhdCBpcyBwaWNrZWRcclxuICAgKiBAcGFyYW0ge051bWJlcn0geCBcclxuICAgKiBAcGFyYW0ge051bWJlcn0geSBcclxuICAgKiBAcGFyYW0ge051bWJlcn0geiBcclxuICAgKi9cclxuICAjcGlja2VkKG9iajogT2JqZWN0M0QsIHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpIHtcclxuICAgIHJldHVybiB0aGlzLmdhbWVTdGF0ZS5waWNrKG9iaiwgeCwgeSwgeik7XHJcbiAgICBcclxuICB9XHJcblxyXG4gIHN0YXJ0KCkge1xyXG4gICAgdGhpcy5waWNraW5nQWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5pbnB1dCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudChcImlucHV0XCIpO1xyXG4gICAgaWYoIXRoaXMuaW5wdXQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIk5vIGlucHV0IGNvbXBvbmVudCBmb3VuZCBvbiBvYmplY3Qgd2l0aCBwaWNrLXRhcmdldCBjb21wb25lbnRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy4jaGlkZUluZGljYXRvcnMoKTtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gIH1cclxuICBcclxuICBmb3JjZU5vdEFsbG93ZWQgPSBmYWxzZTtcclxuXHJcbiAgdXBkYXRlKGR0Om51bWJlcikge1xyXG4gICAgXHJcbiAgICBsZXQgeHJJbnB1dFNvdXJjZSA9IHRoaXMuaW5wdXQueHJJbnB1dFNvdXJjZTtcclxuICAgIGlmICghdGhpcy5pbml0aWFsaXplZCB8fCAheHJJbnB1dFNvdXJjZSB8fCAheHJJbnB1dFNvdXJjZS5nYW1lcGFkIHx8IFxyXG4gICAgICAheHJJbnB1dFNvdXJjZS5nYW1lcGFkLmJ1dHRvbnMpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYnV0dG9uUHJlc3NlZCA9IHhySW5wdXRTb3VyY2UuZ2FtZXBhZC5idXR0b25zWzBdLnByZXNzZWQ7XHJcbiAgICBpZiAoYnV0dG9uUHJlc3NlZCAmJiB0aGlzLnBpY2tpbmdBY3RpdmUgPT09IGZhbHNlICYmIHRoaXMuI2NhblRyaWdnZXIoKSkge1xyXG4gICAgICB0aGlzLnBpY2tpbmdBY3RpdmUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghYnV0dG9uUHJlc3NlZCAmJiB0aGlzLnBpY2tpbmdBY3RpdmUgPT09IHRydWUpIHtcclxuICAgICAgdGhpcy5waWNraW5nQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgIGlmICh0aGlzLmhpdFNwb3QpIHtcclxuICAgICAgICBjb25zdCBoaXRQb3MgPSB0aGlzLmhpdE9iamVjdC5nZXRQb3NpdGlvbldvcmxkKCk7XHJcbiAgICAgICAgY29uc3QgeCA9IGhpdFBvc1swXTtcclxuICAgICAgICBjb25zdCB5ID0gaGl0UG9zWzJdO1xyXG4gICAgICAgIGlmICh0aGlzLiNwaWNraW5nQWxsb3dlZCh0aGlzLmhpdE9iamVjdCwgeCwgMCwgeSkgJiYgIXRoaXMuZm9yY2VOb3RBbGxvd2VkKSB7XHJcbiAgICAgICAgICB0aGlzLiNwaWNrZWQodGhpcy5oaXRPYmplY3QsIHgsIDAsIHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmluZGljYXRvckhpZGRlbikge1xyXG4gICAgICAgICAgdGhpcy4jaGlkZUluZGljYXRvcnMoKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhpdFNwb3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5waWNraW5nQWN0aXZlKSB7XHJcbiAgICAgIGNvbnN0IG9iamVjdFBvc2l0aW9uID0gdGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Xb3JsZCgpOyBcclxuICAgICAgY29uc3Qgb2JqZWN0Um90YXRpb24gPSB0aGlzLm9iamVjdC5nZXRSb3RhdGlvbldvcmxkKCk7IFxyXG5cclxuICAgICAgbGV0IG9yaWdpbiA9IHZlYzMuY2xvbmUob2JqZWN0UG9zaXRpb24pO1xyXG5cclxuICAgICAgbGV0IGRlZmF1bHRGb3J3YXJkID0gdmVjMy5mcm9tVmFsdWVzKDAsIDAsIC0xKTtcclxuICAgICAgbGV0IGZvcndhcmREaXJlY3Rpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICB2ZWMzLnRyYW5zZm9ybVF1YXQoZm9yd2FyZERpcmVjdGlvbiwgZGVmYXVsdEZvcndhcmQsIG9iamVjdFJvdGF0aW9uKTtcclxuXHJcbiAgICAgIGxldCByYXlIaXQgPSB0aGlzLmVuZ2luZS5zY2VuZS5yYXlDYXN0KFxyXG4gICAgICAgIG9yaWdpbixcclxuICAgICAgICBmb3J3YXJkRGlyZWN0aW9uLFxyXG4gICAgICAgIDEgPDwgdGhpcy5mbG9vckdyb3VwXHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAocmF5SGl0LmhpdENvdW50ID4gMCkge1xyXG4gICAgICAgIGlmICh0aGlzLmluZGljYXRvckhpZGRlbikge1xyXG4gICAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5oaXRTcG90ID0gcmF5SGl0LmxvY2F0aW9uc1swXTtcclxuICAgICAgICB0aGlzLmhpdE9iamVjdCA9IHJheUhpdC5vYmplY3RzWzBdO1xyXG4gICAgICAgIGNvbnN0IGhpdFBvcyA9IHRoaXMuaGl0T2JqZWN0LmdldFBvc2l0aW9uV29ybGQoKTtcclxuICAgICAgICBjb25zdCB4ID0gaGl0UG9zWzBdO1xyXG4gICAgICAgIGNvbnN0IHkgPSBoaXRQb3NbMl07XHJcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMucGxheWVyLmdldFBvc2l0aW9uV29ybGQoKTtcclxuICAgICAgICBsZXQgcHBvcyA9IHZlYzIuZnJvbVZhbHVlcyhNYXRoLnJvdW5kKHBvc1swXSksIE1hdGgucm91bmQocG9zWzJdKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodmVjMi5kaXN0YW5jZShwcG9zLCBbeCwgeV0pID4gMS42KSB7XHJcbiAgICAgICAgICAgdGhpcy5mb3JjZU5vdEFsbG93ZWQgPSB0cnVlO1xyXG4gICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICB0aGlzLmZvcmNlTm90QWxsb3dlZCA9IGZhbHNlO1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuI3Nob3dJbmRpY2F0b3IodGhpcy5oaXRPYmplY3QsIHgsIDAsIHksIHRoaXMuZm9yY2VOb3RBbGxvd2VkKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoIXRoaXMuaW5kaWNhdG9ySGlkZGVuKSB7XHJcbiAgICAgICAgICB0aGlzLiNoaWRlSW5kaWNhdG9ycygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhpdFNwb3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5oaXRPYmplY3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhpZGVzIHRoZSBpbmRpY2F0b3JzXHJcbiAgICovXHJcbiAgI2hpZGVJbmRpY2F0b3JzKCkge1xyXG4gICAgdGhpcy5hbGxvd2VkUGlja2VyTWVzaE9iamVjdC5zZXRQb3NpdGlvbldvcmxkKFsxMDAwLCAtMTAwMCwgMTAwMF0pO1xyXG4gICAgdGhpcy5ub3RBbGxvd2VkUGlja2VyTWVzaE9iamVjdC5zZXRQb3NpdGlvbldvcmxkKFsxMDAwLCAtMTAwMCwgMTAwMF0pO1xyXG4gICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2hvd3MgdGhlIGluZGljYXRvciBmb3IgdGhlIG9iamVjdFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0M0R9IG9iaiB0aGUgdGFyZ2V0ZWQgb2JqZWN0XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHggXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkgXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHogXHJcbiAgICovXHJcbiAgI3Nob3dJbmRpY2F0b3Iob2JqOiBPYmplY3QzRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlciwgZm9yY2VOb3RBbGxvd2VkOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgIFxyXG4gICAgaWYoZm9yY2VOb3RBbGxvd2VkKXsgLy8gaXQncyBub3QgYWxsb3cgZXZlciBpZiB3ZSBmb3JjZSBpdFxyXG4gICAgICB0aGlzLmFsbG93ZWRQaWNrZXJNZXNoT2JqZWN0LnNldFBvc2l0aW9uV29ybGQoWzEwMDAsIC0xMDAwLCAxMDAwXSk7XHJcbiAgICAgIHRoaXMubm90QWxsb3dlZFBpY2tlck1lc2hPYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgIHRoaXMubm90QWxsb3dlZFBpY2tlck1lc2hPYmplY3Quc2V0UG9zaXRpb25Xb3JsZChbeCwgMC4wMSwgel0pO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHRhZ3MgPSBvYmouZ2V0Q29tcG9uZW50KFRhZ3MpO1xyXG4gICAgaWYgKCF0YWdzKSByZXR1cm47XHJcbiAgICBzd2l0Y2ggKHRydWUpIHtcclxuICAgICAgY2FzZSB0YWdzLmhhc1RhZyhcImZsb29yXCIpOlxyXG4gICAgICAgIGlmICh0aGlzLiNwaWNraW5nQWxsb3dlZChvYmosIHgsIHksIHopKSB7XHJcbiAgICAgICAgICB0aGlzLm5vdEFsbG93ZWRQaWNrZXJNZXNoT2JqZWN0LnNldFBvc2l0aW9uV29ybGQoW1xyXG4gICAgICAgICAgICAxMDAwLCAtMTAwMCwgMTAwMCxcclxuICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgdGhpcy5hbGxvd2VkUGlja2VyTWVzaE9iamVjdC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcclxuICAgICAgICAgIHRoaXMuYWxsb3dlZFBpY2tlck1lc2hPYmplY3Quc2V0UG9zaXRpb25Xb3JsZChbeCwgMC4wMSwgel0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmFsbG93ZWRQaWNrZXJNZXNoT2JqZWN0LnNldFBvc2l0aW9uV29ybGQoWzEwMDAsIC0xMDAwLCAxMDAwXSk7XHJcbiAgICAgICAgICB0aGlzLm5vdEFsbG93ZWRQaWNrZXJNZXNoT2JqZWN0LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xyXG4gICAgICAgICAgdGhpcy5ub3RBbGxvd2VkUGlja2VyTWVzaE9iamVjdC5zZXRQb3NpdGlvbldvcmxkKFt4LCAwLjAxLCB6XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIHRhZ3MuaGFzVGFnKFwiYnV0dG9uXCIpOlxyXG4gICAgICAgIC8vICAgbGV0IGJ1dHRvbkNvbnRyb2xsZXIgPSBvYmouZ2V0Q29tcG9uZW50KCdidXR0b24tY29udHJvbGxlcicpO1xyXG4gICAgICAgIC8vICAgaWYoYnV0dG9uQ29udHJvbGxlcil7XHJcbiAgICAgICAgLy8gICAgIGJ1dHRvbkNvbnRyb2xsZXIuaG92ZXIoKTtcclxuICAgICAgICAvLyAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSB0YWdzLmhhc1RhZyhcImRvb3JcIik6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsICJpbXBvcnQge0NvbXBvbmVudH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XHJcblxyXG4vKipcclxuICogU2V0IHBsYXllciBoZWlnaHQgZm9yIGEgWS1vZmZzZXQgYWJvdmUgdGhlIGdyb3VuZCBmb3JcclxuICogJ2xvY2FsJyBhbmQgJ3ZpZXdlcicgcmVmZXJlbmNlIHNwYWNlcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXJIZWlnaHQyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdwbGF5ZXItaGVpZ2h0Mic7XHJcblxyXG4gICAgQHByb3BlcnR5LmZsb2F0KClcclxuICAgIGhlaWdodDogbnVtYmVyID0gMS43NTtcclxuICAgIFxyXG4gICAgb25TZXNzaW9uU3RhcnRDYWxsYmFjayE6ICgpID0+IHZvaWQ7XHJcbiAgICBvblNlc3Npb25FbmRDYWxsYmFjayE6ICgpID0+IHZvaWQ7XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5vYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlTG9jYWwoWzAuMCwgdGhpcy5oZWlnaHQsIDAuMF0pO1xyXG5cclxuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uU3RhcnQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrID0gdGhpcy5vblhSU2Vzc2lvbkVuZC5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvbkVuZC5hZGQodGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EZWFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQucmVtb3ZlKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIG9uWFJTZXNzaW9uU3RhcnQoKSB7XHJcbiAgICAgICAgaWYgKCFbJ2xvY2FsJywgJ3ZpZXdlciddLmluY2x1ZGVzKHRoaXMuZW5naW5lLnhyPy5jdXJyZW50UmVmZXJlbmNlU3BhY2VUeXBlISkpIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uWFJTZXNzaW9uRW5kKCkge1xyXG4gICAgICAgIGlmICghWydsb2NhbCcsICd2aWV3ZXInXS5pbmNsdWRlcyh0aGlzLmVuZ2luZS54cj8uY3VycmVudFJlZmVyZW5jZVNwYWNlVHlwZSEpKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC50cmFuc2xhdGVMb2NhbChbMC4wLCB0aGlzLmhlaWdodCwgMC4wXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwgImltcG9ydCBcInJlZmxlY3QtbWV0YWRhdGFcIjtcclxuaW1wb3J0IHsgY29udGFpbmVyIH0gZnJvbSBcInRzeXJpbmdlXCI7XHJcblxyXG5pbXBvcnQgeyBDb21wb25lbnQsIE9iamVjdDNELCBQcm9wZXJ0eSB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGlcIjtcclxuXHJcbmltcG9ydCB7IHZlYzMgfSBmcm9tIFwiZ2wtbWF0cml4XCI7XHJcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSBcIkB3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzXCI7XHJcbmltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuLi9jbGFzc2VzL2dhbWVTdGF0ZS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNvcnNrb290VGVsZXBvcnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHN0YXRpYyBUeXBlTmFtZSA9IFwic29yc2tvb3QtdGVsZXBvcnRcIjtcclxuICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgIC8qKiBSb290IG9mIHRoZSBwbGF5ZXIsIHRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIHBvc2l0aW9uZWQgb24gdGVsZXBvcnRhdGlvbi4gKi9cclxuICAgIGNhbVJvb3Q6IFByb3BlcnR5Lm9iamVjdCgpLFxyXG4gICAgLyoqIE5vbi12ciBjYW1lcmEgZm9yIHVzZSBvdXRzaWRlIG9mIFZSICovXHJcbiAgICBjYW06IFByb3BlcnR5Lm9iamVjdCgpLFxyXG4gICAgLyoqIExlZnQgZXllIGZvciB1c2UgaW4gVlIqL1xyXG4gICAgZXllTGVmdDogUHJvcGVydHkub2JqZWN0KCksXHJcbiAgICAvKiogUmlnaHQgZXllIGZvciB1c2UgaW4gVlIqL1xyXG4gICAgZXllUmlnaHQ6IFByb3BlcnR5Lm9iamVjdCgpLFxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIExlZnQgZXllIGZvciB1c2UgaW4gVlJcclxuICAgKiBAdHlwZSB7T2JqZWN0M0R9XHJcbiAgICovXHJcbiAgQHByb3BlcnR5Lm9iamVjdCgpXHJcbiAgZXllTGVmdCE6IE9iamVjdDNEO1xyXG4gIC8qKlxyXG4gICAqIFJpZ2h0IGV5ZSBmb3IgdXNlIGluIFZSXHJcbiAgICogQHR5cGUge09iamVjdDNEfVxyXG4gICAqL1xyXG4gIEBwcm9wZXJ0eS5vYmplY3QoKVxyXG4gIGV5ZVJpZ2h0ITogT2JqZWN0M0Q7XHJcbiAgLyoqXHJcbiAgICogTm9uLXZyIGNhbWVyYSBmb3IgdXNlIG91dHNpZGUgb2YgVlJcclxuICAgKiBAdHlwZSB7T2JqZWN0M0R9XHJcbiAgICovXHJcbiAgQHByb3BlcnR5Lm9iamVjdCgpXHJcbiAgY2FtITogT2JqZWN0M0Q7XHJcbiAgLyoqXHJcbiAgICogUm9vdCBvZiB0aGUgcGxheWVyLCB0aGUgb2JqZWN0IHRoYXQgd2lsbCBiZSBwb3NpdGlvbmVkIG9uIHRlbGVwb3J0YXRpb25cclxuICAgKiBAdHlwZSB7T2JqZWN0M0R9XHJcbiAgICovXHJcbiAgQHByb3BlcnR5Lm9iamVjdCgpXHJcbiAgY2FtUm9vdCE6IE9iamVjdDNEO1xyXG4gIFxyXG4gIHByaXZhdGUgX3RlbXBWZWM6IEZsb2F0MzJBcnJheT0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICBwcml2YXRlIF90ZW1wVmVjMDogRmxvYXQzMkFycmF5PSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5nYW1lU3RhdGUgPSBjb250YWluZXIucmVzb2x2ZShHYW1lU3RhdGUpO1xyXG4gICAgdGhpcy5nYW1lU3RhdGUucGxheWVyUG9zaXRpb25TdWJqZWN0LnN1YnNjcmliZSgocG9zKSA9PiB7XHJcbiAgICAgIHRoaXMuI3RlbGVwb3J0UGxheWVyKHBvcyk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZ2FtZVN0YXRlLnBsYXllclJvdGF0aW9uU3ViamVjdC5zdWJzY3JpYmUoKHJvdGF0aW9uKSA9PiB7XHJcbiAgICAgIHRoaXMuI3JvdGF0ZVBsYXllcihyb3RhdGlvbik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gICN0ZWxlcG9ydFBsYXllcihuZXdQb3NpdGlvbjogbnVtYmVyW10pIHtcclxuICAgIGNvbnN0IHAgPSB0aGlzLl90ZW1wVmVjO1xyXG4gICAgY29uc3QgcDEgPSB0aGlzLl90ZW1wVmVjMDtcclxuXHJcbiAgICBpZiAodGhpcy5nYW1lU3RhdGUuaXNJblZSKSB7XHJcbiAgICAgIHRoaXMuZXllTGVmdC5nZXRQb3NpdGlvbldvcmxkKHApO1xyXG4gICAgICB0aGlzLmV5ZVJpZ2h0LmdldFBvc2l0aW9uV29ybGQocDEpO1xyXG5cclxuICAgICAgdmVjMy5hZGQocCwgcCwgcDEpO1xyXG4gICAgICB2ZWMzLnNjYWxlKHAsIHAsIDAuNSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNhbS5nZXRQb3NpdGlvbldvcmxkKHApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY2FtUm9vdC5nZXRQb3NpdGlvbldvcmxkKHAxKTtcclxuICAgIHZlYzMuc3ViKHAsIHAxLCBwKTtcclxuICAgIHBbMF0gKz0gbmV3UG9zaXRpb25bMF07XHJcbiAgICBwWzFdID0gbmV3UG9zaXRpb25bMV07XHJcbiAgICBwWzJdICs9IG5ld1Bvc2l0aW9uWzJdO1xyXG4gICAgdGhpcy5jYW1Sb290LnNldFBvc2l0aW9uV29ybGQocCk7XHJcbiAgfVxyXG5cclxuICAjcm90YXRlUGxheWVyKHJvdGF0aW9uVG9BZGQ6IG51bWJlcikge1xyXG4gICAgdGhpcy5jYW1Sb290LnJlc2V0Um90YXRpb24oKTtcclxuICAgIHRoaXMuY2FtUm9vdC5yb3RhdGVBeGlzQW5nbGVEZWdPYmplY3QoWzAsIDEsIDBdLCByb3RhdGlvblRvQWRkKTtcclxuICB9XHJcbn1cclxuIiwgImltcG9ydCB7Q29tcG9uZW50LCBQcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XHJcblxyXG4vKipcclxuICogdHVybk1hbmFnZXJcclxuICovXHJcbmV4cG9ydCBjbGFzcyBUdXJuTWFuYWdlciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndHVybk1hbmFnZXInO1xyXG4gICAgXHJcbiAgICBAcHJvcGVydHkuZmxvYXQoNS4wKVxyXG4gICAgdHVybkR1cmF0aW9uOiBudW1iZXIgPSA1LjA7IC8vIEVhY2ggdHVybiBsYXN0cyBmb3IgNSBzZWNvbmRzXHJcbiAgICBcclxuICAgIEBwcm9wZXJ0eS5pbnQoNSlcclxuICAgIHN0ZXBzUGVyVHVybjogbnVtYmVyID0gNTsgLy8gTnVtYmVyIG9mIHN0ZXBzIHBlciB0dXJuXHJcblxyXG4gICAgcHJpdmF0ZSB0aW1lU2luY2VMYXN0U3RlcDogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgc3RlcHNUYWtlbjogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgaXNUdXJuSW5Qcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSB0dXJuQ291bnRlcjogbnVtYmVyID0gMDtcclxuXHJcbiAgICBvdmVycmlkZSB1cGRhdGUoZHQ6IG51bWJlcikge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1R1cm5JblByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNUdXJuSW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3RlcHNUYWtlbiA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMudGltZVNpbmNlTGFzdFN0ZXAgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnR1cm5Db3VudGVyKys7XHJcbiAgICAgICAgICAgIHRoaXMubmV3VHVybigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNUdXJuSW5Qcm9ncmVzcykge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVTaW5jZUxhc3RTdGVwICs9IGR0O1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc3RlcEludGVydmFsID0gdGhpcy50dXJuRHVyYXRpb24gLyB0aGlzLnN0ZXBzUGVyVHVybjtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnRpbWVTaW5jZUxhc3RTdGVwID49IHN0ZXBJbnRlcnZhbCAmJiB0aGlzLnN0ZXBzVGFrZW4gPCB0aGlzLnN0ZXBzUGVyVHVybikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGVwRnVuY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RlcHNUYWtlbisrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lU2luY2VMYXN0U3RlcCAtPSBzdGVwSW50ZXJ2YWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0ZXBzVGFrZW4gPT0gdGhpcy5zdGVwc1BlclR1cm4pIHtcclxuICAgICAgICAgICAgICAgIC8vIEVuZCBvZiBjdXJyZW50IHR1cm5cclxuICAgICAgICAgICAgICAgIHRoaXMuaXNUdXJuSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmRUdXJuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RlcEZ1bmN0aW9uKCkge1xyXG4gICAgIFxyXG4gICAgfVxyXG5cclxuICAgIG5ld1R1cm4oKXtcclxuICAgICBcclxuICAgIH1cclxuXHJcbiAgICBlbmRUdXJuKCl7XHJcbiAgICAgXHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7Q29tcG9uZW50LCBUeXBlfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRpbGVEZXNjcmlwdG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd0aWxlLWRlc2NyaXB0b3InO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgY2FuUm90YXRlOiB7dHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiB0cnVlfSxcclxuICAgICAgICBjYW5NaXJyb3I6IHt0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IHRydWV9LFxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGR0Om51bWJlcikge1xyXG4gICAgfVxyXG5cclxufTsiLCAiaW1wb3J0IHsgU291bmRmeFBsYXllciB9IGZyb20gXCIuL3V0aWxzL3NvdW5kZngtcGxheWVyLmpzXCI7XHJcbmltcG9ydCB7IE11c2ljUGxheWVyIH0gZnJvbSBcIi4vdXRpbHMvbXVzaWMtcGxheWVyLmpzXCI7XHJcbmltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gXCIuL2NsYXNzZXMvZ2FtZVN0YXRlLmpzXCI7XHJcbmltcG9ydCB7IE9iamVjdENhY2hlIH0gZnJvbSBcIkBzb3Jza29vdC93b25kZXJsYW5kLWNvbXBvbmVudHNcIjtcclxuaW1wb3J0IHsgc2luZ2xldG9uIH0gZnJvbSBcInRzeXJpbmdlXCI7XHJcblxyXG5Ac2luZ2xldG9uKClcclxuY2xhc3MgR2FtZUdsb2JhbHMge1xyXG4gIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogR2FtZUdsb2JhbHMgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgLy9nYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICBzb3VuZEZ4UGxheWVyOiBTb3VuZGZ4UGxheWVyO1xyXG4gIC8vbXVzaWNQbGF5ZXI6IE11c2ljUGxheWVyO1xyXG4gIC8vIHBhcnRpY2xlUG9vbDogbnVsbDtcclxuICBnbG9iYWxPYmplY3RDYWNoZTogT2JqZWN0Q2FjaGUgfCBudWxsO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIC8vdGhpcy5nYW1lU3RhdGUgPSBjb250YWluZXIucmVzb2x2ZTxHYW1lU3RhdGU+KEdhbWVTdGF0ZSk7XHJcbiAgICB0aGlzLnNvdW5kRnhQbGF5ZXIgPSBuZXcgU291bmRmeFBsYXllcigpO1xyXG4gICAgLy90aGlzLm11c2ljUGxheWVyID0gbmV3IE11c2ljUGxheWVyKCk7XHJcbiAgICAvLyAgdGhpcy5wYXJ0aWNsZVBvb2w9IG51bGw7XHJcbiAgICB0aGlzLmdsb2JhbE9iamVjdENhY2hlID0gbnVsbDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgaW5zdGFuY2UoKTogR2FtZUdsb2JhbHMge1xyXG4gICAgaWYgKEdhbWVHbG9iYWxzLl9pbnN0YW5jZSA9PT0gbnVsbCkge1xyXG4gICAgICBHYW1lR2xvYmFscy5faW5zdGFuY2UgPSBuZXcgR2FtZUdsb2JhbHMoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBHYW1lR2xvYmFscy5faW5zdGFuY2U7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBHYW1lR2xvYmFscy5pbnN0YW5jZTtcclxuIiwgIlxyXG5leHBvcnQgY29uc3QgU291bmRzID0ge1xyXG4gICAgY2xpY2s6MCxcclxuICAgIG1vdmVib3g6MSxcclxuICAgIHRlbGVwb3J0OjIsXHJcbiAgICBib3hzdG9wOjNcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNvdW5kZnhQbGF5ZXJ7XHJcbiAgICBpbml0aWFsaXplZDogYm9vbGVhbjtcclxuICAgIGN1cnJlbnRTZnhJbmRleDogbnVtYmVyO1xyXG4gICAgYXVkaW9wb29sOiBIVE1MQXVkaW9FbGVtZW50W107XHJcbiAgICBwYW5uZXJOb2RlczogUGFubmVyTm9kZVtdO1xyXG4gICAgYXVkaW9Db250ZXh0OiBhbnk7XHJcbiAgICBzb3VuZHMhOiBIVE1MQXVkaW9FbGVtZW50W107XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlOyAgICAgICAgICBcclxuICAgICAgICB0aGlzLmN1cnJlbnRTZnhJbmRleCA9MDtcclxuICAgICAgICB0aGlzLmF1ZGlvcG9vbCA9IFtdO1xyXG4gICAgICAgIHRoaXMucGFubmVyTm9kZXMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0QXVkaW8oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9Db250ZXh0KSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zb3VuZHM9IFtcclxuICAgICAgICAgICAgbmV3IEF1ZGlvKCdzZngvY2xpY2subXAzJyksXHJcbiAgICAgICAgICAgIG5ldyBBdWRpbygnc2Z4L21vdmVib3gubXAzJyksXHJcbiAgICAgICAgICAgIG5ldyBBdWRpbygnc2Z4L3RlbGVwb3J0Lm1wMycpLFxyXG4gICAgICAgICAgICBuZXcgQXVkaW8oJ3NmeC9ib3hzdG9wLm1wMycpXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5hdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb0NvbnRleHQubGlzdGVuZXIudXBZLnZhbHVlID0gMTsgICAgICAgIFxyXG4gICAgICAgIGxldCBnYWluID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlR2FpbigpO1xyXG4gICAgICAgIGdhaW4uY29ubmVjdCh0aGlzLmF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyNTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKCk7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9wb29sLnB1c2goYXVkaW8pO1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKGF1ZGlvKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHBuID0gbmV3IFBhbm5lck5vZGUodGhpcy5hdWRpb0NvbnRleHQsIHtcclxuICAgICAgICAgICAgICAgIHBhbm5pbmdNb2RlbDogJ0hSVEYnLFxyXG4gICAgICAgICAgICAgICAgZGlzdGFuY2VNb2RlbDogJ2V4cG9uZW50aWFsJyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBlbGVtZW50LmNvbm5lY3QocG4pO1xyXG4gICAgICAgICAgICBwbi5jb25uZWN0KGdhaW4pO1xyXG4gICAgICAgICAgICB0aGlzLnBhbm5lck5vZGVzLnB1c2gocG4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwbGF5U291bmQoYXVkaW9JbmRleDpudW1iZXIsIHBvcz86bnVtYmVyW10pIHtcclxuICAgICAgICBpZighdGhpcy5hdWRpb0NvbnRleHQpIHJldHVybjtcclxuICAgICAgICBpZighcG9zIHx8ICFwb3NbMF0gfHwgaXNOYU4ocG9zWzBdKSl7XHJcbiAgICAgICAgICAgIHBvcz1bMCwwLDBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBhbm5lck5vZGVzW3RoaXMuY3VycmVudFNmeEluZGV4XS5wb3NpdGlvblgudmFsdWUgPSBwb3NbMF07XHJcbiAgICAgICAgdGhpcy5wYW5uZXJOb2Rlc1t0aGlzLmN1cnJlbnRTZnhJbmRleF0ucG9zaXRpb25ZLnZhbHVlID0gcG9zWzFdO1xyXG4gICAgICAgIHRoaXMucGFubmVyTm9kZXNbdGhpcy5jdXJyZW50U2Z4SW5kZXhdLnBvc2l0aW9uWi52YWx1ZSA9IHBvc1syXTtcclxuXHJcbiAgICAgICAgdGhpcy5hdWRpb3Bvb2xbdGhpcy5jdXJyZW50U2Z4SW5kZXhdLnNyYyA9IHRoaXMuc291bmRzW2F1ZGlvSW5kZXhdLnNyYzsgICAgICAgIFxyXG4gICAgICAgIHRoaXMuYXVkaW9wb29sW3RoaXMuY3VycmVudFNmeEluZGV4XS5wbGF5KCk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2Z4SW5kZXggPSAodGhpcy5jdXJyZW50U2Z4SW5kZXggKyAxKSAlIDI1O1xyXG4gICAgfVxyXG59O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBPYmplY3QzRCB9IGZyb20gXCJAd29uZGVybGFuZGVuZ2luZS9hcGlcIjtcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tIFwiQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanNcIjtcclxuaW1wb3J0IHsgVWlCdXR0b24gfSBmcm9tIFwiLi91aS1idXR0b24uanNcIjtcclxuaW1wb3J0IHsgVWlNYW5hZ2VyIH0gZnJvbSBcIi4vdWktbWFuYWdlci5qc1wiO1xyXG5cclxuLyoqXHJcbiAqIHVpLWJ1dHRvblxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFVpQWN0aW9uQ2xvc2UgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHN0YXRpYyBUeXBlTmFtZSA9IFwidWktYWN0aW9uLWNsb3NlXCI7XHJcblxyXG4gIEBwcm9wZXJ0eS5vYmplY3QoKVxyXG4gIHVpQnV0dG9uT2JqZWN0OiBPYmplY3QzRDtcclxuXHJcbiAgQHByb3BlcnR5Lm9iamVjdCgpXHJcbiAgdWlSb290T2JqZWN0OiBPYmplY3QzRDtcclxuXHJcbiAgQHByb3BlcnR5Lm9iamVjdCgpXHJcbiAgdWlNYW5hZ2VyT2JqZWN0OiBPYmplY3QzRDtcclxuXHJcbiAgcHJpdmF0ZSB1aUJ1dHRvbjogVWlCdXR0b247XHJcbiAgcHJpdmF0ZSB1aU1hbmFnZXI6IFVpTWFuYWdlcjtcclxuXHJcbiAgc3RhcnQoKTogdm9pZCB7XHJcbiAgICBjb25zdCBidXQgPSB0aGlzLnVpQnV0dG9uT2JqZWN0LmdldENvbXBvbmVudChVaUJ1dHRvbik7XHJcbiAgICBpZiAoIWJ1dCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBidXR0b24gY29tcG9uZW50IGZvdW5kIG9uIGJ1dHRvbiBtZXNoIG9iamVjdFwiKTtcclxuICAgIH1cclxuICAgIHRoaXMudWlCdXR0b24gPSBidXQ7XHJcblxyXG4gICAgY29uc3QgdWltYW4gPSB0aGlzLnVpTWFuYWdlck9iamVjdC5nZXRDb21wb25lbnQoVWlNYW5hZ2VyKTtcclxuICAgIGlmICghdWltYW4pIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB1aSBtYW5hZ2VyIGNvbXBvbmVudCBmb3VuZCBvbiB1aSBtYW5hZ2VyIG9iamVjdFwiKTtcclxuICAgIH1cclxuICAgIHRoaXMudWlNYW5hZ2VyID0gdWltYW47XHJcblxyXG4gICAgaWYoIXRoaXMudWlSb290T2JqZWN0KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdWkgcm9vdCBvYmplY3Qgc2V0XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudWlCdXR0b24ucHJlc3NlZC5hZGQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudWlNYW5hZ2VyLmNsb3NlQWxsKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwgImltcG9ydCB7Q29tcG9uZW50LCBFbWl0dGVyLCBNYXRlcmlhbCwgTWVzaENvbXBvbmVudCwgTnVtYmVyQXJyYXksIE9iamVjdDNELCBXb25kZXJsYW5kRW5naW5lfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQge3Byb3BlcnR5fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XHJcbmltcG9ydCB7IEN1cnNvciwgQ3Vyc29yVGFyZ2V0LCBFdmVudFR5cGVzIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cyc7XHJcblxyXG4vKipcclxuICogdWktYnV0dG9uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVWlCdXR0b24gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3VpLWJ1dHRvbic7XHJcblxyXG4gICAgQHByb3BlcnR5Lm1hdGVyaWFsKClcclxuICAgIGhvdmVyTWF0ZXJpYWw6IE1hdGVyaWFsO1xyXG5cclxuICAgIEBwcm9wZXJ0eS5vYmplY3QoKVxyXG4gICAgYnV0dG9uTWVzaE9iamVjdDogT2JqZWN0M0Q7XHJcblxyXG4gICAgQHByb3BlcnR5Lm9iamVjdCgpXHJcbiAgICBidXR0b25UYXJnZXRPYmplY3Q6IE9iamVjdDNEO1xyXG5cclxuICAgIHByZXNzZWQhOiBFbWl0dGVyO1xyXG5cclxuICAgIHJldHVyblBvczogTnVtYmVyQXJyYXk7XHJcbiAgICBtZXNoOiBNZXNoQ29tcG9uZW50O1xyXG4gICAgZGVmYXVsdE1hdGVyaWFsOiBNYXRlcmlhbDtcclxuICAgIHRhcmdldDogQ3Vyc29yVGFyZ2V0O1xyXG5cclxuICAgIGluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wcmVzc2VkID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBjb25zdCBtID0gdGhpcy5idXR0b25NZXNoT2JqZWN0LmdldENvbXBvbmVudChNZXNoQ29tcG9uZW50KTtcclxuICAgICAgICBpZighbSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG1lc2ggY29tcG9uZW50IGZvdW5kIG9uIGJ1dHRvbiBtZXNoIG9iamVjdCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1lc2ggPSBtO1xyXG5cclxuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IHRoaXMubWVzaC5tYXRlcmlhbDtcclxuICAgICAgICBpZighbWF0ZXJpYWwpe1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG1hdGVyaWFsIGZvdW5kIG9uIGJ1dHRvbiBtZXNoIG9iamVjdCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRlZmF1bHRNYXRlcmlhbCA9IG1hdGVyaWFsO1xyXG5cclxuICAgICAgICB0aGlzLmJ1dHRvbk1lc2hPYmplY3QuZ2V0UG9zaXRpb25Mb2NhbCh0aGlzLnJldHVyblBvcyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuYnV0dG9uVGFyZ2V0T2JqZWN0LmdldENvbXBvbmVudChDdXJzb3JUYXJnZXQpOyAgICAgICAgXHJcbiAgICAgICAgaWYoIXRhcmdldCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGN1cnNvciB0YXJnZXQgZm91bmQgb24gYnV0dG9uIGFuZCBjb3VsZCBub3QgYWRkIG9uZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcblxyXG4gICAgICAgIHRoaXMucmV0dXJuUG9zID0gdGhpcy5idXR0b25NZXNoT2JqZWN0LmdldFBvc2l0aW9uTG9jYWwoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uSG92ZXIuYWRkKHRoaXMub25Ib3Zlci5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5vblVuaG92ZXIuYWRkKHRoaXMub25VbmhvdmVyLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uRG93bi5hZGQodGhpcy5vbkRvd24uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQub25VcC5hZGQodGhpcy5vblVwLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLnRhcmdldC5vbkhvdmVyLnJlbW92ZSh0aGlzLm9uSG92ZXIpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uVW5ob3Zlci5yZW1vdmUodGhpcy5vblVuaG92ZXIpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uRG93bi5yZW1vdmUodGhpcy5vbkRvd24pO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uVXAucmVtb3ZlKHRoaXMub25VcCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGR0OiBudW1iZXIpIHtcclxuICAgICAgICAvKiBDYWxsZWQgZXZlcnkgZnJhbWUuICovXHJcbiAgICB9XHJcblxyXG4gICAgb25Ib3ZlcihvYmozRF86T2JqZWN0M0QsIGN1cnNvcjpDdXJzb3IsIGV2ZW50VHlwZXM6RXZlbnRUeXBlc3x1bmRlZmluZWQpe1xyXG4gICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbCA9IHRoaXMuaG92ZXJNYXRlcmlhbDtcclxuICAgICAgIC8vIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDAuNSwgNTApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVW5ob3ZlcihvYmozRF86T2JqZWN0M0QsIGN1cnNvcjpDdXJzb3IsIGV2ZW50VHlwZXM6RXZlbnRUeXBlc3x1bmRlZmluZWQpe1xyXG4gICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbCA9IHRoaXMuZGVmYXVsdE1hdGVyaWFsO1xyXG4gICAgICAgLy8gaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMC4zLCA1MCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Eb3duKG9iajNEXzpPYmplY3QzRCwgY3Vyc29yOkN1cnNvciwgZXZlbnRUeXBlczpFdmVudFR5cGVzfHVuZGVmaW5lZCl7XHJcbiAgICAgICAgLy90aGlzLnNvdW5kQ2xpY2sucGxheSgpO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uTWVzaE9iamVjdC50cmFuc2xhdGVMb2NhbChbMC4wLCAtMC4xLCAwLjBdKTtcclxuICAgICAgIC8vIGhhcHRpY0ZlZWRiYWNrKGN1cnNvci5vYmplY3QsIDEuMCwgMjApO1xyXG4gICAgfVxyXG4gICAgb25VcChvYmozRF86T2JqZWN0M0QsIGN1cnNvcjpDdXJzb3IsIGV2ZW50VHlwZXM6RXZlbnRUeXBlc3x1bmRlZmluZWQpe1xyXG4gICAgICAgLy8gdGhpcy5zb3VuZFVuQ2xpY2sucGxheSgpO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uTWVzaE9iamVjdC5zZXRQb3NpdGlvbkxvY2FsKHRoaXMucmV0dXJuUG9zKTtcclxuICAgICAgICB0aGlzLnByZXNzZWQubm90aWZ5KCk7XHJcbiAgICAgIC8vICBoYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAwLjcsIDIwKTtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBOdW1iZXJBcnJheSwgT2JqZWN0M0QgfSBmcm9tIFwiQHdvbmRlcmxhbmRlbmdpbmUvYXBpXCI7XHJcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSBcIkB3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzXCI7XHJcbmltcG9ydCB7IGNvbnRhaW5lciB9IGZyb20gXCJ0c3lyaW5nZVwiO1xyXG5pbXBvcnQgeyBJbnRlcm5hbFVJTWFuYWdlciB9IGZyb20gXCIuLi9jbGFzc2VzL0ludGVybmFsVUlNYW5hZ2VyLmpzXCI7XHJcblxyXG4vKipcclxuICogdWlNYW5hZ2VyXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVWlNYW5hZ2VyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBzdGF0aWMgVHlwZU5hbWUgPSBcInVpLW1hbmFnZXJcIjtcclxuXHJcbiAgQHByb3BlcnR5Lm9iamVjdCgpXHJcbiAgdWlDb2xsZWN0aW9uOiBPYmplY3QzRDtcclxuXHJcbiAgcHJpdmF0ZSB1aUVsZW1lbnRzOiBPYmplY3QzRFtdID0gW107XHJcbiAgY3VycmVudFZpc2libGVVSTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIHN0YXJ0KCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLnVpQ29sbGVjdGlvbikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB1aSBjb2xsZWN0aW9uIHNldFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMudWlDb2xsZWN0aW9uLmNoaWxkcmVuKSB7XHJcbiAgICAgIGNoaWxkLnNldFBvc2l0aW9uV29ybGQoWzAsIC0xMDAwMCwgMF0pO1xyXG4gICAgICB0aGlzLnVpRWxlbWVudHMucHVzaChjaGlsZCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaW50ZXJuYWxVSU1hbmFnZXIgPSBjb250YWluZXIucmVzb2x2ZShJbnRlcm5hbFVJTWFuYWdlcik7XHJcbiAgICBpbnRlcm5hbFVJTWFuYWdlci5yZWdpc3RlckNvbXBvbmVudCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW4obmFtZTogc3RyaW5nLCBwb3NpdGlvbjogUmVhZG9ubHk8TnVtYmVyQXJyYXk+KTogT2JqZWN0M0Qge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMudWlFbGVtZW50cy5maW5kKChlbGVtZW50KSA9PiBlbGVtZW50Lm5hbWUgPT09IG5hbWUpO1xyXG4gICAgaWYgKCFlbGVtZW50KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gdWkgZWxlbWVudCBmb3VuZCB3aXRoIG5hbWUgJHtuYW1lfWApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY2xvc2VBbGwoKTtcclxuICAgIHRoaXMuY3VycmVudFZpc2libGVVSSA9IG5hbWU7XHJcbiAgICBlbGVtZW50LnNldFBvc2l0aW9uV29ybGQocG9zaXRpb24pO1xyXG4gICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbG9zZXMgYWxsIFVJIGVsZW1lbnRzLCBieSBtb3ZpbmcgdGhlbSBmYXIgYXdheS5cclxuICAgKiBJZiBubyBVSSBpcyBvcGVuLCBub3RoaW5nIGhhcHBlbnMuXHJcbiAgICovXHJcbiAgY2xvc2VBbGwoKSB7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50VmlzaWJsZVVJICE9PSBudWxsKSB7XHJcbiAgICAgIGZvciAoY29uc3QgdWlSb290T2JqZWN0IG9mIHRoaXMudWlFbGVtZW50cykge1xyXG4gICAgICAgIHVpUm9vdE9iamVjdC5zZXRQb3NpdGlvbldvcmxkKFswLCAtMTAwMDAsIDBdKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmN1cnJlbnRWaXNpYmxlVUkgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogbGV0cyB5b3Uga25vdyBpZiBhbnkgVUkgaXMgb3BlblxyXG4gICAqIEByZXR1cm5zIHRydWUgaWYgYW55IFVJIGlzIG9wZW4sIGZhbHNlIG90aGVyd2lzZVxyXG4gICAqL1xyXG4gIGlzVWlPcGVuKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFZpc2libGVVSSAhPT0gbnVsbDtcclxuICB9XHJcbn1cclxuIiwgImltcG9ydCB7Q29tcG9uZW50LCBXb25kZXJsYW5kRW5naW5lfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQge3Byb3BlcnR5fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XHJcblxyXG4vKipcclxuICogdWktcGFuZWxcclxuICogRG9lcyBub3QgbXVjaCBhdCB0aGUgbW9tZW50LiBKdXN0IGEgcGxhY2Vob2xkZXIgZm9yIG5vdy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBVaVBhbmVsIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd1aS1wYW5lbCc7XHJcblxyXG59XHJcbiIsICJpbXBvcnQgKiBhcyBfX3NvcnNrb290X3dvbmRlcmxhbmRfY29tcG9uZW50cyBmcm9tICdAc29yc2tvb3Qvd29uZGVybGFuZC1jb21wb25lbnRzJztcbl9yZWdpc3RlckVkaXRvcihfX3NvcnNrb290X3dvbmRlcmxhbmRfY29tcG9uZW50cyk7XG5pbXBvcnQgKiBhcyBfX3dvbmRlcmxhbmRlbmdpbmVfY29tcG9uZW50cyBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzJztcbl9yZWdpc3RlckVkaXRvcihfX3dvbmRlcmxhbmRlbmdpbmVfY29tcG9uZW50cyk7XG5pbXBvcnQgKiBhcyBfX3plc3R5bWFya2V0X3dvbmRlcmxhbmRfc2RrIGZyb20gJ0B6ZXN0eW1hcmtldC93b25kZXJsYW5kLXNkayc7XG5fcmVnaXN0ZXJFZGl0b3IoX196ZXN0eW1hcmtldF93b25kZXJsYW5kX3Nkayk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2NvbXBvbmVudHNfZG9vcl9oYW5kbGVyX3RzIGZyb20gJ0U6L0Rldi9SdW5lc09mVGhlRGVlcC9qcy9jb21wb25lbnRzL2Rvb3ItaGFuZGxlci50cyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0VfX0Rldl9SdW5lc09mVGhlRGVlcF9qc19jb21wb25lbnRzX2Rvb3JfaGFuZGxlcl90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2NvbXBvbmVudHNfZmFkZVNjcmVlbl90cyBmcm9tICdFOi9EZXYvUnVuZXNPZlRoZURlZXAvanMvY29tcG9uZW50cy9mYWRlU2NyZWVuLnRzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2NvbXBvbmVudHNfZmFkZVNjcmVlbl90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2NvbXBvbmVudHNfZ2FtZV90cyBmcm9tICdFOi9EZXYvUnVuZXNPZlRoZURlZXAvanMvY29tcG9uZW50cy9nYW1lLnRzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2NvbXBvbmVudHNfZ2FtZV90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2NvbXBvbmVudHNfbGV2ZWxfZ2VuZXJhdG9yX3RzIGZyb20gJ0U6L0Rldi9SdW5lc09mVGhlRGVlcC9qcy9jb21wb25lbnRzL2xldmVsLWdlbmVyYXRvci50cyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0VfX0Rldl9SdW5lc09mVGhlRGVlcF9qc19jb21wb25lbnRzX2xldmVsX2dlbmVyYXRvcl90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2NvbXBvbmVudHNfbG9va19hdF90cyBmcm9tICdFOi9EZXYvUnVuZXNPZlRoZURlZXAvanMvY29tcG9uZW50cy9sb29rLWF0LnRzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2NvbXBvbmVudHNfbG9va19hdF90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2NvbXBvbmVudHNfcGlja190YXJnZXRfdHMgZnJvbSAnRTovRGV2L1J1bmVzT2ZUaGVEZWVwL2pzL2NvbXBvbmVudHMvcGljay10YXJnZXQudHMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9FX19EZXZfUnVuZXNPZlRoZURlZXBfanNfY29tcG9uZW50c19waWNrX3RhcmdldF90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2NvbXBvbmVudHNfcGxheWVyX2hlaWdodDJfdHMgZnJvbSAnRTovRGV2L1J1bmVzT2ZUaGVEZWVwL2pzL2NvbXBvbmVudHMvcGxheWVyLWhlaWdodDIudHMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9FX19EZXZfUnVuZXNPZlRoZURlZXBfanNfY29tcG9uZW50c19wbGF5ZXJfaGVpZ2h0Ml90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2NvbXBvbmVudHNfdGVsZXBvcnRfdHMgZnJvbSAnRTovRGV2L1J1bmVzT2ZUaGVEZWVwL2pzL2NvbXBvbmVudHMvdGVsZXBvcnQudHMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9FX19EZXZfUnVuZXNPZlRoZURlZXBfanNfY29tcG9uZW50c190ZWxlcG9ydF90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2NvbXBvbmVudHNfdHVybk1hbmFnZXJfdHMgZnJvbSAnRTovRGV2L1J1bmVzT2ZUaGVEZWVwL2pzL2NvbXBvbmVudHMvdHVybk1hbmFnZXIudHMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9FX19EZXZfUnVuZXNPZlRoZURlZXBfanNfY29tcG9uZW50c190dXJuTWFuYWdlcl90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fQ2hlc3RDcmVhdG9yX3RzIGZyb20gJ0U6L0Rldi9SdW5lc09mVGhlRGVlcC9qcy9kdW5nZW9uZ2VuL0NoZXN0Q3JlYXRvci50cyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0VfX0Rldl9SdW5lc09mVGhlRGVlcF9qc19kdW5nZW9uZ2VuX0NoZXN0Q3JlYXRvcl90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fTWF6ZUdlbmVyYXRvcl90cyBmcm9tICdFOi9EZXYvUnVuZXNPZlRoZURlZXAvanMvZHVuZ2Vvbmdlbi9NYXplR2VuZXJhdG9yLnRzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fTWF6ZUdlbmVyYXRvcl90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fUGF0dGVyblNldF90cyBmcm9tICdFOi9EZXYvUnVuZXNPZlRoZURlZXAvanMvZHVuZ2Vvbmdlbi9QYXR0ZXJuU2V0LnRzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fUGF0dGVyblNldF90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fUm9vbUNyZWF0b3JfdHMgZnJvbSAnRTovRGV2L1J1bmVzT2ZUaGVEZWVwL2pzL2R1bmdlb25nZW4vUm9vbUNyZWF0b3IudHMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9FX19EZXZfUnVuZXNPZlRoZURlZXBfanNfZHVuZ2Vvbmdlbl9Sb29tQ3JlYXRvcl90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fUm9vbVJlbmRlcmVyX3RzIGZyb20gJ0U6L0Rldi9SdW5lc09mVGhlRGVlcC9qcy9kdW5nZW9uZ2VuL1Jvb21SZW5kZXJlci50cyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0VfX0Rldl9SdW5lc09mVGhlRGVlcF9qc19kdW5nZW9uZ2VuX1Jvb21SZW5kZXJlcl90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fY29tcG9uZW50c190aWxlQ29tcG9uZW50X3RzIGZyb20gJ0U6L0Rldi9SdW5lc09mVGhlRGVlcC9qcy9kdW5nZW9uZ2VuL2NvbXBvbmVudHMvdGlsZUNvbXBvbmVudC50cyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0VfX0Rldl9SdW5lc09mVGhlRGVlcF9qc19kdW5nZW9uZ2VuX2NvbXBvbmVudHNfdGlsZUNvbXBvbmVudF90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fcm9vbV90cyBmcm9tICdFOi9EZXYvUnVuZXNPZlRoZURlZXAvanMvZHVuZ2Vvbmdlbi9yb29tLnRzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fcm9vbV90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fcm9vbUl0ZW1DcmVhdG9yX3RzIGZyb20gJ0U6L0Rldi9SdW5lc09mVGhlRGVlcC9qcy9kdW5nZW9uZ2VuL3Jvb21JdGVtQ3JlYXRvci50cyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0VfX0Rldl9SdW5lc09mVGhlRGVlcF9qc19kdW5nZW9uZ2VuX3Jvb21JdGVtQ3JlYXRvcl90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fcm9vbVRlbXBsYXRlc190cyBmcm9tICdFOi9EZXYvUnVuZXNPZlRoZURlZXAvanMvZHVuZ2Vvbmdlbi9yb29tVGVtcGxhdGVzLnRzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fcm9vbVRlbXBsYXRlc190cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fdGlsZV90cyBmcm9tICdFOi9EZXYvUnVuZXNPZlRoZURlZXAvanMvZHVuZ2Vvbmdlbi90aWxlLnRzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fdGlsZV90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fdGlsZXNldF90cyBmcm9tICdFOi9EZXYvUnVuZXNPZlRoZURlZXAvanMvZHVuZ2Vvbmdlbi90aWxlc2V0LnRzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fdGlsZXNldF90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fdXRpbHNfZGlyZWN0aW9uSGVscGVyc190cyBmcm9tICdFOi9EZXYvUnVuZXNPZlRoZURlZXAvanMvZHVuZ2Vvbmdlbi91dGlscy9kaXJlY3Rpb25IZWxwZXJzLnRzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fdXRpbHNfZGlyZWN0aW9uSGVscGVyc190cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2R1bmdlb25nZW5fdXRpbHNfZXh0cmFjdG9yX3RzIGZyb20gJ0U6L0Rldi9SdW5lc09mVGhlRGVlcC9qcy9kdW5nZW9uZ2VuL3V0aWxzL2V4dHJhY3Rvci50cyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0VfX0Rldl9SdW5lc09mVGhlRGVlcF9qc19kdW5nZW9uZ2VuX3V0aWxzX2V4dHJhY3Rvcl90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX2dsb2JhbHNfdHMgZnJvbSAnRTovRGV2L1J1bmVzT2ZUaGVEZWVwL2pzL2dsb2JhbHMudHMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9FX19EZXZfUnVuZXNPZlRoZURlZXBfanNfZ2xvYmFsc190cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX3VpX2NvbXBvbmVudHNfdWlfYWN0aW9uX2Nsb3NlX3RzIGZyb20gJ0U6L0Rldi9SdW5lc09mVGhlRGVlcC9qcy91aS9jb21wb25lbnRzL3VpLWFjdGlvbi1jbG9zZS50cyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0VfX0Rldl9SdW5lc09mVGhlRGVlcF9qc191aV9jb21wb25lbnRzX3VpX2FjdGlvbl9jbG9zZV90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX3VpX2NvbXBvbmVudHNfdWlfYnV0dG9uX3RzIGZyb20gJ0U6L0Rldi9SdW5lc09mVGhlRGVlcC9qcy91aS9jb21wb25lbnRzL3VpLWJ1dHRvbi50cyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0VfX0Rldl9SdW5lc09mVGhlRGVlcF9qc191aV9jb21wb25lbnRzX3VpX2J1dHRvbl90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX3VpX2NvbXBvbmVudHNfdWlfY29tcG9uZW50X3RzIGZyb20gJ0U6L0Rldi9SdW5lc09mVGhlRGVlcC9qcy91aS9jb21wb25lbnRzL3VpLWNvbXBvbmVudC50cyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0VfX0Rldl9SdW5lc09mVGhlRGVlcF9qc191aV9jb21wb25lbnRzX3VpX2NvbXBvbmVudF90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX3VpX2NvbXBvbmVudHNfdWlfaW52ZW50b3J5X3RzIGZyb20gJ0U6L0Rldi9SdW5lc09mVGhlRGVlcC9qcy91aS9jb21wb25lbnRzL3VpLWludmVudG9yeS50cyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0VfX0Rldl9SdW5lc09mVGhlRGVlcF9qc191aV9jb21wb25lbnRzX3VpX2ludmVudG9yeV90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX3VpX2NvbXBvbmVudHNfdWlfbWFuYWdlcl90cyBmcm9tICdFOi9EZXYvUnVuZXNPZlRoZURlZXAvanMvdWkvY29tcG9uZW50cy91aS1tYW5hZ2VyLnRzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX3VpX2NvbXBvbmVudHNfdWlfbWFuYWdlcl90cyk7XG5pbXBvcnQgKiBhcyBfRV9fRGV2X1J1bmVzT2ZUaGVEZWVwX2pzX3VpX2NvbXBvbmVudHNfdWlfcGFuZWxfdHMgZnJvbSAnRTovRGV2L1J1bmVzT2ZUaGVEZWVwL2pzL3VpL2NvbXBvbmVudHMvdWktcGFuZWwudHMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9FX19EZXZfUnVuZXNPZlRoZURlZXBfanNfdWlfY29tcG9uZW50c191aV9wYW5lbF90cyk7XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBVUEsT0FBQyxXQUFXO0FBRVY7QUFTQSxZQUFJQSxnQkFBZSxXQUFXO0FBQzVCLGVBQUssS0FBSztBQUFBLFFBQ1o7QUFDQSxRQUFBQSxjQUFhLFlBQVk7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFVBS3ZCLE1BQU0sV0FBVztBQUNmLGdCQUFJQyxRQUFPLFFBQVFDO0FBR25CLFlBQUFELE1BQUssV0FBVztBQUdoQixZQUFBQSxNQUFLLGtCQUFrQixDQUFDO0FBQ3hC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QUFFLElBQUk7QUFDVixVQUFJLEVBQUUsSUFBSTtBQUFBLElBQ1o7QUFFQSxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBUU8sV0FBUyxNQUFNLEdBQUc7QUFDdkIsUUFBSSxNQUFNLElBQWEsV0FBVyxFQUFFO0FBQ3BDLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFdBQU87QUFBQSxFQUNUO0FBU08sV0FBUyxLQUFLLEtBQUssR0FBRztBQUMzQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxXQUFPO0FBQUEsRUFDVDtBQXVCTyxXQUFTLFdBQVcsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUN6RyxRQUFJLE1BQU0sSUFBYSxXQUFXLEVBQUU7QUFDcEMsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixXQUFPO0FBQUEsRUFDVDtBQXdCTyxXQUFTLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQ3ZHLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFRTyxXQUFTLFNBQVMsS0FBSztBQUM1QixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBU08sV0FBUyxVQUFVLEtBQUssR0FBRztBQUVoQyxRQUFJLFFBQVEsR0FBRztBQUNiLFVBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsVUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsVUFBSSxNQUFNLEVBQUUsRUFBRTtBQUNkLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUNiLFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxFQUFFO0FBQ2IsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLElBQUk7QUFDVixVQUFJLEVBQUUsSUFBSTtBQUFBLElBQ1osT0FBTztBQUNMLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUNiLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUNiLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQztBQUNiLFVBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQztBQUNiLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUFBLElBQ2hCO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFTTyxXQUFTLE9BQU8sS0FBSyxHQUFHO0FBQzdCLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUU1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBRTVFLFFBQUksQ0FBQyxLQUFLO0FBQ1IsYUFBTztBQUFBLElBQ1Q7QUFFQSxVQUFNLElBQU07QUFDWixRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxRQUFJLEVBQUUsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUNoRCxRQUFJLEVBQUUsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUNoRCxRQUFJLEVBQUUsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUNoRCxRQUFJLEVBQUUsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUNoRCxRQUFJLEVBQUUsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUNoRCxRQUFJLEVBQUUsS0FBSyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUNoRCxXQUFPO0FBQUEsRUFDVDtBQVNPLFdBQVMsUUFBUSxLQUFLLEdBQUc7QUFDOUIsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksQ0FBQyxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNsRyxRQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNwRyxRQUFJLENBQUMsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbEcsUUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDcEcsUUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDcEcsUUFBSSxDQUFDLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ2xHLFFBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3BHLFFBQUksQ0FBQyxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNsRyxRQUFJLENBQUMsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbEcsUUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDcEcsUUFBSSxFQUFFLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ25HLFFBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3JHLFFBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3JHLFFBQUksRUFBRSxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNuRyxRQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNyRyxRQUFJLEVBQUUsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbkcsV0FBTztBQUFBLEVBQ1Q7QUFRTyxXQUFTLFlBQVksR0FBRztBQUM3QixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFFNUIsV0FBTyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFBQSxFQUMzRTtBQVVPLFdBQVMsU0FBUyxLQUFLLEdBQUcsR0FBRztBQUNsQyxRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBRWQsUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsRUFBRTtBQUNULFNBQUssRUFBRSxFQUFFO0FBQ1QsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksRUFBRSxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsUUFBSSxFQUFFLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUNoRCxTQUFLLEVBQUUsRUFBRTtBQUNULFNBQUssRUFBRSxFQUFFO0FBQ1QsU0FBSyxFQUFFLEVBQUU7QUFDVCxTQUFLLEVBQUUsRUFBRTtBQUNULFFBQUksRUFBRSxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsUUFBSSxFQUFFLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUNoRCxRQUFJLEVBQUUsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQ2hELFFBQUksRUFBRSxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLFVBQVUsS0FBSyxHQUFHLEdBQUc7QUFDbkMsUUFBSSxJQUFJLEVBQUUsQ0FBQyxHQUNQLElBQUksRUFBRSxDQUFDLEdBQ1AsSUFBSSxFQUFFLENBQUM7QUFDWCxRQUFJLEtBQUssS0FBSyxLQUFLO0FBQ25CLFFBQUksS0FBSyxLQUFLLEtBQUs7QUFDbkIsUUFBSSxLQUFLLEtBQUssS0FBSztBQUVuQixRQUFJLE1BQU0sS0FBSztBQUNiLFVBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRTtBQUMvQyxVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUU7QUFDL0MsVUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxJQUFJLElBQUksRUFBRSxFQUFFO0FBQ2hELFVBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUUsSUFBSSxJQUFJLEVBQUUsRUFBRTtBQUFBLElBQ2xELE9BQU87QUFDTCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxFQUFFO0FBQ1YsWUFBTSxFQUFFLEVBQUU7QUFDVixVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLElBQUk7QUFDVixVQUFJLEVBQUUsSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxFQUFFLEVBQUU7QUFDNUMsVUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksRUFBRSxFQUFFO0FBQzVDLFVBQUksRUFBRSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLEVBQUUsRUFBRTtBQUM1QyxVQUFJLEVBQUUsSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxFQUFFLEVBQUU7QUFBQSxJ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QUN2QyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDdkMsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ3ZDLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUN2QyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDdkMsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ3ZDLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUN2QyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDdkMsUUFBSSxFQUFFLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ3hDLFFBQUksRUFBRSxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUV4QyxRQUFJLE1BQU0sS0FBSztBQUViLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFVBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUFBLElBQ2hCO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLFFBQVEsS0FBSyxHQUFHLEtBQUs7QUFDbkMsUUFBSSxJQUFJLEtBQUssSUFBSSxHQUFHO0FBQ3BCLFFBQUksSUFBSSxLQUFLLElBQUksR0FBRztBQUNwQixRQUFJLE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRTtBQUVkLFFBQUksTUFBTSxLQUFLO0FB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QUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSztBQUNuQixRQUFJLENBQUMsSUFBSSxLQUFLO0FBQ2QsUUFBSSxDQUFDLElBQUksS0FBSztBQUNkLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUksS0FBSztBQUNkLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSztBQUNuQixRQUFJLENBQUMsSUFBSSxLQUFLO0FBQ2QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSSxLQUFLO0FBQ2QsUUFBSSxDQUFDLElBQUksS0FBSztBQUNkLFFBQUksRUFBRSxJQUFJLEtBQUssS0FBSztBQUNwQixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQztBQUNiLFFBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQztBQUNiLFFBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQztBQUNiLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFTTyxXQUFTLFVBQVUsS0FBSyxHQUFHO0FBQ2hDLFFBQUksY0FBYyxJQUFhLFdBQVcsQ0FBQztBQUMzQyxRQUFJLEtBQUssQ0FBQyxFQUFFLENBQUMsR0FDVCxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQ1QsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUNULEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLFlBQVksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUVuRCxRQUFJLFlBQVksR0FBRztBQUNqQixrQkFBWSxDQUFDLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxNQUFNLElBQUk7QUFDL0Qsa0JBQVksQ0FBQyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssTUFBTSxJQUFJO0FBQy9ELGtCQUFZLENBQUMsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLE1BQU0sSUFBSTtBQUFBLElBQ2pFLE9BQU87QUFDTCxrQkFBWSxDQUFDLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxNQUFNO0FBQzNELGtCQUFZLENBQUMsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLE1BQU07QUFDM0Qsa0JBQVksQ0FBQyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssTUFBTTtBQUFBLElBQzdEO0FBRUEsNEJBQXdCLEtBQUssR0FBRyxXQUFXO0FBQzNDLFdBQU87QUFBQSxFQUNUO0FBV08sV0FBUyxlQUFlLEtBQUssS0FBSztBQUN2QyxRQUFJLENBQUMsSUFBSSxJQUFJLEVBQUU7QUFDZixRQUFJLENBQUMsSUFBSSxJQUFJLEVBQUU7QUFDZixRQUFJLENBQUMsSUFBSSxJQUFJLEVBQUU7QUFDZixXQUFPO0FBQUEsRUFDVDtBQVlPLFdBQVMsV0FBVyxLQUFLLEtBQUs7QUFDbkMsUUFBSSxNQUFNLElBQUksQ0FBQztBQUNmLFFBQUksTUFBTSxJQUFJLENBQUM7QUFDZixRQUFJLE1BQU0sSUFBSSxDQUFDO0FBQ2YsUUFBSSxNQUFNLElBQUksQ0FBQztBQUNmLFFBQUksTUFBTSxJQUFJLENBQUM7QUFDZixRQUFJLE1BQU0sSUFBSSxDQUFDO0FBQ2YsUUFBSSxNQUFNLElBQUksQ0FBQztBQUNmLFFBQUksTUFBTSxJQUFJLENBQUM7QUFDZixRQUFJLE1BQU0sSUFBSSxFQUFFO0FBQ2hCLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLEtBQUssR0FBRztBQUNqQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxLQUFLLEdBQUc7QUFDakMsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssS0FBSyxHQUFHO0FBQ2pDLFdBQU87QUFBQSxFQUNUO0FBV08sV0FBUyxZQUFZLEtBQUssS0FBSztBQUNwQyxRQUFJLFVBQVUsSUFBYSxXQUFXLENBQUM7QUFDdkMsZUFBVyxTQUFTLEdBQUc7QUFDdkIsUUFBSSxNQUFNLElBQUksUUFBUSxDQUFDO0FBQ3ZCLFFBQUksTUFBTSxJQUFJLFFBQVEsQ0FBQztBQUN2QixRQUFJLE1BQU0sSUFBSSxRQUFRLENBQUM7QUFDdkIsUUFBSSxPQUFPLElBQUksQ0FBQyxJQUFJO0FBQ3BCLFFBQUksT0FBTyxJQUFJLENBQUMsSUFBSTtBQUNwQixRQUFJLE9BQU8sSUFBSSxDQUFDLElBQUk7QUFDcEIsUUFBSSxPQUFPLElBQUksQ0FBQyxJQUFJO0FBQ3BCLFFBQUksT0FBTyxJQUFJLENBQUMsSUFBSTtBQUNwQixRQUFJLE9BQU8sSUFBSSxDQUFDLElBQUk7QUFDcEIsUUFBSSxPQUFPLElBQUksQ0FBQyxJQUFJO0FBQ3BCLFFBQUksT0FBTyxJQUFJLENBQUMsSUFBSTtBQUNwQixRQUFJLE9BQU8sSUFBSSxFQUFFLElBQUk7QUFDckIsUUFBSSxRQUFRLE9BQU8sT0FBTztBQUMxQixRQUFJLElBQUk7QUFFUixRQUFJLFFBQVEsR0FBRztBQUNiLFVBQUksS0FBSyxLQUFLLFFBQVEsQ0FBRyxJQUFJO0FBQzdCLFVBQUksQ0FBQyxJQUFJLE9BQU87QUFDaEIsVUFBSSxDQUFDLEtBQUssT0FBTyxRQUFRO0FBQ3pCLFVBQUksQ0FBQyxLQUFLLE9BQU8sUUFBUTtBQUN6QixVQUFJLENBQUMsS0FBSyxPQUFPLFFBQVE7QUFBQSxJQUMzQixXQUFXLE9BQU8sUUFBUSxPQUFPLE1BQU07QUFDckMsVUFBSSxLQUFLLEtBQUssSUFBTSxPQUFPLE9BQU8sSUFBSSxJQUFJO0FBQzFDLFVBQUksQ0FBQyxLQUFLLE9BQU8sUUFBUTtBQUN6QixVQUFJLENBQUMsSUFBSSxPQUFPO0FBQ2hCLFVBQUksQ0FBQyxLQUFLLE9BQU8sUUFBUTtBQUN6QixVQUFJLENBQUMsS0FBSyxPQUFPLFFBQVE7QUFBQSxJQUMzQixXQUFXLE9BQU8sTUFBTTtBQUN0QixVQUFJLEtBQUssS0FBSyxJQUFNLE9BQU8sT0FBTyxJQUFJLElBQUk7QUFDMUMsVUFBSSxDQUFDLEtBQUssT0FBTyxRQUFRO0FBQ3pCLFVBQUksQ0FBQyxLQUFLLE9BQU8sUUFBUTtBQUN6QixVQUFJLENBQUMsSUFBSSxPQUFPO0FBQ2hCLFVBQUksQ0FBQyxLQUFLLE9BQU8sUUFBUTtBQUFBLElBQzNCLE9BQU87QUFDTCxVQUFJLEtBQUssS0FBSyxJQUFNLE9BQU8sT0FBTyxJQUFJLElBQUk7QUFDMUMsVUFBSSxDQUFDLEtBQUssT0FBTyxRQUFRO0FBQ3pCLFVBQUksQ0FBQyxLQUFLLE9BQU8sUUFBUTtBQUN6QixVQUFJLENBQUMsS0FBSyxPQUFPLFFBQVE7QUFDekIsVUFBSSxDQUFDLElBQUksT0FBTztBQUFBLElBQ2xCO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFtQk8sV0FBUyw2QkFBNkIsS0FBS0EsSUFBRyxHQUFHLEdBQUc7QUFFekQsUUFBSSxJQUFJQSxHQUFFLENBQUMsR0FDUCxJQUFJQSxHQUFFLENBQUMsR0FDUCxJQUFJQSxHQUFFLENBQUMsR0FDUCxJQUFJQSxHQUFFLENBQUM7QUFDWCxRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsS0FBSyxLQUFLLEtBQUssT0FBTztBQUMzQixRQUFJLENBQUMsS0FBSyxLQUFLLE1BQU07QUFDckIsUUFBSSxDQUFDLEtBQUssS0FBSyxNQUFNO0FBQ3JCLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLEtBQUssS0FBSyxNQUFNO0FBQ3JCLFFBQUksQ0FBQyxLQUFLLEtBQUssS0FBSyxPQUFPO0FBQzNCLFFBQUksQ0FBQyxLQUFLLEtBQUssTUFBTTtBQUNyQixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxLQUFLLEtBQUssTUFBTTtBQUNyQixRQUFJLENBQUMsS0FBSyxLQUFLLE1BQU07QUFDckIsUUFBSSxFQUFFLEtBQUssS0FBSyxLQUFLLE9BQU87QUFDNUIsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDYixRQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDYixRQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDYixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBc0JPLFdBQVMsbUNBQW1DLEtBQUtBLElBQUcsR0FBRyxHQUFHLEdBQUc7QUFFbEUsUUFBSSxJQUFJQSxHQUFFLENBQUMsR0FDUCxJQUFJQSxHQUFFLENBQUMsR0FDUCxJQUFJQSxHQUFFLENBQUMsR0FDUCxJQUFJQSxHQUFFLENBQUM7QUFDWCxRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLFFBQVEsS0FBSyxLQUFLLE9BQU87QUFDN0IsUUFBSSxRQUFRLEtBQUssTUFBTTtBQUN2QixRQUFJLFFBQVEsS0FBSyxNQUFNO0FBQ3ZCLFFBQUksUUFBUSxLQUFLLE1BQU07QUFDdkIsUUFBSSxRQUFRLEtBQUssS0FBSyxPQUFPO0FBQzdCLFFBQUksUUFBUSxLQUFLLE1BQU07QUFDdkIsUUFBSSxRQUFRLEtBQUssTUFBTTtBQUN2QixRQUFJLFFBQVEsS0FBSyxNQUFNO0FBQ3ZCLFFBQUksU0FBUyxLQUFLLEtBQUssT0FBTztBQUM5QixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxNQUFNLE9BQU8sS0FBSyxPQUFPLEtBQUssT0FBTztBQUN0RCxRQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxNQUFNLE9BQU8sS0FBSyxPQUFPLEtBQUssT0FBTztBQUN0RCxRQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxNQUFNLE9BQU8sS0FBSyxPQUFPLEtBQUssUUFBUTtBQUN2RCxRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBUyxTQUFTLEtBQUtBLElBQUc7QUFDL0IsUUFBSSxJQUFJQSxHQUFFLENBQUMsR0FDUCxJQUFJQSxHQUFFLENBQUMsR0FDUCxJQUFJQSxHQUFFLENBQUMsR0FDUCxJQUFJQSxHQUFFLENBQUM7QUFDWCxRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLEtBQUssSUFBSTtBQUNiLFFBQUksS0FBSyxJQUFJO0FBQ2IsUUFBSSxLQUFLLElBQUk7QUFDYixRQUFJLENBQUMsSUFBSSxJQUFJLEtBQUs7QUFDbEIsUUFBSSxDQUFDLElBQUksS0FBSztBQUNkLFFBQUksQ0FBQyxJQUFJLEtBQUs7QUFDZCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJLEtBQUs7QUFDZCxRQUFJLENBQUMsSUFBSSxJQUFJLEtBQUs7QUFDbEIsUUFBSSxDQUFDLElBQUksS0FBSztBQUNkLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUksS0FBSztBQUNkLFFBQUksQ0FBQyxJQUFJLEtBQUs7QUFDZCxRQUFJLEVBQUUsSUFBSSxJQUFJLEtBQUs7QUFDbkIsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBY08sV0FBUyxRQUFRLEtBQUssTUFBTSxPQUFPLFFBQVEsS0FBSyxNQUFNLEtBQUs7QUFDaEUsUUFBSSxLQUFLLEtBQUssUUFBUTtBQUN0QixRQUFJLEtBQUssS0FBSyxNQUFNO0FBQ3BCLFFBQUksS0FBSyxLQUFLLE9BQU87QUFDckIsUUFBSSxDQUFDLElBQUksT0FBTyxJQUFJO0FBQ3BCLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUksT0FBTyxJQUFJO0FBQ3BCLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsS0FBSyxRQUFRLFFBQVE7QUFDMUIsUUFBSSxDQUFDLEtBQUssTUFBTSxVQUFVO0FBQzFCLFFBQUksRUFBRSxLQUFLLE1BQU0sUUFBUTtBQUN6QixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSSxNQUFNLE9BQU8sSUFBSTtBQUMzQixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBZU8sV0FBUyxjQUFjLEtBQUssTUFBTSxRQUFRLE1BQU0sS0FBSztBQUMxRCxRQUFJQyxLQUFJLElBQU0sS0FBSyxJQUFJLE9BQU8sQ0FBQyxHQUMzQjtBQUNKLFFBQUksQ0FBQyxJQUFJQSxLQUFJO0FBQ2IsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSUE7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBRVYsUUFBSSxPQUFPLFFBQVEsUUFBUSxVQUFVO0FBQ25DLFdBQUssS0FBSyxPQUFPO0FBQ2pCLFVBQUksRUFBRSxLQUFLLE1BQU0sUUFBUTtBQUN6QixVQUFJLEVBQUUsSUFBSSxJQUFJLE1BQU0sT0FBTztBQUFBLElBQzdCLE9BQU87QUFDTCxVQUFJLEVBQUUsSUFBSTtBQUNWLFVBQUksRUFBRSxJQUFJLEtBQUs7QUFBQSxJQUNqQjtBQUVBLFdBQU87QUFBQSxFQUNUO0FBTU8sTUFBSSxjQUFjO0FBZWxCLFdBQVMsY0FBYyxLQUFLLE1BQU0sUUFBUSxNQUFNLEtBQUs7QUFDMUQsUUFBSUEsS0FBSSxJQUFNLEtBQUssSUFBSSxPQUFPLENBQUMsR0FDM0I7QUFDSixRQUFJLENBQUMsSUFBSUEsS0FBSTtBQUNiLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUlBO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUVWLFFBQUksT0FBTyxRQUFRLFFBQVEsVUFBVTtBQUNuQyxXQUFLLEtBQUssT0FBTztBQUNqQixVQUFJLEVBQUUsSUFBSSxNQUFNO0FBQ2hCLFVBQUksRUFBRSxJQUFJLE1BQU0sT0FBTztBQUFBLElBQ3pCLE9BQU87QUFDTCxVQUFJLEVBQUUsSUFBSTtBQUNWLFVBQUksRUFBRSxJQUFJLENBQUM7QUFBQSxJQUNiO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFhTyxXQUFTLDJCQUEyQixLQUFLLEtBQUssTUFBTSxLQUFLO0FBQzlELFFBQUksUUFBUSxLQUFLLElBQUksSUFBSSxZQUFZLEtBQUssS0FBSyxHQUFLO0FBQ3BELFFBQUksVUFBVSxLQUFLLElBQUksSUFBSSxjQUFjLEtBQUssS0FBSyxHQUFLO0FBQ3hELFFBQUksVUFBVSxLQUFLLElBQUksSUFBSSxjQUFjLEtBQUssS0FBSyxHQUFLO0FBQ3hELFFBQUksV0FBVyxLQUFLLElBQUksSUFBSSxlQUFlLEtBQUssS0FBSyxHQUFLO0FBQzFELFFBQUksU0FBUyxLQUFPLFVBQVU7QUFDOUIsUUFBSSxTQUFTLEtBQU8sUUFBUTtBQUM1QixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUksR0FBRyxVQUFVLFlBQVksU0FBUztBQUMzQyxRQUFJLENBQUMsS0FBSyxRQUFRLFdBQVcsU0FBUztBQUN0QyxRQUFJLEVBQUUsSUFBSSxPQUFPLE9BQU87QUFDeEIsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUksTUFBTSxRQUFRLE9BQU87QUFDL0IsUUFBSSxFQUFFLElBQUk7QUFDVixXQUFPO0FBQUEsRUFDVDtBQWdCTyxXQUFTLFFBQVEsS0FBSyxNQUFNLE9BQU8sUUFBUSxLQUFLLE1BQU0sS0FBSztBQUNoRSxRQUFJLEtBQUssS0FBSyxPQUFPO0FBQ3JCLFFBQUksS0FBSyxLQUFLLFNBQVM7QUFDdkIsUUFBSSxLQUFLLEtBQUssT0FBTztBQUNyQixRQUFJLENBQUMsSUFBSSxLQUFLO0FBQ2QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSSxLQUFLO0FBQ2QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLEVBQUUsSUFBSSxJQUFJO0FBQ2QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsS0FBSyxPQUFPLFNBQVM7QUFDM0IsUUFBSSxFQUFFLEtBQUssTUFBTSxVQUFVO0FBQzNCLFFBQUksRUFBRSxLQUFLLE1BQU0sUUFBUTtBQUN6QixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBTU8sTUFBSSxRQUFRO0FBZ0JaLFdBQVMsUUFBUSxLQUFLLE1BQU0sT0FBTyxRQUFRLEtBQUssTUFBTSxLQUFLO0FBQ2hFLFFBQUksS0FBSyxLQUFLLE9BQU87QUFDckIsUUFBSSxLQUFLLEtBQUssU0FBUztBQUN2QixRQUFJLEtBQUssS0FBSyxPQUFPO0FBQ3JCLFFBQUksQ0FBQyxJQUFJLEtBQUs7QUFDZCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJLEtBQUs7QUFDZCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsS0FBSyxPQUFPLFNBQVM7QUFDM0IsUUFBSSxFQUFFLEtBQUssTUFBTSxVQUFVO0FBQzNCLFFBQUksRUFBRSxJQUFJLE9BQU87QUFDakIsUUFBSSxFQUFFLElBQUk7QUFDVixXQUFPO0FBQUEsRUFDVDtBQVlPLFdBQVMsT0FBTyxLQUFLLEtBQUssUUFBUSxJQUFJO0FBQzNDLFFBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUlGO0FBQ3hDLFFBQUksT0FBTyxJQUFJLENBQUM7QUFDaEIsUUFBSSxPQUFPLElBQUksQ0FBQztBQUNoQixRQUFJLE9BQU8sSUFBSSxDQUFDO0FBQ2hCLFFBQUksTUFBTSxHQUFHLENBQUM7QUFDZCxRQUFJLE1BQU0sR0FBRyxDQUFDO0FBQ2QsUUFBSSxNQUFNLEdBQUcsQ0FBQztBQUNkLFFBQUksVUFBVSxPQUFPLENBQUM7QUFDdEIsUUFBSSxVQUFVLE9BQU8sQ0FBQztBQUN0QixRQUFJLFVBQVUsT0FBTyxDQUFDO0FBRXRCLFFBQUksS0FBSyxJQUFJLE9BQU8sT0FBTyxJQUFhLFdBQVcsS0FBSyxJQUFJLE9BQU8sT0FBTyxJQUFhLFdBQVcsS0FBSyxJQUFJLE9BQU8sT0FBTyxJQUFhLFNBQVM7QUFDN0ksYUFBTyxTQUFTLEdBQUc7QUFBQSxJQUNyQjtBQUVBLFNBQUssT0FBTztBQUNaLFNBQUssT0FBTztBQUNaLFNBQUssT0FBTztBQUNaLElBQUFBLE9BQU0sSUFBSSxLQUFLLE1BQU0sSUFBSSxJQUFJLEVBQUU7QUFDL0IsVUFBTUE7QUFDTixVQUFNQTtBQUNOLFVBQU1BO0FBQ04sU0FBSyxNQUFNLEtBQUssTUFBTTtBQUN0QixTQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ3RCLFNBQUssTUFBTSxLQUFLLE1BQU07QUFDdEIsSUFBQUEsT0FBTSxLQUFLLE1BQU0sSUFBSSxJQUFJLEVBQUU7QUFFM0IsUUFBSSxDQUFDQSxNQUFLO0FBQ1IsV0FBSztBQUNMLFdBQUs7QUFDTCxXQUFLO0FBQUEsSUFDUCxPQUFPO0FBQ0wsTUFBQUEsT0FBTSxJQUFJQTtBQUNWLFlBQU1BO0FBQ04sWUFBTUE7QUFDTixZQUFNQTtBQUFBLElBQ1I7QUFFQSxTQUFLLEtBQUssS0FBSyxLQUFLO0FBQ3BCLFNBQUssS0FBSyxLQUFLLEtBQUs7QUFDcEIsU0FBSyxLQUFLLEtBQUssS0FBSztBQUNwQixJQUFBQSxPQUFNLEtBQUssTUFBTSxJQUFJLElBQUksRUFBRTtBQUUzQixRQUFJLENBQUNBLE1BQUs7QUFDUixXQUFLO0FBQ0wsV0FBSztBQUNMLFdBQUs7QUFBQSxJQUNQLE9BQU87QUFDTCxNQUFBQSxPQUFNLElBQUlBO0FBQ1YsWUFBTUE7QUFDTixZQUFNQTtBQUNOLFlBQU1BO0FBQUEsSUFDUjtBQUVBLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxPQUFPLEtBQUssT0FBTyxLQUFLO0FBQ3pDLFFBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxPQUFPLEtBQUssT0FBTyxLQUFLO0FBQ3pDLFFBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxPQUFPLEtBQUssT0FBTyxLQUFLO0FBQ3pDLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFXTyxXQUFTLFNBQVMsS0FBSyxLQUFLLFFBQVEsSUFBSTtBQUM3QyxRQUFJLE9BQU8sSUFBSSxDQUFDLEdBQ1osT0FBTyxJQUFJLENBQUMsR0FDWixPQUFPLElBQUksQ0FBQyxHQUNaLE1BQU0sR0FBRyxDQUFDLEdBQ1YsTUFBTSxHQUFHLENBQUMsR0FDVixNQUFNLEdBQUcsQ0FBQztBQUNkLFFBQUksS0FBSyxPQUFPLE9BQU8sQ0FBQyxHQUNwQixLQUFLLE9BQU8sT0FBTyxDQUFDLEdBQ3BCLEtBQUssT0FBTyxPQUFPLENBQUM7QUFDeEIsUUFBSUEsT0FBTSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFFbkMsUUFBSUEsT0FBTSxHQUFHO0FBQ1gsTUFBQUEsT0FBTSxJQUFJLEtBQUssS0FBS0EsSUFBRztBQUN2QixZQUFNQTtBQUNOLFlBQU1BO0FBQ04sWUFBTUE7QUFBQSxJQUNSO0FBRUEsUUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLElBQ3RCLEtBQUssTUFBTSxLQUFLLE1BQU0sSUFDdEIsS0FBSyxNQUFNLEtBQUssTUFBTTtBQUMxQixJQUFBQSxPQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUUvQixRQUFJQSxPQUFNLEdBQUc7QUFDWCxNQUFBQSxPQUFNLElBQUksS0FBSyxLQUFLQSxJQUFHO0FBQ3ZCLFlBQU1BO0FBQ04sWUFBTUE7QUFDTixZQUFNQTtBQUFBLElBQ1I7QUFFQSxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLO0FBQ3hCLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLO0FBQ3hCLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLO0FBQ3hCLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBUU8sV0FBUyxJQUFJLEdBQUc7QUFDckIsV0FBTyxVQUFVLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxFQUFFLElBQUksT0FBTyxFQUFFLEVBQUUsSUFBSSxPQUFPLEVBQUUsRUFBRSxJQUFJLE9BQU8sRUFBRSxFQUFFLElBQUksT0FBTyxFQUFFLEVBQUUsSUFBSSxPQUFPLEVBQUUsRUFBRSxJQUFJO0FBQUEsRUFDbFA7QUFRTyxXQUFTLEtBQUssR0FBRztBQUN0QixXQUFPLEtBQUssTUFBTSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQztBQUFBLEVBQ3hIO0FBVU8sV0FBUyxJQUFJLEtBQUssR0FBRyxHQUFHO0FBQzdCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsU0FBUyxLQUFLLEdBQUcsR0FBRztBQUNsQyxRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLGVBQWUsS0FBSyxHQUFHLEdBQUc7QUFDeEMsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsV0FBTztBQUFBLEVBQ1Q7QUFXTyxXQUFTLHFCQUFxQixLQUFLLEdBQUcsR0FBR0csUUFBTztBQUNyRCxRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUlBO0FBQzFCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJQTtBQUMxQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSUE7QUFDMUIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUlBO0FBQzFCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJQTtBQUMxQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSUE7QUFDMUIsV0FBTztBQUFBLEVBQ1Q7QUFTTyxXQUFTLFlBQVksR0FBRyxHQUFHO0FBQ2hDLFdBQU8sRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFO0FBQUEsRUFDaFM7QUFTTyxXQUFTLE9BQU8sR0FBRyxHQUFHO0FBQzNCLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsV0FBTyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUM7QUFBQSxFQUM1MkM7QUFNTyxNQUFJLE1BQU07QUFNVixNQUFJLE1BQU07OztBQ3IzRGpCO0FBQUE7QUFBQSxlQUFBQztBQUFBLElBQUE7QUFBQSxpQkFBQUM7QUFBQSxJQUFBO0FBQUEsZ0JBQUFDO0FBQUEsSUFBQSxjQUFBQztBQUFBLElBQUEsV0FBQUM7QUFBQSxJQUFBLGNBQUFDO0FBQUEsSUFBQSxtQkFBQUM7QUFBQSxJQUFBO0FBQUE7QUFBQTtBQUFBLHNCQUFBQztBQUFBLElBQUE7QUFBQTtBQUFBLG9CQUFBQztBQUFBLElBQUEsY0FBQUM7QUFBQSxJQUFBLFdBQUFDO0FBQUEsSUFBQSxjQUFBQztBQUFBLElBQUEsWUFBQUM7QUFBQSxJQUFBO0FBQUEsZUFBQUM7QUFBQSxJQUFBLGdCQUFBQztBQUFBLElBQUEsaUJBQUFDO0FBQUEs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SztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxTQUFRLEtBQUssR0FBRyxLQUFLO0FBQ25DLFdBQU87QUFDUCxRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEtBQUssSUFBSSxHQUFHLEdBQ2pCLEtBQUssS0FBSyxJQUFJLEdBQUc7QUFDckIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxTQUFRLEtBQUssR0FBRyxLQUFLO0FBQ25DLFdBQU87QUFDUCxRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEtBQUssSUFBSSxHQUFHLEdBQ2pCLEtBQUssS0FBSyxJQUFJLEdBQUc7QUFDckIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDeEIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxTQUFRLEtBQUssR0FBRyxLQUFLO0FBQ25DLFdBQU87QUFDUCxRQUFJLEtBQUssRUFBRSxDQUFDLEdB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bkQsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxXQUFVLEtBQUssR0FBRyxHQUFHO0FBQ25DLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxJQUFJLEtBQ2IsTUFBTSxFQUFFLENBQUMsSUFBSSxLQUNiLE1BQU0sRUFBRSxDQUFDLElBQUksS0FDYixNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDN0MsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDN0MsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDN0MsUUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM5QyxXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVNDLFNBQVEsS0FBSyxHQUFHLEtBQUs7QUFDbkMsUUFBSSxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQ1QsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUNULEtBQUssQ0FBQyxFQUFFLENBQUMsR0FDVCxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsTUFBTSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLElBQ3pDLE1BQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FB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TSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsUUFBSSxDQUFDLElBQUksTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTTtBQUNoRCxXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsbUJBQW1CLEtBQUssR0FBR1YsSUFBRztBQUM1QyxRQUFJLEtBQUtBLEdBQUUsQ0FBQyxHQUNSLEtBQUtBLEdBQUUsQ0FBQyxHQUNSLEtBQUtBLEdBQUUsQ0FBQyxHQUNSLEtBQUtBLEdBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLG9CQUFvQixLQUFLQSxJQUFHLEdBQUc7QUFDN0MsUUFBSSxLQUFLQSxHQUFFLENBQUMsR0FDUixLQUFLQSxHQUFFLENBQUMsR0FDUixLQUFLQSxHQUFFLENBQUMsR0FDUixLQUFLQSxHQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFdBQU87QUFBQSxFQUNUO0FBV08sV0FBUyxpQkFBaUIsS0FBSyxHQUFHLE1BQU0sS0FBSztBQUVsRCxRQUFJLEtBQUssSUFBSSxHQUFHLElBQWEsU0FBUztBQUNwQyxhQUFPRyxNQUFLLEtBQUssQ0FBQztBQUFBLElBQ3BCO0FBRUEsUUFBSSxhQUFhLEtBQUssTUFBTSxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztBQUNyRCxVQUFNLE1BQU07QUFDWixRQUFJLElBQUksS0FBSyxJQUFJLEdBQUc7QUFDcEIsUUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLElBQUk7QUFDdkIsUUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLElBQUk7QUFDdkIsUUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLElBQUk7QUFDdkIsUUFBSSxLQUFLLEtBQUssSUFBSSxHQUFHO0FBQ3JCLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLENBQUMsSUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsUUFBSSxDQUFDLElBQUksTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTTtBQUNoRCxRQUFJLENBQUMsSUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFdBQU87QUFBQSxFQUNUO0FBV08sV0FBU1EsS0FBSSxLQUFLLEdBQUcsR0FBRztBQUM3QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBU0MsVUFBUyxLQUFLLEdBQUcsR0FBRztBQUNsQyxRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRCxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ25ELFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDbkQsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRCxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUNuRyxXQUFPO0FBQUEsRUFDVDtBQU1PLE1BQUlDLE9BQU1EO0FBV1YsV0FBU0UsT0FBTSxLQUFLLEdBQUcsR0FBRztBQUMvQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixXQUFPO0FBQUEsRUFDVDtBQVVPLE1BQUlDLE9BQVdBO0FBWWYsV0FBU0MsTUFBSyxLQUFLLEdBQUcsR0FBRyxHQUFHO0FBQ2pDLFFBQUlDLE1BQUssSUFBSTtBQUNiLFFBQUlGLEtBQUksR0FBRyxDQUFDLElBQUk7QUFBRyxVQUFJLENBQUM7QUFDeEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlFLE1BQUssRUFBRSxDQUFDLElBQUk7QUFDNUIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBLE1BQUssRUFBRSxDQUFDLElBQUk7QUFDNUIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBLE1BQUssRUFBRSxDQUFDLElBQUk7QUFDNUIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBLE1BQUssRUFBRSxDQUFDLElBQUk7QUFDNUIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBLE1BQUssRUFBRSxDQUFDLElBQUk7QUFDNUIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBLE1BQUssRUFBRSxDQUFDLElBQUk7QUFDNUIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBLE1BQUssRUFBRSxDQUFDLElBQUk7QUFDNUIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBLE1BQUssRUFBRSxDQUFDLElBQUk7QUFDNUIsV0FBTztBQUFBLEVBQ1Q7QUFTTyxXQUFTQyxRQUFPLEtBQUssR0FBRztBQUM3QixRQUFJLFFBQVFDLGVBQWMsQ0FBQztBQUMzQixRQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJO0FBQ2pCLFFBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUk7QUFDakIsUUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSTtBQUNqQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJO0FBQ2pCLFFBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUk7QUFDakIsUUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSTtBQUNqQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVNDLFdBQVUsS0FBSyxHQUFHO0FBQ2hDLFFBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO0FBQ2IsUUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7QUFDYixRQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO0FBQ2IsUUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7QUFDYixRQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFdBQU87QUFBQSxFQUNUO0FBU08sTUFBSUMsVUFBY0E7QUFNbEIsTUFBSUMsT0FBTUQ7QUFTVixNQUFJRixpQkFBcUJBO0FBTXpCLE1BQUlJLFVBQVNKO0FBVWIsV0FBU0ssV0FBVSxLQUFLLEdBQUc7QUFDaEMsUUFBSSxZQUFZTCxlQUFjLENBQUM7QUFFL0IsUUFBSSxZQUFZLEdBQUc7QUFDakIsa0JBQVksS0FBSyxLQUFLLFNBQVM7QUFDL0IsVUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFVBQUksS0FBSyxFQUFFLENBQUMsSUFBSTtBQUNoQixVQUFJLEtBQUssRUFBRSxDQUFDLElBQUk7QUFDaEIsVUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJO0FBQ2hCLFVBQUksS0FBSyxFQUFFLENBQUM7QUFDWixVQUFJLEtBQUssRUFBRSxDQUFDO0FBQ1osVUFBSSxLQUFLLEVBQUUsQ0FBQztBQUNaLFVBQUksS0FBSyxFQUFFLENBQUM7QUFDWixVQUFJLFVBQVUsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUNqRCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxLQUFLLEtBQUssS0FBSyxXQUFXO0FBQy9CLFVBQUksQ0FBQyxLQUFLLEtBQUssS0FBSyxXQUFXO0FBQy9CLFVBQUksQ0FBQyxLQUFLLEtBQUssS0FBSyxXQUFXO0FBQy9CLFVBQUksQ0FBQyxLQUFLLEtBQUssS0FBSyxXQUFXO0FBQUEsSUFDakM7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQVFPLFdBQVNNLEtBQUksR0FBRztBQUNyQixXQUFPLFdBQVcsRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsSUFBSTtBQUFBLEVBQzdIO0FBU08sV0FBU0MsYUFBWSxHQUFHLEdBQUc7QUFDaEMsV0FBTyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUM7QUFBQSxFQUM1STtBQVNPLFdBQVNDLFFBQU8sR0FBRyxHQUFHO0FBQzNCLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFdBQU8sS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDO0FBQUEsRUFDNXFCOzs7QUNsMEJBO0FBQUE7QUFBQSxlQUFBQztBQUFBLElBQUEsYUFBQUM7QUFBQSxJQUFBLFlBQUFDO0FBQUEsSUFBQSxhQUFBQztBQUFBLElBQUEsWUFB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LFlBQTRDO0FBRTVELGtCQUFnQix1QkFBdUQ7QUFFdkUsa0JBQWdCLGVBQStDO0FBRS9ELGtCQUFnQixtQkFBbUQ7QUFFbkUsa0JBQWdCLHNCQUFzRDtBQUV0RSxrQkFBZ0IsZ0JBQWdEO0FBRWhFLGtCQUFnQixtQkFBbUQ7QUFFbkUsa0JBQWdCLG9CQUFvRDtBQUVwRSxrQkFBZ0IscUJBQXFEO0FBRXJFLGtCQUFnQixrQkFBa0Q7QUFFbEUsa0JBQWdCLG1CQUFtRDtBQUVuRSxrQkFBZ0Isb0JBQW9EO0FBRXBFLGtCQUFnQixxQkFBZ0U7QUFFaEYsa0JBQWdCLFlBQTRDO0FBRTVELGtCQUFnQix1QkFBdUQ7QUFFdkUsa0JBQWdCLHFCQUFxRDtBQUVyRSxrQkFBZ0IsWUFBNEM7QUFFNUQsa0JBQWdCLGVBQStDO0FBRS9ELGtCQUFnQix3QkFBOEQ7QUFFOUUsa0JBQWdCLGlCQUF1RDtBQUV2RSxrQkFBZ0IsZUFBb0M7QUFFcEQsa0JBQWdCLHVCQUEwRDtBQUUxRSxrQkFBZ0IsaUJBQW9EO0FBRXBFLGtCQUFnQixvQkFBdUQ7QUFFdkUsa0JBQWdCLG9CQUF1RDtBQUV2RSxrQkFBZ0Isa0JBQXFEO0FBRXJFLGtCQUFnQixnQkFBbUQ7IiwKICAibmFtZXMiOiBbIkhvd2xlckdsb2JhbCIsICJzZWxmIiwgIkhvd2xlciIsICJlIiwgImkiLCAiSG93bCIsICJzdHIiLCAiU291bmQiLCAibGVuIiwgImVhcmN1dCIsICJlcXVhbHMiLCAibGVuIiwgInEiLCAibGVycCIsICJUeXBlIiwgIkNvbGxpZGVyIiwgIkFsaWdubWVudCIsICJKdXN0aWZpY2F0aW9uIiwgIlRleHRFZmZlY3QiLCAiSW5wdXRUeXBlIiwgIkxpZ2h0VHlwZSIsICJBbmltYXRpb25TdGF0ZSIsICJGb3JjZU1vZGUiLCAiQ29sbGlzaW9uRXZlbnRUeXBlIiwgIlNoYXBlIiwgIk1lc2hBdHRyaWJ1dGUiLCAiTWF0ZXJpYWxQYXJhbVR5cGUiLCAiYW5nbGUiLCAic2l6ZSIsICJMb2NrQXhpcyIsICJmIiwgIk1lc2hJbmRleFR5cGUiLCAiTWVzaFNraW5uaW5nVHlwZSIsICJjYW52YXMiLCAiYW5pbUlkIiwgInEiLCAib2Zmc2V0IiwgImwiLCAic2l6ZSIsICJfX2RlY29yYXRlIiwgImNhbnZhcyIsICJjb250ZXh0IiwgImNvcHkiLCAiX19kZWNvcmF0ZSIsICJfX2RlY29yYXRlIiwgImNyZWF0ZSIsICJjcmVhdGUiLCAibGVuIiwgInEiLCAiZiIsICJzY2FsZSIsICJhZGQiLCAiY2xvbmUiLCAiY29weSIsICJjcmVhdGUiLCAiZG90IiwgImVxdWFscyIsICJleGFjdEVxdWFscyIsICJmcm9tVmFsdWVzIiwgImlkZW50aXR5IiwgImludmVydCIsICJsZW4iLCAibGVuZ3RoIiwgImxlcnAiLCAibXVsIiwgIm11bHRpcGx5IiwgIm5vcm1hbGl6ZSIsICJyYW5kb20iLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAic2NhbGUiLCAic2V0IiwgInNxckxlbiIsICJzcXVhcmVkTGVuZ3RoIiwgInN0ciIsICJhZGQiLCAiY2xvbmUiLCAiY29weSIsICJjcmVhdGUiLCAiZXF1YWxzIiwgImV4YWN0RXF1YWxzIiwgImZyb21WYWx1ZXMiLCAibXVsIiwgIm11bHRpcGx5IiwgInJvdGF0ZVgiLCAicm90YXRlWSIsICJyb3RhdGVaIiwgInNjYWxlIiwgInNldCIsICJzdHIiLCAic3ViIiwgInN1YnRyYWN0IiwgImNyZWF0ZSIsICJjbG9uZSIsICJmcm9tVmFsdWVzIiwgImNvcHkiLCAic2V0IiwgImFkZCIsICJzdWJ0cmFjdCIsICJtdWx0aXBseSIsICJzY2FsZSIsICJsZW4iLCAicSIsICJyb3RhdGVYIiwgInJvdGF0ZVkiLCAicm90YXRlWiIsICJzdHIiLCAiZXhhY3RFcXVhbHMiLCAiZXF1YWxzIiwgInN1YiIsICJtdWwiLCAib2Zmc2V0IiwgImwiLCAiY3JlYXRlIiwgImNsb25lIiwgImZyb21WYWx1ZXMiLCAiY29weSIsICJzZXQiLCAiYWRkIiwgInNjYWxlIiwgImxlbmd0aCIsICJzcXVhcmVkTGVuZ3RoIiwgIm5vcm1hbGl6ZSIsICJsZW4iLCAiZG90IiwgImxlcnAiLCAiZXhhY3RFcXVhbHMiLCAiZXF1YWxzIiwgImZvckVhY2giLCAiY3JlYXRlIiwgIm9mZnNldCIsICJsIiwgImNyZWF0ZSIsICJpZGVudGl0eSIsICJxIiwgImRvdCIsICJtdWx0aXBseSIsICJyb3RhdGVYIiwgInJvdGF0ZVkiLCAicm90YXRlWiIsICJzY2FsZSIsICJyYW5kb20iLCAiaW52ZXJ0IiwgInN0ciIsICJjbG9uZSIsICJmcm9tVmFsdWVzIiwgImNvcHkiLCAic2V0IiwgImFkZCIsICJtdWwiLCAibGVycCIsICJsZW5ndGgiLCAibGVuIiwgInNxdWFyZWRMZW5ndGgiLCAic3FyTGVuIiwgIm5vcm1hbGl6ZSIsICJleGFjdEVxdWFscyIsICJlcXVhbHMiLCAiYWRkIiwgImNsb25lIiwgImNvbmp1Z2F0ZSIsICJjb3B5IiwgImNyZWF0ZSIsICJkb3QiLCAiZXF1YWxzIiwgImV4YWN0RXF1YWxzIiwgImZyb21Sb3RhdGlvbiIsICJmcm9tUm90YXRpb25UcmFuc2xhdGlvbiIsICJmcm9tVHJhbnNsYXRpb24iLCAiZnJvbVZhbHVlcyIsICJnZXRUcmFuc2xhdGlvbiIsICJpZGVudGl0eSIsICJpbnZlcnQiLCAibGVuIiwgImxlbmd0aCIsICJsZXJwIiwgIm11bCIsICJtdWx0aXBseSIsICJub3JtYWxpemUiLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAic2NhbGUiLCAic2V0IiwgInNxckxlbiIsICJzcXVhcmVkTGVuZ3RoIiwgInN0ciIsICJ0cmFuc2xhdGUiLCAiY3JlYXRlIiwgImNsb25lIiwgImZyb21WYWx1ZXMiLCAiZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24iLCAicSIsICJmcm9tVHJhbnNsYXRpb24iLCAiZnJvbVJvdGF0aW9uIiwgImNvcHkiLCAiaWRlbnRpdHkiLCAic2V0IiwgImdldFRyYW5zbGF0aW9uIiwgInRyYW5zbGF0ZSIsICJyb3RhdGVYIiwgInJvdGF0ZVkiLCAicm90YXRlWiIsICJhZGQiLCAibXVsdGlwbHkiLCAibXVsIiwgInNjYWxlIiwgImRvdCIsICJsZXJwIiwgIm10IiwgImludmVydCIsICJzcXVhcmVkTGVuZ3RoIiwgImNvbmp1Z2F0ZSIsICJsZW5ndGgiLCAibGVuIiwgInNxckxlbiIsICJub3JtYWxpemUiLCAic3RyIiwgImV4YWN0RXF1YWxzIiwgImVxdWFscyIsICJhZGQiLCAiYW5nbGUiLCAiY2VpbCIsICJjbG9uZSIsICJjb3B5IiwgImNyZWF0ZSIsICJjcm9zcyIsICJkaXN0IiwgImRpc3RhbmNlIiwgImRpdiIsICJkaXZpZGUiLCAiZG90IiwgImVxdWFscyIsICJleGFjdEVxdWFscyIsICJmbG9vciIsICJmb3JFYWNoIiwgImZyb21WYWx1ZXMiLCAiaW52ZXJzZSIsICJsZW4iLCAibGVuZ3RoIiwgImxlcnAiLCAibWF4IiwgIm1pbiIsICJtdWwiLCAibXVsdGlwbHkiLCAibmVnYXRlIiwgIm5vcm1hbGl6ZSIsICJyYW5kb20iLCAicm90YXRlIiwgInJvdW5kIiwgInNjYWxlIiwgInNjYWxlQW5kQWRkIiwgInNldCIsICJzcXJEaXN0IiwgInNxckxlbiIsICJzcXVhcmVkRGlzdGFuY2UiLCAic3F1YXJlZExlbmd0aCIsICJzdHIiLCAic3ViIiwgInN1YnRyYWN0IiwgInRyYW5zZm9ybU1hdDMiLCAidHJhbnNmb3JtTWF0NCIsICJ6ZXJvIiwgImNyZWF0ZSIsICJjbG9uZSIsICJmcm9tVmFsdWVzIiwgImNvcHkiLCAic2V0IiwgImFkZCIsICJzdWJ0cmFjdCIsICJtdWx0aXBseSIsICJkaXZpZGUiLCAiY2VpbCIsICJmbG9vciIsICJtaW4iLCAibWF4IiwgInJvdW5kIiwgInNjYWxlIiwgInNjYWxlQW5kQWRkIiwgImRpc3RhbmNlIiwgInNxdWFyZWREaXN0YW5jZSIsICJsZW5ndGgiLCAic3F1YXJlZExlbmd0aCIsICJuZWdhdGUiLCAiaW52ZXJzZSIsICJub3JtYWxpemUiLCAibGVuIiwgImRvdCIsICJjcm9zcyIsICJsZXJwIiwgInJhbmRvbSIsICJ0cmFuc2Zvcm1NYXQzIiwgInRyYW5zZm9ybU1hdDQiLCAicm90YXRlIiwgImFuZ2xlIiwgInplcm8iLCAic3RyIiwgImV4YWN0RXF1YWxzIiwgImVxdWFscyIsICJzdWIiLCAibXVsIiwgImRpdiIsICJkaXN0IiwgInNxckRpc3QiLCAic3FyTGVuIiwgImZvckVhY2giLCAib2Zmc2V0IiwgImwiLCAiX19kZWNvcmF0ZSIsICJfX2RlY29yYXRlIiwgImRpc3RhbmNlIiwgIl9fZGVjb3JhdGUiLCAibWF4IiwgIm1pbiIsICJjbG9uZSIsICJpZCIsICJyYW5kb20iLCAiYyIsICJzY2FsZSIsICJsZXJwIiwgIm1pbiIsICJtYXgiLCAiZGlzdF9leHBvcnRzIiwgImNvbmZpZyIsICJfX2RlY29yYXRlIiwgInRlbXBRdWF0IiwgImYiLCAiX19kZWNvcmF0ZSIsICJfX2RlY29yYXRlIiwgInRlbXBWZWMiLCAiY2FudmFzIiwgImRpc3QiLCAiZiIsICJfX2RlY29yYXRlIiwgImltcG9ydF9ob3dsZXIiLCAiY2FudmFzIiwgIl9fZGVjb3JhdGUiLCAiYSIsICJkaXJlY3Rpb24iLCAiY2xhbXAiLCAidGVtcFF1YXQiLCAidGFyZ2V0UG9zIiwgIl9fZGVjb3JhdGUiLCAidGVtcFZlYzMiLCAibCIsICJlYXJjdXQiLCAibG9va0F0IiwgIm9mZnNldCIsICJkaXN0IiwgImRvdCIsICJfZGlyZWN0aW9uIiwgInJlcXVpcmVfYmluZCIsICJfX2NvbW1vbkpTTWluIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImZuIiwgInRoaXNBcmciLCAiYXJncyIsICJpIiwgInJlcXVpcmVfdXRpbHMiLCAiYmluZCIsICJ0b1N0cmluZyIsICJraW5kT2YiLCAiY2FjaGUiLCAidGhpbmciLCAic3RyIiwgImtpbmRPZlRlc3QiLCAidHlwZSIsICJpc0FycmF5IiwgInZhbCIsICJpc1VuZGVmaW5lZCIsICJpc0J1ZmZlciIsICJpc0FycmF5QnVmZmVyIiwgImlzQXJyYXlCdWZmZXJWaWV3IiwgInJlc3VsdCIsICJpc1N0cmluZyIsICJpc051bWJlciIsICJpc09iamVjdCIsICJpc1BsYWluT2JqZWN0IiwgInByb3RvdHlwZSIsICJpc0RhdGUiLCAiaXNGaWxlIiwgImlzQmxvYiIsICJpc0ZpbGVMaXN0IiwgImlzRnVuY3Rpb24iLCAiaXNTdHJlYW0iLCAiaXNGb3JtRGF0YSIsICJwYXR0ZXJuIiwgImlzVVJMU2VhcmNoUGFyYW1zIiwgInRyaW0iLCAiaXNTdGFuZGFyZEJyb3dzZXJFbnYiLCAiZm9yRWFjaCIsICJvYmoiLCAibCIsICJrZXkiLCAibWVyZ2UiLCAiYXNzaWduVmFsdWUiLCAiZXh0ZW5kIiwgImEiLCAiYiIsICJzdHJpcEJPTSIsICJjb250ZW50IiwgImluaGVyaXRzIiwgImNvbnN0cnVjdG9yIiwgInN1cGVyQ29uc3RydWN0b3IiLCAicHJvcHMiLCAiZGVzY3JpcHRvcnMiLCAidG9GbGF0T2JqZWN0IiwgInNvdXJjZU9iaiIsICJkZXN0T2JqIiwgImZpbHRlciIsICJwcm9wIiwgIm1lcmdlZCIsICJlbmRzV2l0aCIsICJzZWFyY2hTdHJpbmciLCAicG9zaXRpb24iLCAibGFzdEluZGV4IiwgInRvQXJyYXkiLCAiYXJyIiwgImlzVHlwZWRBcnJheSIsICJUeXBlZEFycmF5IiwgInJlcXVpcmVfYnVpbGRVUkwiLCAidXRpbHMiLCAiZW5jb2RlIiwgInVybCIsICJwYXJhbXMiLCAicGFyYW1zU2VyaWFsaXplciIsICJzZXJpYWxpemVkUGFyYW1zIiwgInBhcnRzIiwgInYiLCAiaGFzaG1hcmtJbmRleCIsICJyZXF1aXJlX0ludGVyY2VwdG9yTWFuYWdlciIsICJJbnRlcmNlcHRvck1hbmFnZXIiLCAiZnVsZmlsbGVkIiwgInJlamVjdGVkIiwgIm9wdGlvbnMiLCAiaWQiLCAiaCIsICJyZXF1aXJlX25vcm1hbGl6ZUhlYWRlck5hbWUiLCAiaGVhZGVycyIsICJub3JtYWxpemVkTmFtZSIsICJ2YWx1ZSIsICJuYW1lIiwgInJlcXVpcmVfQXhpb3NFcnJvciIsICJBeGlvc0Vycm9yIiwgIm1lc3NhZ2UiLCAiY29kZSIsICJjb25maWciLCAicmVxdWVzdCIsICJyZXNwb25zZSIsICJlcnJvciIsICJjdXN0b21Qcm9wcyIsICJheGlvc0Vycm9yIiwgInJlcXVpcmVfdHJhbnNpdGlvbmFsIiwgInJlcXVpcmVfdG9Gb3JtRGF0YSIsICJ0b0Zvcm1EYXRhIiwgImZvcm1EYXRhIiwgInN0YWNrIiwgImNvbnZlcnRWYWx1ZSIsICJidWlsZCIsICJkYXRhIiwgInBhcmVudEtleSIsICJmdWxsS2V5IiwgImVsIiwgInJlcXVpcmVfc2V0dGxlIiwgInJlc29sdmUiLCAicmVqZWN0IiwgInZhbGlkYXRlU3RhdHVzIiwgInJlcXVpcmVfY29va2llcyIsICJleHBpcmVzIiwgInBhdGgiLCAiZG9tYWluIiwgInNlY3VyZSIsICJjb29raWUiLCAibWF0Y2giLCAicmVxdWlyZV9pc0Fic29sdXRlVVJMIiwgInJlcXVpcmVfY29tYmluZVVSTHMiLCAiYmFzZVVSTCIsICJyZWxhdGl2ZVVSTCIsICJyZXF1aXJlX2J1aWxkRnVsbFBhdGgiLCAiaXNBYnNvbHV0ZVVSTCIsICJjb21iaW5lVVJMcyIsICJyZXF1ZXN0ZWRVUkwiLCAicmVxdWlyZV9wYXJzZUhlYWRlcnMiLCAiaWdub3JlRHVwbGljYXRlT2YiLCAicGFyc2VkIiwgImxpbmUiLCAicmVxdWlyZV9pc1VSTFNhbWVPcmlnaW4iLCAibXNpZSIsICJ1cmxQYXJzaW5nTm9kZSIsICJvcmlnaW5VUkwiLCAicmVzb2x2ZVVSTCIsICJocmVmIiwgInJlcXVlc3RVUkwiLCAicmVxdWlyZV9DYW5jZWxlZEVycm9yIiwgIkNhbmNlbGVkRXJyb3IiLCAicmVxdWlyZV9wYXJzZVByb3RvY29sIiwgInJlcXVpcmVfeGhyIiwgInNldHRsZSIsICJjb29raWVzIiwgImJ1aWxkVVJMIiwgImJ1aWxkRnVsbFBhdGgiLCAicGFyc2VIZWFkZXJzIiwgImlzVVJMU2FtZU9yaWdpbiIsICJ0cmFuc2l0aW9uYWxEZWZhdWx0cyIsICJwYXJzZVByb3RvY29sIiwgInJlcXVlc3REYXRhIiwgInJlcXVlc3RIZWFkZXJzIiwgInJlc3BvbnNlVHlwZSIsICJvbkNhbmNlbGVkIiwgImRvbmUiLCAidXNlcm5hbWUiLCAicGFzc3dvcmQiLCAiZnVsbFBhdGgiLCAib25sb2FkZW5kIiwgInJlc3BvbnNlSGVhZGVycyIsICJyZXNwb25zZURhdGEiLCAiZXJyIiwgInRpbWVvdXRFcnJvck1lc3NhZ2UiLCAidHJhbnNpdGlvbmFsIiwgInhzcmZWYWx1ZSIsICJjYW5jZWwiLCAicHJvdG9jb2wiLCAicmVxdWlyZV9udWxsIiwgInJlcXVpcmVfZGVmYXVsdHMiLCAibm9ybWFsaXplSGVhZGVyTmFtZSIsICJERUZBVUxUX0NPTlRFTlRfVFlQRSIsICJzZXRDb250ZW50VHlwZUlmVW5zZXQiLCAiZ2V0RGVmYXVsdEFkYXB0ZXIiLCAiYWRhcHRlciIsICJzdHJpbmdpZnlTYWZlbHkiLCAicmF3VmFsdWUiLCAicGFyc2VyIiwgImVuY29kZXIiLCAiZSIsICJkZWZhdWx0cyIsICJpc09iamVjdFBheWxvYWQiLCAiY29udGVudFR5cGUiLCAiX0Zvcm1EYXRhIiwgInNpbGVudEpTT05QYXJzaW5nIiwgImZvcmNlZEpTT05QYXJzaW5nIiwgInN0cmljdEpTT05QYXJzaW5nIiwgInN0YXR1cyIsICJtZXRob2QiLCAicmVxdWlyZV90cmFuc2Zvcm1EYXRhIiwgImZucyIsICJjb250ZXh0IiwgInJlcXVpcmVfaXNDYW5jZWwiLCAicmVxdWlyZV9kaXNwYXRjaFJlcXVlc3QiLCAidHJhbnNmb3JtRGF0YSIsICJpc0NhbmNlbCIsICJ0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwgInJlYXNvbiIsICJyZXF1aXJlX21lcmdlQ29uZmlnIiwgImNvbmZpZzEiLCAiY29uZmlnMiIsICJnZXRNZXJnZWRWYWx1ZSIsICJ0YXJnZXQiLCAic291cmNlIiwgIm1lcmdlRGVlcFByb3BlcnRpZXMiLCAidmFsdWVGcm9tQ29uZmlnMiIsICJkZWZhdWx0VG9Db25maWcyIiwgIm1lcmdlRGlyZWN0S2V5cyIsICJtZXJnZU1hcCIsICJjb25maWdWYWx1ZSIsICJyZXF1aXJlX2RhdGEiLCAicmVxdWlyZV92YWxpZGF0b3IiLCAiVkVSU0lPTiIsICJ2YWxpZGF0b3JzIiwgImRlcHJlY2F0ZWRXYXJuaW5ncyIsICJ2YWxpZGF0b3IiLCAidmVyc2lvbiIsICJmb3JtYXRNZXNzYWdlIiwgIm9wdCIsICJkZXNjIiwgIm9wdHMiLCAiYXNzZXJ0T3B0aW9ucyIsICJzY2hlbWEiLCAiYWxsb3dVbmtub3duIiwgImtleXMiLCAicmVxdWlyZV9BeGlvcyIsICJkaXNwYXRjaFJlcXVlc3QiLCAibWVyZ2VDb25maWciLCAiQXhpb3MiLCAiaW5zdGFuY2VDb25maWciLCAiY29uZmlnT3JVcmwiLCAicmVxdWVzdEludGVyY2VwdG9yQ2hhaW4iLCAic3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzIiwgImludGVyY2VwdG9yIiwgInJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbiIsICJwcm9taXNlIiwgImNoYWluIiwgIm5ld0NvbmZpZyIsICJvbkZ1bGZpbGxlZCIsICJvblJlamVjdGVkIiwgImdlbmVyYXRlSFRUUE1ldGhvZCIsICJpc0Zvcm0iLCAicmVxdWlyZV9DYW5jZWxUb2tlbiIsICJDYW5jZWxUb2tlbiIsICJleGVjdXRvciIsICJyZXNvbHZlUHJvbWlzZSIsICJ0b2tlbiIsICJvbmZ1bGZpbGxlZCIsICJfcmVzb2x2ZSIsICJsaXN0ZW5lciIsICJpbmRleCIsICJjIiwgInJlcXVpcmVfc3ByZWFkIiwgImNhbGxiYWNrIiwgInJlcXVpcmVfaXNBeGlvc0Vycm9yIiwgInBheWxvYWQiLCAicmVxdWlyZV9heGlvcyIsICJjcmVhdGVJbnN0YW5jZSIsICJkZWZhdWx0Q29uZmlnIiwgImluc3RhbmNlIiwgImF4aW9zIiwgInByb21pc2VzIiwgImltcG9ydF9heGlvcyIsICJhc3NldHNVUkwiLCAiZm9ybWF0cyIsICJjaGVja09jdWx1c0Jyb3dzZXIiLCAiZmVhdHVyZURldGVjdCIsICJ1YUNoZWNrIiwgImNvbmZpZGVuY2UiLCAiY2hlY2tXb2x2aWNCcm93c2VyIiwgImNoZWNrUGljb0Jyb3dzZXIiLCAiY2hlY2tEZXNrdG9wQnJvd3NlciIsICJjaGVja1VzZXJQbGF0Zm9ybSIsICJjdXJyZW50TWF0Y2giLCAib3BlblVSTCIsICJtb2RhbCIsICJ5ZXMiLCAibm8iLCAiQkVBQ09OX0FQSV9CQVNFIiwgIkJFQUNPTl9HUkFQSFFMX1VSSSIsICJEQl9FTkRQT0lOVCIsICJmZXRjaENhbXBhaWduQWQiLCAiYWRVbml0SWQiLCAiZm9ybWF0IiwgInN0eWxlIiwgInNlbmRPbkxvYWRNZXRyaWMiLCAic3BhY2VJZCIsICJjYW1wYWlnbklkIiwgInBsYXRmb3JtIiwgInNwYWNlQ291bnRlckVuZHBvaW50IiwgInNlbmRPbkNsaWNrTWV0cmljIiwgInNwYWNlQ2xpY2tFbmRwb2ludCIsICJmb3JtYXRzTGluayIsICJuZXR3b3JraW5nTGluayIsICJaZXN0eUJhbm5lciIsICJDb21wb25lbnQiLCAiZW5naW5lIiwgIkN1cnNvclRhcmdldCIsICJNZXNoQ29tcG9uZW50IiwgIkNvbGxpc2lvbkNvbXBvbmVudCIsICJDb2xsaWRlciIsICJmb3JtYXRzU2NyaXB0IiwgImJhbm5lciIsICJtIiwgInBpcGVsaW5lIiwgImFkVW5pdCIsICJhY3RpdmVDYW1wYWlnbiIsICJpbWFnZSIsICJ0ZXh0dXJlIiwgIl9fcHVibGljRmllbGQiLCAiUHJvcGVydHkiLCAibGVycCIsICJmbGF0TWF0ZXJpYWwiLCAiUmVmbGVjdCIsICJoYXNPd24iLCAic2V0IiwgIlR5cGUiLCAiZiIsICJNYXBJdGVyYXRvciIsICJNYXAiLCAic2l6ZSIsICJTZXQiLCAiV2Vha01hcCIsICJjcmVhdGUiLCAib2Zmc2V0IiwgIkxpZmVjeWNsZSIsICJkIiwgImIiLCAiZiIsICJEZWxheWVkQ29uc3RydWN0b3IiLCAiUmVnaXN0cnlCYXNlIiwgIlJlZ2lzdHJ5IiwgIlJlc29sdXRpb25Db250ZXh0IiwgImwiLCAiUHJlUmVzb2x1dGlvbkludGVyY2VwdG9ycyIsICJQb3N0UmVzb2x1dGlvbkludGVyY2VwdG9ycyIsICJJbnRlcmNlcHRvcnMiLCAiSW50ZXJuYWxEZXBlbmRlbmN5Q29udGFpbmVyIiwgImluc3RhbmNlIiwgImNvbnRleHQiLCAiX2EiLCAiZGlyZWN0aW9uIiwgImRpcmVjdGlvbiIsICJkaXN0YW5jZSIsICJzaXplIiwgImV4dGVuZFN0YXRpY3MiLCAiZCIsICJiIiwgIl9fZXh0ZW5kcyIsICJfX3ZhbHVlcyIsICJfX3JlYWQiLCAibCIsICJpbnN0YW5jZSIsICJTdWJzY3JpcHRpb24iLCAiX192YWx1ZXMiLCAiX19yZWFkIiwgIl9fcmVhZCIsICJfX2V4dGVuZHMiLCAiU3Vic2NyaWJlciIsICJDb25zdW1lck9ic2VydmVyIiwgIl9fZXh0ZW5kcyIsICJTYWZlU3Vic2NyaWJlciIsICJpZGVudGl0eSIsICJpZGVudGl0eSIsICJPYnNlcnZhYmxlIiwgIm9ic2VydmFibGUiLCAiX19leHRlbmRzIiwgIlN1YmplY3QiLCAiX192YWx1ZXMiLCAib2JzZXJ2YWJsZSIsICJfX2V4dGVuZHMiLCAiQW5vbnltb3VzU3ViamVjdCIsICJkaXJlY3Rpb24iLCAiZGlyZWN0aW9uIiwgImNoZXN0RGVmaW5pdGlvbiIsICJkaXJlY3Rpb24iLCAiZGlyZWN0aW9uIiwgImRpcmVjdGlvbiIsICJjYW52YXMiLCAiZWxlbWVudCIsICJkaXN0X2V4cG9ydHMiXQp9Cg==
